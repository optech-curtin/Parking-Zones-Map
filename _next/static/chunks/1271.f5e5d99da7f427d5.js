"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1271],{147:(t,r,i)=>{i.d(r,{A:()=>_});var s,o=i(81856),a=i(33715),u=i(91838);i(57845),i(61939);var d=i(12709),c=i(7780),p=i(61414),h=i(88070),f=i(39960),y=i(28580);function m(t){return(r,i)=>null==r?i:null==i?r:t(r,i)}let g=s=class extends h.A{constructor(...t){super(...t),this.points=[],this.type="multipoint"}normalizeCtorArgs(t,r){if(!t&&!r)return{};let i={};Array.isArray(t)?(i.points=t,i.spatialReference=r):t&&("esri.geometry.SpatialReference"===t.declaredClass||null!=t.wkid)?i.spatialReference=t:(t.points&&(i.points=t.points),t.spatialReference&&(i.spatialReference=t.spatialReference),t.hasZ&&(i.hasZ=t.hasZ),t.hasM&&(i.hasM=t.hasM));let s=i.points?.[0];return s&&(void 0===i.hasZ&&void 0===i.hasM?(i.hasZ=s.length>2,i.hasM=!1):void 0===i.hasZ?i.hasZ=s.length>3:void 0===i.hasM&&(i.hasM=s.length>3)),i}get cache(){return this.commitProperty("points"),this.commitProperty("hasZ"),this.commitProperty("hasM"),this.commitProperty("spatialReference"),{}}get extent(){let t=this.points;if(!t.length)return null;let r=new p.A,i=this.hasZ,s=this.hasM,o=i?3:2,a=t[0],u=m(Math.min),d=m(Math.max),c,h,f,y,[g,_]=a,[v,w]=a;for(let r=0,a=t.length;r<a;r++){let a=t[r],[p,m]=a;if(g=u(g,p),_=u(_,m),v=d(v,p),w=d(w,m),i&&a.length>2){let t=a[2];c=u(c,t),f=d(f,t)}if(s&&a.length>o){let t=a[o];h=u(h,t),y=d(y,t)}}return r.xmin=g,r.ymin=_,r.xmax=v,r.ymax=w,r.spatialReference=this.spatialReference,i?(r.zmin=c,r.zmax=f):(r.zmin=void 0,r.zmax=void 0),s?(r.mmin=h,r.mmax=y):(r.mmin=void 0,r.mmax=void 0),r}writePoints(t,r){r.points=(0,a.o8)(this.points)}addPoint(t){return(0,y.h)(this,t),Array.isArray(t)?this.points.push(t):this.points.push(t.toArray()),this.notifyChange("points"),this}clone(){let t={points:(0,a.o8)(this.points),spatialReference:this.spatialReference};return this.hasZ&&(t.hasZ=!0),this.hasM&&(t.hasM=!0),new s(t)}getPoint(t){if(!this._validateInputs(t))return null;let r=this.points[t],i={x:r[0],y:r[1],spatialReference:this.spatialReference},s=2;return this.hasZ&&(i.z=r[2],s=3),this.hasM&&(i.m=r[s]),new f.A(i)}removePoint(t){if(!this._validateInputs(t))return null;let r=new f.A(this.points.splice(t,1)[0],this.spatialReference);return this.notifyChange("points"),r}setPoint(t,r){return this._validateInputs(t)&&((0,y.h)(this,r),Array.isArray(r)||(r=r.toArray()),this.points[t]=r,this.notifyChange("points")),this}toJSON(t){return this.write({},t)}_validateInputs(t){return null!=t&&t>=0&&t<this.points.length}};(0,o._)([(0,u.MZ)({readOnly:!0})],g.prototype,"cache",null),(0,o._)([(0,u.MZ)()],g.prototype,"extent",null),(0,o._)([(0,u.MZ)({type:[[Number]],json:{write:{isRequired:!0}}})],g.prototype,"points",void 0),(0,o._)([(0,c.K)("points")],g.prototype,"writePoints",null),(g=s=(0,o._)([(0,d.$)("esri.geometry.Multipoint")],g)).prototype.toJSON.isDefaultToJSON=!0;let _=g},352:(t,r,i)=>{i.d(r,{L:()=>d,t:()=>c});var s=i(84588),o=i(30225),a=i(6414);let u={origin:"service"};function d(t,r,i=u){if(!r||"object"!=typeof r)return;let c=(0,o.oY)(t),p=c.metadata,h={};for(let t of Object.getOwnPropertyNames(r))!function(t,r,i,o,u){var d;let c=(0,a.N5)(r[i],u);for(let p of((d=c)&&(!d.read||!1!==d.read.enabled&&!d.read.source)&&(t[i]=!0),Object.getOwnPropertyNames(r)))(function(t,r,i){if(!t?.read||!1===t.read.enabled||!t.read.source)return!1;let o=t.read.source;if("string"==typeof o){if(o===r||o.includes(".")&&0===o.indexOf(r)&&(0,s.t2)(o,i))return!0}else for(let t of o)if(t===r||t.includes(".")&&0===t.indexOf(r)&&(0,s.t2)(t,i))return!0;return!1})(c=(0,a.N5)(r[p],u),i,o)&&(t[p]=!0)}(h,p,t,r,i);for(let o of(c.setDefaultOrigin(i.origin),Object.getOwnPropertyNames(h))){let u,d=(0,a.N5)(p[o],i).read,h=d?.source;u=h&&"string"==typeof h?(0,s.RP)(r,h):r[o],d?.reader&&(u=d.reader.call(t,u,r,i)),void 0!==u&&c.set(o,u)}if(!i||!i.ignoreDefaults)for(let r of(c.setDefaultOrigin("defaults"),Object.getOwnPropertyNames(p)))h[r]||function(t,r,i,s){let o=i.metadata,u=(0,a.xF)(o[r],s),d=u?.default;if(void 0===d)return;let c="function"==typeof d?d.call(t,r,s):d;void 0!==c&&i.set(r,c)}(t,r,c,i);c.setDefaultOrigin("user")}function c(t,r,i,s=u){let o={...s,messages:[]};i(o),o.messages?.forEach(r=>{"warning"!==r.type||t.loaded?s?.messages&&s.messages.push(r):t.loadWarnings.push(r)})}},848:(t,r,i)=>{i.d(r,{A:()=>f});var s=i(81856),o=i(71017),a=i(30781),u=i(92713),d=i(91838);i(57845),i(61939),i(33638);var c=i(12709);let p=new a.J({esriFeatureEditToolAutoCompletePolygon:"auto-complete-polygon",esriFeatureEditToolCircle:"circle",esriFeatureEditToolEllipse:"ellipse",esriFeatureEditToolFreehand:"freehand",esriFeatureEditToolLine:"line",esriFeatureEditToolNone:"none",esriFeatureEditToolPoint:"point",esriFeatureEditToolPolygon:"polygon",esriFeatureEditToolRectangle:"rectangle",esriFeatureEditToolArrow:"arrow",esriFeatureEditToolTriangle:"triangle",esriFeatureEditToolLeftArrow:"left-arrow",esriFeatureEditToolRightArrow:"right-arrow",esriFeatureEditToolUpArrow:"up-arrow",esriFeatureEditToolDownArrow:"down-arrow"}),h=class extends o.A.ClonableMixin(u.A){constructor(t){super(t),this.name=null,this.description=null,this.drawingTool=null,this.prototype=null,this.thumbnail=null}};(0,s._)([(0,d.MZ)({json:{write:!0}})],h.prototype,"name",void 0),(0,s._)([(0,d.MZ)({json:{write:!0}})],h.prototype,"description",void 0),(0,s._)([(0,d.MZ)({json:{read:p.read,write:p.write}})],h.prototype,"drawingTool",void 0),(0,s._)([(0,d.MZ)({json:{write:!0}})],h.prototype,"prototype",void 0),(0,s._)([(0,d.MZ)({json:{write:!0}})],h.prototype,"thumbnail",void 0);let f=h=(0,s._)([(0,c.$)("esri.layers.support.FeatureTemplate")],h)},962:(t,r,i)=>{i.d(r,{R:()=>o});var s=i(12513);class o extends s.R{constructor(t,r){super(t,r,"webmap")}}},1298:(t,r,i)=>{i.d(r,{P:()=>s});function s(t){return!!t&&t.prototype?.declaredClass&&0===t.prototype.declaredClass.indexOf("esri.core.Collection")}},1345:(t,r,i)=>{i.d(r,{A7:()=>p,Cx:()=>h,Hk:()=>f,JJ:()=>_,SF:()=>y,UK:()=>c,jM:()=>m,x3:()=>g}),i(57845);var s=i(59276),o=i(71230),a=i(22191),u=i(7644),d=i(64547);let c=a.A.fromJSON(d.Cb),p=o.A.fromJSON(d.yM),h=s.A.fromJSON(d.WR),f=u.A.fromJSON(d.JZ);function y(t){if(null==t)return null;switch(t.type){case"mesh":break;case"point":case"multipoint":return c;case"polyline":return p;case"polygon":case"extent":return h}return null}let m=a.A.fromJSON(d.nC),g=o.A.fromJSON(d.HW),_=s.A.fromJSON(d.b6)},1360:(t,r,i)=>{i.d(r,{h:()=>function t(r,i,u){if(r&&i)if("object"==typeof i)for(let s of Object.getOwnPropertyNames(i))t(r,s,i[s]);else{if(i.includes(".")){let s=i.split("."),o=s.splice(-1,1)[0];return void t((0,a.Jt)(r,s),o,u)}let d=r.__accessor__;null!=d&&function(t,r){var i;if((0,o.A)("esri-unknown-property-errors")&&(i=t,null==r.metadata[i]))throw new s.A("set:unknown-property","setting unknown property '"+t+"' on instance of "+r.host.declaredClass)}(i,d),r[i]=u}}});var s=i(32391),o=i(57845);i(61939);var a=i(84588)},1455:(t,r,i)=>{i.d(r,{A:()=>z});var s,o=i(81856);i(40970);var a=i(41438),u=i(74652),d=i(46310);i(57845);var c=i(33715),p=i(61939),h=i(40941),f=i(5608),y=i(92753),m=i(45257),g=i(11568),_=i(91838),v=i(16352),w=i(12709),b=i(62761),M=i(32104),S=i(44831);i(45731);let A={handleInterceptedEvent:(t,r,i,s)=>(t.scheduleRender(),r.properties[`on${s.type}`].apply(r.properties.bind||i,[s]))},T={namespace:void 0,performanceLogger:()=>{},eventHandlerInterceptor:void 0,styleApplyer:(t,r,i)=>{"-"===r.charAt(0)?t.style.setProperty(r,i):t.style[r]=i}},x=t=>({...T,...t}),E=(t,r)=>{let i=[];for(;t&&t!==r;)i.push(t),t=t.parentNode;return i},I=(t,r)=>t.find(r),C=(t,r,i=!1)=>{let s=t;return r.forEach((t,o)=>{let a=s?.children?I(s.children,r=>r.domNode===t):void 0;i&&!a&&o!==r.length-1||(s=a)}),s};var R=i(23716),O=i(44463),P=i(89996);let N=new Set;var k=i(86903),L=i(41390),F=i(28105),Z=i(97915);let D=0,j=(t=>{let r,i={...A,...t},s=x(i),o=s.performanceLogger,a,u=!0,d=!1,c=[],p=[],h=(t,a,u)=>{let d;s.eventHandlerInterceptor=(t,s,a,u)=>function(t){let s,a;o("domEvent",t);let u=E(t.currentTarget,d.domNode),c=u.some(t=>customElements.get(t?.tagName?.toLowerCase()));if(t.eventPhase!==Event.CAPTURING_PHASE&&c){let r=t.composedPath(),i=r.slice(r.indexOf(t.currentTarget),r.indexOf(d.domNode)).reverse();s=C(d.getLastRender(),i,!0)}else u.reverse(),s=C(d.getLastRender(),u);return s&&(a=i.handleInterceptedEvent(r,s,this,t)),o("domEventProcessed",t),a},i.postProcessProjectionOptions?.(s);let h=u();d=t(a,h,s),s.eventHandlerInterceptor=void 0,c.push(d),p.push(u),i.afterFirstVNodeRendered&&i.afterFirstVNodeRendered(d,h)},f=()=>{if(a=void 0,u){u=!1,o("renderStart",void 0);for(let t=0;t<c.length;t++){let r=p[t]();o("rendered",void 0);try{c[t].update(r)}catch(t){console.error(t)}o("patched",void 0)}o("renderDone",void 0),u=!0}};return i.modifyDoRenderImplementation&&(f=i.modifyDoRenderImplementation(f,c,p)),r={renderNow:f,scheduleRender:()=>{a||d||(a=requestAnimationFrame(f))},stop:()=>{a&&(cancelAnimationFrame(a),a=void 0),d=!0},resume:()=>{d=!1,u=!0,r.scheduleRender()},append:(t,r)=>{h(S.t.append,t,r)},insertBefore:(t,r)=>{h(S.t.insertBefore,t,r)},merge:(t,r)=>{h(S.t.merge,t,r)},replace:(t,r)=>{h(S.t.replace,t,r)},detach:t=>{for(let r=0;r<p.length;r++)if(p[r]===t)return p.splice(r,1),c.splice(r,1)[0];throw Error("renderFunction was not found")}}})({postProcessProjectionOptions(t){let r=t.eventHandlerInterceptor,i=/capture$/i;t.eventHandlerInterceptor=(t,s,o,a)=>{let u=r?.(t,s,o,a),d=i.test(t);if(!((t=t.replace(i,"")).toLowerCase()in o)||d){let r=t[2].toLowerCase()+t.slice(3),i=t=>u?.call(o,t);o.addEventListener(r,i,d);let s=()=>o.removeEventListener(r,i,d),c=a.afterRemoved;a.afterRemoved=t=>{c?.(t),s()}}return u}},handleInterceptedEvent(t,r,i,s){let{eventPhase:o,type:a}=s,u=o===Event.CAPTURING_PHASE,d=`on${a}${u?"capture":""}`,c=r.properties;(c&&d in c||(d=`on${a[0].toUpperCase()}${a.slice(1)}${u?"Capture":""}`,c&&d in c))&&((0,k.Sh)(),t.scheduleRender(),c[d].call(c.bind||i,s))}}),U=!1,V=class extends f.A.EsriPromiseMixin(u.A.EventedAccessor){constructor(t,r){super(t,r),this._attached=!1,this._projector=j,this._readyForTrueRender=!1,this.key=this,this.autoRenderingEnabled=!0,this._loadLocale=(0,y.sg)(async()=>{if(this._messageBundleProps?.length){let t=await Promise.allSettled(this._messageBundleProps.map(async({bundlePath:t,propertyName:r})=>{if(this.destroyed)return;let i=await (0,Z.ud)(t);this.uiStrings&&Object.keys(this.uiStrings)&&(i=function t(r,i){let s=Object.prototype.hasOwnProperty;for(let o in i)s.call(i,o)&&s.call(r,o)&&(null!=r[o]&&null!=i[o]&&"object"==typeof r[o]&&"object"==typeof i[o]?t(r[o],i[o]):r[o]=i[o]);return r}((0,c.o8)(i),this.uiStrings)),this[r]=i}));if(this.destroyed)return;for(let r of t)"rejected"===r.status&&p.A.getLogger(this).error("widget-intl:locale-error",this.declaredClass,r.reason)}await this.loadLocale()}),(0,R.V)();let i="esri-widget-uid-"+(0,g.lk)(),s=this.render.bind(this);this._trackingTarget=new M.r(()=>{this.autoRenderingEnabled&&this.scheduleRender()});let o=()=>({vnodeSelector:"div",properties:{key:`${i}-hidden`,class:"",styles:{display:"none"}},domNode:null,children:void 0,text:void 0}),a=()=>{if(!this._readyForTrueRender||this.destroyed)return null;let t=s()??o(),r=t.properties??={};if(r.key??=i,(0,O.b)(t.vnodeSelector)){if(!this.visible)return o()}else this.visible?r.styles||(r.styles={}):(r.class="",r.styles={display:"none"}),r.styles.display??="";let a=0;return t.children?.forEach(t=>{(0,O.b)(t.vnodeSelector)||(t.properties??={},t.properties.key??=`${this.id}--${a++}`)}),(0,O.d)(this,t)};this.render=()=>{if(U)return a();let t=(0,k.rE)(this)??null;if(t)return t;this._trackingTarget.clear(),U=!0;try{t=(0,b.a)(this._trackingTarget,a)}catch(t){throw p.A.getLogger(this).error(t),t}finally{U=!1}return t&&(0,k.$U)(this,t),t};let u=this.beforeFirstRender();u?this._resourcesFetch=u.then(()=>{this._readyForTrueRender=!0,this._postInitialize()}):(this._resourcesFetch=Promise.resolve().then(()=>{this._postInitialize()}),this._readyForTrueRender=!0),this.addResolvingPromise(this._resourcesFetch),function(t){N.add(t),t.finally(()=>N.delete(t))}(this._resourcesFetch)}normalizeCtorArgs(t,r){let i={...t};return r&&(i.container=r),i}postInitialize(){}beforeFirstRender(){let t=this.loadDependencies();return this._messageBundleProps?.length||t?Promise.all([t,this._loadLocale()]).then(()=>{}).catch(y.jH):null}loadDependencies(){return null}loadLocale(){return null}destroy(){this.destroyed||((0,h.pR)(this._trackingTarget),(0,h.pR)(this.viewModel),this._detach(this.container),this._set("container",null),this._emitter.clear(),this.render=()=>null,this._projector=null,(0,k.Qw)(this))}set container(t){this._get("container")||this._set("container",t)}castContainer(t){return(0,a.$)(t)}get domNode(){return this.container}set domNode(t){this.container=t}get icon(){return null}set icon(t){this._overrideIfSome("icon",t)}get id(){return this._get("id")||this.container?.id||Date.now().toString(16)+"-widget-"+D++}set id(t){t&&this._set("id",t)}get label(){return this.declaredClass.split(".").pop()}set label(t){this._overrideIfSome("label",t)}get renderable(){return this._resourcesFetch}get visible(){return this._get("visible")}set visible(t){this._set("visible",t)}get[(s=P.x,P.D)](){return{projector:this._projector}}render(){throw Error("not implemented")}scheduleRender(){this.destroyed||((0,k.Qw)(this),this._projector.scheduleRender())}classes(...t){return L.Ly.apply(this,t)}renderNow(){(0,k.Qw)(this),this._projector.renderNow()}_postInitialize(){if(this.destroyed)return;this.scheduleRender(),this._delegatedEventNames?.length&&this.addHandles((0,m.wB)(()=>this.viewModel,(t,r)=>{r&&this.removeHandles("delegated-events"),t&&(0,d.wb)(t)&&this.addHandles(this._delegatedEventNames.map(r=>(0,d.on)(t,r,t=>{this.emit(r,t)})),"delegated-events")},m.pc)),this.postInitialize();let t=async()=>{await this._loadLocale().catch(y.jH),this.scheduleRender()};this.addHandles([(0,F.oQ)(t),(0,m.wB)(()=>this.uiStrings,t),(0,m.z7)(()=>this.container,t=>{this.destroyed||this._attach(t)},{initial:!0,once:!0})])}_attach(t){t&&(this._projector.merge(t,this.render),this._attached=!0)}_detach(t){this._attached&&(this._projector.detach(this.render),this._attached=!1),t?.parentNode?.removeChild(t)}};V[s]=!0,V.vnodeSelector="div",(0,o._)([(0,_.MZ)()],V.prototype,"_readyForTrueRender",void 0),(0,o._)([(0,_.MZ)({value:null})],V.prototype,"container",null),(0,o._)([(0,v.w)("container")],V.prototype,"castContainer",null),(0,o._)([(0,_.MZ)()],V.prototype,"icon",null),(0,o._)([(0,_.MZ)()],V.prototype,"id",null),(0,o._)([(0,_.MZ)()],V.prototype,"label",null),(0,o._)([(0,_.MZ)()],V.prototype,"renderable",null),(0,o._)([(0,_.MZ)()],V.prototype,"uiStrings",void 0),(0,o._)([(0,_.MZ)()],V.prototype,"viewModel",void 0),(0,o._)([(0,_.MZ)({value:!0})],V.prototype,"visible",null),(0,o._)([(0,_.MZ)()],V.prototype,"key",void 0),(0,o._)([(0,_.MZ)()],V.prototype,"children",void 0),(0,o._)([(0,_.MZ)()],V.prototype,"afterCreate",void 0),(0,o._)([(0,_.MZ)()],V.prototype,"afterUpdate",void 0),(0,o._)([(0,_.MZ)()],V.prototype,"afterRemoved",void 0);let z=V=(0,o._)([(0,w.$)("esri.widgets.Widget")],V)},1529:(t,r,i)=>{i.d(r,{B:()=>f,v:()=>d});var s=i(32391),o=i(61939),a=i(34184),u=i(1298);function d(t,r){var i,s,o;if(!r.write||r.write.writer||!1===r.write.enabled&&!r.write.overridePolicy)return;let d=t?.ndimArray??0;t&&(1===d||"type"in t&&(0,u.P)(t.type))?r.write.writer=y:d>1?r.write.writer=(i=d,(t,r,s,o)=>{let u;if(null===t)u=null;else{u=function t(r,i,s){return 0!==s&&Array.isArray(r)?r.map(r=>t(r,i,s-1)):h(r,i)}(t,o,i);let r=i,s=u;for(;r>0&&Array.isArray(s);)r--,s=s[0];if(void 0!==s)for(let t=0;t<r;t++)u=[u]}(0,a.sM)(s,u,r)}):r.types?Array.isArray(r.types)?r.write.writer=(s=r.types[0],(t,r,i,o)=>t&&Array.isArray(t)?p(t.filter(t=>c(t,s,o)),r,i,o):p(t,r,i,o)):r.write.writer=(o=r.types,(t,r,i,s)=>t?c(t,o,s)?p(t,r,i,s):void 0:p(t,r,i,s)):r.write.writer=p}function c(t,r,i){for(let i in r.typeMap)if(t instanceof r.typeMap[i])return!0;if(i?.messages){let a=r.errorContext??"type",u=`Values of type '${("function"!=typeof r.key?t[r.key]:t.declaredClass)??"Unknown"}' cannot be written`;i&&i.messages&&t&&i.messages.push(new s.A(`${a}:unsupported`,u,{definition:t,context:i})),o.A.getLogger("esri.core.accessorSupport.extensions.serializableProperty.writer").error(u)}return!1}function p(t,r,i,s){(0,a.sM)(i,h(t,s),r)}function h(t,r){return t&&"function"==typeof t.write?t.write({},r):t&&"function"==typeof t.toJSON?t.toJSON():"number"==typeof t?f(t):t}function f(t){return t===-1/0?-Number.MAX_VALUE:t===1/0?Number.MAX_VALUE:isNaN(t)?null:t}function y(t,r,i,s){let o;null===t?o=null:t&&"function"==typeof t.map?"function"==typeof(o=t.map(t=>h(t,s))).toArray&&(o=o.toArray()):o=[h(t,s)],(0,a.sM)(i,o,r)}},1681:(t,r,i)=>{i.d(r,{A:()=>h});var s=i(81856),o=i(55048),a=i(91838),u=i(86942);i(57845),i(33638);var d=i(12709),c=i(6015);let p=class extends c.A{constructor(t){super(t),this.angle=0,this.type=null,this.xoffset=0,this.yoffset=0,this.size=9}hash(){return`${this.type}.${this.angle}.${this.size}.${this.xoffset}.${this.yoffset}`}};(0,s._)([(0,a.MZ)({type:Number,json:{read:t=>t&&-1*t,write:(t,r)=>r.angle=t&&-1*t}})],p.prototype,"angle",void 0),(0,s._)([(0,a.MZ)({type:["simple-marker","picture-marker"],readOnly:!0})],p.prototype,"type",void 0),(0,s._)([(0,a.MZ)({type:Number,cast:o.cr,json:{write:!0}})],p.prototype,"xoffset",void 0),(0,s._)([(0,a.MZ)({type:Number,cast:o.cr,json:{write:!0}})],p.prototype,"yoffset",void 0),(0,s._)([(0,a.MZ)({cast:t=>"auto"===t?t:(0,u.GB)((0,o.cr)(t)),json:{write:!0}})],p.prototype,"size",void 0);let h=p=(0,s._)([(0,d.$)("esri.symbols.MarkerSymbol")],p)},1766:(t,r,i)=>{i.d(r,{A:()=>o});var s=i(34184);class o{constructor(t,r,i){this.name=t,this.details=i,this.message=(r&&r.replaceAll(/\$\{([^\s:}]*)(?::([^\s:}]+))?\}/g,(t,r)=>""===r?"$":((0,s.wc)(r,i)??"").toString()))??""}toString(){return"["+this.name+"]: "+this.message}}},1967:(t,r,i)=>{i.d(r,{HA:()=>h,Z3:()=>y,v:()=>f});var s=i(3708);let o=[];function a(t,r,i,s){return{xmin:t,ymin:r,xmax:i,ymax:s}}function u(t,r,i,s,o,a){return{xmin:t,ymin:r,zmin:i,xmax:s,ymax:o,zmax:a}}function d(t,r,i,s,o,a){return{xmin:t,ymin:r,mmin:i,xmax:s,ymax:o,mmax:a}}function c(t,r,i,s,o,a,u,d){return{xmin:t,ymin:r,zmin:i,mmin:s,xmax:o,ymax:a,zmax:u,mmax:d}}function p(t,r=!1,i=!1){return r?i?c(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]):u(t[0],t[1],t[2],t[3],t[4],t[5]):i?d(t[0],t[1],t[2],t[3],t[4],t[5]):a(t[0],t[1],t[2],t[3])}function h(t){return t?void 0!==t.xmin&&void 0!==t.ymin&&void 0!==t.xmax&&void 0!==t.ymax?t:void 0!==t.x&&void 0!==t.y?function(t){let{x:r,y:i,z:s,m:o}=t,p=null!=o;return null!=s?p?c(r,i,s,o,r,i,s,o):u(r,i,s,r,i,s):p?d(r,i,o,r,i,o):a(r,i,r,i)}(t):void 0!==t.rings?f(t):void 0!==t.paths?y(t):void 0!==t.points?function(t){let{hasZ:r,hasM:i,points:a}=t;return p((0,s.Pj)(o,a,r??!1,i??!1),r,i)}(t):null:null}function f(t){let{hasZ:r,hasM:i,rings:a}=t,u=(0,s.Yz)(o,a,r??!1,i??!1);return u?p(u,r,i):null}function y(t){let{hasZ:r,hasM:i,paths:a}=t,u=(0,s.Yz)(o,a,r??!1,i??!1);return u?p(u,r,i):null}},2010:(t,r,i)=>{i.d(r,{S8:()=>d,TP:()=>h,Z4:()=>a,l8:()=>u,w2:()=>p});var s=i(16979),o=i(60470);function a(t){return t?t.hasZ?[t.xmax-t.xmin/2,t.ymax-t.ymin/2,t.zmax-t.zmin/2]:[t.xmax-t.xmin/2,t.ymax-t.ymin/2]:null}function u(t){return t?d(t.rings,t.hasZ??!1):null}function d(t,r){if(!t?.length)return null;let i=[],s=[],a=r?[1/0,-1/0,1/0,-1/0,1/0,-1/0]:[1/0,-1/0,1/0,-1/0];for(let i=0,o=t.length;i<o;i++){let o=c(t[i],r,a);o&&s.push(o)}if(s.sort((t,i)=>{let s=t[2]-i[2];return 0===s&&r&&(s=t[4]-i[4]),s}),s.length&&(i[0]=s[0][0],i[1]=s[0][1],r&&(i[2]=s[0][3]),(i[0]<a[0]||i[0]>a[1]||i[1]<a[2]||i[1]>a[3]||r&&(i[2]<a[4]||i[2]>a[5]))&&(i.length=0)),!i.length){let s=t[0]&&t[0].length?function(t,r){let i=r?[0,0,0]:[0,0],s=r?[0,0,0]:[0,0],a=0,u=0,d=0,c=0;for(let p=0,h=t.length;p<h-1;p++){let h=t[p],f=t[p+1];if(h&&f){i[0]=h[0],i[1]=h[1],s[0]=f[0],s[1]=f[1],r&&h.length>2&&f.length>2&&(i[2]=h[2],s[2]=f[2]);let t=(0,o.R3)(i,s);if(t){a+=t;let i=(0,o.t9)(h,f);u+=t*i[0],d+=t*i[1],r&&i.length>2&&(c+=t*i[2])}}}return a>0?r?[u/a,d/a,c/a]:[u/a,d/a]:t.length?t[0]:null}(t[0],r):null;if(!s)return null;i[0]=s[0],i[1]=s[1],r&&s.length>2&&(i[2]=s[2])}return i}function c(t,r,i){let s=0,o=0,a=0,u=0,d=0,c=t.length?t[0][0]:0,p=t.length?t[0][1]:0,h=t.length&&r?t[0][2]:0;for(let f=0;f<t.length;f++){let y=t[f],m=t[(f+1)%t.length],[g,_,v]=y,w=g-c,b=_-p,[M,S,A]=m,T=M-c,x=S-p,E=w*x-T*b;if(u+=E,s+=(w+T)*E,o+=(b+x)*E,r&&y.length>2&&m.length>2){let t=v-h,r=A-h,i=w*r-T*t;a+=(t+r)*i,d+=i}g<i[0]&&(i[0]=g),g>i[1]&&(i[1]=g),_<i[2]&&(i[2]=_),_>i[3]&&(i[3]=_),r&&(v<i[4]&&(i[4]=v),v>i[5]&&(i[5]=v))}if(u>0&&(u*=-1),d>0&&(d*=-1),!u)return null;u*=.5,d*=.5;let f=[s/(6*u)+c,o/(6*u)+p,u];return r&&(i[4]===i[5]||0===d?(f[3]=(i[4]+i[5])/2,f[4]=0):(f[3]=a/(6*d)+h,f[4]=d)),f}function p(t,r){let i=0,s=0,o=0;t.nextPoint();let a=t.pathSize?t.x:0,u=t.pathSize?t.y:0;for(let d=0;d<t.pathSize;d++){t.seekInPath(d);let c=[t.x,t.y];t.seekInPath((d+1)%t.pathSize);let p=[t.x,t.y],[h,f]=c,y=h-a,m=f-u,[g,_]=p,v=g-a,w=_-u,b=y*w-v*m;o+=b,i+=(y+v)*b,s+=(m+w)*b,h<r[0]&&(r[0]=h),h>r[1]&&(r[1]=h),f<r[2]&&(r[2]=f),f>r[3]&&(r[3]=f)}return(o>0&&(o*=-1),o)?[i/(6*(o*=.5))+a,s/(6*o)+u,o]:null}function h(t){let r=0;for(t.reset();t.nextPath();)r+=t.getCurrentRingArea();if(r<1e-6){let r=function(t){let{hasZ:r,totalSize:i}=t;if(0===i)return null;let a=[],u=[],d=r?[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY]:[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY];for(t.reset();t.nextPath();){let r=c((0,s.A)(t),t.hasZ,d);r&&u.push(r)}if(u.sort((t,i)=>{let s=t[2]-i[2];return 0===s&&r&&(s=t[4]-i[4]),s}),u.length&&(a[0]=u[0][0],a[1]=u[0][1],r&&(a[2]=u[0][3]),(a[0]<d[0]||a[0]>d[1]||a[1]<d[2]||a[1]>d[3]||r&&(a[2]<d[4]||a[2]>d[5]))&&(a.length=0)),!a.length){t.reset(),t.nextPath();let i=t.pathSize?function(t){let{hasZ:r}=t,i=r?[0,0,0]:[0,0],s=r?[0,0,0]:[0,0],a=0,u=0,d=0,c=0;if(t.nextPoint()){let p=t.x,h=t.y,f=t.z;for(;t.nextPoint();){let y=t.x,m=t.y,g=t.z;i[0]=p,i[1]=h,s[0]=y,s[1]=m,r&&(i[2]=f,s[2]=g);let _=(0,o.R3)(i,s);if(_){a+=_;let t=(0,o.t9)(i,s);u+=_*t[0],d+=_*t[1],r&&t.length>2&&(c+=_*t[2])}p=y,h=m,f=g}}return a>0?r?[u/a,d/a,c/a]:[u/a,d/a]:t.pathSize?(t.seekPathStart(),t.nextPoint(),[t.x,t.y]):null}(t):null;if(!i)return null;a[0]=i[0],a[1]=i[1],r&&i.length>2&&(a[2]=i[2])}return a}(t);return r?[r[0],r[1]]:null}let i=[0,0];if(t.reset(),!t.nextPath()||!t.nextPoint())return null;let a=[t.x,t.y];for(t.reset();t.nextPath();)!function(t,r,i){if(!i||i.pathSize<3)return;i.nextPoint();let s=i.x,o=i.y;i.nextPoint();let a,u=i.x-s,d=i.y-o,c=0,p=0;for(;i.nextPoint();)a=.5*f*((c=i.x-s)*d-(p=i.y-o)*u),t[0]+=a*(u+c),t[1]+=a*(d+p),u=c,d=p;let h=i.getCurrentRingArea(),y=[s,o];y[0]-=r[0],y[1]-=r[1],y[0]*=h,y[1]*=h,t[0]+=y[0],t[1]+=y[1]}(i,a,t);return i[0]*=1/r,i[1]*=1/r,i[0]+=a[0],i[1]+=a[1],i}let f=1/3},2043:(t,r,i)=>{i.d(r,{q:()=>S});var s=i(81856),o=i(32391),a=i(90525),u=i(91838),d=i(86942);i(57845),i(33638);var c=i(53480),p=i(12709),h=i(7780),f=i(89800),y=i(352),m=i(84627);let g={ArcGISAnnotationLayer:!0,ArcGISDimensionLayer:!0,ArcGISFeatureLayer:!0,ArcGISImageServiceLayer:!0,ArcGISImageServiceVectorLayer:!0,ArcGISMapServiceLayer:!0,ArcGISStreamLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,BingMapsAerial:!0,BingMapsHybrid:!0,BingMapsRoad:!0,CatalogLayer:!0,CSV:!0,GeoJSON:!0,GeoRSS:!0,GroupLayer:!0,KML:!0,KnowledgeGraphLayer:!0,MediaLayer:!0,OGCFeatureLayer:!0,OrientedImageryLayer:!0,SubtypeGroupLayer:!0,VectorTileLayer:!0,WCS:!0,WFS:!0,WMS:!0,WebTiledLayer:!0},_={ArcGISImageServiceLayer:!0,ArcGISImageServiceVectorLayer:!0,ArcGISMapServiceLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,BingMapsAerial:!0,BingMapsHybrid:!0,BingMapsRoad:!0,OpenStreetMap:!0,VectorTileLayer:!0,WCS:!0,WMS:!0,WebTiledLayer:!0},v={ArcGISFeatureLayer:!0,SubtypeGroupTable:!0},w={"web-scene/operational-layers":{ArcGISDimensionLayer:!0,ArcGISFeatureLayer:!0,ArcGISImageServiceLayer:!0,ArcGISMapServiceLayer:!0,ArcGISSceneServiceLayer:!0,ArcGISTiledElevationServiceLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,BuildingSceneLayer:!0,CatalogLayer:!0,CSV:!0,GeoJSON:!0,GroupLayer:!0,IntegratedMesh3DTilesLayer:!0,Object3DTilesLayer:!0,IntegratedMeshLayer:!0,KML:!0,LineOfSightLayer:!0,MediaLayer:!0,OGCFeatureLayer:!0,OrientedImageryLayer:!0,PointCloudLayer:!0,RasterDataLayer:!0,VectorTileLayer:!0,ViewshedLayer:!0,Voxel:!0,WCS:!0,WFS:!0,WMS:!0,WebTiledLayer:!0},"web-scene/basemap":{ArcGISImageServiceLayer:!0,ArcGISMapServiceLayer:!0,ArcGISSceneServiceLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,OpenStreetMap:!0,VectorTileLayer:!0,WCS:!0,WMS:!0,WebTiledLayer:!0},"web-scene/ground":{ArcGISTiledElevationServiceLayer:!0,RasterDataElevationLayer:!0},"web-scene/tables":{ArcGISFeatureLayer:!0},"web-map/operational-layers":g,"web-map/basemap":_,"web-map/tables":v,"link-chart/operational-layers":{...g,LinkChartLayer:!0},"link-chart/basemap":_,"link-chart/tables":v,"portal-item/operational-layers":{ArcGISFeatureLayer:!0,ArcGISImageServiceLayer:!0,ArcGISSceneServiceLayer:!0,ArcGISStreamLayer:!0,ArcGISTiledImageServiceLayer:!0,BuildingSceneLayer:!0,IntegratedMesh3DTilesLayer:!0,IntegratedMeshLayer:!0,MediaLayer:!0,OrientedImageryLayer:!0,PointCloudLayer:!0,SubtypeGroupLayer:!0,WCS:!0},"portal-item/tables":{ArcGISFeatureLayer:!0,SubtypeGroupTable:!0}};var b=i(76572),M=i(47840);let S=t=>{let r=class extends t{constructor(){super(...arguments),this.persistenceEnabled=!0,this.title=null}readId(t,r,i){return"Group Layer"===i?.portalItem?.type?void 0:t}writeListMode(t,r,i,s){(s&&"ground"===s.layerContainerType||t&&(0,m.R)(this,i,{},s))&&(r[i]=t)}writeOperationalLayerType(t,r,i){t&&(r[i]=t)}writeTitle(t,r){r.title=t??"Layer"}readVisibilityTimeExtent(t){return t?M.A.fromArray(t):null}writeVisibilityTimeExtent(t,r,i,s){t&&"tables"!==s.layerContainerType&&(t.isEmpty?s?.messages&&s.messages.push(new o.A("layer:invalid-visibilityTimeExtent","visibilityTimeExtent cannot be empty")):r[i]=t.toArray())}read(t,r){r&&(r.layer=this),(0,y.t)(this,t,r=>super.read(t,r),r)}write(t,r){if(!this.persistenceEnabled&&!r?.ignorePersistenceEnabled)return null;if(r?.origin){let t=`${r.origin}/${r.layerContainerType||"operational-layers"}`,i=w[t],s=!!i?.[this.operationalLayerType];if("ArcGISTiledElevationServiceLayer"===this.operationalLayerType&&"web-scene/operational-layers"===t&&(s=!1),"ArcGISDimensionLayer"===this.operationalLayerType&&"web-map/operational-layers"===t&&(s=!1),!s)return r.messages?.push(new o.A("layer:unsupported",`Layers (${this.title}, ${this.id}) of type '${this.declaredClass}' are not supported in the context of '${t}'`,{layer:this})),null}let i=super.write(t,{...r,layer:this}),s=!!r&&!!r.messages&&!!r.messages.filter(t=>t instanceof o.A&&"web-document-write:property-required"===t.name).length;return(0,a.w8)(i?.url)?(r?.messages?.push(new o.A("layer:invalid-url",`Layer (${this.title}, ${this.id}) of type '${this.declaredClass}' using a Blob URL cannot be written to web scenes and web maps`,{layer:this})),null):!this.url&&s?null:i}beforeSave(){}};return(0,s._)([(0,u.MZ)({type:String,json:{write:{ignoreOrigin:!0},origins:{"web-scene":{write:{isRequired:!0,ignoreOrigin:!0}},"portal-item":{write:!1}}}})],r.prototype,"id",void 0),(0,s._)([(0,c.w)("id",["id"])],r.prototype,"readId",null),(0,s._)([(0,u.MZ)(b.C1)],r.prototype,"listMode",void 0),(0,s._)([(0,h.K)("listMode")],r.prototype,"writeListMode",null),(0,s._)([(0,u.MZ)({type:String,readOnly:!0,json:{read:!1,write:{target:"layerType",ignoreOrigin:!0},origins:{"portal-item":{write:!1},"web-scene":{name:"layerType",read:!1,write:{enabled:!0,ignoreOrigin:!0,layerContainerTypes:f.K,isRequired:!0}}}}})],r.prototype,"operationalLayerType",void 0),(0,s._)([(0,h.K)("operationalLayerType")],r.prototype,"writeOperationalLayerType",null),(0,s._)([(0,u.MZ)(b.ke)],r.prototype,"opacity",void 0),(0,s._)([(0,u.MZ)({type:Boolean,readOnly:!1})],r.prototype,"persistenceEnabled",void 0),(0,s._)([(0,u.MZ)({type:String,json:{write:{ignoreOrigin:!0,writerEnsuresNonNull:!0},origins:{"web-scene":{write:{isRequired:!0,ignoreOrigin:!0,writerEnsuresNonNull:!0}},"portal-item":{write:!1}}},value:"Layer"})],r.prototype,"title",void 0),(0,s._)([(0,h.K)("title"),(0,h.K)(["web-scene"],"title")],r.prototype,"writeTitle",null),(0,s._)([(0,u.MZ)({type:M.A,json:{origins:{"web-scene":{write:{layerContainerTypes:f.K}}}}})],r.prototype,"visibilityTimeExtent",void 0),(0,s._)([(0,c.w)("visibilityTimeExtent")],r.prototype,"readVisibilityTimeExtent",null),(0,s._)([(0,h.K)(["portal-item","web-map","web-scene"],"visibilityTimeExtent",{visibilityTimeExtent:{type:[[d.jz,d.Uv]]}})],r.prototype,"writeVisibilityTimeExtent",null),(0,s._)([(0,u.MZ)({type:Boolean,json:{name:"visibility",write:{layerContainerTypes:f.K}}})],r.prototype,"visible",void 0),r=(0,s._)([(0,p.$)("esri.layers.mixins.OperationalLayer")],r)}},2568:(t,r,i)=>{i.d(r,{A:()=>p});var s,o=i(81856),a=i(91838);i(57845),i(61939),i(33638);var u=i(12709),d=i(86926);let c=s=class extends d.A{constructor(t){super(t),this.axis=null,this.type="rotation",this.rotationType="geographic"}get cache(){return{hasExpression:!!this.valueExpression,compiledFunc:null}}clone(){return new s({axis:this.axis,rotationType:this.rotationType,field:this.field,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,legendOptions:this.legendOptions?.clone()})}};(0,o._)([(0,a.MZ)({readOnly:!0})],c.prototype,"cache",null),(0,o._)([(0,a.MZ)({type:["heading","tilt","roll"],json:{origins:{"web-scene":{default:"heading",write:!0}}}})],c.prototype,"axis",void 0),(0,o._)([(0,a.MZ)({type:["rotation"],json:{type:["rotationInfo"]}})],c.prototype,"type",void 0),(0,o._)([(0,a.MZ)({type:["geographic","arithmetic"],json:{write:!0,origins:{"web-document":{write:!0,default:"geographic"}}}})],c.prototype,"rotationType",void 0);let p=c=s=(0,o._)([(0,u.$)("esri.renderers.visualVariables.RotationVariable")],c)},2642:(t,r,i)=>{i.d(r,{i:()=>_,r:()=>v});var s,o=i(81856),a=i(30781),u=i(92713),d=i(90525),c=i(91838);i(57845),i(61939),i(33638);var p=i(33498),h=i(53480),f=i(12709),y=i(7780),m=i(67546);let g=(0,a.O)()({circle:"circle",square:"square",cross:"cross",x:"x",kite:"kite",triangle:"triangle"}),_=s=class extends u.A{constructor(t){super(t)}readHref(t,r,i){return t?(0,m.f)(t,i):r.dataURI}writeHref(t,r,i,s){t&&((0,d.DB)(t)?r.dataURI=t:(r.href=(0,m.t)(t,s),(0,d.oP)(r.href)&&(r.href=(0,d.S8)(r.href))))}clone(){return new s({href:this.href,primitive:this.primitive})}};(0,o._)([(0,c.MZ)({type:String,json:{write:!0,read:{source:["href","dataURI"]}}})],_.prototype,"href",void 0),(0,o._)([(0,h.w)("href")],_.prototype,"readHref",null),(0,o._)([(0,y.K)("href",{href:{type:String},dataURI:{type:String}})],_.prototype,"writeHref",null),(0,o._)([(0,p.e)(g)],_.prototype,"primitive",void 0),_=s=(0,o._)([(0,f.$)("esri.symbols.support.IconSymbol3DLayerResource")],_);let v="circle"},2698:(t,r,i)=>{let s;i.d(r,{C:()=>a});var o=i(45709);function a(){return s??=function(){let t=new u,r=function(t){if("undefined"==typeof WebGL2RenderingContext)return null;let r=document.createElement("canvas");if(!r)return null;let i=r.getContext("webgl2",{failIfMajorPerformanceCaveat:!0});if(null==i&&null!=(i=r.getContext("webgl2"))&&(t.majorPerformanceCaveat=!0),null==i)return i;t.available=!0,t.maxTextureSize=i.getParameter(i.MAX_TEXTURE_SIZE),t.supportsVertexShaderSamplers=i.getParameter(i.MAX_VERTEX_TEXTURE_IMAGE_UNITS)>0;let s=i.getShaderPrecisionFormat(i.FRAGMENT_SHADER,i.HIGH_FLOAT);return s&&(t.supportsHighPrecisionFragment=s.precision>0),i}(t);return null==r||(t.supportsColorBufferFloat=null!==r.getExtension("EXT_color_buffer_float"),t.supportsColorBufferFloatBlend=null!==r.getExtension("EXT_float_blend"),t.supportsColorBufferHalfFloat=t.supportsColorBufferFloat||null!==r.getExtension("EXT_color_buffer_half_float"),t.unmaskedRenderer=(0,o.Z)(r,{debugRendererInfo:!0})?.getUnmaskedRendererWebGL()??"unknown"),t}()}class u{constructor(){this.available=!1,this.majorPerformanceCaveat=!1,this.maxTextureSize=0,this.supportsVertexShaderSamplers=!1,this.supportsHighPrecisionFragment=!1,this.supportsColorBufferFloat=!1,this.supportsColorBufferFloatBlend=!1,this.supportsColorBufferHalfFloat=!1,this.unmaskedRenderer="unloaded"}}},3200:(t,r,i)=>{i.d(r,{A:()=>m});var s,o=i(81856),a=i(91838);i(57845),i(61939),i(33638);var u=i(33498),d=i(53480),c=i(12709),p=i(86629),h=i(93165),f=i(89834);let y=s=class extends p.A{constructor(t){super(t),this.material=null,this.castShadows=!0,this.type="path",this.profile="circle",this.join="miter",this.cap="butt",this.width=void 0,this.height=void 0,this.anchor="center",this.profileRotation="all"}readWidth(t,r){return null!=t?t:null==r.height&&null!=r.size?r.size:void 0}readHeight(t,r){return null!=t?t:null==r.width&&null!=r.size?r.size:void 0}clone(){return new s({enabled:this.enabled,material:null!=this.material?this.material.clone():null,castShadows:this.castShadows,profile:this.profile,join:this.join,cap:this.cap,width:this.width,height:this.height,profileRotation:this.profileRotation,anchor:this.anchor})}};(0,o._)([(0,a.MZ)({type:h.N,json:{write:!0}})],y.prototype,"material",void 0),(0,o._)([(0,a.MZ)({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],y.prototype,"castShadows",void 0),(0,o._)([(0,u.e)({Path:"path"},{readOnly:!0})],y.prototype,"type",void 0),(0,o._)([(0,a.MZ)({type:["circle","quad"],json:{write:!0,default:"circle"}})],y.prototype,"profile",void 0),(0,o._)([(0,a.MZ)({type:f.e,json:{write:!0,default:"miter"}})],y.prototype,"join",void 0),(0,o._)([(0,a.MZ)({type:f.Nv,json:{write:!0,default:"butt"}})],y.prototype,"cap",void 0),(0,o._)([(0,a.MZ)({type:Number,json:{write:{enabled:!0,target:{width:{type:Number},size:{type:Number}}}}})],y.prototype,"width",void 0),(0,o._)([(0,d.w)("width",["width","size","height"])],y.prototype,"readWidth",null),(0,o._)([(0,a.MZ)({type:Number,json:{write:!0}})],y.prototype,"height",void 0),(0,o._)([(0,d.w)("height",["height","size","width"])],y.prototype,"readHeight",null),(0,o._)([(0,a.MZ)({type:["center","bottom","top"],json:{write:!0,default:"center"}})],y.prototype,"anchor",void 0),(0,o._)([(0,a.MZ)({type:["heading","all"],json:{write:!0,default:"all"}})],y.prototype,"profileRotation",void 0);let m=y=s=(0,o._)([(0,c.$)("esri.symbols.PathSymbol3DLayer")],y)},3640:(t,r,i)=>{i.d(r,{g:()=>u,r:()=>d});var s=i(84984),o=i(68547),a=i(15199);let u={key:"type",base:o.A,typeMap:{algorithmic:s.A,multipart:a.A}};function d(t){return t?.type?"algorithmic"===t.type?s.A.fromJSON(t):"multipart"===t.type?a.A.fromJSON(t):null:null}},3708:(t,r,i)=>{i.d(r,{B$:()=>g,LJ:()=>_,Pj:()=>b,Rg:()=>y,Yz:()=>v,z8:()=>m});var s=i(84766);function o(t){return void 0!==t.xmin&&void 0!==t.ymin&&void 0!==t.xmax&&void 0!==t.ymax}function a(t){return void 0!==t.points}function u(t){return void 0!==t.x&&void 0!==t.y}function d(t){return void 0!==t.paths}function c(t){return void 0!==t.rings}function p(t){return function(r,i){return null==r?i:null==i?r:t(r,i)}}let h=p(Math.min),f=p(Math.max);function y(t,r){return d(r)?v(t,r.paths,!1,!1):c(r)?v(t,r.rings,!1,!1):a(r)?b(t,r.points,!1,!1,!1,!1):o(r)?w(t,r):(u(r)&&(t[0]=r.x,t[1]=r.y,t[2]=r.x,t[3]=r.y),t)}function m(t){let r,i,o,a;for(t.reset(),r=o=1/0,i=a=-1/0;t.nextPath();){let s=g(t);r=Math.min(s[0],r),o=Math.min(s[1],o),i=Math.max(s[2],i),a=Math.max(s[3],a)}return(0,s.vt)([r,o,i,a])}function g(t){let r,i,o,a;for(r=o=1/0,i=a=-1/0;t.nextPoint();)r=Math.min(t.x,r),o=Math.min(t.y,o),i=Math.max(t.x,i),a=Math.max(t.y,a);return(0,s.vt)([r,o,i,a])}function _(t,r){return d(r)?v(t,r.paths,!0,!1):c(r)?v(t,r.rings,!0,!1):a(r)?b(t,r.points,!0,!1,!0,!1):o(r)?w(t,r,!0,!1,!0,!1):(u(r)&&(t[0]=r.x,t[1]=r.y,t[2]=r.z,t[3]=r.x,t[4]=r.y,t[5]=r.z),t)}function v(t,r,i,s){let o=i?3:2;if(!r.length||!r[0].length)return null;let a,u,d,c,[p,y]=r[0][0],[m,g]=r[0][0];for(let t=0;t<r.length;t++){let _=r[t];for(let t=0;t<_.length;t++){let r=_[t],[v,w]=r;if(p=h(p,v),y=h(y,w),m=f(m,v),g=f(g,w),i&&r.length>2){let t=r[2];a=h(a,t),u=f(u,t)}if(s&&r.length>o){let t=r[o];d=h(a,t),c=f(u,t)}}}return i?s?(t[0]=p,t[1]=y,t[2]=a,t[3]=d,t[4]=m,t[5]=g,t[6]=u,t[7]=c,t.length=8):(t[0]=p,t[1]=y,t[2]=a,t[3]=m,t[4]=g,t[5]=u,t.length=6):s?(t[0]=p,t[1]=y,t[2]=d,t[3]=m,t[4]=g,t[5]=c,t.length=6):(t[0]=p,t[1]=y,t[2]=m,t[3]=g,t.length=4),t}function w(t,r,i,s,o,a){let u=r.xmin,d=r.xmax,c=r.ymin,p=r.ymax,h=r.zmin,f=r.zmax,y=r.mmin,m=r.mmax;return o?(h=h||0,f=f||0,a?(y=y||0,m=m||0,t[0]=u,t[1]=c,t[2]=h,t[3]=y,t[4]=d,t[5]=p,t[6]=f,t[7]=m):(t[0]=u,t[1]=c,t[2]=h,t[3]=d,t[4]=p,t[5]=f)):a?(y=y||0,m=m||0,t[0]=u,t[1]=c,t[2]=y,t[3]=d,t[4]=p,t[5]=m):(t[0]=u,t[1]=c,t[2]=d,t[3]=p),t}function b(t,r,i,s,o,a){let u=i?3:2,d=s&&a,c=i&&o;if(!r.length||!r[0].length)return null;let p,y,m,g,[_,v]=r[0],[w,b]=r[0];for(let t=0;t<r.length;t++){let i=r[t],[s,o]=i;if(_=h(_,s),v=h(v,o),w=f(w,s),b=f(b,o),c&&i.length>2){let t=i[2];p=h(p,t),y=f(y,t)}if(d&&i.length>u){let t=i[u];m=h(p,t),g=f(y,t)}}return o?(p=p||0,y=y||0,a?(m=m||0,g=g||0,t[0]=_,t[1]=v,t[2]=p,t[3]=m,t[4]=w,t[5]=b,t[6]=y,t[7]=g):(t[0]=_,t[1]=v,t[2]=p,t[3]=w,t[4]=b,t[5]=y)):a?(m=m||0,g=g||0,t[0]=_,t[1]=v,t[2]=m,t[3]=w,t[4]=b,t[5]=g):(t[0]=_,t[1]=v,t[2]=w,t[3]=b),t}},3983:(t,r,i)=>{i.d(r,{ON:()=>o,U9:()=>u,u7:()=>a});var s=i(70152);let o=new s.A("white"),a=new s.A([255,255,255,0]);function u(t){return 0===t.r&&0===t.g&&0===t.b}},4078:(t,r,i)=>{i.d(r,{A:()=>a});let s=0;class o{static fromGE(t){let r=new o;return r._wkt=t.wkt,r._wkid=t.wkid,r._isInverse=t.isInverse,r}constructor(t){this.uid=s++,t?(this._wkt=null!=t.wkt?t.wkt:null,this._wkid=null!=t.wkid?t.wkid:-1,this._isInverse=null!=t.isInverse&&!0===t.isInverse):(this._wkt=null,this._wkid=-1,this._isInverse=!1)}get wkt(){return this._wkt}set wkt(t){this._wkt=t,this.uid=s++}get wkid(){return this._wkid}set wkid(t){this._wkid=t,this.uid=s++}get isInverse(){return this._isInverse}set isInverse(t){this._isInverse=t,this.uid=s++}getInverse(){let t=new o;return t._wkt=this.wkt,t._wkid=this._wkid,t._isInverse=!this.isInverse,t}}class a{static cacheKey(t,r){return[t.wkid?.toString()??"-1",t.wkt?.toString()??"",t.wkt2?.toString()??"",r.wkid?.toString()??"-1",r.wkt?.toString()??"",r.wkt2?.toString()??""].join()}static fromGE(t){let r=new a,i="";for(let s of t.steps){let t=o.fromGE(s);r.steps.push(t),i+=t.uid.toString()+","}return r._cachedProjection={},r._gtlistentry=null,r._chain=i,r}constructor(t){if(this.steps=[],this._cachedProjection={},this._chain="",this._gtlistentry=null,t?.steps)for(let r of t.steps)r instanceof o?this.steps.push(r):this.steps.push(new o({wkid:r.wkid,wkt:r.wkt,isInverse:r.isInverse}))}getInverse(){let t=new a;t.steps=[];for(let r=this.steps.length-1;r>=0;r--){let i=this.steps[r];t.steps.push(i.getInverse())}return t}getGTListEntry(){let t="";for(let r of this.steps)t+=r.uid.toString()+",";return t!==this._chain&&(this._gtlistentry=null,this._cachedProjection={},this._chain=t),this._gtlistentry}assignCachedGe(t,r,i){this._cachedProjection[a.cacheKey(t,r)]=i}getCachedGeTransformation(t,r){let i="";for(let t of this.steps)i+=t.uid.toString()+",";i!==this._chain&&(this._gtlistentry=null,this._cachedProjection={},this._chain=i);let s=this._cachedProjection[a.cacheKey(t,r)];return void 0===s?null:s}}},4534:(t,r,i)=>{i.d(r,{L:()=>u});var s=i(83610),o=i(92753),a=i(58985);async function u(t,r,i){let u=t&&t.getAtOrigin&&t.getAtOrigin("renderer",r.origin);if(u&&"unique-value"===u.type&&u.styleOrigin){let d=await (0,s.Ke)(u.populateFromStyle());if((0,o.Te)(i),!1===d.ok){let i=d.error;r?.messages&&r.messages.push(new a.A("renderer:style-reference",`Failed to create unique value renderer from style reference: ${i.message}`,{error:i,context:r})),t.clear("renderer",r?.origin)}}}},4746:(t,r,i)=>{i.d(r,{A:()=>y});var s,o=i(81856),a=i(92713),u=i(55048),d=i(91838),c=i(16352);i(57845),i(33638);var p=i(12709),h=i(40357);let f=s=class extends a.A{constructor(t){super(t),this.decoration="none",this.family="sans-serif",this.size=9,this.style="normal",this.weight="normal"}castSize(t){return(0,u.cr)(t)}clone(){return new s({decoration:this.decoration,family:this.family,size:this.size,style:this.style,weight:this.weight})}hash(){return`${this.decoration}.${this.family}.${this.size}.${this.style}.${this.weight}`}};(0,o._)([(0,d.MZ)({type:h.h9,json:{default:"none",write:!0}})],f.prototype,"decoration",void 0),(0,o._)([(0,d.MZ)({type:String,json:{write:!0}})],f.prototype,"family",void 0),(0,o._)([(0,d.MZ)({type:Number,json:{write:{overridePolicy:(t,r,i)=>({enabled:!i||!i.textSymbol3D})}}})],f.prototype,"size",void 0),(0,o._)([(0,c.w)("size")],f.prototype,"castSize",null),(0,o._)([(0,d.MZ)({type:h._R,json:{default:"normal",write:!0}})],f.prototype,"style",void 0),(0,o._)([(0,d.MZ)({type:h.NM,json:{default:"normal",write:!0}})],f.prototype,"weight",void 0);let y=f=s=(0,o._)([(0,p.$)("esri.symbols.Font")],f)},5342:(t,r,i)=>{i.d(r,{Ie:()=>c,LH:()=>u,YX:()=>d,Yq:()=>a,oG:()=>p});var s=i(84278),o=i(59044);function a(t){if(!t)return!1;let r=t.verticalOffset;return!(!r||r.screenLength<=0||null!=r.maxWorldLength&&r.maxWorldLength<=0)}function u(t){if(!t||!t.supportsCallout||!t.supportsCallout())return!1;let r=t.callout;return!!r?.visible&&!!a(t)}function d(t){return"point-3d"===t.type||"label-3d"===t.type}function c(t){return"center"===t.horizontalAlignment}let p={types:{key:"type",base:s.A,typeMap:{line:o.A}},json:{write:!0}}},5608:(t,r,i)=>{i.d(r,{A:()=>f});var s,o=i(81856),a=i(28690),u=i(92753),d=i(12709);!function(t){t[t.PENDING=0]="PENDING",t[t.RESOLVED=1]="RESOLVED",t[t.REJECTED=2]="REJECTED"}(s||(s={}));class c{constructor(){this._resolver=(0,u.Tw)(),this._status=s.PENDING,this._resolvingPromises=[],this._resolver.promise.then(()=>{this._status=s.RESOLVED,this._cleanUp()},()=>{this._status=s.REJECTED,this._cleanUp()}),this.promise=this._resolver.promise}destroy(){this._cleanUp()}addResolvingPromise(t){this._resolvingPromises.push(t),this._tryResolve()}isResolved(){return this._status===s.RESOLVED}isRejected(){return this._status===s.REJECTED}isFulfilled(){return this._status!==s.PENDING}abort(){this._resolver.reject((0,u.NK)())}_cleanUp(){this._allPromise=null,this._resolvingPromises=null}_tryResolve(){if(this.isFulfilled())return;let t=(0,u.Tw)(),r=[...this._resolvingPromises,t.promise],i=this._allPromise=Promise.all(r);i.then(()=>{this.isFulfilled()||this._allPromise!==i||this._resolver.resolve()},t=>{this.isFulfilled()||this._allPromise!==i||(0,u.zf)(t)||this._resolver.reject(t)}),t.resolve()}}let p=t=>{let r=class extends t{constructor(...t){super(...t),this._promiseProps=new c,this.addResolvingPromise(Promise.resolve())}destroy(){this._promiseProps.destroy()}isResolved(){return this._promiseProps.isResolved()}isRejected(){return this._promiseProps.isRejected()}isFulfilled(){return this._promiseProps.isFulfilled()}when(t,r){return this._promiseProps.promise.then(()=>this).then(t,r)}catch(t){return this.when(null,t)}addResolvingPromise(t){t&&!this._promiseProps.isFulfilled()&&this._promiseProps.addResolvingPromise("_promiseProps"in t?t.when():t)}};return(0,o._)([(0,d.$)("esri.core.Promise")],r)},h=class extends p(a.A){};((h=(0,o._)([(0,d.$)("esri.core.Promise")],h))||(h={})).EsriPromiseMixin=p;let f=h},5741:(t,r,i)=>{i.d(r,{A:()=>c});var s=i(81856),o=i(92713),a=i(91838);i(57845),i(61939),i(33638);var u=i(12709);let d=class extends o.A{constructor(t){super(t),this.type=null}};(0,s._)([(0,a.MZ)({type:["attachments","custom","fields","media","text","expression","relationship","utility-network-associations"],readOnly:!0,json:{read:!1,write:!0}})],d.prototype,"type",void 0);let c=d=(0,s._)([(0,u.$)("esri.popup.content.Content")],d)},5901:(t,r,i)=>{i.d(r,{M:()=>a});var s=i(25045),o=i(41759);class a{constructor(t,r){for(let i in this._owner=r,this._properties={},this._afterDispatchHandle=null,t){let r=t[i],o=new s.P(r,void 0,void 0,2,2);this._properties[i]={pool:o,acquired:[]}}this._afterDispatchHandle=(0,o.rs)(()=>this._release())}destroy(){for(let t in this._afterDispatchHandle&&(this._afterDispatchHandle.remove(),this._afterDispatchHandle=null),this._properties){let r=this._properties[t];for(let t of r.acquired)(0,o.Gs)(t)||r.pool.release(t);r.pool.destroy(),r.pool=null,r.acquired=null}this._properties=null,this._owner=null}get(t){let r=this._owner._get(t),i=this._properties[t],s=i.pool.acquire();for(i.acquired.push(s);s===r;)i.acquired.push(s),s=i.pool.acquire();return s}_release(){for(let t in this._properties){let r=this._properties[t],i=0;for(let t of r.acquired)(0,o.Gs)(t)?r.acquired[i++]=t:r.pool.release(t);r.acquired.length=i}}}},6015:(t,r,i)=>{i.d(r,{A:()=>m});var s=i(81856),o=i(70152),a=i(30781),u=i(92713),d=i(91838);i(57845),i(61939),i(33638);var c=i(53480),p=i(12709);let h=new a.J({esriSMS:"simple-marker",esriPMS:"picture-marker",esriSLS:"simple-line",esriSFS:"simple-fill",esriPFS:"picture-fill",esriTS:"text",esriSHD:"shield-label-symbol",PointSymbol3D:"point-3d",LineSymbol3D:"line-3d",PolygonSymbol3D:"polygon-3d",WebStyleSymbol:"web-style",MeshSymbol3D:"mesh-3d",LabelSymbol3D:"label-3d",CIMSymbolReference:"cim"}),f=0,y=class extends u.A{constructor(t){super(t),this.id="sym"+f++,this.type=null,this.color=new o.A([0,0,0,1])}readColor(t){return null!=t?.[0]?[t[0],t[1],t[2],t[3]/255]:t}async collectRequiredFields(t,r){}hash(){return JSON.stringify(this.toJSON())}clone(){}};(0,s._)([(0,d.MZ)({type:h.apiValues,readOnly:!0,json:{read:!1,write:{ignoreOrigin:!0,writer:h.write,isRequired:!0}}})],y.prototype,"type",void 0),(0,s._)([(0,d.MZ)({type:o.A,json:{write:{allowNull:!0}}})],y.prototype,"color",void 0),(0,s._)([(0,c.w)("color")],y.prototype,"readColor",null);let m=y=(0,s._)([(0,p.$)("esri.symbols.Symbol")],y)},6255:(t,r,i)=>{i.d(r,{J:()=>b});var s=i(81856);i(57845);var o=i(61939),a=i(92753),u=i(91838),d=i(16352);i(33638);var c=i(12709),p=i(89800),h=i(54335),f=i(45257),y=i(17058);let m=new h.A,g=new WeakMap,_=0,v=0;function w(){let t=Date.now(),r=!1;for(let i of m){let s=i.deref();s?s.refreshInterval&&t-(g.get(s)??0)+5>=6e4*s.refreshInterval&&(g.set(s,t),s.refresh(t)):r=!0}if(r)for(let t=m.length-1;t>=0;t--)m.at(t).deref()||m.removeAt(t)}(0,y.fm)(()=>{let t=Date.now(),r=0;for(let i of m){let s=i.deref();s&&(r=function t(r,i){return Number.isFinite(r)&&Number.isFinite(i)?i<=0?r:t(i,r%i):0}(Math.round(6e4*s.refreshInterval),r),s.refreshInterval?g.get(s)||g.set(s,t):g.delete(s))}if(r!==v){if(v=r,clearInterval(_),0===v)return void(_=0);_=setInterval(w,v)}},f.OH);let b=t=>{let r=class extends t{constructor(...t){super(...t),this.refreshInterval=0,this.refreshTimestamp=0,this._debounceHasDataChanged=(0,a.sg)(()=>this.hasDataChanged()),this.when().then(()=>{this.destroyed||function(t){var r;null!=(r=t)&&"object"==typeof r&&"refreshInterval"in r&&"refresh"in r&&m.push(new WeakRef(t))}(this)},()=>{})}destroy(){var t=this;let r=m.find(r=>r.deref()===t);r&&m.remove(r)}castRefreshInterval(t){return t>=.1?t:t<=0?0:.1}get refreshParameters(){return{_ts:this.refreshTimestamp||null}}refresh(t=Date.now()){(0,a.QZ)(this._debounceHasDataChanged()).then(r=>{r&&this._set("refreshTimestamp",t),this.emit("refresh",{dataChanged:r})},t=>{o.A.getLogger(this).error(t),this.emit("refresh",{dataChanged:!1,error:t})})}async hasDataChanged(){return!0}get test(){}};return(0,s._)([(0,u.MZ)({type:Number,json:{write:!0,origins:{"web-scene":{write:{enabled:!0,layerContainerTypes:p.K}}}}})],r.prototype,"refreshInterval",void 0),(0,s._)([(0,d.w)("refreshInterval")],r.prototype,"castRefreshInterval",null),(0,s._)([(0,u.MZ)({readOnly:!0})],r.prototype,"refreshTimestamp",void 0),(0,s._)([(0,u.MZ)({readOnly:!0})],r.prototype,"refreshParameters",null),r=(0,s._)([(0,c.$)("esri.layers.mixins.RefreshableLayer")],r)}},6270:(t,r,i)=>{i.d(r,{R:()=>s});class s{constructor(t){this.accessed=void 0,this._handles=void 0,this._observer=t}destroy(){this.accessed?.clear(),this.clear()}onAccessed(t){null!=this._observer&&t!==this._observer&&(null==this.accessed&&(this.accessed=new Set),this.accessed.add(t))}onTrackingEnd(){null!=this._observer&&(this.clear(),null!=this.accessed&&(null==this._handles&&(this._handles=[]),this.accessed.forEach(t=>{this._handles.push(t.observe(this._observer))}),this.accessed.clear()))}clear(){if(null!=this._handles){for(let t=0;t<this._handles.length;++t)this._handles[t].remove();this._handles.length=0}}}},6322:(t,r,i)=>{i.d(r,{Cv:()=>_,Gh:()=>b,ci:()=>M,je:()=>v,jg:()=>h,tD:()=>w,y7:()=>g});var s=i(33715),o=i(70433),a=i(91463),u=i(54015),d=i(71760);function c(t){return 57.29577951308232*t}function p(t){return .017453292519943*t}function h(t){return Math.PI/2-2*Math.atan(Math.exp(-t/u.$O.radius))}function f(t){return null!=t.wkid||null!=t.wkt}let y=[0,0];function m(t,r,i,s,o){if(o.spatialReference=i,"x"in t&&"x"in o)[o.x,o.y]=r(t.x,t.y,y,s);else if("xmin"in t&&"xmin"in o)[o.xmin,o.ymin]=r(t.xmin,t.ymin,y,s),[o.xmax,o.ymax]=r(t.xmax,t.ymax,y,s);else if("paths"in t&&"paths"in o||"rings"in t&&"rings"in o){let i,a="paths"in t?t.paths:t.rings,u=[];for(let t=0;t<a.length;t++){let o=a[t];i=[],u.push(i);for(let t=0;t<o.length;t++)i.push(r(o[t][0],o[t][1],[0,0],s)),o[t].length>2&&i[t].push(o[t][2]),o[t].length>3&&i[t].push(o[t][3])}"paths"in o?o.paths=u:o.rings=u}else if("points"in t&&"points"in o){let i=t.points,a=[];for(let t=0;t<i.length;t++)a[t]=r(i[t][0],i[t][1],[0,0],s),i[t].length>2&&a[t].push(i[t][2]),i[t].length>3&&a[t].push(i[t][3]);o.points=a}return o}function g(t,r){let i=t&&(f(t)?t:t.spatialReference),s=r&&(f(r)?r:r.spatialReference);return!(t&&"type"in t&&"mesh"===t.type||r&&"type"in r&&"mesh"===r.type||!i||!s)&&(!!(0,d.aI)(s,i)||(0,d.K8)(s)&&(0,d.oT)(i)||(0,d.K8)(i)&&(0,d.oT)(s))}function _(t,r){if(null==t)return null;let i=t.spatialReference,o=r&&(f(r)?r:r.spatialReference);return g(i,o)?(0,d.aI)(i,o)?(0,s.o8)(t):(0,d.K8)(o)?m(t,v,a.A.WebMercator,!1,(0,s.o8)(t)):(0,d.oT)(o)?m(t,w,a.A.WGS84,!1,(0,s.o8)(t)):null:null}function v(t,r,i=[0,0]){r>89.99999?r=89.99999:r<-89.99999&&(r=-89.99999);let s=p(r);return i[0]=p(t)*u.$O.radius,i[1]=u.$O.halfSemiMajorAxis*Math.log((1+Math.sin(s))/(1-Math.sin(s))),i}function w(t,r,i=[0,0],s=!1){if(t===d.Mc[0])i[0]=-180;else if(t===d.Mc[1])i[0]=180;else{let r=c(t/u.$O.radius);i[0]=s?r:r-360*Math.floor((r+180)/360)}return i[1]=c(Math.PI/2-2*Math.atan(Math.exp(-r/u.$O.radius))),i}function b(t,r=!1,i=(0,s.o8)(t)){return(0,o.f)(t),(0,o.f)(i),m(t,v,a.A.WebMercator,r,i)}function M(t,r=!1,i=(0,s.o8)(t)){return(0,o.f)(t),(0,o.f)(i),m(t,w,a.A.WGS84,r,i)}},6414:(t,r,i)=>{i.d(r,{xF:()=>p,N5:()=>h,k4:()=>f,qk:()=>_});var s=i(86942),o=i(22301);function a(t){t.name&&(t.read&&"object"==typeof t.read?void 0===t.read.source&&(t.read.source=t.name):t.read={source:t.name},t.write&&"object"==typeof t.write?void 0===t.write.target&&(t.write.target=t.name):t.write={target:t.name})}function u(t){"boolean"==typeof t.read?t.read={enabled:t.read}:"function"==typeof t.read?t.read={enabled:!0,reader:t.read}:t.read&&"object"==typeof t.read&&void 0===t.read.enabled&&(t.read.enabled=!0)}function d(t){"boolean"==typeof t.write?t.write={enabled:t.write}:"function"==typeof t.write?t.write={enabled:!0,writer:t.write}:t.write&&"object"==typeof t.write&&void 0===t.write.enabled&&(t.write.enabled=!0)}var c=i(1529);function p(t,r){return y(t,"any",r?.origin)}function h(t,r){return y(t,"read",r?.origin)}function f(t,r){return y(t,"write",r?.origin)}function y(t,r,i){let s=t?.json;if(s?.origins&&i){let t;(t="link-chart"===i?s.origins[i]&&("any"===r||r in s.origins[i])?s.origins[i]:s.origins["web-map"]:s.origins[i])&&("any"===r||r in t)&&(s=t)}return s}function m(t){if(!t.type)return;let r=0,i=t.type;for(;Array.isArray(i)&&!(0,s.EK)(i);)i=i[0],r++;return{type:i,ndimArray:r}}function g(t){if(!t.types)return;let r=0,i=t.types;for(;Array.isArray(i);)i=i[0],r++;return{types:i,ndimArray:r}}function _(t){(function(t){if(t.json||(t.json={}),u(t.json),d(t.json),a(t.json),t.json.origins)for(let r in t.json.origins)u(t.json.origins[r]),d(t.json.origins[r]),a(t.json.origins[r]);return!0})(t)&&(function(t){if(t.json&&t.json.origins){let r=t.json.origins,i={"web-document":["web-scene","web-map"]};for(let t in i)if(r[t]){let s=r[t];i[t].forEach(t=>{r[t]=s}),delete r[t]}}}(t),function(t){var r,i;let s=(r=t).json.types?g(r.json):r.type?m(r):g(r);if(t.json.origins)for(let r in t.json.origins){let a=t.json.origins[r],u=a.types?(i=a).type?m(i):g(i):s;(0,o.v)(u,a,!1),a.types&&!a.write&&t.json.write?.enabled&&(a.write={...t.json.write}),(0,c.v)(u,a)}(0,o.v)(s,t.json,!0),(0,c.v)(s,t.json)}(t))}},6469:(t,r,i)=>{i.d(r,{O3:()=>h,PU:()=>p,YW:()=>y,ex:()=>d,hv:()=>f,zp:()=>c});var s=i(20538),o=i(55048),a=i(13784),u=i(44120);let d=2.4;function c(t){return(0,o.PN)(t*d)}function p(t){return(0,o.Lz)(t)/d}function h(t){let r=new Uint8ClampedArray(2048);if((t=t.filter(({ratio:t})=>t>=0&&t<=1).sort((t,r)=>t.ratio-r.ratio).map(({color:t,ratio:r})=>({color:t,ratio:Math.max(r,.001)}))).length<1)return r;let i=t[0],o=t[0],d=1,c=(0,u.vt)();for(let u=0;u<512;u++){let p=(u+.5)/512;for(;p>o.ratio&&d<t.length;)i=o,o=t[d++];(function(t,r,i,o){let{color:u,ratio:d}=r,{color:c,ratio:p}=i;p===d&&(1===p?d-=1e-6:p+=1e-6);let h=(0,s.qE)((o-d)/(p-d),0,1);(0,a.l)(t,u.toArray(),c.toArray(),h)})(c,i,o,p),r.set(c,4*u)}return r}function f(t,r,i){let s=Math.sqrt(t**2+r**2)/i;return s>1?0:3/(Math.PI*i**2)*(1-s**2)**2}function y(t){return"function"==typeof t?t:t?r=>+r[t]:()=>1}},6675:(t,r,i)=>{let s,o;i.d(r,{n_:()=>B,ho:()=>H});var a=i(32391),u=i(57845),d=i(92753),c=i(25779),p=i(7404),h=i(31393),f=i(61939),y=i(40941),m=i(39166),g=i(90525);let _={async request(t,r){let i=t.options,s=i.responseType;i.signal=r?.signal,i.responseType="native"===s||"native-request-init"===s?"native-request-init":s&&["blob","json","text"].includes(s)&&(0,g.sC)(t.url)?.after?s:"array-buffer";let o=await (0,m.A)(t.url,i),a={data:o.data,httpStatus:o.httpStatus,ssl:o.ssl};switch(o.requestOptions?.responseType){case"native-request-init":return delete a.data.signal,a;case"blob":a.data=await a.data.arrayBuffer();break;case"json":a.data=(new TextEncoder).encode(JSON.stringify(a.data)).buffer;break;case"text":a.data=(new TextEncoder).encode(a.data).buffer}return{result:a,transferList:[a.data]}}};var v=i(47256),w=i(81048),b=i(48767);i(40970);var M=i(57664);let S={};var A=i(86075);class T{constructor(){let t=document.createDocumentFragment();["addEventListener","dispatchEvent","removeEventListener"].forEach(r=>{this[r]=(...i)=>t[r](...i)})}}class x{constructor(){this._dispatcher=new T,this._workerPostMessage({type:v.Go.HANDSHAKE})}terminate(){}get onmessage(){return this._onmessageHandler}set onmessage(t){this._onmessageHandler&&this.removeEventListener("message",this._onmessageHandler),this._onmessageHandler=t,t&&this.addEventListener("message",t)}get onmessageerror(){return this._onmessageerrorHandler}set onmessageerror(t){this._onmessageerrorHandler&&this.removeEventListener("messageerror",this._onmessageerrorHandler),this._onmessageerrorHandler=t,t&&this.addEventListener("messageerror",t)}get onerror(){return this._onerrorHandler}set onerror(t){this._onerrorHandler&&this.removeEventListener("error",this._onerrorHandler),this._onerrorHandler=t,t&&this.addEventListener("error",t)}postMessage(t){(0,A.d)(()=>{this._workerMessageHandler(new MessageEvent("message",{data:t}))})}dispatchEvent(t){return this._dispatcher.dispatchEvent(t)}addEventListener(t,r,i){this._dispatcher.addEventListener(t,r,i)}removeEventListener(t,r,i){this._dispatcher.removeEventListener(t,r,i)}_workerPostMessage(t){(0,A.d)(()=>{this.dispatchEvent(new MessageEvent("message",{data:t}))})}async _workerMessageHandler(t){let r=(0,v.VI)(t);if(r&&r.type===v.Go.OPEN){let{modulePath:t,jobId:i}=r,s=await h.A.loadWorker(t);s||(s=await import(t));let o=h.A.connect(s);this._workerPostMessage({type:v.Go.OPENED,jobId:i,data:o})}}}var E=i(28105),I=i(95928);let C=()=>f.A.getLogger("esri.core.workers.workerFactory"),{HANDSHAKE:R}=v.Go,O="Failed to create Worker. Fallback to execute module in main thread";async function P(){let t;if(!(0,u.A)("esri-workers"))return N(new x);if(!s&&!o)try{let t='let globalId=0;const outgoing=new Map,configuration={CONFIGURATION};self.esriConfig=configuration.esriConfig;const workerPath=self.esriConfig.workers.workerPath,HANDSHAKE=0,OPEN=1,OPENED=2,RESPONSE=3,INVOKE=4,ABORT=5;function createAbortError(){const e=new Error("Aborted");return e.name="AbortError",e}function receiveMessage(e){return e&&e.data?"string"==typeof e.data?JSON.parse(e.data):e.data:null}function invokeStaticMessage(e,o,r){const t=r&&r.signal,n=globalId++;let s=null;return new Promise(((r,i)=>{if(t){if(t.aborted)return i(createAbortError());s=()=>{outgoing.get(n)&&(outgoing.delete(n),self.postMessage({type:5,jobId:n}),i(createAbortError()))},t.addEventListener("abort",s)}outgoing.set(n,{resolve:r,reject:i}),self.postMessage({type:4,jobId:n,methodName:e,abortable:null!=t,data:o})})).finally((()=>{t&&t.removeEventListener("abort",s)}))}let workerRevisionChecked=!1;function checkWorkerRevision(e){if(!workerRevisionChecked&&e.kernelInfo){workerRevisionChecked=!0;const{revision:o,fullVersion:r}=configuration.kernelInfo,{revision:t,fullVersion:n,version:s}=e.kernelInfo;esriConfig.assetsPath!==esriConfig.defaultAssetsPath&&o!==t&&console.warn(`Version mismatch detected between ArcGIS Maps SDK for JavaScript modules and assets. For more information visit https://bit.ly/3QnsuSo.\nModules version: ${r}\nAssets version: ${n??s}\nAssets path: ${esriConfig.assetsPath}`)}}function messageHandler(e){const o=receiveMessage(e);if(!o)return;const r=o.jobId;switch(o.type){case 1:let n;function t(e){const o=n.connect(e);self.postMessage({type:2,jobId:r,data:o},[o])}"function"==typeof define&&define.amd?require([workerPath],(e=>{n=e.default||e,checkWorkerRevision(n),n.loadWorker(o.modulePath).then((e=>e||new Promise((e=>{require([o.modulePath],e)})))).then(t)})):"System"in self&&"function"==typeof System.import?System.import(workerPath).then((e=>(n=e.default,checkWorkerRevision(n),n.loadWorker(o.modulePath)))).then((e=>e||System.import(o.modulePath))).then(t):esriConfig.workers.useDynamicImport?import(workerPath).then((e=>{n=e.default||e,checkWorkerRevision(n),n.loadWorker(o.modulePath).then((e=>e||import(o.modulePath))).then(t)})):(self.RemoteClient||importScripts(workerPath),n=self.RemoteClient.default||self.RemoteClient,checkWorkerRevision(n),n.loadWorker(o.modulePath).then(t));break;case 3:if(outgoing.has(r)){const s=outgoing.get(r);outgoing.delete(r),o.error?s.reject(JSON.parse(o.error)):s.resolve(o.data)}}}self.dojoConfig=configuration.loaderConfig,esriConfig.workers.loaderUrl&&(self.importScripts(esriConfig.workers.loaderUrl),"function"==typeof require&&"function"==typeof require.config&&require.config(configuration.loaderConfig)),self.addEventListener("message",messageHandler),self.postMessage({type:0});'.split("{CONFIGURATION}").join(function(){let t;if(null!=b.A.default){let r={...b.A};delete r.default,t=JSON.parse(JSON.stringify(r))}else t=JSON.parse(JSON.stringify(b.A));t.assetsPath=(0,g.s2)(t.assetsPath),t.defaultAssetsPath=t.defaultAssetsPath?(0,g.s2)(t.defaultAssetsPath):void 0,t.request.interceptors=[],t.log.interceptors=[],t.locale=(0,E.JK)(),t.has={"esri-csp-restrictions":(0,u.A)("esri-csp-restrictions"),"esri-2d-debug":!1,"esri-2d-update-debug":(0,u.A)("esri-2d-update-debug"),"esri-2d-log-updating":(0,u.A)("esri-2d-log-updating"),"featurelayer-pbf":(0,u.A)("featurelayer-pbf"),"featurelayer-fast-triangulation-enabled":(0,u.A)("featurelayer-fast-triangulation-enabled"),"featurelayer-simplify-thresholds":(0,u.A)("featurelayer-simplify-thresholds"),"featurelayer-simplify-payload-size-factors":(0,u.A)("featurelayer-simplify-payload-size-factors"),"featurelayer-simplify-mobile-factor":(0,u.A)("featurelayer-simplify-mobile-factor"),"featurelayer-query-max-depth":(0,u.A)("featurelayer-query-max-depth"),"featurelayer-query-pausing-enabled":(0,u.A)("featurelayer-query-pausing-enabled"),"featurelayer-snapshot-enabled":(0,u.A)("featurelayer-snapshot-enabled"),"esri-atomics":(0,u.A)("esri-atomics"),"esri-shared-array-buffer":(0,u.A)("esri-shared-array-buffer"),"esri-tiles-debug":(0,u.A)("esri-tiles-debug"),"esri-workers-arraybuffer-transfer":(0,u.A)("esri-workers-arraybuffer-transfer"),"feature-polyline-generalization-factor":(0,u.A)("feature-polyline-generalization-factor"),"host-webworker":1},t.workers.loaderUrl&&(t.workers.loaderUrl=(0,g.s2)(t.workers.loaderUrl)),t.workers.workerPath?t.workers.workerPath=(0,g.s2)(t.workers.workerPath):t.workers.workerPath=(0,g.s2)((0,w.s)("esri/core/workers/RemoteClient.js")),t.workers.useDynamicImport=!1;let r=b.A.workers.loaderConfig,i=function(t){let r={async:t.async,isDebug:t.isDebug,locale:t.locale,baseUrl:t.baseUrl,has:{...t.has},map:{...t.map},packages:t.packages?.slice()||[],paths:{...S.paths,...t.paths}};return t.hasOwnProperty("async")||(r.async=!0),t.hasOwnProperty("isDebug")||(r.isDebug=!1),t.baseUrl||(r.baseUrl=S.baseUrl),r}({baseUrl:r?.baseUrl,locale:(0,E.JK)(),has:{"csp-restrictions":1,"dojo-test-sniff":0,"host-webworker":1,...r?.has},map:{...r?.map},paths:{...r?.paths},packages:r?.packages||[]});return JSON.stringify({esriConfig:t,loaderConfig:i,kernelInfo:{buildDate:I.$,fullVersion:M.ol,revision:I.u}})}());s=URL.createObjectURL(new Blob([t],{type:"text/javascript"}))}catch(t){o=t||{}}if(s)try{t=new Worker(s,{name:"esri-worker-"+k++})}catch(r){C().warn(O,o),t=new x}else C().warn(O,o),t=new x;return N(t)}async function N(t){return new Promise(r=>{function i(o){let a=(0,v.VI)(o);a&&a.type===R&&(t.removeEventListener("message",i),t.removeEventListener("error",s),r(t))}function s(r){r.preventDefault(),t.removeEventListener("message",i),t.removeEventListener("error",s),C().warn("Failed to create Worker. Fallback to execute module in main thread",r),(t=new x).addEventListener("message",i),t.addEventListener("error",s)}t.addEventListener("message",i),t.addEventListener("error",s)})}let k=0,{ABORT:L,INVOKE:F,OPEN:Z,OPENED:D,RESPONSE:j}=v.Go;class U{static async create(t){return new U(await P(),t)}constructor(t,r){this._outJobs=new Map,this._inJobs=new Map,this.worker=t,this.id=r,t.addEventListener("message",this._onMessage.bind(this)),t.addEventListener("error",t=>{t.preventDefault(),f.A.getLogger("esri.core.workers.WorkerOwner").error(t)})}terminate(){this.worker.terminate()}async open(t,r={}){let{signal:i}=r,s=(0,v.Jc)();return new Promise((r,o)=>{let a={resolve:r,reject:o,abortHandle:(0,d.NY)(i,()=>{this._outJobs.delete(s),this._post({type:L,jobId:s})})};this._outJobs.set(s,a),this._post({type:Z,jobId:s,modulePath:t})})}_onMessage(t){let r=(0,v.VI)(t);if(r)switch(r.type){case D:this._onOpenedMessage(r);break;case j:this._onResponseMessage(r);break;case L:this._onAbortMessage(r);break;case F:this._onInvokeMessage(r)}}_onAbortMessage(t){let r=this._inJobs,i=t.jobId,s=r.get(i);s&&(s.controller&&s.controller.abort(),r.delete(i))}_onInvokeMessage(t){let r,{methodName:i,jobId:s,data:o,abortable:a}=t,u=a?new AbortController:null,c=this._inJobs,p=_[i];try{if("function"!=typeof p)throw TypeError(`${i} is not a function`);r=p.call(null,o,{signal:u?u.signal:null})}catch(t){return void this._post({type:j,jobId:s,error:(0,v.mF)(t)})}(0,d.$X)(r)?(c.set(s,{controller:u,promise:r}),r.then(t=>{c.has(s)&&(c.delete(s),this._post({type:j,jobId:s},t))},t=>{c.has(s)&&(c.delete(s),t||(t={message:"Error encountered at method"+i}),(0,d.zf)(t)||this._post({type:j,jobId:s,error:(0,v.mF)(t||{message:`Error encountered at method ${i}`})}))})):this._post({type:j,jobId:s},r)}_onOpenedMessage(t){let{jobId:r,data:i}=t,s=this._outJobs.get(r);s&&(this._outJobs.delete(r),(0,y.xt)(s.abortHandle),s.resolve(i))}_onResponseMessage(t){let{jobId:r,error:i,data:s}=t,o=this._outJobs.get(r);o&&(this._outJobs.delete(r),(0,y.xt)(o.abortHandle),i?o.reject(a.A.fromJSON(JSON.parse(i))):o.resolve(s))}_post(t,r,i){return(0,v.u1)(this.worker,t,r,i)}}let V=(0,u.A)("host-browser")?Math.min(navigator.hardwareConcurrency-1,(0,u.A)("workers-pool-size")??8):0,z=(0,u.A)("esri-mobile")?Math.min(V,3):V;z||(z=(0,u.A)("safari")&&(0,u.A)("mac")?7:2);let G=0,$=[];function B(){K()}async function q(t,r){let i=new c.A,{registryTarget:s,...o}=r;return await i.open(t,o),s&&(0,p.k)(s,i),i}async function H(t,r={}){if("string"!=typeof t)throw new a.A("workers:undefined-module","modulePath is missing");let i=r.strategy||"distributed";if((0,u.A)("host-webworker")&&!(0,u.A)("esri-workers")&&(i="local"),"local"===i){let i=await h.A.loadWorker(t);i||(i=await import(t)),(0,d.Te)(r.signal);let s=r.client||i;return q([h.A.connect(i,r.schedule)],{...r,client:s})}if(await K(),(0,d.Te)(r.signal),"dedicated"===i){let i=G++%z;return q([await $[i].open(t,r)],r)}if(r.maxNumWorkers&&r.maxNumWorkers>0){let i=Math.min(r.maxNumWorkers,z);if(i<z){let s=Array(i);for(let o=0;o<i;++o){let i=G++%z;s[o]=$[i].open(t,r)}return q(s,r)}}return q($.map(i=>i.open(t,r)),r)}let W,J=null;async function K(){if(J)return J;new AbortController;let t=[];for(let r=0;r<z;r++){let i=U.create(r).then(t=>($[r]=t,t));t.push(i)}return J=Promise.all(t)}},6815:(t,r,i)=>{i.d(r,{$0:()=>w,B8:()=>c,D_:()=>u,Ge:()=>S,I0:()=>b,KC:()=>p,Oe:()=>_,Tl:()=>y,a4:()=>h,dR:()=>M,e$:()=>m,hZ:()=>a,hs:()=>g,kN:()=>v,lw:()=>f,mg:()=>d,z0:()=>o});var s=i(19461);function o(t,r){return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[4],t[4]=r[5],t[5]=r[6],t[6]=r[8],t[7]=r[9],t[8]=r[10],t}function a(t,r,i,s,o,a,u,d,c,p){return t[0]=r,t[1]=i,t[2]=s,t[3]=o,t[4]=a,t[5]=u,t[6]=d,t[7]=c,t[8]=p,t}function u(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function d(t,r){if(t===r){let i=r[1],s=r[2],o=r[5];t[1]=r[3],t[2]=r[6],t[3]=i,t[5]=r[7],t[6]=s,t[7]=o}else t[0]=r[0],t[1]=r[3],t[2]=r[6],t[3]=r[1],t[4]=r[4],t[5]=r[7],t[6]=r[2],t[7]=r[5],t[8]=r[8];return t}function c(t,r){let i=r[0],s=r[1],o=r[2],a=r[3],u=r[4],d=r[5],c=r[6],p=r[7],h=r[8],f=h*u-d*p,y=-h*a+d*c,m=p*a-u*c,g=i*f+s*y+o*m;return g?(g=1/g,t[0]=f*g,t[1]=(-h*s+o*p)*g,t[2]=(d*s-o*u)*g,t[3]=y*g,t[4]=(h*i-o*c)*g,t[5]=(-d*i+o*a)*g,t[6]=m*g,t[7]=(-p*i+s*c)*g,t[8]=(u*i-s*a)*g,t):null}function p(t,r){let i=r[0],s=r[1],o=r[2],a=r[3],u=r[4],d=r[5],c=r[6],p=r[7],h=r[8];return t[0]=u*h-d*p,t[1]=o*p-s*h,t[2]=s*d-o*u,t[3]=d*c-a*h,t[4]=i*h-o*c,t[5]=o*a-i*d,t[6]=a*p-u*c,t[7]=s*c-i*p,t[8]=i*u-s*a,t}function h(t){let r=t[0],i=t[1],s=t[2],o=t[3],a=t[4],u=t[5],d=t[6],c=t[7],p=t[8];return r*(p*a-u*c)+i*(-p*o+u*d)+s*(c*o-a*d)}function f(t,r,i){let s=r[0],o=r[1],a=r[2],u=r[3],d=r[4],c=r[5],p=r[6],h=r[7],f=r[8],y=i[0],m=i[1],g=i[2],_=i[3],v=i[4],w=i[5],b=i[6],M=i[7],S=i[8];return t[0]=y*s+m*u+g*p,t[1]=y*o+m*d+g*h,t[2]=y*a+m*c+g*f,t[3]=_*s+v*u+w*p,t[4]=_*o+v*d+w*h,t[5]=_*a+v*c+w*f,t[6]=b*s+M*u+S*p,t[7]=b*o+M*d+S*h,t[8]=b*a+M*c+S*f,t}function y(t,r,i){let s=r[0],o=r[1],a=r[2],u=r[3],d=r[4],c=r[5],p=r[6],h=r[7],f=r[8],y=i[0],m=i[1];return t[0]=s,t[1]=o,t[2]=a,t[3]=u,t[4]=d,t[5]=c,t[6]=y*s+m*u+p,t[7]=y*o+m*d+h,t[8]=y*a+m*c+f,t}function m(t,r,i){let s=r[0],o=r[1],a=r[2],u=r[3],d=r[4],c=r[5],p=r[6],h=r[7],f=r[8],y=Math.sin(i),m=Math.cos(i);return t[0]=m*s+y*u,t[1]=m*o+y*d,t[2]=m*a+y*c,t[3]=m*u-y*s,t[4]=m*d-y*o,t[5]=m*c-y*a,t[6]=p,t[7]=h,t[8]=f,t}function g(t,r,i){let s=i[0],o=i[1],a=i[2];return t[0]=s*r[0],t[1]=s*r[1],t[2]=s*r[2],t[3]=o*r[3],t[4]=o*r[4],t[5]=o*r[5],t[6]=a*r[6],t[7]=a*r[7],t[8]=a*r[8],t}function _(t,r,i){let s=i[0],o=i[1];return t[0]=s*r[0],t[1]=s*r[1],t[2]=s*r[2],t[3]=o*r[3],t[4]=o*r[4],t[5]=o*r[5],t}function v(t,r){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=r[0],t[7]=r[1],t[8]=1,t}function w(t,r){let i=Math.sin(r),s=Math.cos(r);return t[0]=s,t[1]=i,t[2]=0,t[3]=-i,t[4]=s,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function b(t,r){let i=r[0],s=r[1],o=r[2],a=r[3],u=i+i,d=s+s,c=o+o,p=i*u,h=s*u,f=s*d,y=o*u,m=o*d,g=o*c,_=a*u,v=a*d,w=a*c;return t[0]=1-f-g,t[3]=h-w,t[6]=y+v,t[1]=h+w,t[4]=1-p-g,t[7]=m-_,t[2]=y-v,t[5]=m+_,t[8]=1-p-f,t}function M(t,r){let i=r[0],s=r[1],o=r[2],a=r[4],u=r[5],d=r[6],c=r[8],p=r[9],h=r[10],f=h*u-d*p,y=-h*a+d*c,m=p*a-u*c,g=i*f+s*y+o*m;if(!g)return null;let _=1/g;return t[0]=f*_,t[1]=(-h*s+o*p)*_,t[2]=(d*s-o*u)*_,t[3]=y*_,t[4]=(h*i-o*c)*_,t[5]=(-d*i+o*a)*_,t[6]=m*_,t[7]=(-p*i+s*c)*_,t[8]=(u*i-s*a)*_,t}function S(t,r){let i=r[0],s=r[1],o=r[2],a=r[3],u=r[4],d=r[5],c=r[6],p=r[7],h=r[8],f=r[9],y=r[10],m=r[11],g=r[12],_=r[13],v=r[14],w=r[15],b=i*d-s*u,M=i*c-o*u,S=i*p-a*u,A=s*c-o*d,T=s*p-a*d,x=o*p-a*c,E=h*_-f*g,I=h*v-y*g,C=h*w-m*g,R=f*v-y*_,O=f*w-m*_,P=y*w-m*v,N=b*P-M*O+S*R+A*C-T*I+x*E;return N?(N=1/N,t[0]=(d*P-c*O+p*R)*N,t[1]=(c*C-u*P-p*I)*N,t[2]=(u*O-d*C+p*E)*N,t[3]=(o*O-s*P-a*R)*N,t[4]=(i*P-o*C+a*I)*N,t[5]=(s*C-i*O-a*E)*N,t[6]=(_*x-v*T+w*A)*N,t[7]=(v*S-g*x-w*M)*N,t[8]=(g*T-_*S+w*b)*N,t):null}function A(t,r,i){return t[0]=r[0]-i[0],t[1]=r[1]-i[1],t[2]=r[2]-i[2],t[3]=r[3]-i[3],t[4]=r[4]-i[4],t[5]=r[5]-i[5],t[6]=r[6]-i[6],t[7]=r[7]-i[7],t[8]=r[8]-i[8],t}Object.freeze(Object.defineProperty({__proto__:null,add:function(t,r,i){return t[0]=r[0]+i[0],t[1]=r[1]+i[1],t[2]=r[2]+i[2],t[3]=r[3]+i[3],t[4]=r[4]+i[4],t[5]=r[5]+i[5],t[6]=r[6]+i[6],t[7]=r[7]+i[7],t[8]=r[8]+i[8],t},adjoint:p,copy:function(t,r){return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],t},determinant:h,equals:function(t,r){let i=t[0],o=t[1],a=t[2],u=t[3],d=t[4],c=t[5],p=t[6],h=t[7],f=t[8],y=r[0],m=r[1],g=r[2],_=r[3],v=r[4],w=r[5],b=r[6],M=r[7],S=r[8],A=(0,s.FD)();return Math.abs(i-y)<=A*Math.max(1,Math.abs(i),Math.abs(y))&&Math.abs(o-m)<=A*Math.max(1,Math.abs(o),Math.abs(m))&&Math.abs(a-g)<=A*Math.max(1,Math.abs(a),Math.abs(g))&&Math.abs(u-_)<=A*Math.max(1,Math.abs(u),Math.abs(_))&&Math.abs(d-v)<=A*Math.max(1,Math.abs(d),Math.abs(v))&&Math.abs(c-w)<=A*Math.max(1,Math.abs(c),Math.abs(w))&&Math.abs(p-b)<=A*Math.max(1,Math.abs(p),Math.abs(b))&&Math.abs(h-M)<=A*Math.max(1,Math.abs(h),Math.abs(M))&&Math.abs(f-S)<=A*Math.max(1,Math.abs(f),Math.abs(S))},exactEquals:function(t,r){return t[0]===r[0]&&t[1]===r[1]&&t[2]===r[2]&&t[3]===r[3]&&t[4]===r[4]&&t[5]===r[5]&&t[6]===r[6]&&t[7]===r[7]&&t[8]===r[8]},frob:function(t){return Math.sqrt(t[0]**2+t[1]**2+t[2]**2+t[3]**2+t[4]**2+t[5]**2+t[6]**2+t[7]**2+t[8]**2)},fromMat2d:function(t,r){return t[0]=r[0],t[1]=r[1],t[2]=0,t[3]=r[2],t[4]=r[3],t[5]=0,t[6]=r[4],t[7]=r[5],t[8]=1,t},fromMat4:o,fromQuat:b,fromRotation:w,fromScaling:function(t,r){return t[0]=r[0],t[1]=0,t[2]=0,t[3]=0,t[4]=r[1],t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},fromTranslation:v,identity:u,invert:c,isOrthoNormal:function(t){let r=(0,s.FD)(),i=t[0],o=t[1],a=t[2],u=t[3],d=t[4],c=t[5],p=t[6],h=t[7],f=t[8];return Math.abs(1-(i*i+u*u+p*p))<=r&&Math.abs(1-(o*o+d*d+h*h))<=r&&Math.abs(1-(a*a+c*c+f*f))<=r},mul:f,multiply:f,multiplyScalar:function(t,r,i){return t[0]=r[0]*i,t[1]=r[1]*i,t[2]=r[2]*i,t[3]=r[3]*i,t[4]=r[4]*i,t[5]=r[5]*i,t[6]=r[6]*i,t[7]=r[7]*i,t[8]=r[8]*i,t},multiplyScalarAndAdd:function(t,r,i,s){return t[0]=r[0]+i[0]*s,t[1]=r[1]+i[1]*s,t[2]=r[2]+i[2]*s,t[3]=r[3]+i[3]*s,t[4]=r[4]+i[4]*s,t[5]=r[5]+i[5]*s,t[6]=r[6]+i[6]*s,t[7]=r[7]+i[7]*s,t[8]=r[8]+i[8]*s,t},normalFromMat4:S,normalFromMat4Legacy:M,projection:function(t,r,i){return t[0]=2/r,t[1]=0,t[2]=0,t[3]=0,t[4]=-2/i,t[5]=0,t[6]=-1,t[7]=1,t[8]=1,t},rotate:m,scale:g,scaleByVec2:_,set:a,str:function(t){return"mat3("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+")"},sub:A,subtract:A,translate:y,transpose:d},Symbol.toStringTag,{value:"Module"}))},7404:(t,r,i)=>{i.d(r,{h:()=>a,k:()=>o});let s=new FinalizationRegistry(t=>{t.close()});function o(t,r){s.register(t,r,r)}function a(t){s.unregister(t)}},7630:(t,r,i)=>{i.d(r,{Rt:()=>o,mY:()=>u});let{I:s}=i(77508).ge,o=t=>void 0===t.strings,a={},u=(t,r=a)=>t._$AH=r},7644:(t,r,i)=>{i.d(r,{A:()=>w});var s,o=i(81856),a=i(70152),u=i(33715),d=i(55048),c=i(91838),p=i(16352),h=i(33498),f=i(12709),y=i(7780),m=i(4746),g=i(6015),_=i(40357);let v=s=class extends g.A{constructor(...t){super(...t),this.backgroundColor=null,this.borderLineColor=null,this.borderLineSize=null,this.font=new m.A,this.horizontalAlignment="center",this.kerning=!0,this.haloColor=null,this.haloSize=null,this.rightToLeft=null,this.rotated=!1,this.text="",this.type="text",this.verticalAlignment="baseline",this.xoffset=0,this.yoffset=0,this.angle=0,this.width=null,this.lineWidth=192,this.lineHeight=1}normalizeCtorArgs(t,r,i){if(t&&"string"!=typeof t)return t;let s={};return t&&(s.text=t),r&&(s.font=r),i&&(s.color=i),s}writeLineWidth(t,r,i,s){s&&"string"!=typeof s?s.origin:r[i]=t}castLineWidth(t){return(0,d.cr)(t)}writeLineHeight(t,r,i,s){s&&"string"!=typeof s?s.origin:r[i]=t}clone(){return new s({angle:this.angle,backgroundColor:(0,u.o8)(this.backgroundColor),borderLineColor:(0,u.o8)(this.borderLineColor),borderLineSize:this.borderLineSize,color:(0,u.o8)(this.color),font:this.font&&this.font.clone(),haloColor:(0,u.o8)(this.haloColor),haloSize:this.haloSize,horizontalAlignment:this.horizontalAlignment,kerning:this.kerning,lineHeight:this.lineHeight,lineWidth:this.lineWidth,rightToLeft:this.rightToLeft,rotated:this.rotated,text:this.text,verticalAlignment:this.verticalAlignment,width:this.width,xoffset:this.xoffset,yoffset:this.yoffset})}hash(){return`${this.backgroundColor?.hash()}.${this.borderLineColor}.${this.borderLineSize}.${this.color?.hash()}.${this.font&&this.font.hash()}.${this.haloColor?.hash()}.${this.haloSize}.${this.horizontalAlignment}.${this.kerning}.${this.rightToLeft}.${this.rotated}.${this.text}.${this.verticalAlignment}.${this.width}.${this.xoffset}.${this.yoffset}.${this.lineHeight}.${this.lineWidth}.${this.angle}`}};(0,o._)([(0,c.MZ)({type:a.A,json:{write:!0}})],v.prototype,"backgroundColor",void 0),(0,o._)([(0,c.MZ)({type:a.A,json:{write:!0}})],v.prototype,"borderLineColor",void 0),(0,o._)([(0,c.MZ)({type:Number,json:{write:!0},cast:d.cr})],v.prototype,"borderLineSize",void 0),(0,o._)([(0,c.MZ)({type:m.A,json:{write:!0}})],v.prototype,"font",void 0),(0,o._)([(0,c.MZ)({..._.rM,json:{write:!0}})],v.prototype,"horizontalAlignment",void 0),(0,o._)([(0,c.MZ)({type:Boolean,json:{write:!0}})],v.prototype,"kerning",void 0),(0,o._)([(0,c.MZ)({type:a.A,json:{write:!0}})],v.prototype,"haloColor",void 0),(0,o._)([(0,c.MZ)({type:Number,cast:d.cr,json:{write:!0}})],v.prototype,"haloSize",void 0),(0,o._)([(0,c.MZ)({type:Boolean,json:{write:!0}})],v.prototype,"rightToLeft",void 0),(0,o._)([(0,c.MZ)({type:Boolean,json:{write:!0}})],v.prototype,"rotated",void 0),(0,o._)([(0,c.MZ)({type:String,json:{write:!0}})],v.prototype,"text",void 0),(0,o._)([(0,h.e)({esriTS:"text"},{readOnly:!0})],v.prototype,"type",void 0),(0,o._)([(0,c.MZ)({..._.x0,json:{write:!0}})],v.prototype,"verticalAlignment",void 0),(0,o._)([(0,c.MZ)({type:Number,cast:d.cr,json:{write:!0}})],v.prototype,"xoffset",void 0),(0,o._)([(0,c.MZ)({type:Number,cast:d.cr,json:{write:!0}})],v.prototype,"yoffset",void 0),(0,o._)([(0,c.MZ)({type:Number,json:{read:t=>t&&-1*t,write:(t,r)=>r.angle=t&&-1*t}})],v.prototype,"angle",void 0),(0,o._)([(0,c.MZ)({type:Number,json:{write:!0}})],v.prototype,"width",void 0),(0,o._)([(0,c.MZ)({type:Number})],v.prototype,"lineWidth",void 0),(0,o._)([(0,y.K)("lineWidth")],v.prototype,"writeLineWidth",null),(0,o._)([(0,p.w)("lineWidth")],v.prototype,"castLineWidth",null),(0,o._)([(0,c.MZ)(_.Tb)],v.prototype,"lineHeight",void 0),(0,o._)([(0,y.K)("lineHeight")],v.prototype,"writeLineHeight",null);let w=v=s=(0,o._)([(0,f.$)("esri.symbols.TextSymbol")],v)},7780:(t,r,i)=>{i.d(r,{K:()=>o});var s=i(91838);function o(t,r,i){let o,a;return void 0===r?(a=t,o=[void 0]):"string"!=typeof r?(a=t,o=[void 0],i=r):(a=r,o=Array.isArray(t)?t:[t]),(t,r)=>{let u=t.constructor.prototype;for(let d of o){let o=(0,s.rM)(t,d,a);o.write&&"object"==typeof o.write||(o.write={}),i&&(o.write.target=i),o.write.writer=u[r]}}}},7885:(t,r,i)=>{i.d(r,{j:()=>F});var s=i(81856),o=i(54335),a=i(33715),u=i(61939),d=i(91838);i(57845);var c=i(53480),p=i(12709),h=i(7780),f=i(89800),y=i(61414),m=i(95442),g=i(91463),_=i(21371),v=i(76572),w=i(71017),b=i(92713);i(33638);var M=i(90628);let S=class extends w.A.ClonableMixin(b.A){constructor(t){super(t),this.creatorField=null,this.creationDateField=null,this.editorField=null,this.editDateField=null,this.realm=null,this.timeZone=null}};(0,s._)([(0,d.MZ)()],S.prototype,"creatorField",void 0),(0,s._)([(0,d.MZ)()],S.prototype,"creationDateField",void 0),(0,s._)([(0,d.MZ)()],S.prototype,"editorField",void 0),(0,s._)([(0,d.MZ)()],S.prototype,"editDateField",void 0),(0,s._)([(0,d.MZ)()],S.prototype,"realm",void 0),(0,s._)([(0,d.MZ)((0,M.P6)("dateFieldsTimeReference",!0))],S.prototype,"timeZone",void 0);let A=S=(0,s._)([(0,p.$)("esri.layers.support.EditFieldsInfo")],S),T=class extends w.A.ClonableMixin(b.A){constructor(t){super(t)}};(0,s._)([(0,d.MZ)({constructOnly:!0,json:{write:!0}})],T.prototype,"name",void 0),(0,s._)([(0,d.MZ)({constructOnly:!0,json:{write:!0}})],T.prototype,"fields",void 0),(0,s._)([(0,d.MZ)({constructOnly:!0,json:{write:!0}})],T.prototype,"isAscending",void 0),(0,s._)([(0,d.MZ)({constructOnly:!0,json:{write:!0}})],T.prototype,"indexType",void 0),(0,s._)([(0,d.MZ)({constructOnly:!0,json:{write:!0}})],T.prototype,"isUnique",void 0),(0,s._)([(0,d.MZ)({constructOnly:!0,json:{write:!0}})],T.prototype,"description",void 0),T=(0,s._)([(0,p.$)("esri.layers.support.FeatureIndex")],T);var x=i(11604),E=i(8922);let I=class extends w.A.ClonableMixin(b.A){constructor(t){super(t),this.shapeAreaField=null,this.shapeLengthField=null,this.units=null}};(0,s._)([(0,d.MZ)({type:String,json:{read:{source:"shapeAreaFieldName"}}})],I.prototype,"shapeAreaField",void 0),(0,s._)([(0,d.MZ)({type:String,json:{read:{source:"shapeLengthFieldName"}}})],I.prototype,"shapeLengthField",void 0),(0,s._)([(0,d.MZ)({type:String,json:{read:t=>E.dk.read(t)||E.Sk.read(t)}})],I.prototype,"units",void 0);let C=I=(0,s._)([(0,p.$)("esri.layers.support.GeometryFieldsInfo")],I);var R=i(58605),O=i(8942),P=i(56547),N=i(66389);let k=class extends w.A.ClonableMixin(b.A){constructor(t){super(t),this.code=null,this.defaultValues={},this.domains=null,this.name=null}readDomains(t){if(!t)return null;let r={};for(let i of Object.keys(t))r[i]=(0,N.rS)(t[i]);return r}writeDomains(t,r){if(!t)return;let i={};for(let r of Object.keys(t))t[r]&&(i[r]=t[r]?.toJSON());r.domains=i}};(0,s._)([(0,d.MZ)({type:Number,json:{write:!0}})],k.prototype,"code",void 0),(0,s._)([(0,d.MZ)({type:Object,json:{write:!0}})],k.prototype,"defaultValues",void 0),(0,s._)([(0,d.MZ)({json:{write:!0}})],k.prototype,"domains",void 0),(0,s._)([(0,c.w)("domains")],k.prototype,"readDomains",null),(0,s._)([(0,h.K)("domains")],k.prototype,"writeDomains",null),(0,s._)([(0,d.MZ)({type:String,json:{write:!0}})],k.prototype,"name",void 0);let L=k=(0,s._)([(0,p.$)("esri.layers.support.Subtype")],k),F=t=>{let r=class extends t{constructor(){super(...arguments),this.copyright=null,this.capabilities=null,this.dateFieldsTimeZone=null,this.datesInUnknownTimezone=!1,this.definitionExpression=null,this.displayField=null,this.editFieldsInfo=null,this.editingInfo=null,this.elevationInfo=null,this.fieldsIndex=null,this.floorInfo=null,this.fullExtent=null,this.gdbVersion=null,this.geometryFieldsInfo=null,this.geometryType=null,this.globalIdField=null,this.hasM=void 0,this.hasZ=void 0,this.heightModelInfo=null,this.historicMoment=null,this.indexes=new(o.A.ofType(T)),this.isTable=!1,this.layerId=void 0,this.maxScale=0,this.minScale=0,this.objectIdField=null,this.preferredTimeZone=null,this.relationships=null,this.returnM=void 0,this.returnZ=void 0,this.serviceDefinitionExpression=null,this.serviceItemId=null,this.sourceJSON=null,this.spatialReference=g.A.WGS84,this.subtypeField=null,this.subtypes=null,this.trackIdField=null,this.version=void 0}getFieldDomain(){throw Error("Not implemented")}getField(t){return this.fieldsIndex.get(t)}get authenticationTriggerEvent(){if(!this.url)return null;let{capabilities:t}=this;if(t){let{query:r,operations:i,editing:s}=t;if(!r.supportsQueryByOthers||!r.supportsQueryByAnonymous||i.supportsEditing&&!(s.supportsUpdateByOthers&&s.supportsUpdateByAnonymous&&s.supportsDeleteByOthers&&s.supportsDeleteByAnonymous))return"load"}if((0,x.rQ)(this.serviceDefinitionExpression)||(0,x.rQ)(this.definitionExpression))return"load";if(this.userHasUpdateItemPrivileges){if((0,x.tG)(this))return"load";if(this.hasUpdateItemRestrictions)return t.operations.supportsQuery?"editing":"load"}if(this.userHasFullEditingPrivileges&&this.hasFullEditingRestrictions)return"editing";let r=this.editFieldsInfo;return(r?.creatorField||r?.editorField)&&t?.operations.supportsEditing?"editing":null}readCapabilitiesFromService(t,r){return(0,P.S)(r,this.url)}readEditingInfo(t,r){let{editingInfo:i}=r;return i?{lastEditDate:null!=i.lastEditDate?new Date(i.lastEditDate):null}:null}get effectiveCapabilities(){let t=this.capabilities;if(!t)return null;let r=(0,a.o8)(t),{operations:i,editing:s}=r;return(0,x.Pt)(this)?this.userHasUpdateItemPrivileges&&(i.supportsQuery=!0):this.userHasUpdateItemPrivileges?i.supportsAdd=i.supportsDelete=i.supportsEditing=i.supportsQuery=i.supportsUpdate=s.supportsDeleteByOthers=s.supportsGeometryUpdate=s.supportsUpdateByOthers=!0:this.userHasFullEditingPrivileges&&i.supportsEditing&&(i.supportsAdd=i.supportsDelete=i.supportsUpdate=s.supportsGeometryUpdate=!0),r}get effectiveEditingEnabled(){return!1}readGlobalIdFieldFromService(t,r){return(0,x.jD)(r)}get hasFullEditingRestrictions(){let t=this.capabilities;if(!t||(0,x.Pt)(this))return!1;let{operations:r,editing:i}=t;return r.supportsEditing&&!(r.supportsAdd&&r.supportsDelete&&r.supportsUpdate&&i.supportsGeometryUpdate)}get hasUpdateItemRestrictions(){let t=this.capabilities;if(!t)return!1;let{operations:r,editing:i}=t;return(0,x.Pt)(this)?!r.supportsQuery:!(r.supportsAdd&&r.supportsDelete&&r.supportsEditing&&r.supportsQuery&&r.supportsUpdate&&i.supportsDeleteByOthers&&i.supportsGeometryUpdate&&i.supportsUpdateByOthers)}readIsTableFromService(t,r){return"Table"===r.type}readMaxScale(t,r){return r.effectiveMaxScale||t||0}readMinScale(t,r){return r.effectiveMinScale||t||0}readObjectIdFieldFromService(t,r){return(0,x.Zm)(r)}readServiceDefinitionExpression(t,r){return r.definitionQuery||r.definitionExpression}set url(t){if(null==t)return void this._set("url",t);let r=(0,_.HZ)({layer:this,url:t,nonStandardUrlAllowed:!0,logger:u.A.getLogger(this)});this._set("url",r.url),null!=r.layerId&&this._set("layerId",r.layerId)}writeUrl(t,r,i,s){(0,_.LS)(this,t,null,r,s)}readVersion(t,r){return(0,x.$4)(r)}};return(0,s._)([(0,d.MZ)({readOnly:!0})],r.prototype,"authenticationTriggerEvent",null),(0,s._)([(0,d.MZ)({type:String,json:{origins:{service:{read:{source:"copyrightText"}}}}})],r.prototype,"copyright",void 0),(0,s._)([(0,d.MZ)({readOnly:!0,json:{read:!1,origins:{service:{read:{source:["advancedQueryCapabilities","allowGeometryUpdates","allowUpdateWithoutMValues","archivingInfo","capabilities","datesInUnknownTimezone","hasAttachments","hasM","hasZ","isDataBranchVersioned","isDataVersioned","maxRecordCount","maxRecordCountFactor","ownershipBasedAccessControlForFeatures","standardMaxRecordCount","supportedQueryFormats","supportsAdvancedQueries","supportsApplyEditsWithGlobalIds","supportsAttachmentsByUploadId","supportsAttachmentsResizing","supportsCalculate","supportsCoordinatesQuantization","supportsExceedsLimitStatistics","supportsFieldDescriptionProperty","supportsQuantizationEditMode","supportsRollbackOnFailureParameter","supportsStatistics","supportsTruncate","supportsValidateSql","tileMaxRecordCount","useStandardizedQueries"]}}}}})],r.prototype,"capabilities",void 0),(0,s._)([(0,c.w)("service","capabilities")],r.prototype,"readCapabilitiesFromService",null),(0,s._)([(0,d.MZ)((0,M.P6)("dateFieldsTimeReference"))],r.prototype,"dateFieldsTimeZone",void 0),(0,s._)([(0,d.MZ)({type:Boolean})],r.prototype,"datesInUnknownTimezone",void 0),(0,s._)([(0,d.MZ)({type:String,json:{origins:{service:{read:!1,write:!1}},name:"layerDefinition.definitionExpression",write:{enabled:!0,allowNull:!0}}})],r.prototype,"definitionExpression",void 0),(0,s._)([(0,d.MZ)({type:String,json:{origins:{service:{read:{source:"displayField"}}}}})],r.prototype,"displayField",void 0),(0,s._)([(0,d.MZ)({readOnly:!0,type:A})],r.prototype,"editFieldsInfo",void 0),(0,s._)([(0,d.MZ)({readOnly:!0})],r.prototype,"editingInfo",void 0),(0,s._)([(0,c.w)("editingInfo")],r.prototype,"readEditingInfo",null),(0,s._)([(0,d.MZ)({readOnly:!0})],r.prototype,"effectiveCapabilities",null),(0,s._)([(0,d.MZ)()],r.prototype,"effectiveEditingEnabled",null),(0,s._)([(0,d.MZ)((()=>{let t=(0,a.o8)(v.Yj),r=t.json.origins;return r["web-map"]={read:!1,write:!1},r["portal-item"]={read:!1,write:!1},t})())],r.prototype,"elevationInfo",void 0),(0,s._)([(0,d.MZ)()],r.prototype,"fieldsIndex",void 0),(0,s._)([(0,d.MZ)({type:R.A,json:{name:"layerDefinition.floorInfo",write:{layerContainerTypes:f.K}}})],r.prototype,"floorInfo",void 0),(0,s._)([(0,d.MZ)({type:y.A,json:{origins:{service:{read:{source:"extent"}}}}})],r.prototype,"fullExtent",void 0),(0,s._)([(0,d.MZ)()],r.prototype,"gdbVersion",void 0),(0,s._)([(0,d.MZ)({readOnly:!0,type:C,json:{read:{source:"geometryProperties"}}})],r.prototype,"geometryFieldsInfo",void 0),(0,s._)([(0,d.MZ)({type:["point","polygon","polyline","multipoint","multipatch","mesh"],json:{origins:{service:{read:x.iX.read}}}})],r.prototype,"geometryType",void 0),(0,s._)([(0,d.MZ)({type:String})],r.prototype,"globalIdField",void 0),(0,s._)([(0,c.w)("service","globalIdField",["globalIdField","fields"])],r.prototype,"readGlobalIdFieldFromService",null),(0,s._)([(0,d.MZ)({readOnly:!0})],r.prototype,"hasFullEditingRestrictions",null),(0,s._)([(0,d.MZ)({type:Boolean,json:{origins:{service:{read:!0}}}})],r.prototype,"hasM",void 0),(0,s._)([(0,d.MZ)({readOnly:!0})],r.prototype,"hasUpdateItemRestrictions",null),(0,s._)([(0,d.MZ)({type:Boolean,json:{origins:{service:{read:!0}}}})],r.prototype,"hasZ",void 0),(0,s._)([(0,d.MZ)({readOnly:!0,type:m.A})],r.prototype,"heightModelInfo",void 0),(0,s._)([(0,d.MZ)({type:Date})],r.prototype,"historicMoment",void 0),(0,s._)([(0,d.MZ)({type:o.A.ofType(T),readOnly:!0})],r.prototype,"indexes",void 0),(0,s._)([(0,d.MZ)({readOnly:!0})],r.prototype,"isTable",void 0),(0,s._)([(0,c.w)("service","isTable",["type"])],r.prototype,"readIsTableFromService",null),(0,s._)([(0,d.MZ)({type:Number,json:{origins:{service:{read:{source:"id"}},"portal-item":{read:!1,write:{target:"id"}}},read:!1}})],r.prototype,"layerId",void 0),(0,s._)([(0,d.MZ)(v.hG)],r.prototype,"maxScale",void 0),(0,s._)([(0,c.w)("service","maxScale",["maxScale","effectiveMaxScale"])],r.prototype,"readMaxScale",null),(0,s._)([(0,d.MZ)(v.hn)],r.prototype,"minScale",void 0),(0,s._)([(0,c.w)("service","minScale",["minScale","effectiveMinScale"])],r.prototype,"readMinScale",null),(0,s._)([(0,d.MZ)({type:String})],r.prototype,"objectIdField",void 0),(0,s._)([(0,c.w)("service","objectIdField",["objectIdField","fields"])],r.prototype,"readObjectIdFieldFromService",null),(0,s._)([(0,d.MZ)((0,M.P6)("preferredTimeReference"))],r.prototype,"preferredTimeZone",void 0),(0,s._)([(0,d.MZ)({type:[O.A],readOnly:!0})],r.prototype,"relationships",void 0),(0,s._)([(0,d.MZ)({type:Boolean})],r.prototype,"returnM",void 0),(0,s._)([(0,d.MZ)({type:Boolean})],r.prototype,"returnZ",void 0),(0,s._)([(0,d.MZ)({readOnly:!0,json:{write:!1}})],r.prototype,"serverGens",void 0),(0,s._)([(0,d.MZ)({readOnly:!0})],r.prototype,"serviceDefinitionExpression",void 0),(0,s._)([(0,c.w)("service","serviceDefinitionExpression",["definitionQuery","definitionExpression"])],r.prototype,"readServiceDefinitionExpression",null),(0,s._)([(0,d.MZ)({type:String,readOnly:!0,json:{read:!1,origins:{service:{read:!0}}}})],r.prototype,"serviceItemId",void 0),(0,s._)([(0,d.MZ)()],r.prototype,"sourceJSON",void 0),(0,s._)([(0,d.MZ)({type:g.A,json:{origins:{service:{read:{source:"extent.spatialReference"}}}}})],r.prototype,"spatialReference",void 0),(0,s._)([(0,d.MZ)({type:String,readOnly:!0,json:{origins:{service:{read:!0}}}})],r.prototype,"subtypeField",void 0),(0,s._)([(0,d.MZ)({type:[L],readOnly:!0,json:{read:!1,origins:{service:{read:!0}}}})],r.prototype,"subtypes",void 0),(0,s._)([(0,d.MZ)({type:String,json:{read:{source:"timeInfo.trackIdField"}}})],r.prototype,"trackIdField",void 0),(0,s._)([(0,d.MZ)(v.OZ)],r.prototype,"url",null),(0,s._)([(0,h.K)("url")],r.prototype,"writeUrl",null),(0,s._)([(0,d.MZ)({json:{origins:{service:{read:!0}},read:!1}})],r.prototype,"version",void 0),(0,s._)([(0,c.w)("service","version",["currentVersion","capabilities","drawingInfo","hasAttachments","htmlPopupType","relationships","timeInfo","typeIdField","types"])],r.prototype,"readVersion",null),r=(0,s._)([(0,p.$)("esri.layers.mixins.FeatureLayerBase")],r)}},8064:(t,r,i)=>{function s(t){if(!t)return;let r=t.match(o);return r?.groups?r.groups.doubleQuoted??r.groups.singleQuoted??r.groups.dotNotation:void 0}i.d(r,{D:()=>a,o:()=>s});let o=/^(\$feature\[(?:"(?<doubleQuoted>[^"]+)"|'(?<singleQuoted>[^']+)')\]|\$feature\.(?<dotNotation>[a-zA-Z_][a-zA-Z0-9_]*))$/i;function a(t){return t.match(u)?.[1]?.replace(/\\'/g,"'")??null}let u=/^hash\(\$feature\['((\\'|[^'])+)'\]\) \* 8\.381e-8$/},8136:(t,r,i)=>{i.d(r,{A:()=>S});var s,o,a=i(81856),u=i(30781),d=i(92713),c=i(40941),p=i(91838);i(57845),i(61939),i(33638);var h=i(53480),f=i(12709),y=i(7780),m=i(39265);let g=s=class extends d.A{constructor(t){super(t)}async collectRequiredFields(t,r){return(0,m.Dx)(t,r,this.expression)}clone(){return new s({expression:this.expression,title:this.title})}equals(t){return this.expression===t.expression&&this.title===t.title}};(0,a._)([(0,p.MZ)({type:String,json:{write:{isRequired:!0}}})],g.prototype,"expression",void 0),(0,a._)([(0,p.MZ)({type:String,json:{write:!0}})],g.prototype,"title",void 0);let _=g=s=(0,a._)([(0,f.$)("esri.symbols.support.FeatureExpressionInfo")],g);var v=i(23106);let w=(0,u.O)()({onTheGround:"on-the-ground",relativeToGround:"relative-to-ground",relativeToScene:"relative-to-scene",absoluteHeight:"absolute-height"}),b=new u.J({foot:"feet",kilometer:"kilometers",meter:"meters",mile:"miles","us-foot":"us-feet",yard:"yards"}),M=o=class extends d.A{constructor(t){super(t),this.featureExpressionInfo=void 0,this.offset=null}readFeatureExpressionInfo(t,r){return null!=t?t:r.featureExpression&&0===r.featureExpression.value?{expression:"0"}:void 0}writeFeatureExpressionInfo(t,r,i,s){r[i]=t.write({},s),"0"===t.expression&&(r.featureExpression={value:0})}get mode(){let{offset:t,featureExpressionInfo:r}=this;return this._isOverridden("mode")?this._get("mode"):null!=t||r?"relative-to-ground":"on-the-ground"}set mode(t){this._override("mode",t)}set unit(t){this._set("unit",t)}write(t,r){return this.offset||this.mode||this.featureExpressionInfo||this.unit?super.write(t,r):null}clone(){return new o({mode:this.mode,offset:this.offset,featureExpressionInfo:this.featureExpressionInfo?this.featureExpressionInfo.clone():void 0,unit:this.unit})}equals(t){return this.mode===t.mode&&this.offset===t.offset&&this.unit===t.unit&&(0,c.CM)(this.featureExpressionInfo,t.featureExpressionInfo)}};(0,a._)([(0,p.MZ)({type:_,json:{write:!0}})],M.prototype,"featureExpressionInfo",void 0),(0,a._)([(0,h.w)("featureExpressionInfo",["featureExpressionInfo","featureExpression"])],M.prototype,"readFeatureExpressionInfo",null),(0,a._)([(0,y.K)("featureExpressionInfo",{featureExpressionInfo:{type:_},"featureExpression.value":{type:[0]}})],M.prototype,"writeFeatureExpressionInfo",null),(0,a._)([(0,p.MZ)({type:w.apiValues,nonNullable:!0,json:{type:w.jsonValues,read:w.read,write:{writer:w.write,isRequired:!0}}})],M.prototype,"mode",null),(0,a._)([(0,p.MZ)({type:Number,json:{write:!0}})],M.prototype,"offset",void 0),(0,a._)([(0,p.MZ)({type:v.KQ,json:{type:String,read:b.read,write:b.write}})],M.prototype,"unit",null);let S=M=o=(0,a._)([(0,f.$)("esri.symbols.support.ElevationInfo")],M)},8781:(t,r,i)=>{i.d(r,{WF:()=>I,lh:()=>x,le:()=>C,s6:()=>P,CP:()=>R,zl:()=>O,Bq:()=>N,pf:()=>k});var s=(t=>(t[t.ATTRIBUTE=1]="ATTRIBUTE",t[t.REFLECT=2]="REFLECT",t[t.BOOLEAN=4]="BOOLEAN",t[t.NUMBER=8]="NUMBER",t[t.STATE=16]="STATE",t[t.READ_ONLY=32]="READ_ONLY",t[t.NO_ACCESSOR=64]="NO_ACCESSOR",t))(s||{}),o=i(58647);function a(t){let r=t;for(;r=r.parentNode??r.host;)if(r?.constructor?.lumina){let i=r;return i.manager?.loadedCalled||i._offspring.push(t),i._postLoad.promise}return!1}var u=Object.defineProperty;function d(t){let r=t.split(":");return 1===r.length?[r[0],(0,o.j1)(r[0])]:r}var c=globalThis.HTMLElement??d,p=class extends c{constructor(){super(),this._store={},this._pendingAttributes=[],this._postLoad=new o.cY,this._postLoaded=new o.cY,this._offspring=[],this._saveInstanceProperties();let t=this.constructor;t._LitConstructor?this._initializeComponent({a:t._LitConstructor}):t._loadPromise.then(this._initializeComponent.bind(this)).catch(t=>{this._postLoaded.reject(t),setTimeout(()=>{throw t})})}static{this.lumina=!0}static _initializePrototype(){this._properties?.forEach(this._bindProp,this),this._asyncMethods?.forEach(this._bindAsync,this),this._syncMethods?.forEach(this._bindSync,this)}static _bindProp(t){u(this.prototype,t,{configurable:!0,enumerable:!0,get(){return this._store[t]},set(r){this._store[t]=r}})}static _bindAsync(t){u(this.prototype,t,{async value(...r){this._litElement||await this._postLoaded.promise;let i=this._litElement;return await i[t](...r)},configurable:!0})}static _bindSync(t){u(this.prototype,t,{value(...r){return this._litElement[t](...r)},configurable:!0})}get manager(){return this._litElement?.manager}_saveInstanceProperties(){let t=this.constructor,r=this;t._properties?.forEach(t=>{Object.hasOwn(this,t)&&(this._store[t]=r[t],delete r[t])})}attributeChangedCallback(t,r,i){this._litElement?.attributeChangedCallback(t,r,i),this._litElement||this._pendingAttributes.push(t)}connectedCallback(){this._litElement?this._litElement.connectedCallback?.():queueMicrotask(()=>{this._ancestorLoad=a(this)})}disconnectedCallback(){this._litElement?.disconnectedCallback?.()}async componentOnReady(){return await this._postLoaded.promise,this}_initializeComponent(t){let r=this.constructor,i=r._name,s=this._store,o=Object.values(t).find(t=>t.tagName===i),a=`${i}--lazy`,d=o;for(;d&&!Object.hasOwn(d,"lumina");)d=Object.getPrototypeOf(d);(function(t){let r=t.prototype,i=Element.prototype;Object.hasOwn(r,"isConnected")||(r.setAttribute=function(t,r){i.setAttribute.call(this.el,t,r)},r.removeAttribute=function(t){i.removeAttribute.call(this.el,t)},u(r,"isConnected",{get(){return Reflect.get(i,"isConnected",this.el)}}))})(d),r._LitConstructor||(r._LitConstructor=o,customElements.define(a,o)),o.lazy=this;let c=document.createElement(a);o.lazy=void 0,this._litElement=c,this._store=c,this._pendingAttributes.forEach(t=>{let r=this.getAttribute(t);c.attributeChangedCallback(t,null,r)}),Object.entries(s).forEach(h,c);let p=this.isConnected;(p||this._ancestorLoad)&&(c.connectedCallback?.(),p||c.disconnectedCallback())}addController(){}requestUpdate(){this._litElement?.requestUpdate()}};function h([t,r]){this[t]=r}var f={},y=i(94427);Event,Event;var m=i(94958);let g={attribute:!0,type:String,converter:m.W3,reflect:!1,hasChanged:m.Ec};var _=i(28312),v=i(77508),w=i(11886);let b=(0,w.u$)(class extends w.WL{constructor(t){if(super(t),t.type!==w.OA.ATTRIBUTE||"class"!==t.name||t.strings?.length>2)throw Error("`classMap()` can only be used in the `class` attribute and must be the only part in the attribute.")}render(t){return" "+Object.keys(t).filter(r=>t[r]).join(" ")+" "}update(t,[r]){if(void 0===this.st){for(let i in this.st=new Set,void 0!==t.strings&&(this.nt=new Set(t.strings.join(" ").split(/\s/).filter(t=>""!==t))),r)r[i]&&!this.nt?.has(i)&&this.st.add(i);return this.render(r)}let i=t.element.classList;for(let t of this.st)t in r||(i.remove(t),this.st.delete(t));for(let t in r){let s=!!r[t];s===this.st.has(t)||this.nt?.has(t)||(s?(i.add(t),this.st.add(t)):(i.remove(t),this.st.delete(t)))}return v.c0}}),M="important",S=" !"+M,A=(0,w.u$)(class extends w.WL{constructor(t){if(super(t),t.type!==w.OA.ATTRIBUTE||"style"!==t.name||t.strings?.length>2)throw Error("The `styleMap` directive must be used in the `style` attribute and must be the only part in the attribute.")}render(t){return Object.keys(t).reduce((r,i)=>{let s=t[i];return null==s?r:r+`${i=i.includes("-")?i:i.replace(/(?:^(webkit|moz|ms|o)|)(?=[A-Z])/g,"-$&").toLowerCase()}:${s};`},"")}update(t,[r]){let{style:i}=t.element;if(void 0===this.ft)return this.ft=new Set(Object.keys(r)),this.render(r);for(let t of this.ft)null==r[t]&&(this.ft.delete(t),t.includes("-")?i.removeProperty(t):i[t]=null);for(let t in r){let s=r[t];if(null!=s){this.ft.add(t);let r="string"==typeof s&&s.endsWith(S);t.includes("-")||r?i.setProperty(t,r?s.slice(0,-11):s,r?M:""):i[t]=s}}return v.c0}});i(13670);var T=(t="",r={},i=(0,y.Gk)())=>{let s={emit:s=>{""===t&&(0,y.hq)();let o=new CustomEvent(t,{detail:s,cancelable:!0,bubbles:!0,composed:!0,...r});return i.el.dispatchEvent(o),o}};return""===t&&(0,y.Nh)(void 0,r=>{t=r.key},s),s},x=T.bind(null,""),E=()=>void 0,I=class t extends _.WF{constructor(){super(),this.el=this.constructor.lazy??this,this.manager=(0,y.lr)(this),this._postLoad=this.constructor.lazy?._postLoad??new o.cY,this._offspring=this.constructor.lazy?._offspring??[],this._postLoaded=this.constructor.lazy?._postLoaded??new o.cY,this._enableUpdating=this.enableUpdating,this.enableUpdating=E;let r=t.prototype.shouldUpdate;this.shouldUpdate!==r&&(this._originalShouldUpdate=this.shouldUpdate,this.shouldUpdate=r),_.S$&&this.el.setAttribute(this.constructor.runtime.hydratedAttribute,"")}static finalizeStyles(t){let r=super.finalizeStyles(t),i=this.shadowRootOptions===f;return this.runtime?.commonStyles===void 0||i?r:[this.runtime.commonStyles,...r]}static createProperty(t,r){let i="number"==typeof r?r:Array.isArray(r)?r[0]:0,s=Array.isArray(r)?r[1]:void 0;super.createProperty(t,{attribute:!!(1&i)&&"string"==typeof t&&(0,o.j1)(t),reflect:!!(2&i),type:4&i?Boolean:8&i?Number:void 0,state:!!(16&i),readOnly:!!(32&i),noAccessor:!!(64&i),...s})}static{this.lumina=!0}connectedCallback(){if(this.el.hasAttribute("defer-hydration"))return;let t=!this.manager.connectedCalled;super.connectedCallback(),t&&queueMicrotask(()=>this._load().catch(t=>{this._postLoaded.reject(t),setTimeout(()=>{throw t})}))}createRenderRoot(){let t=this.el.shadowRoot,r=this.constructor,i=r.shadowRootOptions,s=i===f,o=t??(s?this.el:this.el.attachShadow(i));if(Object.defineProperty(this,"shadowRoot",{value:o}),t)return _.WF.prototype.createRenderRoot.call(this),t;if(this.isConnected){let t=o.getRootNode();t.adoptedStyleSheets=[...t.adoptedStyleSheets,...r.elementStyles.map(t=>"styleSheet"in t?t.styleSheet:t)]}return o}async _load(){let t=this.el._ancestorLoad??a(this.el);t&&await t,await this.manager._load(),this._enableUpdating(!0),this.performUpdate(),this._postLoad.resolve(),await Promise.resolve();let r=this._offspring.filter(t=>!t.manager?.loadedCalled);r.length&&await Promise.allSettled(r.map(async t=>await t.componentOnReady())),this._offspring.length=0,this.el.setAttribute(this.constructor.runtime.hydratedAttribute,""),this.manager._loaded(),this._postLoaded.resolve()}shouldUpdate(t){return this.$changes=t,this._originalShouldUpdate?.(t)??!0}listen(t,r,i){let s=r?.bind(this)??r;this.manager.onLifecycle(()=>(this.el.addEventListener(t,s,i),()=>this.el.removeEventListener(t,s,i)))}listenOn(t,r,i,s){let o=i?.bind(this)??i;this.manager.onLifecycle(()=>(t.addEventListener(r,o,s),()=>t.removeEventListener(r,o,s)))}async componentOnReady(){return await this._postLoaded.promise,this}};function C(t){let r,i=t=>{r=new URL(t,globalThis.location?.href||void 0).href},s={...t,getAssetPath(t){let i=new URL(t,r);return i.origin!==globalThis.location?.origin?i.href:i.pathname},setAssetPath:i,customElement(t,r){r.runtime=s,r.tagName=t,customElements.get(t)||customElements.define(t,r)}};return i(t.defaultAssetPath),s}I.$createEvent=T;var R=t=>"object"==typeof t&&null!=t?b(t):t,O=t=>"object"==typeof t&&null!=t?A(t):t,P=v.s6;function N(t,r,i){null==i?t.removeAttribute(r):t.setAttribute(r,i)}var k={toAttribute:t=>!0===t?"":!1===t?null:t}},8811:(t,r,i)=>{i.d(r,{Hu:()=>d,jI:()=>m,zy:()=>p}),i(57845);var s,o=i(32391),a=i(95442),u=i(21371);function d(t,r,i){var u;let d=p(t),h=function(t,r,i){if(!c(t)||!c(r))return s.Unsupported;if(null==t||null==r)return s.Ok;if(!i&&t.heightUnit!==r.heightUnit)return s.Units;if(t.heightModel!==r.heightModel)return s.HeightModel;switch(t.heightModel){case"gravity-related-height":return s.Ok;case"ellipsoidal":return t.vertCRS===r.vertCRS?s.Ok:s.CRS;default:return s.Unsupported}}(d,r,i);if(d){let r=a.A.deriveUnitFromSR(d,t.spatialReference).heightUnit;if(!i&&r!==d.heightUnit){let t=new o.A("layerview:unmatched-height-unit",`The vertical units of the layer must match the horizontal units (${r})`,{horizontalUnit:r});return new o.A("layerview:unsupported-height-model-info","The vertical coordinate system of the layer is not supported",{heightModelInfo:d,error:t})}}if(!("heightModelInfo"in(u=t)&&null!=u.heightModelInfo||null!=u.spatialReference||!y(u))||h===s.Unsupported)return new o.A("layerview:unsupported-height-model-info","The vertical coordinate system of the layer is not supported",{heightModelInfo:d});switch(h){case s.Units:{let t=d?.heightUnit||"unknown",i=r?.heightUnit||"unknown",s=new o.A("layerview:incompatible-height-unit",`The vertical units of the layer (${t}) must match the vertical units of the scene (${i})`,{layerUnit:t,sceneUnit:i});return new o.A("layerview:incompatible-height-model-info","The vertical coordinate system of the layer is incompatible with the scene",{layerHeightModelInfo:d,sceneHeightModelInfo:r,error:s})}case s.HeightModel:{let t=d?.heightModel||"unknown",i=r?.heightModel||"unknown",s=new o.A("layerview:incompatible-height-model",`The height model of the layer (${t}) must match the height model of the scene (${i})`,{layerHeightModel:t,sceneHeightModel:i});return new o.A("layerview:incompatible-height-model-info","The vertical coordinate system of the layer is incompatible with the scene",{layerHeightModelInfo:d,sceneHeightModelInfo:r,error:s})}case s.CRS:{let t=d?.vertCRS||"unknown",i=r?.vertCRS||"unknown",s=new o.A("layerview:incompatible-vertical-datum",`The vertical datum of the layer (${t}) must match the vertical datum of the scene (${i})`,{layerDatum:t,sceneDatum:i});return new o.A("layerview:incompatible-height-model-info","The vertical coordinate system of the layer is incompatible with the scene",{layerHeightModelInfo:d,sceneHeightModelInfo:r,error:s})}}return null}function c(t){return null==t||null!=t.heightModel&&null!=t.heightUnit}function p(t){if("integrated-mesh-3dtiles"===t.type)return null;let r=t.url?(0,u.qg)(t.url):void 0;return(null!=t.spatialReference?.vcsWkid||null==r||"ImageServer"!==r.serverType)&&h(t)&&t.heightModelInfo?t.heightModelInfo:y(t)?a.A.deriveUnitFromSR(_,t.spatialReference):null}function h(t){return"heightModelInfo"in t}function f(t){if("unknown"===t.type||!("capabilities"in t))return!1;switch(t.type){case"catalog":case"catalog-footprint":case"csv":case"feature":case"geojson":case"subtype-group":case"ogc-feature":case"oriented-imagery":case"wfs":case"knowledge-graph-sublayer":return!0;default:return!1}}function y(t){return f(t)?!!(t.capabilities&&t.capabilities.data&&t.capabilities.data.supportsZ):g(t)}function m(t){return null!=t.layers||g(t)||f(t)||h(t)}function g(t){switch(t.type){case"building-scene":case"elevation":case"integrated-mesh":case"integrated-mesh-3dtiles":case"point-cloud":case"scene":case"voxel":return!0}return!1}!function(t){t[t.Ok=0]="Ok",t[t.Units=1]="Units",t[t.HeightModel=2]="HeightModel",t[t.CRS=3]="CRS",t[t.Unsupported=4]="Unsupported"}(s||(s={}));let _=new a.A({heightModel:"gravity-related-height"})},8832:(t,r,i)=>{i.d(r,{f:()=>h});var s,o=i(81856),a=i(92713),u=i(91838),d=i(86942);i(57845),i(33638);var c=i(33498),p=i(12709);let h=s=class extends a.A{constructor(t){super(t),this.type="map-layer"}clone(){let{mapLayerId:t,gdbVersion:r}=this;return new s({mapLayerId:t,gdbVersion:r})}};(0,o._)([(0,c.e)({mapLayer:"map-layer"}),(0,u.MZ)({json:{write:{isRequired:!0}}})],h.prototype,"type",void 0),(0,o._)([(0,u.MZ)({type:d.jz,json:{write:{isRequired:!0}}})],h.prototype,"mapLayerId",void 0),(0,o._)([(0,u.MZ)({type:String,json:{write:!0}})],h.prototype,"gdbVersion",void 0),h=s=(0,o._)([(0,p.$)("esri.layers.support.source.MapLayerSource")],h)},8922:(t,r,i)=>{i.d(r,{Ao:()=>V,B5:()=>W,G9:()=>D,GA:()=>U,Ij:()=>B,KX:()=>z,LA:()=>Z,OU:()=>P,PQ:()=>T,Sk:()=>Q,TL:()=>L,UW:()=>x,_H:()=>q,b$:()=>ee,dk:()=>X,dy:()=>c,jM:()=>Y,k1:()=>j,m5:()=>I,mq:()=>H,oU:()=>A,t$:()=>M,tW:()=>C,vl:()=>F,wL:()=>E,wv:()=>k,x$:()=>O,x0:()=>R,x1:()=>K,y7:()=>N,yD:()=>m}),i(57845);var s=i(30781),o=i(69752),a=i(54015),u=i(71760),d=i(93767);let c=39.37,p=a.$O.radius*Math.PI/200,h=/(?:LENGTH)?UNIT\[([^\]]+)]]$/i,f=d.A,y=/UNIT\[([^\]]+)]/i,m=new Set([4305,4807,4810,4811,4812,4816,4819,4821,4901,4902,37225,104025,104026,104139,104140]),g=(0,s.O)()({millimeter:"millimeters",centimeter:"centimeters",meter:"meters",meter_german:"german-meters",kilometer:"kilometers",decimeter:"decimeters",micrometer:"micrometers",nanometer:"nanometers","50_kilometers":"50-kilometers","150_kilometers":"150-kilometers",foot:"feet",foot_us:"us-feet",foot_clarke:"clarke-feet",fathom:"fathoms",nautical_mile:"nautical-miles",chain_us:"us-chains",link_us:"us-links",mile_us:"us-miles",yard_clarke:"clarke-yards",chain_clarke:"clarke-chains",link_clarke:"clarke-links",yard_sears:"sears-yards",foot_sears:"sears-feet",chain_sears:"sears-chains",link_sears:"sears-links",yard_benoit_1895_a:"benoit-1895-a-yards",foot_benoit_1895_a:"benoit-1895-a-feet",chain_benoit_1895_a:"benoit-1895-a-chains",link_benoit_1895_a:"benoit-1895-a-links",yard_benoit_1895_b:"benoit-1895-b-yards",foot_benoit_1895_b:"benoit-1895-b-feet",chain_benoit_1895_b:"benoit-1895-b-chains",link_benoit_1895_b:"benoit-1895-b-links",foot_1865:"1865-feet",foot_indian:"indian-feet",foot_indian_1937:"indian-1937-feet",foot_indian_1962:"indian-1962-feet",foot_indian_1975:"indian-1975-feet",yard_indian:"indian-yards",yard_indian_1937:"indian-1937-yards",yard_indian_1962:"indian-1962-yards",yard_indian_1975:"indian-1975-yards",statute_mile:"statute-miles",foot_gold_coast:"gold-coast-feet",foot_british_1936:"british-1936-feet",yard:"yards",chain:"chains",link:"links",yard_sears_1922_truncated:"sears-1922-truncated-yards",foot_sears_1922_truncated:"sears-1922-truncated-feet",chain_sears_1922_truncated:"sears-1922-truncated-chains",link_sears_1922_truncated:"sears-1922-truncated-links",yard_us:"us-yards",inch:"inches",inch_us:"us-inches",rod:"rods",rod_us:"us-rods",nautical_mile_us:"us-nautical-miles",nautical_mile_uk:"uk-nautical-miles",smoot:"smoots",vara_tx:"tx-vara",point:"points"}),_={length:{baseUnit:"meters",units:{millimeters:{inBaseUnits:.001},centimeters:{inBaseUnits:.01},meters:{inBaseUnits:1},feet:{inBaseUnits:.3048},"us-feet":{inBaseUnits:.3048006096012192},"clarke-feet":{inBaseUnits:.3047972654},fathoms:{inBaseUnits:1.8288},"nautical-miles":{inBaseUnits:1852},"german-meters":{inBaseUnits:1.0000135965},"us-chains":{inBaseUnits:20.11684023368047},"us-links":{inBaseUnits:.2011684023368047},"us-miles":{inBaseUnits:1609.347218694438},kilometers:{inBaseUnits:1e3},"clarke-yards":{inBaseUnits:.9143917962},"clarke-chains":{inBaseUnits:20.1166195164},"clarke-links":{inBaseUnits:.201166195164},"sears-yards":{inBaseUnits:.9143984146160287},"sears-feet":{inBaseUnits:.3047994715386762},"sears-chains":{inBaseUnits:20.11676512155263},"sears-links":{inBaseUnits:.2011676512155263},"benoit-1895-a-yards":{inBaseUnits:.9143992},"benoit-1895-a-feet":{inBaseUnits:.3047997333333333},"benoit-1895-a-chains":{inBaseUnits:20.1167824},"benoit-1895-a-links":{inBaseUnits:.201167824},"benoit-1895-b-yards":{inBaseUnits:.9143992042898124},"benoit-1895-b-feet":{inBaseUnits:.3047997347632708},"benoit-1895-b-chains":{inBaseUnits:20.11678249437587},"benoit-1895-b-links":{inBaseUnits:.2011678249437587},"1865-feet":{inBaseUnits:.3048008333333334},"indian-feet":{inBaseUnits:.3047995102481469},"indian-1937-feet":{inBaseUnits:.30479841},"indian-1962-feet":{inBaseUnits:.3047996},"indian-1975-feet":{inBaseUnits:.3047995},"indian-yards":{inBaseUnits:.9143985307444408},"indian-1937-yards":{inBaseUnits:.91439523},"indian-1962-yards":{inBaseUnits:.9143988},"indian-1975-yards":{inBaseUnits:.9143985},miles:{inBaseUnits:1609.344},"statute-miles":{inBaseUnits:1609.344},"gold-coast-feet":{inBaseUnits:.3047997101815088},"british-1936-feet":{inBaseUnits:.3048007491},yards:{inBaseUnits:.9144},chains:{inBaseUnits:20.1168},links:{inBaseUnits:.201168},"sears-1922-truncated-yards":{inBaseUnits:.914398},"sears-1922-truncated-feet":{inBaseUnits:.3047993333333334},"sears-1922-truncated-chains":{inBaseUnits:20.116756},"sears-1922-truncated-links":{inBaseUnits:.20116756},"us-yards":{inBaseUnits:.9144018288036576},decimeters:{inBaseUnits:.1},inches:{inBaseUnits:.0254},"us-inches":{inBaseUnits:.0254000508001016},rods:{inBaseUnits:5.0292},"us-rods":{inBaseUnits:5.029210058420118},"us-nautical-miles":{inBaseUnits:1853.248},"uk-nautical-miles":{inBaseUnits:1853.184},smoots:{inBaseUnits:1.7018},"tx-vara":{inBaseUnits:.8466683600033867},points:{inBaseUnits:3527777777777778e-19},micrometers:{inBaseUnits:1e-6},nanometers:{inBaseUnits:1e-9},"50-kilometers":{inBaseUnits:5e4},"150-kilometers":{inBaseUnits:15e4}}},area:{baseUnit:"square-meters",units:{"square-millimeters":{inBaseUnits:(t=>t*t)(.001)},"square-centimeters":{inBaseUnits:(t=>t*t)(.01)},"square-decimeters":{inBaseUnits:(t=>t*t)(.1)},"square-meters":{inBaseUnits:1},"square-kilometers":{inBaseUnits:(t=>t*t)(1e3)},"square-inches":{inBaseUnits:(t=>t*t)(.0254)},"square-feet":{inBaseUnits:(t=>t*t)(.3048)},"square-yards":{inBaseUnits:(t=>t*t)(.9144)},"square-miles":{inBaseUnits:(t=>t*t)(1609.344)},"square-nautical-miles":{inBaseUnits:(t=>t*t)(1852)},"square-us-feet":{inBaseUnits:(t=>t*t)(1200/3937)},acres:{inBaseUnits:.0015625*(t=>t*t)(1609.344)},ares:{inBaseUnits:100},hectares:{inBaseUnits:1e4}}},volume:{baseUnit:"liters",units:{liters:{inBaseUnits:1},"cubic-millimeters":{inBaseUnits:1e3*(t=>t*t*t)(.001)},"cubic-centimeters":{inBaseUnits:1e3*(t=>t*t*t)(.01)},"cubic-decimeters":{inBaseUnits:1e3*(t=>t*t*t)(.1)},"cubic-meters":{inBaseUnits:1e3},"cubic-kilometers":{inBaseUnits:1e3*(t=>t*t*t)(1e3)},"cubic-inches":{inBaseUnits:1e3*(t=>t*t*t)(.0254)},"cubic-feet":{inBaseUnits:1e3*(t=>t*t*t)(.3048)},"cubic-yards":{inBaseUnits:1e3*(t=>t*t*t)(.9144)},"cubic-miles":{inBaseUnits:1e3*(t=>t*t*t)(1609.344)}}},angle:{baseUnit:"radians",units:{radians:{inBaseUnits:1},degrees:{inBaseUnits:Math.PI/180}}}},v=(()=>{let t={};for(let r in _)for(let i in _[r].units)t[i]=r;return t})(),w=["metric","imperial","inches","feet","yards","miles","nautical-miles","us-feet","meters","kilometers"],b=new Map([["meters","square-meters"],["feet","square-feet"],["us-feet","square-us-feet"]]);function M(t){let r=v[t];if(!r)throw Error("unknown type");return r}function S(t,r=null){return _[r=r||M(t)].baseUnit===t}function A(t,r,i){if(r===i)return t;let s=M(r);if(s!==M(i))throw Error("incompatible units");let o=S(r,s)?t:t*_[s].units[r].inBaseUnits;return S(i,s)?o:o/_[s].units[i].inBaseUnits}function T(t,r,i,s=!1){if(!s&&(0,u.EA)(r))throw Error("Unable to convert from an angular unit to a linear unit.");let o=B(r);return o!==i&&(t=o?A(t,o,i):A(t*=U(r),"meters",i)),t}function x(t,r,i,s=!1){if(!s&&(0,u.EA)(i))throw Error("Unable to convert from a linear unit to an angular unit.");let o=B(i);return r!==o&&(t=o?A(t,r,o):A(t,r,"meters")/U(i)),t}function E(t){switch(t){case"metric":return"meters";case"imperial":return"feet";default:return t}}function I(t){return E(t)}function C(t){switch(t){case"metric":return"square-meters";case"imperial":return"square-feet";default:return t}}function R(t,r){return 3e3>Math.abs(A(t,r,"meters"))?"meters":"kilometers"}function O(t,r){return 1e5>Math.abs(A(t,r,"meters"))?"meters":"kilometers"}function P(t,r){return 1e3>Math.abs(A(t,r,"feet"))?"feet":"miles"}function N(t,r){return 1e5>Math.abs(A(t,r,"feet"))?"feet":"miles"}function k(t,r){return 3e6>Math.abs(A(t,r,"square-meters"))?"square-meters":"square-kilometers"}function L(t,r){return 1e6>Math.abs(A(t,r,"square-feet"))?"square-feet":"square-miles"}function F(t,r,i){return A(t,r,"meters")/(i*Math.PI/180)}function Z(t){return g.fromJSON(t.toLowerCase())||null}function D(t){if(null!=t&&!(0,u.B3)(t))return 1;let r=U(t);return r>1e5?1:r}function j(t){return U(t)>=(0,o.tO)(t).metersPerDegree?"meters":B(t)}function U(t,r=a.$O.metersPerDegree){return V(t,!0)??r}function V(t,r=!1){let i=t?.wkid??null,s=t?.wkt2??t?.wkt??null,o=null;if(i){if((0,u.tl)(i))return a.sH.metersPerDegree;if((0,u.ZL)(i))return a.Sw.metersPerDegree;!(o=f.values[f[i]])&&r&&m.has(i)&&(o=p)}else s&&(K(s)?o=G(h.exec(s),o):J(s)&&(o=G(y.exec(s),o)));return o}function z(t){return(0,u.EA)(t)?1:U(t)}function G(t,r){return t?.[1]?$(t[1]):r}function $(t){return parseFloat(t.split(",")[1])}function B(t){let r=t?.wkid??null,i=t?.wkt2??t?.wkt??null,s=null;if(r)s=f.units[f[r]];else if(i){let t=K(i)?h:J(i)?y:null;if(t){let r=t.exec(i);r?.[1]&&(s=function(t){let r=/[\\"']{1}([^\\"']+)/.exec(t),i=r?.[1];if(!i||!Z(i)){let r=$(t);i=null;let s=f.values;for(let t=0;t<s.length;++t)if(1e-7>Math.abs(r-s[t])){i=f.units[t];break}}return i}(r[1]))}}return null!=s?Z(s):null}function q(t){let r=B(t);return null!=r&&w.includes(r)?r:null}function H(t){let r=j(t);return null!=r&&w.includes(r)?r:null}function W(t){let r=B(t);return null==r?null:b.get(r)}function J(t){return/^GEOCCS/i.test(t)}function K(t){return/^\s*(?:PROJCS|PROJCRS|PROJECTEDCRS)/i.test(t)}function Y(t){let r=B(t);if(null==r)return null;switch(r){case"feet":case"us-feet":case"clarke-feet":case"fathoms":case"nautical-miles":case"us-chains":case"us-links":case"us-miles":case"clarke-yards":case"clarke-chains":case"clarke-links":case"sears-yards":case"sears-feet":case"sears-chains":case"sears-links":case"benoit-1895-a-yards":case"benoit-1895-a-feet":case"benoit-1895-a-chains":case"benoit-1895-a-links":case"benoit-1895-b-yards":case"benoit-1895-b-feet":case"benoit-1895-b-chains":case"benoit-1895-b-links":case"1865-feet":case"indian-feet":case"indian-1937-feet":case"indian-1962-feet":case"indian-1975-feet":case"indian-yards":case"indian-1937-yards":case"indian-1962-yards":case"indian-1975-yards":case"statute-miles":case"gold-coast-feet":case"british-1936-feet":case"yards":case"chains":case"links":case"sears-1922-truncated-yards":case"sears-1922-truncated-feet":case"sears-1922-truncated-chains":case"sears-1922-truncated-links":case"us-yards":case"inches":case"us-inches":case"rods":case"us-rods":case"us-nautical-miles":case"uk-nautical-miles":case"smoots":case"tx-vara":case"points":return"imperial";case"millimeters":case"centimeters":case"meters":case"german-meters":case"kilometers":case"decimeters":case"micrometers":case"nanometers":case"50-kilometers":case"150-kilometers":return"metric"}return null}let X=(0,s.O)()({esriAcres:"acres",esriAres:"ares",esriHectares:"hectares",esriSquareCentimeters:"square-centimeters",esriSquareDecimeters:"square-decimeters",esriSquareFeet:"square-feet",esriSquareInches:"square-inches",esriSquareKilometers:"square-kilometers",esriSquareMeters:"square-meters",esriSquareMiles:"square-miles",esriSquareMillimeters:"square-millimeters",esriSquareUsFeet:"square-us-feet",esriSquareYards:"square-yards"}),Q=(0,s.O)()({esriCentimeters:"centimeters",esriDecimeters:"decimeters",esriFeet:"feet",esriInches:"inches",esriKilometers:"kilometers",esriMeters:"meters",esriMiles:"miles",esriMillimeters:"millimeters",esriNauticalMiles:"nautical-miles",esriYards:"yards"}),ee=(0,s.O)()({esriDUDecimalDegrees:"degrees",esriDURadians:"radians"})},8942:(t,r,i)=>{i.d(r,{A:()=>y});var s=i(81856),o=i(71017),a=i(30781),u=i(92713),d=i(91838);i(57845),i(61939),i(33638);var c=i(12709);let p=new a.J({esriRelCardinalityOneToOne:"one-to-one",esriRelCardinalityOneToMany:"one-to-many",esriRelCardinalityManyToMany:"many-to-many"}),h=new a.J({esriRelRoleOrigin:"origin",esriRelRoleDestination:"destination"}),f=class extends o.A.ClonableMixin(u.A){constructor(t){super(t),this.cardinality=null,this.catalogId=null,this.composite=null,this.id=null,this.keyField=null,this.keyFieldInRelationshipTable=null,this.name=null,this.relatedTableId=null,this.relationshipTableId=null,this.role=null}};(0,s._)([(0,d.MZ)({json:{read:p.read,write:p.write}})],f.prototype,"cardinality",void 0),(0,s._)([(0,d.MZ)({json:{name:"catalogID"}})],f.prototype,"catalogId",void 0),(0,s._)([(0,d.MZ)({json:{read:!0,write:!0}})],f.prototype,"composite",void 0),(0,s._)([(0,d.MZ)({json:{read:!0,write:!0}})],f.prototype,"id",void 0),(0,s._)([(0,d.MZ)({json:{read:!0,write:!0}})],f.prototype,"keyField",void 0),(0,s._)([(0,d.MZ)({json:{read:!0,write:!0}})],f.prototype,"keyFieldInRelationshipTable",void 0),(0,s._)([(0,d.MZ)({json:{read:!0,write:!0}})],f.prototype,"name",void 0),(0,s._)([(0,d.MZ)({json:{read:!0,write:!0}})],f.prototype,"relatedTableId",void 0),(0,s._)([(0,d.MZ)({json:{read:!0,write:!0}})],f.prototype,"relationshipTableId",void 0),(0,s._)([(0,d.MZ)({json:{read:h.read,write:h.write}})],f.prototype,"role",void 0);let y=f=(0,s._)([(0,c.$)("esri.layers.support.Relationship")],f)},9245:(t,r,i)=>{i.d(r,{RC:()=>w,Tp:()=>m,jd:()=>y,n4:()=>I,pO:()=>_,rz:()=>s,w5:()=>f});var s,o=i(20538),a=i(8922),u=i(69752),d=i(54015),c=i(88742),p=i(71760),h=i(92773);!function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.SPHERICAL_ECEF=1]="SPHERICAL_ECEF",t[t.WGS84=2]="WGS84",t[t.WEB_MERCATOR=3]="WEB_MERCATOR",t[t.WGS84_ECEF=4]="WGS84_ECEF",t[t.CGCS2000=5]="CGCS2000",t[t.SPHERICAL_MARS_PCPF=6]="SPHERICAL_MARS_PCPF",t[t.GCSMARS2000=7]="GCSMARS2000",t[t.SPHERICAL_MOON_PCPF=8]="SPHERICAL_MOON_PCPF",t[t.GCSMOON2000=9]="GCSMOON2000",t[t.LON_LAT=10]="LON_LAT",t[t.PLATE_CARREE=11]="PLATE_CARREE"}(s||(s={}));let f={[s.WGS84]:{[s.CGCS2000]:_,[s.GCSMARS2000]:null,[s.GCSMOON2000]:null,[s.LON_LAT]:_,[s.SPHERICAL_ECEF]:E,[s.SPHERICAL_MARS_PCPF]:null,[s.SPHERICAL_MOON_PCPF]:null,[s.UNKNOWN]:null,[s.WEB_MERCATOR]:b,[s.PLATE_CARREE]:M,[s.WGS84]:_,[s.WGS84_ECEF]:P},[s.CGCS2000]:{[s.CGCS2000]:_,[s.GCSMARS2000]:null,[s.GCSMOON2000]:null,[s.LON_LAT]:_,[s.SPHERICAL_ECEF]:E,[s.SPHERICAL_MARS_PCPF]:null,[s.SPHERICAL_MOON_PCPF]:null,[s.UNKNOWN]:null,[s.WEB_MERCATOR]:b,[s.PLATE_CARREE]:M,[s.WGS84]:_,[s.WGS84_ECEF]:P},[s.GCSMARS2000]:{[s.CGCS2000]:null,[s.GCSMARS2000]:_,[s.GCSMOON2000]:null,[s.LON_LAT]:_,[s.SPHERICAL_ECEF]:null,[s.SPHERICAL_MARS_PCPF]:x,[s.SPHERICAL_MOON_PCPF]:null,[s.UNKNOWN]:null,[s.WEB_MERCATOR]:null,[s.PLATE_CARREE]:null,[s.WGS84]:null,[s.WGS84_ECEF]:null},[s.GCSMOON2000]:{[s.CGCS2000]:null,[s.GCSMARS2000]:null,[s.GCSMOON2000]:_,[s.LON_LAT]:_,[s.SPHERICAL_ECEF]:null,[s.SPHERICAL_MARS_PCPF]:null,[s.SPHERICAL_MOON_PCPF]:T,[s.UNKNOWN]:null,[s.WEB_MERCATOR]:null,[s.PLATE_CARREE]:null,[s.WGS84]:null,[s.WGS84_ECEF]:null},[s.WEB_MERCATOR]:{[s.CGCS2000]:v,[s.GCSMARS2000]:null,[s.GCSMOON2000]:null,[s.LON_LAT]:v,[s.SPHERICAL_ECEF]:function(t,r,i,s){let o=t[r]/D,a=Z-2*Math.atan(Math.exp(-t[r+1]/D)),u=D+t[r+2],d=Math.cos(a)*u;i[s]=Math.cos(o)*d,i[s+1]=Math.sin(o)*d,i[s+2]=Math.sin(a)*u},[s.SPHERICAL_MARS_PCPF]:null,[s.SPHERICAL_MOON_PCPF]:null,[s.UNKNOWN]:null,[s.WEB_MERCATOR]:_,[s.PLATE_CARREE]:function(t,r,i,s){v(t,r,i,s),M(i,s,i,s)},[s.WGS84]:v,[s.WGS84_ECEF]:function(t,r,i,s){v(t,r,i,s),P(i,s,i,s)}},[s.WGS84_ECEF]:{[s.CGCS2000]:N,[s.GCSMARS2000]:null,[s.GCSMOON2000]:null,[s.LON_LAT]:N,[s.SPHERICAL_ECEF]:function(t,r,i,s){N(t,r,i,s),E(i,s,i,s)},[s.SPHERICAL_MARS_PCPF]:null,[s.SPHERICAL_MOON_PCPF]:null,[s.UNKNOWN]:null,[s.WEB_MERCATOR]:function(t,r,i,s){N(t,r,i,s),b(i,s,i,s)},[s.PLATE_CARREE]:function(t,r,i,s){N(t,r,i,s),M(i,s,i,s)},[s.WGS84]:N,[s.WGS84_ECEF]:_},[s.SPHERICAL_ECEF]:{[s.CGCS2000]:O,[s.GCSMARS2000]:null,[s.GCSMOON2000]:null,[s.LON_LAT]:O,[s.SPHERICAL_ECEF]:_,[s.SPHERICAL_MARS_PCPF]:null,[s.SPHERICAL_MOON_PCPF]:null,[s.UNKNOWN]:null,[s.WEB_MERCATOR]:function(t,r,i,s){O(t,r,i,s),b(i,s,i,s)},[s.PLATE_CARREE]:function(t,r,i,s){O(t,r,i,s),M(i,s,i,s)},[s.WGS84]:O,[s.WGS84_ECEF]:function(t,r,i,s){O(t,r,i,s),P(i,s,i,s)}},[s.SPHERICAL_MARS_PCPF]:{[s.CGCS2000]:null,[s.GCSMARS2000]:R,[s.GCSMOON2000]:null,[s.LON_LAT]:R,[s.SPHERICAL_ECEF]:null,[s.SPHERICAL_MARS_PCPF]:_,[s.SPHERICAL_MOON_PCPF]:null,[s.UNKNOWN]:null,[s.WEB_MERCATOR]:null,[s.PLATE_CARREE]:null,[s.WGS84]:null,[s.WGS84_ECEF]:null},[s.SPHERICAL_MOON_PCPF]:{[s.CGCS2000]:null,[s.GCSMARS2000]:null,[s.GCSMOON2000]:C,[s.LON_LAT]:C,[s.SPHERICAL_ECEF]:null,[s.SPHERICAL_MARS_PCPF]:null,[s.SPHERICAL_MOON_PCPF]:_,[s.UNKNOWN]:null,[s.WEB_MERCATOR]:null,[s.PLATE_CARREE]:null,[s.WGS84]:null,[s.WGS84_ECEF]:null},[s.UNKNOWN]:{[s.CGCS2000]:null,[s.GCSMARS2000]:null,[s.GCSMOON2000]:null,[s.LON_LAT]:null,[s.SPHERICAL_ECEF]:null,[s.SPHERICAL_MARS_PCPF]:null,[s.SPHERICAL_MOON_PCPF]:null,[s.UNKNOWN]:_,[s.WEB_MERCATOR]:null,[s.PLATE_CARREE]:null,[s.WGS84]:null,[s.WGS84_ECEF]:null},[s.LON_LAT]:{[s.CGCS2000]:_,[s.GCSMARS2000]:_,[s.GCSMOON2000]:_,[s.LON_LAT]:_,[s.SPHERICAL_ECEF]:E,[s.SPHERICAL_MARS_PCPF]:x,[s.SPHERICAL_MOON_PCPF]:T,[s.UNKNOWN]:null,[s.WEB_MERCATOR]:b,[s.PLATE_CARREE]:M,[s.WGS84]:_,[s.WGS84_ECEF]:P},[s.PLATE_CARREE]:{[s.CGCS2000]:S,[s.GCSMARS2000]:null,[s.GCSMOON2000]:null,[s.LON_LAT]:S,[s.SPHERICAL_ECEF]:function(t,r,i,s){S(t,r,i,s),E(i,s,i,s)},[s.SPHERICAL_MARS_PCPF]:null,[s.SPHERICAL_MOON_PCPF]:null,[s.UNKNOWN]:null,[s.WEB_MERCATOR]:function(t,r,i,s){S(t,r,i,s),b(i,s,i,s)},[s.PLATE_CARREE]:_,[s.WGS84]:S,[s.WGS84_ECEF]:function(t,r,i,s){S(t,r,i,s),P(i,s,i,s)}}};function y(t,r){return m(t,r)?.projector}function m(t,r){if(null==t||null==r)return null;if(k.source.spatialReference===t&&k.dest.spatialReference===r)return k;let i=g(t,k.source),o=g(r,k.dest);return i===s.UNKNOWN&&o===s.UNKNOWN?(0,p.aI)(t,r)?k.projector=_:k.projector=null:k.projector=f[i][o],k}function g(t,r){return t?r.spatialReference===t?r.spatialReferenceId:(r.spatialReference=t,"metersPerUnit"in r&&(r.metersPerUnit=(0,a.GA)(t,1)),(0,u.jA)(t)?r.spatialReferenceId=s.SPHERICAL_ECEF:(0,p.oT)(t)?r.spatialReferenceId=s.WGS84:(0,p.K8)(t)?r.spatialReferenceId=s.WEB_MERCATOR:(0,p.r1)(t)?r.spatialReferenceId=s.PLATE_CARREE:t.wkt===u.Ro.wkt?r.spatialReferenceId=s.WGS84_ECEF:t.wkid===h.Y.CGCS2000?r.spatialReferenceId=s.CGCS2000:t.wkt===u.FY.wkt?r.spatialReferenceId=s.SPHERICAL_MARS_PCPF:t.wkt===u.LJ.wkt?r.spatialReferenceId=s.SPHERICAL_MOON_PCPF:(0,p.q8)(t)?r.spatialReferenceId=s.GCSMARS2000:(0,p.KQ)(t)?r.spatialReferenceId=s.GCSMOON2000:r.spatialReferenceId=s.UNKNOWN):s.UNKNOWN}function _(t,r,i,s){t!==i&&(i[s++]=t[r++],i[s++]=t[r++],i[s]=t[r])}function v(t,r,i,s){i[s]=F*(t[r]/D),i[s+1]=F*(Z-2*Math.atan(Math.exp(-t[r+1]/D))),i[s+2]=t[r+2]}function w(t,r,i,s,a){let u=.4999999*Math.PI,d=Math.sin((0,o.qE)(L*t[r+1],-u,u));i[s++]=L*t[r]*a.radius,i[s++]=a.halfSemiMajorAxis*Math.log((1+d)/(1-d)),i[s]=t[r+2]}function b(t,r,i,s){w(t,r,i,s,d.$O)}function M(t,r,i,s){i[s]=t[r]*j,i[s+1]=t[r+1]*j,i[s+2]=t[r+2]}function S(t,r,i,s){i[s]=t[r]*U,i[s+1]=t[r+1]*U,i[s+2]=t[r+2]}function A(t,r,i,s,o){let a=o+t[r+2],u=L*t[r+1],d=L*t[r],c=Math.cos(u)*a;i[s]=Math.cos(d)*c,i[s+1]=Math.sin(d)*c,i[s+2]=Math.sin(u)*a}function T(t,r,i,s){A(t,r,i,s,d.Sw.radius)}function x(t,r,i,s){A(t,r,i,s,d.sH.radius)}function E(t,r,i,s){A(t,r,i,s,d.$O.radius)}function I(t,r,i,s,a){let u=t[r],d=t[r+1],c=t[r+2],p=Math.sqrt(u*u+d*d+c*c),h=(0,o.YN)(c/(0===p?1:p)),f=Math.atan2(d,u);i[s++]=F*f,i[s++]=F*h,i[s]=p-a}function C(t,r,i,s){I(t,r,i,s,d.Sw.radius)}function R(t,r,i,s){I(t,r,i,s,d.sH.radius)}function O(t,r,i,s){I(t,r,i,s,d.$O.radius)}function P(t,r,i,s){!function(t,r,i,s,o){let a=L*t[r],u=L*t[r+1],d=t[r+2],c=Math.sin(u),p=Math.cos(u),h=o.radius/Math.sqrt(1-o.eccentricitySquared*c*c);i[s++]=(h+d)*p*Math.cos(a),i[s++]=(h+d)*p*Math.sin(a),i[s++]=(h*(1-o.eccentricitySquared)+d)*c}(t,r,i,s,d.$O)}function N(t,r,i,s){let o,a,u,p,h,f,y,m,g,_,v,w,b,M,S,A,T,x,E,I,C=c.TP,R=t[r],O=t[r+1],P=t[r+2];o=Math.abs(P),u=Math.sqrt(a=R*R+O*O),h=Math.sqrt(p=a+P*P),I=Math.atan2(O,R),f=P*P/p,y=a/p,M=C.a2/h,S=C.a3-C.a4/h,y>.3?(E=Math.asin(m=o/h*(1+y*(C.a1+M+f*S)/h)),g=Math.sqrt(1-(_=m*m))):(E=Math.acos(g=u/h*(1-f*(C.a5-M-y*S)/h)),m=Math.sqrt(_=1-g*g)),v=1-d.$O.eccentricitySquared*_,w=d.$O.radius/Math.sqrt(v),b=C.a6*w,M=u-w*g,S=o-b*m,T=g*M+m*S,E+=x=(A=g*S-m*M)/(b/v+T),P<0&&(E=-E),i[s++]=F*I,i[s++]=F*E,i[s]=T+A*x/2}let k={source:{spatialReference:null,spatialReferenceId:s.UNKNOWN,metersPerUnit:1},dest:{spatialReference:null,spatialReferenceId:s.UNKNOWN,metersPerUnit:1},projector:_},L=(0,o.kU)(1),F=(0,o.KJ)(1),Z=.5*Math.PI,D=d.$O.radius,j=D*Math.PI/180,U=180/(D*Math.PI)},9247:(t,r,i)=>{i.d(r,{FV:()=>d,Uo:()=>a,ZV:()=>o,xB:()=>u}),i(57845);var s=i(55048);function o(t){return(0,s.tc)(t.x,t.y)}function a(t,r){let i=(t instanceof HTMLElement?t:t.surface)?.getBoundingClientRect();return i?(0,s.tc)(r.clientX-i.left,r.clientY-i.top):(0,s.tc)(0,0)}function u(t,r){return r instanceof Event?a(t,r):o(r)}function d(t){if(t instanceof Event)return!0;if("object"==typeof t&&"type"in t)switch(t.type){case"click":case"double-click":case"pointer-down":case"pointer-drag":case"pointer-enter":case"pointer-leave":case"pointer-up":case"pointer-move":case"immediate-click":case"immediate-double-click":case"hold":case"drag":case"mouse-wheel":return!0}return!1}},9263:(t,r,i)=>{i.d(r,{FJ:()=>S,Dp:()=>A,KV:()=>T});var s=i(81856),o=i(34184),a=i(91838);i(57845),i(61939),i(33638);var u=i(12709),d=i(89800),c=i(71017),p=i(54335),h=i(92713),f=i(7780),y=i(70429),m=i(11568);let g={write:{overridePolicy:(t,r,i)=>({enabled:!i||"scale"===i.filterMode})}},_=class extends c.A.ClonableMixin(h.A){constructor(t){super(t),this.id=(0,m.lk)(),this.maxScale=0,this.minScale=0,this.title="",this.where=null}};(0,s._)([(0,a.MZ)({type:String,json:{write:!0}})],_.prototype,"id",void 0),(0,s._)([(0,a.MZ)({type:Number,json:g})],_.prototype,"maxScale",void 0),(0,s._)([(0,a.MZ)({type:Number,json:g})],_.prototype,"minScale",void 0),(0,s._)([(0,a.MZ)({type:String,json:{write:!0}})],_.prototype,"title",void 0),(0,s._)([(0,a.MZ)({type:String,json:{write:!0}})],_.prototype,"where",void 0);let v=_=(0,s._)([(0,u.$)("esri.layers.support.DisplayFilter")],_);var w=i(92221);let b=class extends c.A.ClonableMixin(h.A){constructor(t){super(t),this.activeFilterId=null,this.filters=new(p.A.ofType(v)),this.mode="manual"}writeFilters(t,r,i,s){let o=t.toArray();"scale"===this.mode&&o.sort((t,r)=>{let i=(0,y.oW)(r.minScale,t.minScale),s=t.maxScale-r.maxScale;return 0===i?s:i}),r[i]=o.map(t=>t.toJSON(s))}write(t,r){return super.write(t,(0,w.mW)(this,r))}};(0,s._)([(0,a.MZ)({type:String,json:{write:{overridePolicy:(t,r,i)=>({enabled:"manual"===i.filterMode,isRequired:!0})}}})],b.prototype,"activeFilterId",void 0),(0,s._)([(0,a.MZ)({type:p.A.ofType(v),nonNullable:!0,json:{write:!0}})],b.prototype,"filters",void 0),(0,s._)([(0,f.K)("filters")],b.prototype,"writeFilters",null),(0,s._)([(0,a.MZ)({type:["manual","scale"],nonNullable:!0,json:{name:"filterMode",write:!0}})],b.prototype,"mode",void 0);let M=b=(0,s._)([(0,u.$)("esri.layers.support.DisplayFilterInfo")],b),S=t=>{let r=class extends t{constructor(){super(...arguments),this.displayFilterEnabled=!0,this.displayFilterInfo=null}};return(0,s._)([(0,a.MZ)(A)],r.prototype,"displayFilterEnabled",void 0),(0,s._)([(0,a.MZ)(T)],r.prototype,"displayFilterInfo",void 0),r=(0,s._)([(0,u.$)("esri.layers.mixins.DisplayFilteredLayer")],r)},A={type:Boolean,json:{name:"layerDefinition.disableDisplayFilter",read:{reader:t=>!t},write:{layerContainerTypes:d.K,writer(t,r,i){(0,o.sM)(i,!t,r)}},origins:{"web-scene":{write:!1,read:!1}}}},T={type:M,json:{name:"layerDefinition.displayFilterInfo",write:{enabled:!0,allowNull:!0,layerContainerTypes:d.K},origins:{"web-scene":{write:!1,read:!1}}}}},9401:(t,r,i)=>{i.d(r,{A:()=>C});var s,o,a,u=i(81856),d=i(92713),c=i(33715),p=i(82558),h=i(91838),f=i(16352),y=i(53480),m=i(12709),g=i(7780);i(57845),i(61939),i(33638);let _=s=class extends d.A{constructor(t){super(t),this.expression=null,this.name=null,this.returnType="boolean",this.title=null}clone(){return new s({name:this.name,title:this.title,expression:this.expression,returnType:this.returnType})}};(0,u._)([(0,h.MZ)({type:String,json:{write:!0}})],_.prototype,"expression",void 0),(0,u._)([(0,h.MZ)({type:String,json:{write:!0}})],_.prototype,"name",void 0),(0,u._)([(0,h.MZ)({type:["boolean","date","number","string"],json:{write:!0}})],_.prototype,"returnType",void 0),(0,u._)([(0,h.MZ)({type:String,json:{write:!0}})],_.prototype,"title",void 0);let v=_=s=(0,u._)([(0,m.$)("esri.form.ExpressionInfo")],_);i(59491),i(35665);var w=i(91766),b=i(43359);i(10416),i(20243),i(83072);let M=o=class extends w.A{constructor(t){super(t),this.elements=null,this.initialState="expanded",this.type="group"}castElements(t){return(0,b.dp)(t,S,!1)}readElements(t,r){return(0,b.rS)(r.formElements,S,!1)}writeElements(t,r){r.formElements=(0,b.U2)(t,S,!1)}clone(){return new o({description:this.description,elements:(0,c.o8)(this.elements),initialState:this.initialState,label:this.label,visibilityExpression:this.visibilityExpression})}};(0,u._)([(0,h.MZ)({json:{write:!0}})],M.prototype,"elements",void 0),(0,u._)([(0,f.w)("elements")],M.prototype,"castElements",null),(0,u._)([(0,y.w)("elements",["formElements"])],M.prototype,"readElements",null),(0,u._)([(0,g.K)("elements")],M.prototype,"writeElements",null),(0,u._)([(0,h.MZ)({type:["collapsed","expanded"],json:{write:!0}})],M.prototype,"initialState",void 0),(0,u._)([(0,h.MZ)({type:String,json:{read:!1,write:!0}})],M.prototype,"type",void 0),M=o=(0,u._)([(0,m.$)("esri.form.elements.GroupElement")],M);let S=(0,b.sb)(M),A=M;var T=i(39265);let x=(0,b.sb)(A),E=a=class extends d.A{constructor(t){super(t),this.description=null,this.elements=null,this.expressionInfos=null,this.preserveFieldValuesWhenHidden=!1,this.title=null}castElements(t){return(0,b.dp)(t,x)}readElements(t,r){return(0,b.rS)(r.formElements,x)}writeElements(t,r){r.formElements=(0,b.U2)(t,x)}clone(){return new a({description:this.description,expressionInfos:(0,c.o8)(this.expressionInfos),elements:(0,c.o8)(this.elements),title:this.title,preserveFieldValuesWhenHidden:this.preserveFieldValuesWhenHidden})}async getFieldsUsed(t,r){let i=new Set,{description:s,elements:o,expressionInfos:a,title:u}=this;if(I(i,t,s),I(i,t,u),!o)return[];let d=(function(t,r){if(!r||0===r.length)return[];let i=function t(r){let i=new Set;for(let s of r)if((0,p.kb)(i,s.visibilityExpression),!(0,b.oo)(s)){if((0,b.CG)(s))(0,p.FB)(i,t(s.elements));else if((0,p.kb)(i,s.editableExpression),(0,b.jt)(s)){let{requiredExpression:t,valueExpression:r}=s;(0,p.FB)(i,[t,r])}}return i}(t),s=[];for(let t of r)i.has(t.name)&&s.push(t.expression);return s})(o,a).map(r=>(0,T.Dx)(i,t,r));for(let s of(await Promise.all(d),o))!function t(r,i,s){let{fieldsIndex:o}=i;if(!o||o.fields.length!==r.size)switch(I(r,o,s.label),I(r,o,s.description),s.type){case"field":(0,T.rq)(r,o,s.fieldName);break;case"group":s.elements.forEach(s=>t(r,i,s));break;case"relationship":if(i.relationships){let t=i.relationships.find(t=>t.id===s.relationshipId);t&&(0,T.rq)(r,o,t.keyField)}(0,T._w)(r,o,s.orderByFields?.map(t=>t.field));break;case"text":I(r,o,s.text)}}(i,{fieldsIndex:t,relationships:r},s);return Array.from(i).sort()}};function I(t,r,i){(0,T._w)(t,r,(0,T.nw)(i))}(0,u._)([(0,h.MZ)({type:String,json:{write:!0}})],E.prototype,"description",void 0),(0,u._)([(0,h.MZ)({json:{write:!0}})],E.prototype,"elements",void 0),(0,u._)([(0,f.w)("elements")],E.prototype,"castElements",null),(0,u._)([(0,y.w)("elements",["formElements"])],E.prototype,"readElements",null),(0,u._)([(0,g.K)("elements")],E.prototype,"writeElements",null),(0,u._)([(0,h.MZ)({type:[v],json:{write:!0}})],E.prototype,"expressionInfos",void 0),(0,u._)([(0,h.MZ)({type:Boolean,json:{default:!1,write:!0}})],E.prototype,"preserveFieldValuesWhenHidden",void 0),(0,u._)([(0,h.MZ)({type:String,json:{write:!0}})],E.prototype,"title",void 0);let C=E=a=(0,u._)([(0,m.$)("esri.form.FormTemplate")],E)},9723:(t,r,i)=>{i.d(r,{q:()=>o});var s=i(58546);function o(t,r,i){if(!i?.features||!i.hasZ)return;let o=(0,s.N)(i.geometryType,r,t.outSpatialReference);if(null!=o)for(let t of i.features)o(t.geometry)}},9882:(t,r,i)=>{i.d(r,{af:()=>S,al:()=>M,dX:()=>A});var s=i(70152),o=i(54335);i(57845);var a=i(55048),u=i(92090),d=i(10098),c=i(31312),p=i(46633),h=i(57136),f=i(26232),y=i(15964),m=i(1345),g=i(64547);let _=h.A.fromSimpleMarkerSymbol(m.UK),v=d.A.fromSimpleLineSymbol(m.A7),w=f.A.fromSimpleFillSymbol(m.Cx),b=new p.A({symbolLayers:new o.A([new u.A({material:{color:g.fT},edges:new y.A({size:(0,a.PN)(1),color:new s.A(g.JR)})})])}),M=new d.A({symbolLayers:new o.A([new c.A({material:{color:new s.A([0,0,0])},size:(0,a.PN)(1)})])}),S=new f.A({symbolLayers:new o.A([new u.A({outline:{color:new s.A([0,0,0]),size:(0,a.PN)(1)}})])});function A(t){if(null==t)return null;switch(t.type){case"mesh":return b;case"point":case"multipoint":return _;case"polyline":return v;case"polygon":case"extent":return w}return null}},9956:(t,r,i)=>{i.d(r,{Av:()=>P,OM:()=>E,X$:()=>c,dj:()=>I});var s=i(41390);let o="http://www.w3.org/",a=`${o}2000/svg`,u=`${o}1999/xlink`,d=[],c=(t,r)=>{let i={};return Object.keys(t).forEach(r=>{i[r]=t[r]}),r&&Object.keys(r).forEach(t=>{i[t]=r[t]}),i},p=(t,r)=>t.vnodeSelector===r.vnodeSelector&&(t.properties&&r.properties?t.properties.key===r.properties.key&&t.properties.bind===r.properties.bind:!t.properties&&!r.properties),h=t=>{if("string"!=typeof t)throw Error("Style values must be strings")},f=(t,r,i)=>{if(""!==r.vnodeSelector){for(let s=i;s<t.length;s++)if(p(t[s],r))return s}return -1},y=(t,r,i,s)=>{let o=t[r];if(""===o.vnodeSelector)return;let a=o.properties;if(!(a?void 0===a.key?a.bind:a.key:void 0)){for(let a=0;a<t.length;a++)if(a!==r&&p(t[a],o))throw Error(`${i.vnodeSelector} had a ${o.vnodeSelector} child ${"added"===s?s:"removed"}, but there is now more than one. You must add unique key properties to make them distinguishable.`)}},m=t=>{if(t.properties){let r=t.properties.enterAnimation;r&&r(t.domNode,t.properties)}},g=[],_=!1,v=t=>{(t.children||[]).forEach(v),t.properties&&t.properties.afterRemoved&&t.properties.afterRemoved.apply(t.properties.bind||t.properties,[t.domNode])},w=()=>{_=!1,g.forEach(v),g.length=0},b=t=>{g.push(t),_||(_=!0,"undefined"!=typeof window&&"requestIdleCallback"in window?window.requestIdleCallback(w,{timeout:16}):setTimeout(w,16))},M=t=>{let r=t.domNode;if(t.properties){let i=t.properties.exitAnimation;if(i)return r.style.pointerEvents="none",void i(r,()=>{r.parentNode&&(r.parentNode.removeChild(r),b(t))},t.properties)}r.parentNode&&(r.parentNode.removeChild(r),b(t))},S=(t,r,i)=>{if(!r)return;let o=i.eventHandlerInterceptor,d=Object.keys(r),c=d.length;for(let p=0;p<c;p++){let c=d[p],f=r[c];if("className"===c)throw Error('Property "className" is not supported, use "class".');if("class"===c)C(t,f,!0);else if("classes"===c){let r=Object.keys(f),i=r.length;for(let s=0;s<i;s++){let i=r[s];f[i]&&t.classList.add(i)}}else if("styles"===c){let r=Object.keys(f),s=r.length;for(let o=0;o<s;o++){let s=r[o],a=f[s];a&&(h(a),i.styleApplyer(t,s,a))}}else if("key"!==c&&null!=f){let d=typeof f;"function"===d?(0===c.lastIndexOf("on",0)&&(o&&(f=o(c,f,t,r)),"oninput"===c&&function(){let t=f;f=function(r){t.apply(this,[r]),r.target["oninput-value"]=r.target.value}}()),t[c]=f):i.namespace===a?"href"===c?t.setAttributeNS(u,c,f):t.setAttribute(c,f):"string"===d&&"value"!==c?"innerHTML"===c?t[c]=s.W5.sanitize(f):A(t)&&c in t?t[c]=f:t.setAttribute(c,f):t[c]=f}}};function A(t){if(!(t instanceof Element&&t.tagName.includes("-")))return!1;let r=window.customElements.get(t.tagName.toLowerCase());return!!r&&t instanceof r}let T,x=(t,r,i)=>{if(r)for(let s of r)I(s,t,void 0,i)},E=(t,r,i)=>{x(t,r.children,i),r.text&&(t.textContent=r.text),S(t,r.properties,i),r.properties&&r.properties.afterCreate&&r.properties.afterCreate.apply(r.properties.bind||r.properties,[t,i,r.vnodeSelector,r.properties,r.children])},I=(t,r,i,s)=>{let o,u=0,d=t.vnodeSelector,p=r.ownerDocument;if(""===d)o=t.domNode=p.createTextNode(t.text),void 0!==i?r.insertBefore(o,i):r.appendChild(o);else{for(let h=0;h<=d.length;++h){let f=d.charAt(h);if(h===d.length||"."===f||"#"===f){let f=d.charAt(u-1),y=d.slice(u,h);"."===f?o.classList.add(y):"#"===f?o.id=y:("svg"===y&&(s=c(s,{namespace:a})),void 0!==s.namespace?o=t.domNode=p.createElementNS(s.namespace,y):(o=t.domNode=t.domNode||p.createElement(y),"input"===y&&t.properties&&void 0!==t.properties.type&&o.setAttribute("type",t.properties.type)),void 0!==i?r.insertBefore(o,i):o.parentNode!==r&&r.appendChild(o)),u=h+1}}E(o,t,s)}},C=(t,r,i)=>{r&&r.split(" ").forEach(r=>{r&&t.classList.toggle(r,i)})},R=(t,r,i,o)=>{if(!i)return;let d=!1,c=Object.keys(i),p=c.length;for(let f=0;f<p;f++){let p=c[f],y=i[p],m=r[p];if("class"===p)m!==y&&(C(t,m,!1),C(t,y,!0));else if("classes"===p){let r=t.classList,i=Object.keys(y),s=i.length;for(let t=0;t<s;t++){let s=i[t],o=!!y[s];!!m[s]!==o&&(d=!0,o?r.add(s):r.remove(s))}}else if("styles"===p){let r=Object.keys(y),i=r.length;for(let s=0;s<i;s++){let i=r[s],a=y[i];a!==m[i]&&(d=!0,a?(h(a),o.styleApplyer(t,i,a)):o.styleApplyer(t,i,""))}}else if(y||"string"!=typeof m||(y=""),"value"!==p||A(t)){if(y!==m){let r=typeof y;"function"===r&&o.eventHandlerInterceptor||(o.namespace===a?"href"===p?t.setAttributeNS(u,p,y):t.setAttribute(p,y):"string"===r?"innerHTML"===p?t[p]=s.W5.sanitize(y):"role"===p&&""===y?t.removeAttribute(p):A(t)&&p in t?t[p]=y:t.setAttribute(p,y):t[p]!==y&&(t[p]=y),d=!0)}}else{let r=t[p];r!==y&&(t["oninput-value"]?r===t["oninput-value"]:y!==m)&&(t[p]=y,t["oninput-value"]=void 0),y!==m&&(d=!0)}}return d},O=(t,r,i,s,o)=>{if(i===s)return!1;s=s||d;let a,u=(i=i||d).length,c=s.length,h=0,g=0,_=!1;for(;g<c;){let d=h<u?i[h]:void 0,c=s[g];if(void 0!==d&&p(d,c))_=T(d,c,o)||_,h++;else{let d=f(i,c,h+1);if(d>=0){for(a=h;a<d;a++)M(i[a]),y(i,a,t,"removed");_=T(i[d],c,o)||_,h=d+1}else I(c,r,h<u?i[h].domNode:void 0,o),m(c),y(s,g,t,"added")}g++}if(u>h)for(a=h;a<u;a++)M(i[a]),y(i,a,t,"removed");return _};T=(t,r,i)=>{let s=t.domNode,o=!1;if(t===r)return!1;let u=!1;if(""===r.vnodeSelector){if(r.text!==t.text){let t=s.ownerDocument.createTextNode(r.text);return s.parentNode.replaceChild(t,s),r.domNode=t,o=!0}r.domNode=s}else 0===r.vnodeSelector.lastIndexOf("svg",0)&&(i=c(i,{namespace:a})),t.text!==r.text&&(u=!0,void 0===r.text?s.removeChild(s.firstChild):s.textContent=r.text),r.domNode=s,u=O(r,s,t.children,r.children,i)||u,u=R(s,t.properties,r.properties,i)||u,r.properties&&r.properties.afterUpdate&&r.properties.afterUpdate.apply(r.properties.bind||r.properties,[s,i,r.vnodeSelector,r.properties,r.children]);return u&&r.properties&&r.properties.updateAnimation&&r.properties.updateAnimation(s,r.properties,t.properties),o};let P=(t,r)=>({getLastRender:()=>t,update:i=>{if(t.vnodeSelector!==i.vnodeSelector)throw Error("The selector for the root VNode may not be changed. (consider using dom.merge and add one extra level to the virtual DOM)");let s=t;t=i,T(s,i,r)},domNode:t.domNode})},10098:(t,r,i)=>{i.d(r,{A:()=>v});var s,o=i(81856),a=i(54335),u=i(33715),d=i(91838);i(57845),i(61939);var c=i(33498),p=i(12709),h=i(31312),f=i(3200),y=i(16876);let m=a.A.ofType({base:null,key:"type",typeMap:{line:h.A,path:f.A}}),g=a.A.ofType({base:null,key:"type",typeMap:{line:h.A,path:f.A}}),_=s=class extends y.A{constructor(t){super(t),this.symbolLayers=new m,this.type="line-3d"}clone(){return new s({styleOrigin:(0,u.o8)(this.styleOrigin),symbolLayers:(0,u.o8)(this.symbolLayers),thumbnail:(0,u.o8)(this.thumbnail)})}static fromSimpleLineSymbol(t){return new s({symbolLayers:new a.A([h.A.fromSimpleLineSymbol(t)])})}};(0,o._)([(0,d.MZ)({type:m,json:{type:g}})],_.prototype,"symbolLayers",void 0),(0,o._)([(0,c.e)({LineSymbol3D:"line-3d"},{readOnly:!0})],_.prototype,"type",void 0);let v=_=s=(0,o._)([(0,p.$)("esri.symbols.LineSymbol3D")],_)},10416:(t,r,i)=>{i.d(r,{A:()=>f});var s,o=i(81856),a=i(33715),u=i(91838);i(57845),i(61939);var d=i(12709),c=i(91766),p=i(36577);let h=s=class extends c.A{constructor(t){super(t),this.displayCount=null,this.displayType="list",this.editableExpression=null,this.orderByFields=null,this.relationshipId=null,this.type="relationship"}clone(){return new s({description:this.description,displayCount:this.displayCount,displayType:this.displayType,editableExpression:this.editableExpression,label:this.label,orderByFields:(0,a.o8)(this.orderByFields),relationshipId:this.relationshipId,visibilityExpression:this.visibilityExpression})}};(0,o._)([(0,u.MZ)({type:Number,json:{write:!0}})],h.prototype,"displayCount",void 0),(0,o._)([(0,u.MZ)({type:["list"],json:{write:!0}})],h.prototype,"displayType",void 0),(0,o._)([(0,u.MZ)({type:String,json:{write:!0}})],h.prototype,"editableExpression",void 0),(0,o._)([(0,u.MZ)({type:[p.A],json:{write:!0}})],h.prototype,"orderByFields",void 0),(0,o._)([(0,u.MZ)({type:Number,json:{write:!0}})],h.prototype,"relationshipId",void 0),(0,o._)([(0,u.MZ)({type:["relationship"],json:{read:!1,write:!0}})],h.prototype,"type",void 0);let f=h=s=(0,o._)([(0,d.$)("esri.form.elements.RelationshipElement")],h)},10954:(t,r,i)=>{var s;i.d(r,{RT:()=>s}),!function(t){t[t.Global=1]="Global",t[t.Local=2]="Local"}(s||(s={}))},11004:(t,r,i)=>{i.d(r,{A:()=>C});var s,o=i(81856),a=i(32391),u=i(30781),d=i(61939),c=i(91838),p=i(16352),h=i(53480),f=i(12709),y=i(7780),m=i(86926),g=i(55048),_=i(56879);i(57845),i(33638);var v=i(27675);let w=class extends v.A{constructor(){super(...arguments),this.customValues=null}};(0,o._)([(0,c.MZ)({type:[Number],json:{write:!0}})],w.prototype,"customValues",void 0);let b=w=(0,o._)([(0,f.$)("esri.renderers.visualVariables.support.SizeVariableLegendOptions")],w);var M=i(54880),S=i(72919);let A=new u.J({width:"width",depth:"depth",height:"height",widthAndDepth:"width-and-depth",all:"all"}),T=new u.J({unknown:"unknown",inch:"inches",foot:"feet",yard:"yards",mile:"miles","nautical-mile":"nautical-miles",millimeter:"millimeters",centimeter:"centimeters",decimeter:"decimeters",meter:"meters",kilometer:"kilometers"});function x(t){if(null!=t){var r;return"string"==typeof t||"number"==typeof t?(r=t,(0,g.cr)(r)):"size"===t.type?(0,M.of)(t)?t:(delete(t={...t}).type,new I(t)):void 0}}function E(t,r,i){if("object"!=typeof t)return t;let s=new I;return s.read(t,i),s}let I=s=class extends m.A{constructor(t){super(t),this.axis=null,this.legendOptions=null,this.normalizationField=null,this.scaleBy=null,this.target=null,this.type="size",this.useSymbolValue=null,this.valueExpression=null,this.valueRepresentation=null,this.valueUnit=null}get cache(){return{ipData:this._interpolateData(),hasExpression:!!this.valueExpression,compiledFunc:null,isScaleDriven:null!=this.valueExpression&&S.viewScaleRE.test(this.valueExpression)}}set index(t){(0,M.of)(this.maxSize)&&(this.maxSize.index=`visualVariables[${t}].maxSize`),(0,M.of)(this.minSize)&&(this.minSize.index=`visualVariables[${t}].minSize`),this._set("index",t)}get inputValueType(){return(0,M.eh)(this)}set maxDataValue(t){t&&this.stops&&(d.A.getLogger(this).warn("cannot set maxDataValue when stops is not null."),t=null),this._set("maxDataValue",t)}set maxSize(t){t&&this.stops&&(d.A.getLogger(this).warn("cannot set maxSize when stops is not null."),t=null),this._set("maxSize",t)}castMaxSize(t){return x(t)}readMaxSize(t,r,i){return E(t,r,i)}set minDataValue(t){t&&this.stops&&(d.A.getLogger(this).warn("cannot set minDataValue when stops is not null."),t=null),this._set("minDataValue",t)}set minSize(t){t&&this.stops&&(d.A.getLogger(this).warn("cannot set minSize when stops is not null."),t=null),this._set("minSize",t)}castMinSize(t){return x(t)}readMinSize(t,r,i){return E(t,r,i)}get arcadeRequired(){return!!this.valueExpression||null!=this.minSize&&"object"==typeof this.minSize&&this.minSize.arcadeRequired||null!=this.maxSize&&"object"==typeof this.maxSize&&this.maxSize.arcadeRequired}set stops(t){null==this.minDataValue&&null==this.maxDataValue&&null==this.minSize&&null==this.maxSize?t&&Array.isArray(t)&&(t=t.filter(t=>!!t)).sort((t,r)=>t.value-r.value):t&&(d.A.getLogger(this).warn("cannot set stops when one of minDataValue, maxDataValue, minSize or maxSize is not null."),t=null),this._set("stops",t)}get transformationType(){return(0,M.KZ)(this,this.inputValueType)}readValueExpression(t,r){return t||r.expression&&"$view.scale"}writeValueExpressionWebScene(t,r,i,s){if("$view.scale"===t){if(s?.messages){let t=this.index,r="string"==typeof t?t:`visualVariables[${t}]`;s.messages.push(new a.A("property:unsupported",this.type+"VisualVariable.valueExpression = '$view.scale' is not supported in Web Scene. Please remove this property to save the Web Scene.",{instance:this,propertyName:r+".valueExpression",context:s}))}}else r[i]=t}readValueUnit(t){return t?T.read(t):null}clone(){return new s({axis:this.axis,field:this.field,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,maxDataValue:this.maxDataValue,maxSize:(0,M.of)(this.maxSize)?this.maxSize.clone():this.maxSize,minDataValue:this.minDataValue,minSize:(0,M.of)(this.minSize)?this.minSize.clone():this.minSize,normalizationField:this.normalizationField,stops:this.stops?.map(t=>t.clone()),target:this.target,useSymbolValue:this.useSymbolValue,valueRepresentation:this.valueRepresentation,valueUnit:this.valueUnit,legendOptions:this.legendOptions?.clone()})}flipSizes(){if(this.transformationType===M._w.ClampedLinear){let{minSize:t,maxSize:r}=this;return this.minSize=r,this.maxSize=t,this}if(this.transformationType===M._w.Stops){let t=this.stops;if(!t)return this;let r=t.map(t=>t.size).reverse(),i=t.length;for(let s=0;s<i;s++)t[s].size=r[s]}return this}getAttributeHash(){return`${super.getAttributeHash()}-${this.target}-${this.normalizationField}`}_interpolateData(){return this.stops?.map(t=>t.value||0)}};(0,o._)([(0,c.MZ)({readOnly:!0})],I.prototype,"cache",null),(0,o._)([(0,c.MZ)({type:A.apiValues,json:{type:A.jsonValues,origins:{"web-map":{read:!1}},read:A.read,write:A.write}})],I.prototype,"axis",void 0),(0,o._)([(0,c.MZ)()],I.prototype,"index",null),(0,o._)([(0,c.MZ)({type:String,readOnly:!0})],I.prototype,"inputValueType",null),(0,o._)([(0,c.MZ)({type:b,json:{write:!0}})],I.prototype,"legendOptions",void 0),(0,o._)([(0,c.MZ)({type:Number,value:null,json:{write:!0}})],I.prototype,"maxDataValue",null),(0,o._)([(0,c.MZ)({type:Number,value:null,json:{write:!0}})],I.prototype,"maxSize",null),(0,o._)([(0,p.w)("maxSize")],I.prototype,"castMaxSize",null),(0,o._)([(0,h.w)("maxSize")],I.prototype,"readMaxSize",null),(0,o._)([(0,c.MZ)({type:Number,value:null,json:{write:!0}})],I.prototype,"minDataValue",null),(0,o._)([(0,c.MZ)({type:Number,value:null,json:{write:!0}})],I.prototype,"minSize",null),(0,o._)([(0,p.w)("minSize")],I.prototype,"castMinSize",null),(0,o._)([(0,h.w)("minSize")],I.prototype,"readMinSize",null),(0,o._)([(0,c.MZ)({type:String,json:{write:!0}})],I.prototype,"normalizationField",void 0),(0,o._)([(0,c.MZ)({readOnly:!0})],I.prototype,"arcadeRequired",null),(0,o._)([(0,c.MZ)({type:String})],I.prototype,"scaleBy",void 0),(0,o._)([(0,c.MZ)({type:[_.A],value:null,json:{write:!0}})],I.prototype,"stops",null),(0,o._)([(0,c.MZ)({type:["outline"],json:{write:!0}})],I.prototype,"target",void 0),(0,o._)([(0,c.MZ)({type:String,readOnly:!0})],I.prototype,"transformationType",null),(0,o._)([(0,c.MZ)({type:["size"],json:{type:["sizeInfo"]}})],I.prototype,"type",void 0),(0,o._)([(0,c.MZ)({type:Boolean,json:{write:!0,origins:{"web-map":{read:!1}}}})],I.prototype,"useSymbolValue",void 0),(0,o._)([(0,c.MZ)({type:String,json:{write:!0}})],I.prototype,"valueExpression",void 0),(0,o._)([(0,h.w)("valueExpression",["valueExpression","expression"])],I.prototype,"readValueExpression",null),(0,o._)([(0,y.K)("web-scene","valueExpression")],I.prototype,"writeValueExpressionWebScene",null),(0,o._)([(0,c.MZ)({type:["radius","diameter","area","width","distance"],json:{write:!0}})],I.prototype,"valueRepresentation",void 0),(0,o._)([(0,c.MZ)({type:T.apiValues,json:{write:T.write,origins:{"web-map":{read:!1},"web-scene":{write:!0},"portal-item":{write:!0}}}})],I.prototype,"valueUnit",void 0),(0,o._)([(0,h.w)("valueUnit")],I.prototype,"readValueUnit",null);let C=I=s=(0,o._)([(0,f.$)("esri.renderers.visualVariables.SizeVariable")],I)},11317:(t,r,i)=>{i.d(r,{A3:()=>v,Ql:()=>b,fA:()=>m,xB:()=>a,xK:()=>M});var s=i(98083);function o(t,r){return(0,s.qz)(t,r)}function a(t,r){let i,s,o,a=t.hasZ&&r.hasZ;if(t.xmin<=r.xmin){if(i=r.xmin,t.xmax<i)return!1}else if(i=t.xmin,r.xmax<i)return!1;if(t.ymin<=r.ymin){if(s=r.ymin,t.ymax<s)return!1}else if(s=t.ymin,r.ymax<s)return!1;if(a&&r.hasZ){if(t.zmin<=r.zmin){if(o=r.zmin,t.zmax<o)return!1}else if(o=t.zmin,r.zmax<o)return!1}return!0}function u(t,r){let{points:i,hasZ:o}=r,a=o?s.F8:s.CW;for(let r of i)if(a(t,r))return!0;return!1}let d=[0,0],c=[0,0],p=[0,0],h=[0,0],f=[d,c,p,h],y=[[p,d],[d,c],[c,h],[h,p]];function m(t,r){return function(t,r){for(let i of(d[0]=t.xmin,d[1]=t.ymax,c[0]=t.xmax,c[1]=t.ymax,p[0]=t.xmin,p[1]=t.ymin,h[0]=t.xmax,h[1]=t.ymin,f))if((0,s.t1)(r,i))return!0;for(let i of r){if(!i.length)continue;let r=i[0];if((0,s.CW)(t,r))return!0;for(let o=1;o<i.length;o++){let a=i[o];if((0,s.CW)(t,a)||w(r,a,y))return!0;r=a}}return!1}(t,r.rings)}function g(t,r){d[0]=t.xmin,d[1]=t.ymax,c[0]=t.xmax,c[1]=t.ymax,p[0]=t.xmin,p[1]=t.ymin,h[0]=t.xmax,h[1]=t.ymin;let i=r.paths;for(let r of i){if(!i.length)continue;let o=r[0];if((0,s.CW)(t,o))return!0;for(let i=1;i<r.length;i++){let a=r[i];if((0,s.CW)(t,a)||w(o,a,y))return!0;o=a}}return!1}let _=[0,0];function v(t){for(let r=0;r<t.length;r++){let i=t[r];for(let s=0;s<i.length-1;s++){let o=i[s],a=i[s+1];for(let i=r+1;i<t.length;i++)for(let r=0;r<t[i].length-1;r++){let s=t[i][r],u=t[i][r+1];if(b(o,a,s,u,_)&&(_[0]!==o[0]||_[1]!==o[1])&&(_[0]!==s[0]||_[1]!==s[1])&&(_[0]!==a[0]||_[1]!==a[1])&&(_[0]!==u[0]||_[1]!==u[1]))return!0}}let s=i.length;if(!(s<=4))for(let t=0;t<s-3;t++){let r=s-1;0===t&&(r=s-2);let o=i[t],a=i[t+1];for(let s=t+2;s<r;s++){let t=i[s],r=i[s+1];if(b(o,a,t,r,_)&&(_[0]!==o[0]||_[1]!==o[1])&&(_[0]!==t[0]||_[1]!==t[1])&&(_[0]!==a[0]||_[1]!==a[1])&&(_[0]!==r[0]||_[1]!==r[1]))return!0}}}return!1}function w(t,r,i){for(let s=0;s<i.length;s++)if(b(t,r,i[s][0],i[s][1]))return!0;return!1}function b(t,r,i,s,o){let[a,u]=t,[d,c]=r,[p,h]=i,[f,y]=s,m=f-p,g=a-p,_=d-a,v=y-h,w=u-h,b=c-u,M=v*_-m*b;if(0===M)return!1;let S=(m*w-v*g)/M,A=(_*w-b*g)/M;return S>=0&&S<=1&&A>=0&&A<=1&&(o&&(o[0]=a+S*(d-a),o[1]=u+S*(c-u)),!0)}function M(t){switch(t){case"esriGeometryEnvelope":case"extent":return a;case"esriGeometryMultipoint":case"multipoint":return u;case"esriGeometryPoint":case"point":return o;case"esriGeometryMultiPatch":case"multipatch":case"esriGeometryPolygon":case"polygon":return m;case"esriGeometryPolyline":case"polyline":return g}}},11568:(t,r,i)=>{i.d(r,{AG:()=>d,lk:()=>o,vD:()=>u,yS:()=>a});let s="randomUUID"in crypto;function o(){if(s)return crypto.randomUUID();let t=crypto.getRandomValues(new Uint16Array(8));t[3]=4095&t[3]|16384,t[4]=16383&t[4]|32768;let r=r=>t[r].toString(16).padStart(4,"0");return r(0)+r(1)+"-"+r(2)+"-"+r(3)+"-"+r(4)+"-"+r(5)+r(6)+r(7)}function a(){return`{${o().toUpperCase()}}`}function u(){return`{${o()}}`}function d(t){let r=t.toUpperCase();return"{"!==t[0]?`{${r}}`:r}},11584:(t,r,i)=>{i.d(r,{A:()=>v});var s,o=i(81856),a=i(32391),u=i(61939),d=i(92753),c=i(91838);i(57845),i(33638);var p=i(33498),h=i(12709),f=i(14307),y=i(67546),m=i(6015),g=i(23041);let _=s=class extends m.A{constructor(t){super(t),this.color=null,this.styleName=null,this.portal=null,this.styleUrl=null,this.thumbnail=null,this.name=null,this.type="web-style"}get _fetchCacheKey(){let t=null!=this.portal?this.portal:f.A.getDefault(),r=t.user?t.user.username:null;return`${this.styleName}:${this.styleUrl}:${this.name}:${r}:${t.url}`}read(t,r){this.portal=r?.portal,super.read(t,r)}clone(){return new s({name:this.name,styleUrl:this.styleUrl,styleName:this.styleName,portal:this.portal})}fetchSymbol(t){let r=t&&"acceptedFormats"in t?t.acceptedFormats:["web"];return this._fetchSymbol({...t,acceptedFormats:r})}async fetchCIMSymbol(t){let r=await this.fetchSymbol({...t,acceptedFormats:["cim"]});if("cim"!==r?.type)throw new a.A("webstylesymbol:fetchCIMSymbol","Resolved web style symbol is not of type 'cim'");return r}async _fetchSymbol(t){let r=null!=t?t.cache:null,s=r?this._fetchCacheKey:null;if(null!=r){let t=s&&r.get(s);if(t)return t.clone()}let{resolveWebStyleSymbol:o}=await i.e(5609).then(i.bind(i,55609));(0,d.Te)(t);let a=o(this,{portal:this.portal},t);a.catch(t=>{u.A.getLogger(this).error("#fetchSymbol()","Failed to create symbol from style",t)});let c=await a;return null!=r&&r.set(s,c.clone()),c}};(0,o._)([(0,c.MZ)({json:{write:!1}})],_.prototype,"color",void 0),(0,o._)([(0,c.MZ)({type:String,json:{write:!0}})],_.prototype,"styleName",void 0),(0,o._)([(0,c.MZ)({type:f.A,json:{write:!1}})],_.prototype,"portal",void 0),(0,o._)([(0,c.MZ)({type:String,json:{read:y.r,write:y.w}})],_.prototype,"styleUrl",void 0),(0,o._)([(0,c.MZ)({type:g.V,json:{read:!1}})],_.prototype,"thumbnail",void 0),(0,o._)([(0,c.MZ)({type:String,json:{write:!0}})],_.prototype,"name",void 0),(0,o._)([(0,p.e)({styleSymbolReference:"web-style"},{readOnly:!0})],_.prototype,"type",void 0),(0,o._)([(0,c.MZ)()],_.prototype,"_fetchCacheKey",null);let v=_=s=(0,o._)([(0,h.$)("esri.symbols.WebStyleSymbol")],_)},11604:(t,r,i)=>{i.d(r,{$4:()=>G,B5:()=>F,C$:()=>ee,GA:()=>en,Nv:()=>B,PD:()=>er,Pt:()=>eo,S2:()=>D,VA:()=>Y,VZ:()=>U,Vq:()=>$,WP:()=>P,Xl:()=>x,Ye:()=>L,ZJ:()=>ea,Zm:()=>z,bt:()=>I,ct:()=>C,d$:()=>X,fE:()=>J,hM:()=>Z,iX:()=>T,jD:()=>V,jp:()=>j,lV:()=>N,mm:()=>O,pc:()=>q,rQ:()=>Q,rn:()=>R,sg:()=>k,tG:()=>ei,xd:()=>es});var s=i(57664),o=i(83610),a=i(32391),u=i(30781),d=i(97409),c=i(11568),p=i(22301),h=i(87488),f=i(79516),y=i(98961),m=i(39265),g=i(71086),_=i(21221),v=i(98873),w=i(28823),b=i(55355),M=i(86099),S=i(77298),A=i(76558);let T=new u.J({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryMultiPatch:"multipatch"});async function x(t,r,i,s){let o=await W(t);if(await E(t,r,s),!o.addAttachment)throw new a.A(s,"Layer source does not support addAttachment capability");return o.addAttachment(r,i)}function E(t,r,i){let{attributes:s}=r,{objectIdField:o}=t;return t.capabilities?.data?.supportsAttachment?r?s?o&&s[o]?Promise.resolve():Promise.reject(new a.A(i,`feature is missing the identifying attribute ${o}`)):Promise.reject(new a.A(i,"'attributes' are required on a feature to query attachments")):Promise.reject(new a.A(i,"A feature is required to add/delete/update attachments")):Promise.reject(new a.A(i,"this layer doesn't support attachments"))}async function I(t,r,i,s,o){let u=await W(t);if(await E(t,r,o),!u.updateAttachment)throw new a.A(o,"Layer source does not support updateAttachment capability");return u.updateAttachment(r,i,s)}async function C(t,r,s){let{applyEdits:o}=await i.e(393).then(i.bind(i,20393)),a=await t.load(),u=s;return"feature"===a.type&&a.infoFor3D&&null!=r.deleteFeatures&&null!=a.globalIdField&&(u={...u,globalIdToObjectId:await en(a,r.deleteFeatures,a.globalIdField)}),o(a,a.source,r,s)}async function R(t,r,s){let{uploadAssets:o}=await i.e(393).then(i.bind(i,20393)),a=await t.load();return o(a,a.source,r,s)}async function O(t,r,i,s){let o=await W(t);if(await E(t,r,s),!o.deleteAttachments)throw new a.A(s,"Layer source does not support deleteAttachments capability");return o.deleteAttachments(r,i)}async function P(t,r,i){let s=(await t.load({signal:r?.signal})).source;if(!s.fetchRecomputedExtents)throw new a.A(i,"Layer source does not support fetchUpdates capability");return s.fetchRecomputedExtents(r)}async function N(t,r,i,s){r=w.A.from(r),await t.load();let o=t.source,u=t.capabilities;if(!u?.data?.supportsAttachment)throw new a.A(s,"this layer doesn't support attachments");let{attachmentTypes:d,objectIds:c,globalIds:p,num:h,size:f,start:y,where:m}=r;if(!u?.operations?.supportsQueryAttachments&&(d?.length>0||p?.length>0||f?.length>0||h||y||m))throw new a.A(s,"when 'capabilities.operations.supportsQueryAttachments' is false, only objectIds is supported",r);if(!(c?.length||p?.length||m))throw new a.A(s,"'objectIds', 'globalIds', or 'where' are required to perform attachment query",r);if(!o.queryAttachments)throw new a.A(s,"Layer source does not support queryAttachments capability",r);return!u?.attachment?.supportsOrderByFields&&r.orderByFields?.length&&((r=r.clone()).orderByFields=null),o.queryAttachments(r)}async function k(t,r,i,s){let o=await W(t);if(!o.queryObjectIds)throw new a.A(s,"Layer source does not support queryObjectIds capability");return o.queryObjectIds(M.A.from(r)??t.createQuery(),i)}async function L(t,r,i,s){let o=await W(t);if(!o.queryFeatureCount)throw new a.A(s,"Layer source does not support queryFeatureCount capability");return o.queryFeatureCount(M.A.from(r)??t.createQuery(),i)}async function F(t,r,i,s){let o=await W(t);if(!o.queryExtent)throw new a.A(s,"Layer source does not support queryExtent capability");return o.queryExtent(M.A.from(r)??t.createQuery(),i)}async function Z(t,r,i,s){let o=await W(t);if(!o.queryRelatedFeatures)throw new a.A(s,"Layer source does not support queryRelatedFeatures capability");return o.queryRelatedFeatures(S.default.from(r),i)}async function D(t,r,i,s){let o=await W(t);if(!o.queryRelatedFeaturesCount)throw new a.A(s,"Layer source does not support queryRelatedFeaturesCount capability");return o.queryRelatedFeaturesCount(S.default.from(r),i)}async function j(t){let r=t.source;if(r?.refresh)try{let{dataChanged:i,updates:s}=await r.refresh();if(null!=s&&(t.sourceJSON={...t.sourceJSON,...s},t.read(s,{origin:"service",url:t.parsedUrl})),i)return!0}catch{}if(t.definitionExpression)try{return(await (0,d.GP)(t.definitionExpression,t.fieldsIndex)).hasDateFunctions}catch{}return!1}function U(t){let r=new M.A,i=t.capabilities?.data,s=t.capabilities?.query;r.historicMoment=t.historicMoment,r.gdbVersion=t.gdbVersion,r.returnGeometry=!0,s&&(r.compactGeometryEnabled=s.supportsCompactGeometry,r.defaultSpatialReferenceEnabled=s.supportsDefaultSpatialReference),i&&(i.supportsZ&&null!=t.returnZ&&(r.returnZ=t.returnZ),i.supportsM&&null!=t.returnM&&(r.returnM=t.returnM)),r.outFields=["*"];let{timeOffset:o,timeExtent:a}=t;return r.timeExtent=null!=o&&null!=a?a.offset(-o.value,o.unit):a||null,r.multipatchOption="multipatch"===t.geometryType?"xyFootprint":null,r}function V(t){let{globalIdField:r,fields:i}=t;if(r)return r;if(i){for(let t of i)if("esriFieldTypeGlobalID"===t.type)return t.name}}function z(t){let{objectIdField:r,fields:i}=t;if(r)return r;if(i){for(let t of i)if("esriFieldTypeOID"===t.type)return t.name}}function G(t){return t.currentVersion?t.currentVersion:t.hasOwnProperty("capabilities")||t.hasOwnProperty("drawingInfo")||t.hasOwnProperty("hasAttachments")||t.hasOwnProperty("htmlPopupType")||t.hasOwnProperty("relationships")||t.hasOwnProperty("timeInfo")||t.hasOwnProperty("typeIdField")||t.hasOwnProperty("types")?10:9.3}function $(t,r,i,s){let o=i?.feature,a=!!t.subtypes?.length;if(a&&!i?.excludeImpliedDomains){let i=q(t,r);if(i)return i}let u=a&&B(t,o);if(u){let t=u?.domains?.[r];return"inherited"===t?.type?s:t}let d=es(t.types,t.typeIdField,o);if(d){let t=d.domains&&d.domains[r];if(t&&"inherited"!==t?.type)return t}if(s)return s;if(!i?.excludeImpliedDomains){let i=function(t,r){let{fieldsIndex:i}=t,{name:s,type:o}=i.get(r)??{};if(!s)return null;if(("typeIdField"in t?i.get(t.typeIdField)?.name:null)===s&&"types"in t&&t.types?.length){let r=t.types.map(t=>new h.H({code:H(t.id,o),name:t.name}));return new f.A({codedValues:r})}return null}(t,r);if(i)return i}return null}function B(t,r){let{subtypes:i,subtypeField:s}=t;if(!r?.attributes||!i?.length||!s)return null;let o=r.attributes[s];return null==o?null:i.find(t=>t.code===o)}function q(t,r){let{fieldsIndex:i,subtypeField:s}=t,{name:o,type:a}=i.get(r)??{};if(!o)return null;if((s&&i.get(s)?.name)===o&&t.subtypes?.length){let r=t.subtypes.map(t=>new h.H({code:H(t.code,a),name:t.name}));if(r?.length)return new f.A({codedValues:r})}return null}function H(t,r){return r?(0,m.yM)({type:r})&&"number"==typeof t?`${t}`:(0,m.R3)({type:r})&&"string"==typeof t?Number.parseInt(t,10):t:t}async function W(t){return(await t.load()).source}async function J(t,r){let i;if(!s.id)return;let o=s.id.findCredential(t);if(o)return o.userId;try{let o=await (0,g.wI)(t,r);o&&(i=await s.id.checkSignInStatus(`${o}/sharing`))}catch(t){}return i?i.userId:null}async function K(t,r){let i;if(s.id&&!s.id.findCredential(t)){try{let o=await (0,g.wI)(t,r);o&&(i=await s.id.checkSignInStatus(`${o}/sharing`))}catch(t){}if(i)try{let i=null!=r?r.signal:null;await s.id.getCredential(t,{signal:i})}catch(t){}}}async function Y(t,r,i){let s=t.parsedUrl?.path;s&&t.authenticationTriggerEvent===r&&await K(s,i)}async function X(t){var r,i;let s=t.parsedUrl?.path;s&&(i=r=t,!(!(0,g.CF)(i)||!i.capabilities?.query.supportsCurrentUser))&&("serviceDefinitionExpression"in r&&Q(r.serviceDefinitionExpression)||"definitionExpression"in r&&Q(r.definitionExpression))&&await K(s)}function Q(t){return!!t?.toLowerCase().includes("current_user")}function ee(t){return!eo(t)&&(t.userHasUpdateItemPrivileges||t.editingEnabled)}let et=(0,p.C)({types:A.xK});function er(t,r){if(t.defaultSymbol)return t.types?.length?new v.A({defaultSymbol:et(t.defaultSymbol,t,r),field:t.typeIdField,uniqueValueInfos:t.types.map(t=>({id:t.id,symbol:et(t.symbol,t,r)}))}):new _.A({symbol:et(t.defaultSymbol,t,r)})}function ei(t){let r=t.sourceJSON?.cacheMaxAge;if(!r)return!1;let i=t.editingInfo?.lastEditDate?.getTime();return null==i||(r*=1e3,Date.now()-i<r)}async function en(t,r,i){if(null==r)return null;let s=[],{objectIdField:a}=t;if(r.forEach(t=>{let r=null;if("attributes"in t){let{attributes:s}=t;r={globalId:s[i],objectId:null!=s[a]&&-1!==s[a]?s[a]:null}}else r={globalId:t.globalId,objectId:null!=t.objectId&&-1!==t.objectId?t.objectId:null};null!=r.globalId&&(null!=r.objectId&&-1!==r.objectId||s.push(r.globalId))}),0===s.length)return null;let u=t.createQuery();u.where=s.map(t=>`${i}='${t}'`).join(" OR "),u.returnGeometry=!1,u.outFields=[a,i],u.cacheHint=!1;let d=await (0,o.DZ)((0,y.SE)(t,u));if(!d.ok)return null;let p=new Map;for(let t of d.value.features){let r=t.attributes[i],s=t.attributes[a];null!=r&&null!=s&&-1!==s&&p.set((0,c.AG)(r),s)}return p}function es(t,r,i){if(!r||!i||!t)return null;let s=i.getAttribute(r);return null==s?null:t.find(t=>{let{id:r}=t;return null!=r&&r.toString()===s.toString()})??null}function eo(t){var r;return t.sourceJSON?.isMultiServicesView||(r=t,!!r.sourceJSON?.capabilities?.toLowerCase().split(",").map(t=>t.trim()).includes("map"))}function ea(t,r,i){let s=r?.queryAttributeBins;if(!s)throw new a.A(i,"Layer source does not support binning");switch(t.binParameters.type){case"auto-interval":if(!s.supportsAutoInterval)throw new a.A(i,"Layer source does not support auto-interval binning");if(t.binParameters.normalizationType&&(!s.supportsNormalization||!el(t.binParameters.normalizationType,s.supportedNormalizationTypes)))throw new a.A(i,"Layer source does not support normalization binning");break;case"date":if(!s.supportsDate)throw new a.A(i,"Layer source does not support date binning");if(t.binParameters.snapToData&&!s.supportsSnapToData)throw new a.A(i,"Layer source does not support snapToData binning");if(t.binParameters.returnFullIntervalBin&&!s.supportsReturnFullIntervalBin)throw new a.A(i,"Layer source does not support returnFullIntervalBin binning");break;case"fixed-boundaries":if(!s.supportsFixedBoundaries)throw new a.A(i,"Layer source does not support fixed-boundaries binning");break;case"fixed-interval":if(!s.supportsFixedInterval)throw new a.A(i,"Layer source does not support fixed-interval binning");if(t.binParameters.normalizationType&&(!s.supportsNormalization||!el(t.binParameters.normalizationType,s.supportedNormalizationTypes)))throw new a.A(i,"Layer source does not support normalization binning")}if(t.binParameters.stackBy&&!s.supportsStackBy)throw new a.A(i,"Layer source does not support stackBy binning");if(t.binParameters.splitBy&&!s.supportsSplitBy)throw new a.A(i,"Layer source does not support splitBy binning");if(t.binParameters.firstDayOfWeek&&!s.supportsFirstDayOfWeek)throw new a.A(i,"Layer source does not support firstDayOfWeek binning");let o=s?.supportedStatistics;if(t.outStatistics&&o){let r=new Map([["count","count"],["sum","sum"],["min","min"],["max","max"],["avg","avg"],["stddev","stddev"],["var","var"],["percentile-continuous","percentileContinuous"],["percentile-discrete","percentileDiscrete"],["centroid-aggregate","centroid"],["convex-hull-aggregate","convexHull"],["envelope-aggregate","envelope"]]);for(let{statisticType:s}of t.outStatistics){let t=r.get(s);if(t&&!o[t])throw new a.A(i,`Layer source does not support ${s} statistic type`)}}}function el(t,r){return null!=t&&!!r?.[b.Q.toJSON(t)]}},11886:(t,r,i)=>{i.d(r,{OA:()=>s,WL:()=>a,u$:()=>o});let s={ATTRIBUTE:1,CHILD:2,PROPERTY:3,BOOLEAN_ATTRIBUTE:4,EVENT:5,ELEMENT:6},o=t=>(...r)=>({_$litDirective$:t,values:r});class a{constructor(t){}get _$AU(){return this._$AM._$AU}_$AT(t,r,i){this._$Ct=t,this._$AM=r,this._$Ci=i}_$AS(t,r){return this.update(t,r)}update(t,r){return this.render(...r)}}},12073:(t,r,i)=>{i.d(r,{A:()=>f});var s,o=i(81856),a=i(92713),u=i(33715),d=i(91838);i(57845),i(61939);var c=i(12709),p=i(25930);let h=s=class extends a.A{constructor(t){super(t),this.isAutoGenerated=!1,this.name=null,this.alias=null,this.onStatisticField=null,this.onStatisticExpression=null,this.statisticType=null}clone(){return new s({name:this.name,alias:this.alias,isAutoGenerated:this.isAutoGenerated,onStatisticExpression:(0,u.o8)(this.onStatisticExpression),onStatisticField:this.onStatisticField,statisticType:this.statisticType})}};(0,o._)([(0,d.MZ)({type:Boolean,json:{write:!0}})],h.prototype,"isAutoGenerated",void 0),(0,o._)([(0,d.MZ)({type:String,json:{write:!0}})],h.prototype,"name",void 0),(0,o._)([(0,d.MZ)({type:String,json:{write:!0}})],h.prototype,"alias",void 0),(0,o._)([(0,d.MZ)({type:String,json:{write:!0}})],h.prototype,"onStatisticField",void 0),(0,o._)([(0,d.MZ)({type:p.A,json:{write:!0}})],h.prototype,"onStatisticExpression",void 0),(0,o._)([(0,d.MZ)({type:String,json:{write:!0}})],h.prototype,"statisticType",void 0);let f=h=s=(0,o._)([(0,c.$)("esri.layers.support.AggregateField")],h)},12274:(t,r,i)=>{i.d(r,{A:()=>h});var s,o=i(81856),a=i(28690),u=i(91838);i(57845),i(61939),i(33638);var d=i(12709),c=i(14307);let p=s=class extends a.A{constructor(t){super(t),this.name=null,this.styleUrl=null,this.styleName=null,this.portal=null}clone(){return new s({name:this.name,styleUrl:this.styleUrl,styleName:this.styleName,portal:this.portal})}};(0,o._)([(0,u.MZ)({type:String})],p.prototype,"name",void 0),(0,o._)([(0,u.MZ)({type:String})],p.prototype,"styleUrl",void 0),(0,o._)([(0,u.MZ)({type:String})],p.prototype,"styleName",void 0),(0,o._)([(0,u.MZ)({type:c.A})],p.prototype,"portal",void 0);let h=p=s=(0,o._)([(0,d.$)("esri.symbols.support.StyleOrigin")],p)},12319:(t,r,i)=>{i.d(r,{A:()=>h});var s=i(81856),o=i(71017),a=i(91838);i(57845),i(61939),i(33638);var u=i(12709),d=i(5741),c=i(14629);let p=class extends o.A.ClonableMixin(d.A){constructor(t){super(t),this.description=null,this.displayType="auto",this.orderByFields=null,this.title=null,this.type="attachments"}};(0,s._)([(0,a.MZ)({type:String,json:{write:!0}})],p.prototype,"description",void 0),(0,s._)([(0,a.MZ)({type:["auto","preview","list"],json:{write:!0}})],p.prototype,"displayType",void 0),(0,s._)([(0,a.MZ)({type:[c.A],json:{write:!0}})],p.prototype,"orderByFields",void 0),(0,s._)([(0,a.MZ)({type:String,json:{write:!0}})],p.prototype,"title",void 0),(0,s._)([(0,a.MZ)({type:["attachments"],readOnly:!0,json:{read:!1,write:{isRequired:!0}}})],p.prototype,"type",void 0);let h=p=(0,s._)([(0,u.$)("esri.popup.content.AttachmentsContent")],p)},12340:(t,r,i)=>{i.d(r,{H:()=>u,q:()=>a});var s=i(81048),o=i(97915);async function a(t){if(!t)return;let r=t.includes("-vector")?t.slice(0,t.indexOf("-vector")):t.includes("-3d")?t.slice(0,t.indexOf("-3d")):t,i=await (0,o.ud)("esri/t9n/basemaps");return i[t]||i[r]}let u={satellite:{id:"satellite",classic:!0,get thumbnailUrl(){return(0,s.s)("esri/images/basemap/satellite.jpg")},baseMapLayers:[{id:"satellite-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Imagery",showLegend:!1,visibility:!0,opacity:1}]},hybrid:{id:"hybrid",classic:!0,get thumbnailUrl(){return(0,s.s)("esri/images/basemap/hybrid.jpg")},baseMapLayers:[{id:"hybrid-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Imagery",showLegend:!1,visibility:!0,opacity:1},{id:"hybrid-reference-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/30d6b8271e1849cd9c3042060001f425/resources/styles/root.json",layerType:"VectorTileLayer",title:"Hybrid Reference Layer",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},terrain:{id:"terrain",classic:!0,get thumbnailUrl(){return(0,s.s)("esri/images/basemap/terrain.jpg")},baseMapLayers:[{id:"terrain-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Terrain_Base/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Terrain Base",showLegend:!1,visibility:!0,opacity:1},{id:"terrain-reference-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/Reference/World_Reference_Overlay/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Reference Overlay",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},oceans:{id:"oceans",classic:!0,get thumbnailUrl(){return(0,s.s)("esri/images/basemap/oceans.jpg")},baseMapLayers:[{id:"oceans-base-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Ocean/World_Ocean_Base/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Ocean Base",showLegend:!1,visibility:!0,opacity:1},{id:"oceans-reference-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Ocean/World_Ocean_Reference/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Ocean Reference",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},osm:{id:"osm",classic:!0,get thumbnailUrl(){return(0,s.s)("esri/images/basemap/osm.jpg")},baseMapLayers:[{id:"osm-base-layer",layerType:"OpenStreetMap",title:"Open Street Map",showLegend:!1,visibility:!0,opacity:1}]},"dark-gray-vector":{id:"dark-gray-vector",classic:!0,get thumbnailUrl(){return(0,s.s)("esri/images/basemap/dark-gray-vector.jpg")},baseMapLayers:[{id:"dark-gray-base-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/5e9b3685f4c24d8781073dd928ebda50/resources/styles/root.json",layerType:"VectorTileLayer",title:"Dark Gray Base",visibility:!0,opacity:1},{id:"dark-gray-reference-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/747cb7a5329c478cbe6981076cc879c5/resources/styles/root.json",layerType:"VectorTileLayer",title:"Dark Gray Reference",isReference:!0,visibility:!0,opacity:1}]},get"dark-gray"(){return{...this["dark-gray-vector"],id:"dark-gray"}},"gray-vector":{id:"gray-vector",classic:!0,get thumbnailUrl(){return(0,s.s)("esri/images/basemap/gray-vector.jpg")},baseMapLayers:[{id:"gray-base-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/291da5eab3a0412593b66d384379f89f/resources/styles/root.json",layerType:"VectorTileLayer",title:"Light Gray Base",visibility:!0,opacity:1},{id:"gray-reference-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/1768e8369a214dfab4e2167d5c5f2454/resources/styles/root.json",layerType:"VectorTileLayer",title:"Light Gray Reference",isReference:!0,visibility:!0,opacity:1}]},get gray(){return{...this["gray-vector"],id:"gray"}},"streets-vector":{id:"streets-vector",classic:!0,get thumbnailUrl(){return(0,s.s)("esri/images/basemap/streets-vector.jpg")},baseMapLayers:[{id:"streets-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/de26a3cf4cc9451298ea173c4b324736/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Streets",visibility:!0,opacity:1}]},get streets(){return{...this["streets-vector"],id:"streets"}},"topo-vector":{id:"topo-vector",classic:!0,get thumbnailUrl(){return(0,s.s)("esri/images/basemap/topo-vector.jpg")},baseMapLayers:[{id:"world-hillshade-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Hillshade",showLegend:!1,visibility:!0,opacity:1},{id:"topo-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/7dc6cea0b1764a1f9af2e679f642f0f5/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Topo",visibility:!0,opacity:1}]},get topo(){return{...this["topo-vector"],id:"topo"}},"streets-night-vector":{id:"streets-night-vector",classic:!0,get thumbnailUrl(){return(0,s.s)("esri/images/basemap/streets-night.jpg")},baseMapLayers:[{id:"streets-night-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/86f556a2d1fd468181855a35e344567f/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Streets Night",visibility:!0,opacity:1}]},"streets-relief-vector":{id:"streets-relief-vector",classic:!0,get thumbnailUrl(){return(0,s.s)("esri/images/basemap/streets-relief.jpg")},baseMapLayers:[{id:"world-hillshade-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Hillshade",showLegend:!1,visibility:!0,opacity:1},{id:"streets-relief-vector-base-layer",styleUrl:"//www.arcgis.com/sharing/rest/content/items/b266e6d17fc345b498345613930fbd76/resources/styles/root.json",title:"World Streets Relief",layerType:"VectorTileLayer",visibility:!0,opacity:1}]},"streets-navigation-vector":{id:"streets-navigation-vector",classic:!0,get thumbnailUrl(){return(0,s.s)("esri/images/basemap/streets-navigation.jpg")},baseMapLayers:[{id:"streets-navigation-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/63c47b7177f946b49902c24129b87252/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Streets Navigation",visibility:!0,opacity:1}]},"topo-3d":{id:"topo-3d",is3d:!0,get thumbnailUrl(){return(0,s.s)("esri/images/basemap/topo-3d.png")},baseMapLayers:[{id:"topo-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/1e7d1784d1ef4b79ba6764d0bd6c3150/resources/styles/root.json",layerType:"VectorTileLayer",title:"Topographic",visibility:!0,opacity:1},{id:"topo-3d-trees",title:"Trees",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Trees_Thematic_v1/SceneServer",itemId:"f75fef56b2d944fe92ef9f7737b4f953",layerType:"ArcGISSceneServiceLayer"},{id:"topo-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_DarkLabels_v1/SceneServer",itemId:"a84404ad39c64c328d0596e361ec459b",layerType:"ArcGISSceneServiceLayer"},{id:"topo-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},"navigation-3d":{id:"navigation-3d",is3d:!0,get thumbnailUrl(){return(0,s.s)("esri/images/basemap/navigation-3d.jpg")},baseMapLayers:[{id:"navigation-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/ccc904ff872b4144b94934e55e32784b/resources/styles/root.json",layerType:"VectorTileLayer",title:"Navigation",visibility:!0,opacity:1},{id:"navigation-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_DarkLabels_v1/SceneServer",itemId:"a84404ad39c64c328d0596e361ec459b",layerType:"ArcGISSceneServiceLayer"},{id:"navigation-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},"streets-3d":{id:"streets-3d",is3d:!0,get thumbnailUrl(){return(0,s.s)("esri/images/basemap/streets-3d.png")},baseMapLayers:[{id:"streets-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/198298c4c64c4cb19de5b46aa00c198d/resources/styles/root.json",layerType:"VectorTileLayer",title:"Streets",visibility:!0,opacity:1},{id:"streets-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_DarkLabels_v1/SceneServer",itemId:"a84404ad39c64c328d0596e361ec459b",layerType:"ArcGISSceneServiceLayer"},{id:"streets-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},"osm-3d":{id:"osm-3d",is3d:!0,get thumbnailUrl(){return(0,s.s)("esri/images/basemap/osm-3d.png")},baseMapLayers:[{id:"osm-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/8628d259c9d14bdc848771c23c513940/resources/styles/root.json",layerType:"VectorTileLayer",title:"OpenStreetMap",visibility:!0,opacity:1},{id:"osm-3d-trees",title:"Trees",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Trees_Thematic_v1/SceneServer",itemId:"f75fef56b2d944fe92ef9f7737b4f953",layerType:"ArcGISSceneServiceLayer"},{id:"osm-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_DarkLabels_v1/SceneServer",itemId:"a84404ad39c64c328d0596e361ec459b",layerType:"ArcGISSceneServiceLayer"},{id:"osm-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},"gray-3d":{id:"gray-3d",is3d:!0,get thumbnailUrl(){return(0,s.s)("esri/images/basemap/gray-3d.png")},baseMapLayers:[{id:"gray-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/01a14b466345455ba4176d2e6390db92/resources/styles/root.json",layerType:"VectorTileLayer",title:"Streets",visibility:!0,opacity:1},{id:"gray-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_DarkLabels_v1/SceneServer",itemId:"a84404ad39c64c328d0596e361ec459b",layerType:"ArcGISSceneServiceLayer"},{id:"gray-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},"navigation-dark-3d":{id:"navigation-dark-3d",itemId:"5a1365328b4943f09a54cf5fd1205707",is3d:!0,baseMapLayers:[{id:"navigation-dark-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/451a1777ab3f4bf095fae24a117439d9/resources/styles/root.json",layerType:"VectorTileLayer",title:"Navigation Dark"},{id:"navigation-dark-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_LightLabels_v1/SceneServer/layers/0",itemId:"f364b70b012a4da5a4b5921e193eac4a",layerType:"ArcGISSceneServiceLayer"},{id:"navigation-dark-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},"streets-dark-3d":{id:"streets-dark-3d",itemId:"8a4efa2c20484ec9b4557895e65736ff",is3d:!0,baseMapLayers:[{id:"streets-dark-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/bc599b6d741a4ac084b7eea7bf8c5938/resources/styles/root.json",layerType:"VectorTileLayer",title:"OpenStreetMap Streets Night (for 3D)"},{id:"streets-dark-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_LightLabels_v1/SceneServer",itemId:"f364b70b012a4da5a4b5921e193eac4a",layerType:"ArcGISSceneServiceLayer"},{id:"streets-dark-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},"dark-gray-3d":{id:"dark-gray-3d",itemId:"a8b7322a5fe94002bb0f5e0eeb0c5c18",is3d:!0,baseMapLayers:[{id:"dark-gray-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/4178f71acb934fb89f169e7d667c20c6/resources/styles/root.json",layerType:"VectorTileLayer",title:"OpenStreetMap Dark Gray Canvas (for 3D)"},{id:"dark-gray-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_LightLabels_v1/SceneServer/layers/0",itemId:"f364b70b012a4da5a4b5921e193eac4a",layerType:"ArcGISSceneServiceLayer"},{id:"dark-gray-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]}}},12513:(t,r,i)=>{i.d(r,{R:()=>o});var s=i(32391);let o=class t{constructor(t,r,i=""){this.major=t,this.minor=r,this._context=i}lessThan(t,r){return this.major<t||t===this.major&&this.minor<r}greaterEqual(t,r){return!this.lessThan(t,r)}validate(t){if(this.major!==t.major){let r=this._context&&this._context+":",i=this._context&&this._context+" ";throw new s.A(r+"unsupported-version",`Required major ${i}version is '${this.major}', but got '\${version.major}.\${version.minor}'`,{version:t})}}clone(){return new t(this.major,this.minor,this._context)}static parse(r,i=""){let[o,a]=r.split("."),u=/^\s*\d+\s*$/;if(!o?.match||!u.test(o))throw new s.A((i&&i+":")+"invalid-version","Expected major version to be a number, but got '${version}'",{version:r});if(!a?.match||!u.test(a))throw new s.A((i&&i+":")+"invalid-version","Expected minor version to be a number, but got '${version}'",{version:r});return new t(parseInt(o,10),parseInt(a,10),i)}}},12709:(t,r,i)=>{i.d(r,{$:()=>f}),i(57845);var s=i(61939),o=i(25995),a=i(63188),u=i(94401),d=i(62761),c=i(6414);let p=new Set,h=new Set;function f(t){return r=>{t??="esri.core.Accessor",r.prototype.declaredClass=t,function(t){let r=t.prototype,i=(0,u.tD)(r),s={};for(let t of Object.getOwnPropertyNames(i)){let r=i[t];(0,c.qk)(r),s[t]={enumerable:!0,configurable:!0,get:function(t,r){return null==r.get?function(){let r=this.__accessor__,i=r.propertiesByName.get(t);if(void 0===i)return;r.mutable&&(0,d.gc)(i);let s=r.store;return s.has(t)?s.get(t):i.metadata.value}:function(){let r=this.__accessor__,i=r.propertiesByName.get(t);if(void 0!==i)return i.getComputed(r)}}(t,r),set(i){let s=this.__accessor__;if(void 0!==s){if(s.mutable)return s.initialized&&r.readOnly?y("read-only",t):s.lifecycle===a.v.CONSTRUCTED&&r.constructOnly?y("construct-only",t):void s.set(t,i)}else Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:i})}}}Object.defineProperties(t.prototype,s)}(r);let i=[],s=[],f=r.prototype;for(;f;)f.hasOwnProperty("initialize")&&!p.has(f.initialize)&&(p.add(f.initialize),i.push(f.initialize)),f.hasOwnProperty("destroy")&&!h.has(f.destroy)&&(h.add(f.destroy),s.push(f.destroy)),f=Object.getPrototypeOf(f);p.clear(),h.clear();let m=class extends r{constructor(...t){if(super(...t),this.constructor===m&&"function"==typeof this.postscript){if(i.length&&Object.defineProperty(this,"initialize",{enumerable:!1,configurable:!0,value(){for(let t=i.length-1;t>=0;t--)i[t].call(this)}}),s.length){let t=!1,r=this[o.G];Object.defineProperty(this,"destroy",{enumerable:!1,configurable:!0,value(){if(!t){t=!0,r.call(this);for(let t=0;t<s.length;t++)s[t].call(this)}}})}Object.defineProperty(this,Symbol.dispose,{enumerable:!1,configurable:!0,value(){this.destroy()}}),this.postscript()}}};return m.__accessorMetadata__=(0,u.tD)(r.prototype),m.prototype.declaredClass=t,Object.defineProperty(m,"name",{value:(t||"AccessorSubclass").split(".").slice(-1)[0],configurable:!0}),m}}let y=(t,r)=>{s.A.getLogger("esri.core.Accessor").error(`cannot assign to ${t} property '${r}'`)}},12723:(t,r,i)=>{i.d(r,{JT:()=>u,Rc:()=>a,n8:()=>d,ns:()=>o}),i(54335);var s=i(90525);function o(t,r){return!(!t.basemap?.referenceLayers?.some(t=>t.uid===r)&&!t.basemap?.baseLayers?.some(t=>t.uid===r))}function a(t){return!!t?.baseLayers.concat(t.referenceLayers).some(u)}function u(t){if(p(t.url))return!0;if("vector-tile"===t.type)for(let r in t.sourceNameToSource){let i=t.sourceNameToSource[r];if(p(i?.sourceUrl))return!0}return!1}function d(t,r){if(null==r||null==t)return{spatialReference:null,updating:!1};if("not-loaded"===r.loadStatus)return r.load(),{spatialReference:null,updating:!0};if(r.spatialReference)return{spatialReference:r.spatialReference,updating:!1};if(0===r.baseLayers.length)return{spatialReference:null,updating:!1};let i=r.baseLayers.at(0);switch(i.loadStatus){case"not-loaded":i.load();case"loading":return{spatialReference:null,updating:!0};case"failed":return{spatialReference:null,updating:!1}}let s=(("supportedSpatialReferences"in i?i.supportedSpatialReferences:null)||["tileInfo"in i?i.tileInfo?.spatialReference:i.spatialReference]).filter(Boolean),o=t.spatialReference;return o?{spatialReference:s.find(t=>o.equals(t))??s[0]??null,updating:!1}:{spatialReference:s[0],updating:!1}}i(18876),i(12340);let c=/^(basemaps|ibasemaps).*-api\.arcgis\.com$/i;function p(t){if(!t)return!1;let r=new s.s0((0,s.s2)(t));return!!r.authority&&c.test(r.authority)}function h(t){return(e.isCollection(t)?t.toArray():t).map(f)}function f(t){return{type:t.type,effect:"effect"in t?t.effect:void 0,url:_("urlTemplate"in t&&t.urlTemplate||t.url||"styleUrl"in t&&t.styleUrl||""),minScale:"minScale"in t&&null!=t.minScale?t.minScale:0,maxScale:"maxScale"in t&&null!=t.maxScale?t.maxScale:0,opacity:null!=t.opacity?t.opacity:1,visible:null==t.visible||!!t.visible,sublayers:"map-image"!==t.type&&"wms"!==t.type||null==t.sublayers?void 0:t.sublayers?.map(t=>({id:t.id,visible:t.visible})),activeLayerId:"wmts"===t.type?t.activeLayer?.id:void 0}}function y(t){return t.isReference||"ArcGISSceneServiceLayer"===t.layerType}function m(t){return t.map(t=>(function(t){let r;switch(t.layerType){case"VectorTileLayer":r="vector-tile";break;case"ArcGISTiledMapServiceLayer":r="tile";break;case"ArcGISSceneServiceLayer":r="scene";break;default:r="unknown"}return{type:r,effect:t.effect,url:_(t.templateUrl||t.urlTemplate||t.styleUrl||t.url),minScale:t.minScale??0,maxScale:t.maxScale??0,opacity:t.opacity??1,visible:null==t.visibility||!!t.visibility,sublayers:void 0,activeLayerId:void 0}})(t))}function g(t,r){if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(!function(t,r){if(t.type!==r.type||t.url!==r.url||t.minScale!==r.minScale||t.maxScale!==r.maxScale||t.visible!==r.visible||t.opacity!==r.opacity||!l(t.effect,r.effect))return!1;if(null!=t.activeLayerId||null!=r.activeLayerId)return t.activeLayerId===r.activeLayerId;if(null!=t.sublayers||null!=r.sublayers){if(null==t.sublayers||null==r.sublayers||t.sublayers.length!==r.sublayers.length)return!1;for(let i=0;i<t.sublayers.length;i++){let s=t.sublayers.at(i),o=r.sublayers.at(i);if(s?.id!==o?.id||s?.visible!==o?.visible)return!1}}return!0}(t[i],r[i]))return!1;return!0}function _(t){return t?n(t).replace(/^\s*https?:/i,"").toLowerCase():""}},12800:(t,r,i)=>{i.d(r,{O:()=>o});var s=i(48767);let o=()=>s.A.respectPrefersReducedMotion&&window.matchMedia("(prefers-reduced-motion: reduce)").matches},13497:(t,r,i)=>{i.d(r,{A:()=>y});var s,o=i(81856),a=i(70152),u=i(92713),d=i(91838),c=i(86942);i(57845),i(33638);var p=i(12709),h=i(7780);let f=s=class extends u.A{constructor(t){super(t),this.color=null,this.label=null,this.value=null}writeValue(t,r,i){r[i]=t??0}clone(){return new s({color:this.color&&this.color.clone(),label:this.label,value:this.value})}};(0,o._)([(0,d.MZ)({type:a.A,json:{type:[c.jz],write:{isRequired:!0}}})],f.prototype,"color",void 0),(0,o._)([(0,d.MZ)({type:String,json:{write:!0}})],f.prototype,"label",void 0),(0,o._)([(0,d.MZ)({type:Number,json:{write:{writerEnsuresNonNull:!0}}})],f.prototype,"value",void 0),(0,o._)([(0,h.K)("value")],f.prototype,"writeValue",null);let y=f=s=(0,o._)([(0,p.$)("esri.renderers.visualVariables.support.ColorStop")],f)},13670:(t,r,i)=>{i.d(r,{V:()=>u});var s=i(77508),o=i(11886),a=i(7630);let u=(0,o.u$)(class extends o.WL{constructor(t){if(super(t),t.type!==o.OA.PROPERTY&&t.type!==o.OA.ATTRIBUTE&&t.type!==o.OA.BOOLEAN_ATTRIBUTE)throw Error("The `live` directive is not allowed on child or event bindings");if(!(0,a.Rt)(t))throw Error("`live` bindings can only contain a single expression")}render(t){return t}update(t,[r]){if(r===s.c0||r===s.s6)return r;let i=t.element,u=t.name;if(t.type===o.OA.PROPERTY){if(r===i[u])return s.c0}else if(t.type===o.OA.BOOLEAN_ATTRIBUTE){if(!!r===i.hasAttribute(u))return s.c0}else if(t.type===o.OA.ATTRIBUTE&&i.getAttribute(u)===r+"")return s.c0;return(0,a.mY)(t),r}})},13784:(t,r,i)=>{i.d(r,{a:()=>M,b:()=>h,c:()=>o,d:()=>y,e:()=>S,f:()=>g,g:()=>u,h:()=>v,j:()=>m,l:()=>w,n:()=>_,s:()=>a,t:()=>b});var s=i(19461);function o(t,r){return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t}function a(t,r,i,s,o){return t[0]=r,t[1]=i,t[2]=s,t[3]=o,t}function u(t,r,i){return t[0]=r[0]+i[0],t[1]=r[1]+i[1],t[2]=r[2]+i[2],t[3]=r[3]+i[3],t}function d(t,r,i){return t[0]=r[0]-i[0],t[1]=r[1]-i[1],t[2]=r[2]-i[2],t[3]=r[3]-i[3],t}function c(t,r,i){return t[0]=r[0]*i[0],t[1]=r[1]*i[1],t[2]=r[2]*i[2],t[3]=r[3]*i[3],t}function p(t,r,i){return t[0]=r[0]/i[0],t[1]=r[1]/i[1],t[2]=r[2]/i[2],t[3]=r[3]/i[3],t}function h(t,r,i){return t[0]=r[0]*i,t[1]=r[1]*i,t[2]=r[2]*i,t[3]=r[3]*i,t}function f(t,r){let i=r[0]-t[0],s=r[1]-t[1],o=r[2]-t[2],a=r[3]-t[3];return Math.sqrt(i*i+s*s+o*o+a*a)}function y(t,r){let i=r[0]-t[0],s=r[1]-t[1],o=r[2]-t[2],a=r[3]-t[3];return i*i+s*s+o*o+a*a}function m(t){let r=t[0],i=t[1],s=t[2],o=t[3];return Math.sqrt(r*r+i*i+s*s+o*o)}function g(t){let r=t[0],i=t[1],s=t[2],o=t[3];return r*r+i*i+s*s+o*o}function _(t,r){let i=r[0],s=r[1],o=r[2],a=r[3],u=i*i+s*s+o*o+a*a;return u>0&&(u=1/Math.sqrt(u),t[0]=i*u,t[1]=s*u,t[2]=o*u,t[3]=a*u),t}function v(t,r){return t[0]*r[0]+t[1]*r[1]+t[2]*r[2]+t[3]*r[3]}function w(t,r,i,s){let o=r[0],a=r[1],u=r[2],d=r[3];return t[0]=o+s*(i[0]-o),t[1]=a+s*(i[1]-a),t[2]=u+s*(i[2]-u),t[3]=d+s*(i[3]-d),t}function b(t,r,i){let s=r[0],o=r[1],a=r[2],u=r[3];return t[0]=i[0]*s+i[4]*o+i[8]*a+i[12]*u,t[1]=i[1]*s+i[5]*o+i[9]*a+i[13]*u,t[2]=i[2]*s+i[6]*o+i[10]*a+i[14]*u,t[3]=i[3]*s+i[7]*o+i[11]*a+i[15]*u,t}function M(t,r){return t[0]===r[0]&&t[1]===r[1]&&t[2]===r[2]&&t[3]===r[3]}function S(t,r){let i=t[0],o=t[1],a=t[2],u=t[3],d=r[0],c=r[1],p=r[2],h=r[3],f=(0,s.FD)();return Math.abs(i-d)<=f*Math.max(1,Math.abs(i),Math.abs(d))&&Math.abs(o-c)<=f*Math.max(1,Math.abs(o),Math.abs(c))&&Math.abs(a-p)<=f*Math.max(1,Math.abs(a),Math.abs(p))&&Math.abs(u-h)<=f*Math.max(1,Math.abs(u),Math.abs(h))}Object.freeze(Object.defineProperty({__proto__:null,add:u,ceil:function(t,r){return t[0]=Math.ceil(r[0]),t[1]=Math.ceil(r[1]),t[2]=Math.ceil(r[2]),t[3]=Math.ceil(r[3]),t},copy:o,copyVec3:function(t,r){return t[0]=r[0],t[1]=r[1],t[2]=r[2],t},dist:f,distance:f,div:p,divide:p,dot:v,equals:S,exactEquals:M,floor:function(t,r){return t[0]=Math.floor(r[0]),t[1]=Math.floor(r[1]),t[2]=Math.floor(r[2]),t[3]=Math.floor(r[3]),t},inverse:function(t,r){return t[0]=1/r[0],t[1]=1/r[1],t[2]=1/r[2],t[3]=1/r[3],t},len:m,length:m,lerp:w,max:function(t,r,i){return t[0]=Math.max(r[0],i[0]),t[1]=Math.max(r[1],i[1]),t[2]=Math.max(r[2],i[2]),t[3]=Math.max(r[3],i[3]),t},min:function(t,r,i){return t[0]=Math.min(r[0],i[0]),t[1]=Math.min(r[1],i[1]),t[2]=Math.min(r[2],i[2]),t[3]=Math.min(r[3],i[3]),t},mul:c,multiply:c,negate:function(t,r){return t[0]=-r[0],t[1]=-r[1],t[2]=-r[2],t[3]=-r[3],t},normalize:_,random:function(t,r=1){let i,o,a,u,d,c,p=s.Ov;do d=(i=2*p()-1)*i+(o=2*p()-1)*o;while(d>=1);do c=(a=2*p()-1)*a+(u=2*p()-1)*u;while(c>=1);let h=Math.sqrt((1-d)/c);return t[0]=r*i,t[1]=r*o,t[2]=r*a*h,t[3]=r*u*h,t},round:function(t,r){return t[0]=Math.round(r[0]),t[1]=Math.round(r[1]),t[2]=Math.round(r[2]),t[3]=Math.round(r[3]),t},scale:h,scaleAndAdd:function(t,r,i,s){return t[0]=r[0]+i[0]*s,t[1]=r[1]+i[1]*s,t[2]=r[2]+i[2]*s,t[3]=r[3]+i[3]*s,t},set:a,sqrDist:y,sqrLen:g,squaredDistance:y,squaredLength:g,str:function(t){return"vec4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"},sub:d,subtract:d,transformMat4:b,transformQuat:function(t,r,i){let s=r[0],o=r[1],a=r[2],u=i[0],d=i[1],c=i[2],p=i[3],h=p*s+d*a-c*o,f=p*o+c*s-u*a,y=p*a+u*o-d*s,m=-u*s-d*o-c*a;return t[0]=h*p+-(m*u)+-(f*c)- -(y*d),t[1]=f*p+-(m*d)+-(y*u)- -(h*c),t[2]=y*p+-(m*c)+-(h*d)- -(f*u),t[3]=r[3],t}},Symbol.toStringTag,{value:"Module"}))},13852:(t,r,i)=>{i.d(r,{A:()=>y});var s,o=i(81856),a=i(92713),u=i(91838);i(57845),i(61939),i(33638);var d=i(53480),c=i(12709),p=i(7780),h=i(91839);let f=s=class extends a.A{constructor(){super(...arguments),this.expression=null,this.title=null,this.value=null}readExpression(t,r){return r.value?(0,h.mX)(r.value):t}writeExpression(t,r,i){null!=this.value&&(t=(0,h.mX)(this.value)),null!=t&&(r[i]=t)}clone(){return new s({expression:this.expression,title:this.title,value:this.value})}};(0,o._)([(0,u.MZ)({type:String,json:{write:{writerEnsuresNonNull:!0}}})],f.prototype,"expression",void 0),(0,o._)([(0,d.w)("expression",["expression","value"])],f.prototype,"readExpression",null),(0,o._)([(0,p.K)("expression")],f.prototype,"writeExpression",null),(0,o._)([(0,u.MZ)({type:String,json:{write:!0,origins:{"web-scene":{write:!1}}}})],f.prototype,"title",void 0),(0,o._)([(0,u.MZ)({json:{read:!1,write:!1}})],f.prototype,"value",void 0);let y=f=s=(0,o._)([(0,c.$)("esri.layers.support.LabelExpressionInfo")],f)},13907:(t,r,i)=>{i.d(r,{$0:()=>W,AU:()=>T,C:()=>C,FT:()=>V,GL:()=>D,Hn:()=>L,Ji:()=>B,RG:()=>j,UR:()=>K,WK:()=>Y,XR:()=>q,Z7:()=>O,aA:()=>et,b:()=>P,b8:()=>N,cp:()=>U,hV:()=>z,iB:()=>R,nr:()=>$,qV:()=>X,ri:()=>F,s5:()=>G,tj:()=>H,vt:()=>I});var s=i(66342),o=i(54335),a=i(20538),u=i(8922),d=i(19461),c=i(44460),p=i(55130),h=i(54036),f=i(35430),y=i(61414),m=i(88070),g=i(39960),_=i(65111),v=i(91463),w=i(25606),b=i(71760);let M=180/Math.PI;function S(t){return t.wkid?t:t.spatialReference||v.A.WGS84}function A(t,r){return r.type?(0,h.hZ)(t,r.x,r.y):(0,h.C)(t,r)}function T(t,r,i=0){let s=t.width,o=t.height;if(0!==i){let r=(0,a.kU)(i),u=Math.abs(Math.cos(r)),d=Math.abs(Math.sin(r));s=t.width*u+t.height*d,o=t.width*d+t.height*u}return Math.max(s/Math.max(1,r[0]),o/Math.max(1,r[1]))*function(t){return(0,b.fn)(t)?39.37*(0,u.GA)(t)*96:1}(t.spatialReference)}async function x(t,r,i,s){let a,u;if(!t||Array.isArray(t)&&!t.length)return null;if(o.A.isCollection(t)&&(t=t.toArray()),Array.isArray(t)&&t.length&&"object"==typeof t[0]){let o=t.every(t=>"attributes"in t),a=t.some(t=>!t.geometry),u=t;if(o&&a&&r&&r.allLayerViews){let i=new Map;for(let r of t){let t=r.layer,s=i.get(t)||[],o=r.attributes[t.objectIdField];null!=o&&s.push(o),i.set(t,s)}let s=[];i.forEach((t,i)=>{let o=r.allLayerViews?.find(t=>t.layer.id===i.id);if(o&&"queryFeatures"in o){let r=i.createQuery();r.objectIds=t,r.returnGeometry=!0,s.push(o.queryFeatures(r))}});let o=await Promise.all(s),a=[];for(let t of o)if(t&&t.features&&t.features.length)for(let r of t.features)null!=r.geometry&&a.push(r.geometry);u=a}for(let t of u)s=await x(t,r,i,s);return s}if(Array.isArray(t)&&2===t.length&&"number"==typeof t[0]&&"number"==typeof t[1])a=new g.A(t);else if(t instanceof m.A)a=t;else if("geometry"in t){if(t.geometry)a=t.geometry;else if(t.layer){let i=t.layer,s=r.allLayerViews?.find(t=>t.layer.id===i.id);if(s&&"queryFeatures"in s){let r=i.createQuery();r.objectIds=[t.attributes[i.objectIdField]],r.returnGeometry=!0;let o=await s.queryFeatures(r);a=o?.features?.[0]?.geometry}}}if(null==a)return null;switch(a.type){case"point":u=new y.A({xmin:a.x,ymin:a.y,xmax:a.x,ymax:a.y,spatialReference:a.spatialReference});break;case"extent":case"multipoint":case"polygon":case"polyline":u=(0,w.Hr)(a);break;default:u=a.extent}if(!u)return null;(0,_.isLoaded)()||(0,_.canProjectWithoutEngine)(u.spatialReference,i)||await (0,_.load)();let d=(0,_.project)(u,i);if(!d)return null;if(s){let t=d.center,r=t.clone();r.x=(0,w.O7)(t.x,s.center.x,i),r.x!==t.x&&d.centerAt(r),s=s.union(d)}else s=d;return s}function E(t,r){let i=S(t);return(0,b.aI)(i,r)||i.imageCoordinateSystem||r.imageCoordinateSystem?t:(0,_.project)(t,r)}async function I(t,r){if(!t||!r)return new s.A({targetGeometry:new g.A,scale:0,rotation:0});let i=r.spatialReference,{constraints:o,padding:a,viewpoint:u,size:d}=r,c=[a?d[0]-a.left-a.right:d[0],a?d[1]-a.top-a.bottom:d[1]],p=null;t instanceof s.A?p=t:t.viewpoint?p=t.viewpoint:t.target&&"esri.Viewpoint"===t.target.declaredClass&&(p=t.target);let h=null;p?.targetGeometry?h=p.targetGeometry:t instanceof y.A?h=t:t instanceof m.A?h=await x(t,r,i):t&&(h=await x(t.center,r,i)||await x(t.target,r,i)||await x(t,r,i)),!h&&u?.targetGeometry?h=u.targetGeometry:!h&&r.extent&&(h=r.extent),i||(i=S(r.spatialReference||r.extent||h)),(0,_.isLoaded)()||(0,b.aI)(h.spatialReference,i)||(0,_.canProjectWithoutEngine)(h.spatialReference,i)||await (0,_.load)();let f=E(h,i),v="center"in f?f.center:f;!1!==r.pickClosestTarget&&"point"===v.type&&"point"===u.targetGeometry?.type&&(v.x=(0,w.O7)(v.x,u.targetGeometry.x,v.spatialReference));let M=0;p?M=p.rotation:t.hasOwnProperty("rotation")?M=t.rotation:u&&(M=u.rotation);let A=0;A=null!=p?.targetGeometry&&"point"===p.targetGeometry.type?p.scale:"scale"in t&&t.scale?t.scale:"zoom"in t&&-1!==t.zoom&&o&&o.effectiveLODs?o.zoomToScale(t.zoom):Array.isArray(h)||"point"===h.type||"extent"===h.type&&0===h.width&&0===h.height?u.scale:T(E(h.extent,i),c,M);let I=function(t){if(t&&(!Array.isArray(t)||"number"!=typeof t[0])&&("object"==typeof t||Array.isArray(t)&&"object"==typeof t[0])){if("layer"in t&&null!=t.layer?.minScale&&null!=t.layer.maxScale){let r=t.layer;return{min:r.minScale,max:r.maxScale}}if(Array.isArray(t)&&t.length&&t.every(t=>"layer"in t)){let r=0,i=0;for(let s of t){let t=s.layer;t?.minScale&&t.maxScale&&(r=t.minScale<r?t.minScale:r,i=t.maxScale>i?t.maxScale:i)}return r&&i?{min:r,max:i}:null}}}(t.target??t);I&&(I.min&&I.min<A?A=I.min:I.max&&I.max>A&&(A=I.max));let C=new s.A({targetGeometry:v,scale:A,rotation:M});return o&&(C=o.fit(C),o.constrainByGeometry(C),o.rotationEnabled||(C.rotation=u.rotation)),C}function C(t,r){let i=t.targetGeometry,s=r.targetGeometry;return i.x=s.x,i.y=s.y,i.spatialReference=s.spatialReference,t.scale=r.scale,t.rotation=r.rotation,t}function R(t,r,i){return i?(0,h.hZ)(t,.5*(r[0]-i.right+i.left),.5*(r[1]-i.bottom+i.top)):(0,h.hs)(t,r,.5)}let O=function(){let t=(0,f.vt)();return function(r,i,s){let o=i.targetGeometry;A(t,o);let a=.5*L(i);return r.xmin=t[0]-a*s[0],r.ymin=t[1]-a*s[1],r.xmax=t[0]+a*s[0],r.ymax=t[1]+a*s[1],r.spatialReference=o.spatialReference,r}}();function P(t,r,i,s,o){return B(t,r,i.center),t.scale=T(i,s),o?.constraints?.constrain(t),t}let N=function(){let t=(0,f.vt)();return function(r,i,s){var o,a;return(0,h.jb)(r,(o=r,a=i,(0,h.hs)(o,a,.5)),R(t,i,s))}}(),k=function(){let t=(0,p.vt)(),r=(0,f.vt)();return function(i,s,o,a){let u=L(s),d=Z(s);return(0,h.hZ)(r,u,u),(0,c.CV)(t,r),(0,c.e$)(t,t,d),(0,c.Tl)(t,t,N(r,o,a)),(0,c.Tl)(t,t,[0,a.top-a.bottom]),(0,h.hZ)(i,t[4],t[5])}}();function L(t){return t.scale*F(t.targetGeometry?.spatialReference)}function F(t){return(0,b.fn)(t)?1/(39.37*(0,u.GA)(t)*96):1}function Z(t){return(0,d.DF)(t.rotation)||0}let D=function(){let t=(0,f.vt)(),r=(0,f.vt)(),i=(0,f.vt)();return function(s,o,a,u,d,p){return(0,h.ze)(t,o),(0,h.hs)(r,a,.5*p),(0,h.hZ)(i,1/u*p,-1/u*p),(0,c.kN)(s,r),d&&(0,c.e$)(s,s,d),(0,c.hs)(s,s,i),(0,c.Tl)(s,s,t),s}}(),j=function(){let t=(0,f.vt)();return function(r,i,s,o){let a=L(i),u=Z(i);return A(t,i.targetGeometry),D(r,t,s,a,u,o)}}(),U=function(){let t=(0,f.vt)();return function(r,i,s,o){let a=L(i);return A(t,i.targetGeometry),D(r,t,s,a,0,o)}}();function V(t){let r=(0,b.Vp)(t);return r?r.valid[1]-r.valid[0]:0}function z(t,r){return Math.round(V(t)/r)}let G=function(){let t=(0,f.vt)(),r=(0,f.vt)(),i=[0,0,0];return function(s,o,a){(0,h.Re)(t,s,o),(0,h.S8)(t,t),(0,h.Re)(r,s,a),(0,h.S8)(r,r),(0,h.$A)(i,t,r);let u=Math.acos((0,h.Om)(t,r)/((0,h.Bw)(t)*(0,h.Bw)(r)))*M;return i[2]<0&&(u=-u),isNaN(u)&&(u=0),u}}(),$=function(){let t=(0,f.vt)();return function(r,i,s,o){let a=r.targetGeometry;return C(r,i),k(t,i,s,o),a.x+=t[0],a.y+=t[1],r}}(),B=function(t,r,i){C(t,r);let s=t.targetGeometry;return s.x=i.x,s.y=i.y,s.spatialReference=i.spatialReference,t},q=function(){let t=(0,f.vt)();return function(r,i,s,o,a){a||(a="center"),(0,h.jb)(t,s,o),(0,h.hs)(t,t,.5);let u=t[0],d=t[1];switch(a){case"center":(0,h.hZ)(t,0,0);break;case"left":(0,h.hZ)(t,-u,0);break;case"top":(0,h.hZ)(t,0,d);break;case"right":(0,h.hZ)(t,u,0);break;case"bottom":(0,h.hZ)(t,0,-d);break;case"top-left":(0,h.hZ)(t,-u,d);break;case"bottom-left":(0,h.hZ)(t,-u,-d);break;case"top-right":(0,h.hZ)(t,u,d);break;case"bottom-right":(0,h.hZ)(t,u,-d)}return et(r,i,t),r}}();function H(t,r,i){return C(t,r),t.rotation+=i,t}function W(t,r,i){return C(t,r),t.rotation=i,t}let J=function(){let t=(0,f.vt)();return function(r,i,s,o,a){return C(r,i),isNaN(s)||0===s||(Q(t,o,i,a),r.scale=i.scale*s,ee(t,t,r,a),et(r,r,(0,h.hZ)(t,t[0]-o[0],o[1]-t[1]))),r}}();function K(t,r,i){return C(t,r),t.scale=i,t}let Y=function(){let t=(0,f.vt)();return function(r,i,s,o,a,u){return C(r,i),isNaN(s)||0===s||(Q(t,a,i,u),r.scale=i.scale*s,r.rotation+=o,ee(t,t,r,u),et(r,r,(0,h.hZ)(t,t[0]-a[0],a[1]-t[1]))),r}}(),X=function(){let t=(0,f.vt)(),r=(0,f.vt)();return function(i,s,o,a,u,d,c){return N(r,d,c),(0,h.WQ)(t,u,r),a?Y(i,s,o,a,t,d):J(i,s,o,t,d)}}(),Q=function(){let t=(0,p.vt)();return function(r,i,s,o){return(0,h.l0)(r,i,(j(t,s,o,1),(0,c.B8)(t,t)))}}(),ee=function(){let t=(0,p.vt)();return function(r,i,s,o){return(0,h.l0)(r,i,j(t,s,o,1))}}(),et=function(){let t=(0,f.vt)(),r=(0,p.vt)();return function(i,s,o){C(i,s);let a=L(s),u=i.targetGeometry;return(0,c.$0)(r,Z(s)),(0,c.hs)(r,r,(0,f.fA)(a,a)),(0,h.l0)(t,o,r),u.x+=t[0],u.y+=t[1],i}}()},14307:(t,r,i)=>{let s,o;i.d(r,{A:()=>N});var a,u=i(81856),d=i(48767),c=i(57664),p=i(39166),h=i(32391),f=i(92713),y=i(31551),m=i(40941),g=i(92753),_=i(91838),v=i(86942);i(57845),i(33638);var w=i(53480),b=i(12709),M=i(61414),S=i(28105),A=i(87085),T=i(78616),x=i(28690);i(61939);let E=class extends x.A{constructor(t){super(t),this.nextQueryParams=null,this.queryParams=null,this.results=null,this.total=null}};(0,u._)([(0,_.MZ)()],E.prototype,"nextQueryParams",void 0),(0,u._)([(0,_.MZ)()],E.prototype,"queryParams",void 0),(0,u._)([(0,_.MZ)()],E.prototype,"results",void 0),(0,u._)([(0,_.MZ)()],E.prototype,"total",void 0);let I=E=(0,u._)([(0,b.$)("esri.portal.PortalQueryResult")],E);var C=i(37360),R=i(75683);let O={PortalGroup:()=>Promise.resolve({default:A.A}),PortalItem:()=>Promise.resolve().then(i.bind(i,28015)),PortalUser:()=>Promise.resolve({default:C.A})},P=a=class extends f.A.JSONSupportMixin(y.A){constructor(t){super(t),this._esriIdCredentialCreateHandle=null,this.access=null,this.allSSL=!1,this.authMode="auto",this.authorizedCrossOriginDomains=null,this.basemapGalleryGroupQuery=null,this.basemapGalleryGroupQuery3D=null,this.bingKey=null,this.canListApps=!1,this.canListData=!1,this.canListPreProvisionedItems=!1,this.canProvisionDirectPurchase=!1,this.canSearchPublic=!0,this.canShareBingPublic=!1,this.canSharePublic=!1,this.canSignInArcGIS=!1,this.canSignInIDP=!1,this.colorSetsGroupQuery=null,this.commentsEnabled=!1,this.created=null,this.culture=null,this.customBaseUrl=null,this.default3DBasemapQuery=null,this.defaultBasemap=null,this.defaultDevBasemap=null,this.defaultExtent=null,this.defaultVectorBasemap=null,this.description=null,this.devBasemapGalleryGroupQuery=null,this.eueiEnabled=null,this.featuredGroups=null,this.featuredItemsGroupQuery=null,this.galleryTemplatesGroupQuery=null,this.layoutGroupQuery=null,this.livingAtlasGroupQuery=null,this.hasCategorySchema=!1,this.hasClassificationSchema=!1,this.helperServices=null,this.homePageFeaturedContent=null,this.homePageFeaturedContentCount=null,this.httpPort=null,this.httpsPort=null,this.id=null,this.ipCntryCode=null,this.isPortal=!1,this.isReadOnly=!1,this.layerTemplatesGroupQuery=null,this.maxTokenExpirationMinutes=null,this.modified=null,this.name=null,this.portalHostname=null,this.portalMode=null,this.portalProperties=null,this.region=null,this.recycleBinEnabled=!1,this.rotatorPanels=null,this.showHomePageDescription=!1,this.sourceJSON=null,this.supportsHostedServices=!1,this.symbolSetsGroupQuery=null,this.templatesGroupQuery=null,this.units=null,this.url=d.A.portalUrl,this.urlKey=null,this.user=null,this.use3dBasemaps=!0,this.useDefault3dBasemap=!1,this.useStandardizedQuery=!1,this.useVectorBasemaps=!1,this.vectorBasemapGalleryGroupQuery=null}normalizeCtorArgs(t){return"string"==typeof t?{url:t}:t}destroy(){k.unregister(this),this.defaultBasemap=(0,m.pR)(this.defaultBasemap),this.defaultDevBasemap=(0,m.pR)(this.defaultDevBasemap),this.defaultVectorBasemap=(0,m.pR)(this.defaultVectorBasemap),this._esriIdCredentialCreateHandle=(0,m.xt)(this._esriIdCredentialCreateHandle)}readAuthorizedCrossOriginDomains(t){if(t)for(let r of t)d.A.request.trustedServers.includes(r)||d.A.request.trustedServers.push(r);return t}readDefaultBasemap(t){return this._readBasemap(t)}readDefaultDevBasemap(t){return this._readBasemap(t)}readDefaultVectorBasemap(t){return this._readBasemap(t)}get extraQuery(){let t=!this.user?.orgId||this.canSearchPublic;return this.id&&!t?` AND orgid:${this.id}`:null}get hasAPIKey(){return(0,R.Jn)(this.url)}get isOrganization(){return!!this.access}get itemPageUrl(){return this.url?`${this.url}/home/item.html`:null}get restUrl(){let t=this.url;if(t){let r=t.indexOf("/sharing");t=(r>0?t.slice(0,r):this.url.replace(/\/+$/,""))+"/sharing/rest"}return t}get thumbnailUrl(){let t=this.restUrl,r=this.thumbnail;return t&&r?this._normalizeSSL(t+"/portals/self/resources/"+r):null}readUrlKey(t){return t?t.toLowerCase():t}readUser(t){let r=null;return t&&((r=C.A.fromJSON(t)).portal=this),r}load(t){let r=Promise.resolve().then(i.bind(i,90550)).then(({default:r})=>{(0,g.Te)(t),o=r}).then(()=>this.sourceJSON?this.sourceJSON:this.fetchSelf(this.authMode,!1,t)).then(t=>{if(!this.hasAPIKey&&c.id){let t=c.id;this.credential=t.findCredential(this.restUrl),this.credential||this.authMode!==a.AUTH_MODE_AUTO&&this.authMode!==a.AUTH_MODE_NO_PROMPT||(this._esriIdCredentialCreateHandle?.remove(),this._esriIdCredentialCreateHandle=t.on("credential-create",function(t){let r=c.id;return()=>{let i=t.deref();i&&r.findCredential(i.restUrl)&&i.signIn().catch(()=>{})}}(new WeakRef(this))),k.register(this,this._esriIdCredentialCreateHandle,this))}this.sourceJSON=t,this.read(t)});return this.addResolvingPromise(r),Promise.resolve(this)}async createElevationLayers(){await this.load();let t=this._getHelperService("defaultElevationLayers"),r=(await i.e(379).then(i.bind(i,50379))).default;return t?t.map(t=>new r({id:t.id,url:t.url})):[]}async fetchBasemaps(t,r){let i=await this._fetchBasemaps(t,r);if(!0===r?.include3d&&!1!==this.use3dBasemaps){let s=await this._fetchBasemaps3D(t,r);i.unshift(...s)}return i}async fetchDefault3DBasemap(t){if(!this.useDefault3dBasemap||!this.default3DBasemapQuery||"none"===this.default3DBasemapQuery)return null;let r=new T.A;r.query=this.default3DBasemapQuery,r.disableExtraQuery=!0;let i=(await this.queryItems(r,t)).results.find(t=>"Web Scene"===t.type);return i?new o({portalItem:i}):null}fetchCategorySchema(t){return this.hasCategorySchema?this.request(this.restUrl+"/portals/self/categorySchema",t).then(t=>t.categorySchema):(0,g.G4)(t)?Promise.reject((0,g.NK)()):Promise.resolve([])}async fetchClassificationSchema(t){return this.hasClassificationSchema?this.request(this.restUrl+"/portals/self/classification/classificationSchema",t).then(t=>t.classificationSchema):null}fetchFeaturedGroups(t){let r=this.featuredGroups,i=new T.A({num:100,sortField:"title"});if(r?.length){let s=[];for(let t of r)s.push(`(title:"${t.title}" AND owner:${t.owner})`);return i.query=s.join(" OR "),this.queryGroups(i,t).then(t=>t.results)}return(0,g.G4)(t)?Promise.reject((0,g.NK)()):Promise.resolve([])}fetchRegions(t){let r=this.user?.culture||this.culture||(0,S.JK)();return this.request(this.restUrl+"/portals/regions",{...t,query:{culture:r}})}fetchSettings(t){let r=this.user?.culture||this.culture||(0,S.JK)();return this.request(this.restUrl+"/portals/self/settings",{...t,query:{culture:r}})}static getDefault(){var t;return t=()=>new a,s&&!s.destroyed||(s=t()),s}queryGroups(t,r){return this.queryPortal("/community/groups",t,"PortalGroup",r)}queryItems(t,r){return this.queryPortal("/search",t,"PortalItem",r)}queryUsers(t,r){return t.sortField||(t.sortField="username"),this.queryPortal("/community/users",t,"PortalUser",r)}fetchSelf(t=this.authMode,r=!1,i){let s=this.restUrl+"/portals/self",o={authMode:t,query:{culture:(0,S.JK)().toLowerCase()},withCredentials:!0,...i};return"auto"===o.authMode&&(o.authMode="no-prompt"),r&&(o.query.default=!0),this.request(s,o)}queryPortal(t,r,i,s){let o=(0,v.dp)(T.A,r),u=r=>this.request(this.restUrl+t,{...o.toRequestOptions(this),...s}).then(t=>{let i=o.clone();return i.start=t.nextStart,new I({nextQueryParams:i,queryParams:o,total:t.total,results:a._resultsToTypedArray(r,{portal:this},t,s)})}).then(t=>Promise.all(t.results.map(r=>"function"==typeof r.when?r.when():t)).then(()=>t,r=>((0,g.QP)(r),t)));return i&&O[i]?O[i]().then(({default:t})=>((0,g.Te)(s),u(t))):u()}signIn(){if(this.hasAPIKey)return this.load().then(()=>{if(!this.user)throw new h.A("portal:not-authenticated","Unable to authenticate user. Portal.user is missing")});if(this.authMode===a.AUTH_MODE_ANONYMOUS||this.authMode===a.AUTH_MODE_NO_PROMPT&&!c.id)return Promise.reject(new h.A("portal:invalid-auth-mode",`Current "authMode"' is "${this.authMode}"`));if("failed"===this.loadStatus)return Promise.reject(this.loadError);let t=t=>Promise.resolve().then(()=>"not-loaded"===this.loadStatus?(t||(this.authMode="immediate"),this.load().then(()=>null)):"loading"===this.loadStatus?this.load().then(()=>this.credential?null:(this.credential=t,this.fetchSelf("immediate"))):this.user&&this.credential===t?null:(this.credential=t,this.fetchSelf("immediate"))).then(t=>{t&&(this.sourceJSON=t,this.read(t))});return c.id?c.id.getCredential(this.restUrl,{prompt:this.authMode!==a.AUTH_MODE_NO_PROMPT}).then(r=>t(r)):t(this.credential)}normalizeUrl(t){let r=this.credential?.token;return this._normalizeSSL(r?t+(t.includes("?")?"&":"?")+"token="+r:t)}requestToTypedArray(t,r,i){return this.request(t,r).then(t=>{let r=a._resultsToTypedArray(i,{portal:this},t);return Promise.all(r.map(r=>"function"==typeof r.when?r.when():t)).then(()=>r,()=>r)})}request(t,r={}){let i={f:"json",...r.query},{authMode:s=this.authMode===a.AUTH_MODE_ANONYMOUS||this.authMode===a.AUTH_MODE_NO_PROMPT?this.authMode:"auto",body:o=null,cacheBust:u=!1,method:d="auto",responseType:c="json",signal:h}=r,f={authMode:s,body:o,cacheBust:u,method:d,query:i,responseType:c,timeout:0,signal:h};return r.withCredentials&&(f.withCredentials=!0),(0,p.A)(this._normalizeSSL(t),f).then(t=>t.data)}toJSON(){throw new h.A("internal:not-yet-implemented","Portal.toJSON is not yet implemented")}static fromJSON(t){if(!t)return null;if(t.declaredClass)throw Error("JSON object is already hydrated");return new a({sourceJSON:t})}_getHelperService(t){let r=this.helperServices&&this.helperServices[t];if(!r)throw new h.A("portal:service-not-found",`The \`helperServices\` do not include an entry named "${t}"`);return r}async _fetchBasemaps(t,r){let i=new T.A;i.query=t||(this.hasAPIKey?this.devBasemapGalleryGroupQuery:this.useVectorBasemaps?this.vectorBasemapGalleryGroupQuery:this.basemapGalleryGroupQuery),i.disableExtraQuery=!0;let s=await this.queryGroups(i,r);if(!s.total)return[];let a=s.results[0];i.num=100,i.query='type:"Web Map" -type:"Web Application"',i.sortField=a.sortField||"name",i.sortOrder=a.sortOrder||"desc";let u=await a.queryItems(i,r);return u.total?u.results.filter(t=>"Web Map"===t.type).map(t=>new o({portalItem:t})):[]}async _fetchBasemaps3D(t,r){let i=t||this.basemapGalleryGroupQuery3D;if(!i||this.hasAPIKey)return[];let s=new T.A({query:i,disableExtraQuery:!0}),a=await this.queryGroups(s,r);if(!a.total)return[];let u=a.results[0];s.num=100,s.query='type:"Web Scene"',s.sortField=u.sortField||"name",s.sortOrder=u.sortOrder||"desc";let d=await u.queryItems(s,r);return d.total?d.results.filter(t=>"Web Scene"===t.type).map(t=>new o({portalItem:t})):[]}_normalizeSSL(t){return t.replace(/^http:/i,"https:").replace(":7080",":7443")}_readBasemap(t){if(t){let r=o.fromJSON(t);return r.portalItem={portal:this},r}return null}static _resultsToTypedArray(t,r,i,s){let o;if(i){let a=null!=s?s.signal:null;o=i.listings||i.notifications||i.userInvitations||i.tags||i.items||i.groups||i.comments||i.provisions||i.results||i.relatedItems||i,(t||r)&&(o=o.map(i=>{let s=Object.assign(t?t.fromJSON(i):i,r);return"function"==typeof s.load&&s.load(a),s}))}else o=[];return o}};P.AUTH_MODE_ANONYMOUS="anonymous",P.AUTH_MODE_AUTO="auto",P.AUTH_MODE_IMMEDIATE="immediate",P.AUTH_MODE_NO_PROMPT="no-prompt",(0,u._)([(0,_.MZ)()],P.prototype,"access",void 0),(0,u._)([(0,_.MZ)()],P.prototype,"allSSL",void 0),(0,u._)([(0,_.MZ)()],P.prototype,"authMode",void 0),(0,u._)([(0,_.MZ)()],P.prototype,"authorizedCrossOriginDomains",void 0),(0,u._)([(0,w.w)("authorizedCrossOriginDomains")],P.prototype,"readAuthorizedCrossOriginDomains",null),(0,u._)([(0,_.MZ)()],P.prototype,"basemapGalleryGroupQuery",void 0),(0,u._)([(0,_.MZ)({json:{name:"3DBasemapGalleryGroupQuery"}})],P.prototype,"basemapGalleryGroupQuery3D",void 0),(0,u._)([(0,_.MZ)()],P.prototype,"bingKey",void 0),(0,u._)([(0,_.MZ)()],P.prototype,"canListApps",void 0),(0,u._)([(0,_.MZ)()],P.prototype,"canListData",void 0),(0,u._)([(0,_.MZ)()],P.prototype,"canListPreProvisionedItems",void 0),(0,u._)([(0,_.MZ)()],P.prototype,"canProvisionDirectPurchase",void 0),(0,u._)([(0,_.MZ)()],P.prototype,"canSearchPublic",void 0),(0,u._)([(0,_.MZ)()],P.prototype,"canShareBingPublic",void 0),(0,u._)([(0,_.MZ)()],P.prototype,"canSharePublic",void 0),(0,u._)([(0,_.MZ)()],P.prototype,"canSignInArcGIS",void 0),(0,u._)([(0,_.MZ)()],P.prototype,"canSignInIDP",void 0),(0,u._)([(0,_.MZ)()],P.prototype,"colorSetsGroupQuery",void 0),(0,u._)([(0,_.MZ)()],P.prototype,"commentsEnabled",void 0),(0,u._)([(0,_.MZ)({type:Date})],P.prototype,"created",void 0),(0,u._)([(0,_.MZ)()],P.prototype,"credential",void 0),(0,u._)([(0,_.MZ)()],P.prototype,"culture",void 0),(0,u._)([(0,_.MZ)()],P.prototype,"currentVersion",void 0),(0,u._)([(0,_.MZ)()],P.prototype,"customBaseUrl",void 0),(0,u._)([(0,_.MZ)()],P.prototype,"default3DBasemapQuery",void 0),(0,u._)([(0,_.MZ)()],P.prototype,"defaultBasemap",void 0),(0,u._)([(0,w.w)("defaultBasemap")],P.prototype,"readDefaultBasemap",null),(0,u._)([(0,_.MZ)()],P.prototype,"defaultDevBasemap",void 0),(0,u._)([(0,w.w)("defaultDevBasemap")],P.prototype,"readDefaultDevBasemap",null),(0,u._)([(0,_.MZ)({type:M.A})],P.prototype,"defaultExtent",void 0),(0,u._)([(0,_.MZ)()],P.prototype,"defaultVectorBasemap",void 0),(0,u._)([(0,w.w)("defaultVectorBasemap")],P.prototype,"readDefaultVectorBasemap",null),(0,u._)([(0,_.MZ)()],P.prototype,"description",void 0),(0,u._)([(0,_.MZ)()],P.prototype,"devBasemapGalleryGroupQuery",void 0),(0,u._)([(0,_.MZ)()],P.prototype,"eueiEnabled",void 0),(0,u._)([(0,_.MZ)({readOnly:!0})],P.prototype,"extraQuery",null),(0,u._)([(0,_.MZ)()],P.prototype,"featuredGroups",void 0),(0,u._)([(0,_.MZ)()],P.prototype,"featuredItemsGroupQuery",void 0),(0,u._)([(0,_.MZ)()],P.prototype,"galleryTemplatesGroupQuery",void 0),(0,u._)([(0,_.MZ)()],P.prototype,"layoutGroupQuery",void 0),(0,u._)([(0,_.MZ)()],P.prototype,"livingAtlasGroupQuery",void 0),(0,u._)([(0,_.MZ)({readOnly:!0})],P.prototype,"hasAPIKey",null),(0,u._)([(0,_.MZ)()],P.prototype,"hasCategorySchema",void 0),(0,u._)([(0,_.MZ)()],P.prototype,"hasClassificationSchema",void 0),(0,u._)([(0,_.MZ)()],P.prototype,"helpBase",void 0),(0,u._)([(0,_.MZ)()],P.prototype,"helperServices",void 0),(0,u._)([(0,_.MZ)()],P.prototype,"helpMap",void 0),(0,u._)([(0,_.MZ)()],P.prototype,"homePageFeaturedContent",void 0),(0,u._)([(0,_.MZ)()],P.prototype,"homePageFeaturedContentCount",void 0),(0,u._)([(0,_.MZ)()],P.prototype,"httpPort",void 0),(0,u._)([(0,_.MZ)()],P.prototype,"httpsPort",void 0),(0,u._)([(0,_.MZ)()],P.prototype,"id",void 0),(0,u._)([(0,_.MZ)()],P.prototype,"ipCntryCode",void 0),(0,u._)([(0,_.MZ)({readOnly:!0})],P.prototype,"isOrganization",null),(0,u._)([(0,_.MZ)()],P.prototype,"isPortal",void 0),(0,u._)([(0,_.MZ)()],P.prototype,"isReadOnly",void 0),(0,u._)([(0,_.MZ)({readOnly:!0})],P.prototype,"itemPageUrl",null),(0,u._)([(0,_.MZ)()],P.prototype,"layerTemplatesGroupQuery",void 0),(0,u._)([(0,_.MZ)()],P.prototype,"maxTokenExpirationMinutes",void 0),(0,u._)([(0,_.MZ)({type:Date})],P.prototype,"modified",void 0),(0,u._)([(0,_.MZ)()],P.prototype,"name",void 0),(0,u._)([(0,_.MZ)()],P.prototype,"portalHostname",void 0),(0,u._)([(0,_.MZ)()],P.prototype,"portalMode",void 0),(0,u._)([(0,_.MZ)()],P.prototype,"portalProperties",void 0),(0,u._)([(0,_.MZ)()],P.prototype,"region",void 0),(0,u._)([(0,_.MZ)()],P.prototype,"recycleBinEnabled",void 0),(0,u._)([(0,_.MZ)({readOnly:!0})],P.prototype,"restUrl",null),(0,u._)([(0,_.MZ)()],P.prototype,"rotatorPanels",void 0),(0,u._)([(0,_.MZ)()],P.prototype,"showHomePageDescription",void 0),(0,u._)([(0,_.MZ)()],P.prototype,"sourceJSON",void 0),(0,u._)([(0,_.MZ)()],P.prototype,"staticImagesUrl",void 0),(0,u._)([(0,_.MZ)({json:{name:"2DStylesGroupQuery"}})],P.prototype,"stylesGroupQuery2d",void 0),(0,u._)([(0,_.MZ)({json:{name:"stylesGroupQuery"}})],P.prototype,"stylesGroupQuery3d",void 0),(0,u._)([(0,_.MZ)()],P.prototype,"supportsHostedServices",void 0),(0,u._)([(0,_.MZ)()],P.prototype,"symbolSetsGroupQuery",void 0),(0,u._)([(0,_.MZ)()],P.prototype,"templatesGroupQuery",void 0),(0,u._)([(0,_.MZ)()],P.prototype,"thumbnail",void 0),(0,u._)([(0,_.MZ)({readOnly:!0})],P.prototype,"thumbnailUrl",null),(0,u._)([(0,_.MZ)()],P.prototype,"units",void 0),(0,u._)([(0,_.MZ)()],P.prototype,"url",void 0),(0,u._)([(0,_.MZ)()],P.prototype,"urlKey",void 0),(0,u._)([(0,w.w)("urlKey")],P.prototype,"readUrlKey",null),(0,u._)([(0,_.MZ)()],P.prototype,"user",void 0),(0,u._)([(0,w.w)("user")],P.prototype,"readUser",null),(0,u._)([(0,_.MZ)()],P.prototype,"use3dBasemaps",void 0),(0,u._)([(0,_.MZ)()],P.prototype,"useDefault3dBasemap",void 0),(0,u._)([(0,_.MZ)()],P.prototype,"useStandardizedQuery",void 0),(0,u._)([(0,_.MZ)()],P.prototype,"useVectorBasemaps",void 0),(0,u._)([(0,_.MZ)()],P.prototype,"vectorBasemapGalleryGroupQuery",void 0);let N=P=a=(0,u._)([(0,b.$)("esri.portal.Portal")],P),k=new FinalizationRegistry(t=>{t.remove()})},14629:(t,r,i)=>{i.d(r,{A:()=>f});var s=i(81856),o=i(71017),a=i(30781),u=i(92713),d=i(91838);i(57845),i(61939),i(33638);var c=i(12709);let p=new a.J({asc:"ascending",desc:"descending"}),h=class extends o.A.ClonableMixin(u.A){constructor(t){super(t),this.field=null,this.order="ascending"}};(0,s._)([(0,d.MZ)({type:String,json:{write:!0}})],h.prototype,"field",void 0),(0,s._)([(0,d.MZ)({type:p.apiValues,json:{type:p.jsonValues,read:p.read,write:p.write}})],h.prototype,"order",void 0);let f=h=(0,s._)([(0,c.$)("esri.popup.support.AttachmentsOrderByInfo")],h)},14796:(t,r,i)=>{i.d(r,{BD:()=>c,D2:()=>s,XZ:()=>u,fO:()=>a,v9:()=>d});var s,o=i(30781);!function(t){t[t.RTJunctionJunctionConnectivity=1]="RTJunctionJunctionConnectivity",t[t.RTContainment=2]="RTContainment",t[t.RTAttachment=3]="RTAttachment",t[t.RTJunctionEdgeConnectivity=4]="RTJunctionEdgeConnectivity",t[t.RTEdgeJunctionEdgeConnectivity=5]="RTEdgeJunctionEdgeConnectivity"}(s||(s={}));let a=new o.J({connected:"connected",upstream:"upstream",downstream:"downstream",shortestPath:"shortest-path",subnetwork:"subnetwork",subnetworkController:"subnetwork-controller",loops:"loops",isolation:"isolation"}),u=new o.J({junctionJunctionConnectivity:"junction-junction-connectivity",connectivity:"connectivity",attachment:"attachment",containment:"containment",junctionEdgeFromConnectivity:"junction-edge-from-connectivity",junctionEdgeMidspanConnectivity:"junction-edge-midspan-connectivity",junctionEdgeToConnectivity:"junction-edge-to-connectivity"}),d={connectivity:1,"junction-junction-connectivity":1,containment:2,attachment:3,"junction-edge-from-connectivity":4,"junction-edge-midspan-connectivity":5,"junction-edge-to-connectivity":6},c=new o.J({normal:"normal",rebuild:"rebuild",forceRebuild:"force-rebuild"})},14925:(t,r,i)=>{i.d(r,{p:()=>u});var s=i(81856),o=i(91838);i(57845),i(61939),i(33638);var a=i(12709);let u=t=>{let r=class extends t{get apiKey(){return this._isOverridden("apiKey")?this._get("apiKey"):"portalItem"in this?this.portalItem?.apiKey:null}set apiKey(t){null!=t?this._override("apiKey",t):(this._clearOverride("apiKey"),this.clear("apiKey","user"))}};return(0,s._)([(0,o.MZ)({type:String})],r.prototype,"apiKey",null),r=(0,s._)([(0,a.$)("esri.layers.mixins.APIKeyMixin")],r)}},15142:(t,r,i)=>{i.d(r,{F:()=>u,Ti:()=>a});var s,o=i(87196);let a=-3;!function(t){t[t.ALL=0]="ALL",t[t.SOME=1]="SOME"}(s||(s={}));class u{get size(){return this._size}constructor(t=0xa00000){this._maxSize=t,this._db=new Map,this._size=0,this._hit=0,this._miss=0,this._removeFuncs=new o.A,this._users=new o.A}destroy(){this.clearAll(),this._removeFuncs.clear(),this._users.clear()}register(t){this._users.push(t)}deregister(t){this._users.removeUnordered(t)}registerRemoveFunc(t,r){this._removeFuncs.push([t,r])}deregisterRemoveFunc(t){this._removeFuncs.filterInPlace(r=>r[0]!==t)}get maxSize(){return this._maxSize}set maxSize(t){this._maxSize=Math.max(t,-1),this._checkSize()}getSize(t,r){let i=this._db.get(t.id+r);return i?.size??0}put(t,r,i,o,u){r=t.id+r;let c=this._db.get(r);if(c&&(this._size-=c.size,t.size-=c.size,this._db.delete(r),c.entry!==i&&this._notifyRemove(r,c.entry,c.size,s.ALL)),o>this._maxSize)return void this._notifyRemove(r,i,o,s.ALL);if(void 0===i)return void console.warn("Refusing to cache undefined entry ");if(!o||o<0)return console.warn(`Refusing to cache entry with size ${o} for key ${r}`),void this._notifyRemove(r,i,0,s.ALL);let p=1+Math.max(u,-4)-a;this._db.set(r,new d(i,o,p)),this._size+=o,t.size+=o,this._checkSize()}updateSize(t,r,i,o){r=t.id+r;let a=this._db.get(r);if(a&&a.entry===i){for(this._size-=a.size,t.size-=a.size;o>this._maxSize;){let t=this._notifyRemove(r,i,o,s.SOME);if(!(null!=t&&t>0))return void this._db.delete(r);o=t}a.size=o,this._size+=o,t.size+=o,this._checkSize()}}pop(t,r){r=t.id+r;let i=this._db.get(r);if(i)return this._size-=i.size,t.size-=i.size,this._db.delete(r),++this._hit,i.entry;++this._miss}get(t,r){r=t.id+r;let i=this._db.get(r);if(void 0!==i)return this._db.delete(r),i.lives=i.lifetime,this._db.set(r,i),++this._hit,i.entry;++this._miss}peek(t,r){let i=this._db.get(t.id+r);return i?++this._hit:++this._miss,i?.entry}get performanceInfo(){let t={Size:Math.round(this._size/1048576)+"/"+Math.round(this._maxSize/1048576)+"MB","Hit rate":Math.round(100*this._getHitRate())+"%",Entries:this._db.size.toString()},r={},i=[];this._db.forEach((t,s)=>{let o=t.lifetime;i[o]=(i[o]||0)+t.size,this._users.forAll(i=>{let{id:o,name:a}=i;if(s.startsWith(o)){let i=r[a]||0;r[a]=i+t.size}})});let s={};this._users.forAll(t=>{let i=t.name;if("hitRate"in t&&"number"==typeof t.hitRate&&!isNaN(t.hitRate)&&t.hitRate>0){let o=r[i]||0;r[i]=o,s[i]=Math.round(100*t.hitRate)+"%"}else s[i]="0%"});let o=Object.keys(r);o.sort((t,i)=>r[i]-r[t]),o.forEach(i=>t[i]=Math.round(r[i]/1048576)+"MB / "+s[i]);for(let r=i.length-1;r>=0;--r){let s=i[r];s&&(t["Priority "+(r+a-1)]=Math.round(s/this._size*100)+"%")}return t}resetStats(){this._hit=this._miss=0,this._users.forAll(t=>t.resetHitRate())}clear(t){let r=t.id;this._db.forEach((t,i)=>{i.startsWith(r)&&(this._size-=t.size,this._db.delete(i),this._notifyRemove(i,t.entry,t.size,s.ALL))}),t.size=0}clearAll(){this._db.forEach((t,r)=>this._notifyRemove(r,t.entry,t.size,s.ALL)),this._users.forAll(t=>t.size=0),this._size=0,this._db.clear()}_getHitRate(){return this._hit/(this._hit+this._miss)}_notifyRemove(t,r,i,s){let o;return this._removeFuncs.some(a=>{if(t.startsWith(a[0])){let t=a[1](r,s,i);return"number"==typeof t&&(o=t),!0}return!1}),o}_checkSize(){this._users.forAll(t=>this._checkSizeLimits(t)),this._checkSizeLimits()}_checkSizeLimits(t){let r=t??this;if(r.maxSize<0||r.size<=r.maxSize)return;let i=t?.id,s=!0;for(;s;)for(let[o,a]of(s=!1,this._db))if(0===a.lifetime&&(!i||o.startsWith(i))){if(this._purgeItem(o,a,t),r.size<=.9*r.maxSize)return;s||=this._db.has(o)}for(let[s,o]of this._db)if((!i||s.startsWith(i))&&(this._purgeItem(s,o,t),r.size<=.9*r.maxSize))return}_purgeItem(t,r,i=this._users.find(r=>t.startsWith(r.id))){if(this._db.delete(t),r.lives<=1){this._size-=r.size,i&&(i.size-=r.size);let o=this._notifyRemove(t,r.entry,r.size,s.SOME);null!=o&&o>0&&(this._size+=o,i&&(i.size+=o),r.lives=r.lifetime,r.size=o,this._db.set(t,r))}else--r.lives,this._db.set(t,r)}}class d{constructor(t,r,i){this.entry=t,this.size=r,this.lifetime=i,this.lives=i}}},15199:(t,r,i)=>{i.d(r,{A:()=>f});var s,o=i(81856),a=i(33715),u=i(91838);i(57845),i(61939);var d=i(12709),c=i(84984),p=i(68547);let h=s=class extends p.A{constructor(t){super(t),this.colorRamps=null,this.type="multipart"}clone(){return new s({colorRamps:(0,a.o8)(this.colorRamps)})}};(0,o._)([(0,u.MZ)({type:[c.A],json:{write:!0}})],h.prototype,"colorRamps",void 0),(0,o._)([(0,u.MZ)({type:["multipart"]})],h.prototype,"type",void 0);let f=h=s=(0,o._)([(0,d.$)("esri.rest.support.MultipartColorRamp")],h)},15494:(t,r,i)=>{i.d(r,{R:()=>a,e:()=>u});var s=i(93446),o=i(90040);class a{constructor(t=0,r=t){this.width=t,this.height=r,this.target=s.Ap.TEXTURE_2D,this.pixelFormat=s.Ab.RGBA,this.dataType=s.ld.UNSIGNED_BYTE,this.samplingMode=s.Cj.LINEAR,this.wrapMode=s.pF.REPEAT,this.maxAnisotropy=1,this.flipped=!1,this.hasMipmap=!1,this.isOpaque=!1,this.unpackAlignment=4,this.preMultiplyAlpha=!1,this.shouldCompress=!1,this.depth=1,this.isImmutable=!1}}function u(t){return t.width<=0||t.height<=0?0:Math.round(t.width*t.height*t.depth*(t.hasMipmap?4/3:1)*(null==t.internalFormat?4:(0,o.IB)(t.internalFormat))*(t.target===s.Ap.TEXTURE_CUBE_MAP?6:1))}},15879:(t,r,i)=>{let s,o,a,u,d,c,p;i.d(r,{A:()=>sZ});var h,f,y,m,g,_,v,w,b,M=i(81856),S=i(91838),A=i(57845),T=i(61939);i(33638);var x=i(12709),E=i(66342),I=i(54335),C=i(59988),R=i(32391),O=i(40941),P=i(45257),N=i(6675),k=i(16352),L=i(86942),F=i(87960),Z=i(65111),D=i(33768),j=i(74422);let U={widthBreakpoint:{getValue(t){let r=t.viewSize[0],i=t.breakpoints,s=this.values;return r<=i.xsmall?s.xsmall:r<=i.small?s.small:r<=i.medium?s.medium:r<=i.large?s.large:s.xlarge},values:{xsmall:"xsmall",small:"small",medium:"medium",large:"large",xlarge:"xlarge"},valueToClassName:{xsmall:"esri-view-width-xsmall esri-view-width-less-than-small esri-view-width-less-than-medium esri-view-width-less-than-large esri-view-width-less-than-xlarge",small:"esri-view-width-small esri-view-width-greater-than-xsmall esri-view-width-less-than-medium esri-view-width-less-than-large esri-view-width-less-than-xlarge",medium:"esri-view-width-medium esri-view-width-greater-than-xsmall esri-view-width-greater-than-small esri-view-width-less-than-large esri-view-width-less-than-xlarge",large:"esri-view-width-large esri-view-width-greater-than-xsmall esri-view-width-greater-than-small esri-view-width-greater-than-medium esri-view-width-less-than-xlarge",xlarge:"esri-view-width-xlarge esri-view-width-greater-than-xsmall esri-view-width-greater-than-small esri-view-width-greater-than-medium esri-view-width-greater-than-large"}},heightBreakpoint:{getValue(t){let r=t.viewSize[1],i=t.breakpoints,s=this.values;return r<=i.xsmall?s.xsmall:r<=i.small?s.small:r<=i.medium?s.medium:r<=i.large?s.large:s.xlarge},values:{xsmall:"xsmall",small:"small",medium:"medium",large:"large",xlarge:"xlarge"},valueToClassName:{xsmall:"esri-view-height-xsmall esri-view-height-less-than-small esri-view-height-less-than-medium esri-view-height-less-than-large esri-view-height-less-than-xlarge",small:"esri-view-height-small esri-view-height-greater-than-xsmall esri-view-height-less-than-medium esri-view-height-less-than-large esri-view-height-less-than-xlarge",medium:"esri-view-height-medium esri-view-height-greater-than-xsmall esri-view-height-greater-than-small esri-view-height-less-than-large esri-view-height-less-than-xlarge",large:"esri-view-height-large esri-view-height-greater-than-xsmall esri-view-height-greater-than-small esri-view-height-greater-than-medium esri-view-height-less-than-xlarge",xlarge:"esri-view-height-xlarge esri-view-height-greater-than-xsmall esri-view-height-greater-than-small esri-view-height-greater-than-medium esri-view-height-greater-than-large"}},orientation:{getValue(t){let r=t.viewSize,i=r[0],s=r[1],o=this.values;return s>=i?o.portrait:o.landscape},values:{portrait:"portrait",landscape:"landscape"},valueToClassName:{portrait:"esri-view-orientation-portrait",landscape:"esri-view-orientation-landscape"}}},V={xsmall:544,small:768,medium:992,large:1200};function z(t,r){return r?U[t].valueToClassName[r].split(" "):[]}let G=t=>{let r=class extends t{constructor(...t){super(...t),this.orientation=null,this.widthBreakpoint=null,this.heightBreakpoint=null,this.breakpoints=V}initialize(){this.addHandles((0,P.wB)(()=>[this.breakpoints,this.size],()=>this._updateClassNames(),P.Vh))}destroy(){this.destroyed||this._removeActiveClassNames()}set breakpoints(t){if(t!==this._get("breakpoints")){var r;(r=t)&&r.xsmall<r.small&&r.small<r.medium&&r.medium<r.large||(console.warn("provided breakpoints are not valid, using defaults:"+JSON.stringify(V,null,2)),t=V),this._set("breakpoints",{...t})}}_updateClassNames(){if(!this.container)return;let t=j.A.acquire(),r=j.A.acquire(),i,s=!1;for(i in U){let o=this[i],a=U[i].getValue({viewSize:this.size,breakpoints:this.breakpoints});o!==a&&(s=!0,this[i]=a,z(i,o).forEach(t=>r.push(t)),z(i,a).forEach(r=>t.push(r)))}s&&(this._applyClassNameChanges(t,r),j.A.release(t),j.A.release(r))}_applyClassNameChanges(t,r){let i=this.container;i&&(r.forEach(t=>i.classList.remove(t)),t.forEach(t=>i.classList.add(t)))}_removeActiveClassNames(){let t,r=this.container;if(r)for(t in U)z(t,this[t]).forEach(t=>r.classList.remove(t))}};return(0,M._)([(0,S.MZ)()],r.prototype,"breakpoints",null),(0,M._)([(0,S.MZ)()],r.prototype,"orientation",void 0),(0,M._)([(0,S.MZ)()],r.prototype,"widthBreakpoint",void 0),(0,M._)([(0,S.MZ)()],r.prototype,"heightBreakpoint",void 0),r=(0,M._)([(0,x.$)("esri.views.BreakpointsOwner")],r)};var $=i(41438),B=i(46310),q=i(19158),H=i(77089),W=i(28690),J=i(18524);i(9956);var K=i(45731);let Y=class extends W.A{constructor(){super(...arguments),this.items=new I.A,this._watchUpdatingTracking=new J.U,this._callbacks=new Map,this._projector=(0,K.F)(),this._hiddenProjector=(0,K.F)()}get needsRender(){return this.items.length>0}get updating(){return this._watchUpdatingTracking?.updating??!1}initialize(){let t=document.createElement("div");t.className="esri-overlay-surface",this._set("surface",t),this._hiddenSurface=document.createElement("div"),this._hiddenSurface.setAttribute("style","visibility: hidden;"),t.appendChild(this._hiddenSurface),this._watchUpdatingTracking.addOnCollectionChange(()=>this.items,t=>{for(let r of t.added){let t=()=>r.render();this._callbacks.set(r,t),this._projector.append(this.surface,t)}for(let r of t.removed){let t=this._projector.detach(this._callbacks.get(r));this.surface.removeChild(t.domNode),this._callbacks.delete(r)}})}addItem(t){this.items.add(t)}removeItem(t){this.items.remove(t)}destroy(){this.items.removeAll(),this._callbacks.forEach(t=>this._projector.detach(t)),this._callbacks=null,this._projector=null,this._watchUpdatingTracking.destroy()}render(){this._projector.renderNow()}computeBoundingRect(t){let r,i=this._hiddenSurface,s=this._hiddenProjector,o=()=>r=t.render();s.append(i,o),s.renderNow();let a={left:0,top:0,right:0,bottom:0};if(r?.domNode){let t=r.domNode.getBoundingClientRect();a.left=t.left,a.top=t.top,a.right=t.right,a.bottom=t.bottom}for(s.detach(o);i.firstChild;)i.removeChild(i.firstChild);return a}overlaps(t,r){let i=this.computeBoundingRect(t),s=this.computeBoundingRect(r);return Math.max(i.left,s.left)<=Math.min(i.right,s.right)&&Math.max(i.top,s.top)<=Math.min(i.bottom,s.bottom)}get hasVisibleItems(){return this.items.some(t=>t.visible)}async prepare(){await document.fonts.load(this._fontString()).catch(()=>{})}renderCanvas(t,r){let i=!!r?.disableDecorations;if(!this.items.some(t=>t.visible&&!(i&&t.isDecoration)))return;let s=t.getContext("2d");s.save(),s.font=this._fontString(),this.items.forEach(t=>{i&&t.isDecoration||(s.save(),t.renderCanvas(s),s.restore())}),s.restore()}_fontString(){return`10px ${getComputedStyle(this.surface).fontFamily}`}};(0,M._)([(0,S.MZ)({readOnly:!0})],Y.prototype,"surface",void 0),(0,M._)([(0,S.MZ)({readOnly:!0})],Y.prototype,"items",void 0),(0,M._)([(0,S.MZ)({readOnly:!0})],Y.prototype,"needsRender",null),(0,M._)([(0,S.MZ)({readOnly:!0})],Y.prototype,"_watchUpdatingTracking",void 0),(0,M._)([(0,S.MZ)({readOnly:!0})],Y.prototype,"updating",null);let X=Y=(0,M._)([(0,x.$)("esri.views.overlay.ViewOverlay")],Y),Q=[0,0];function ee(t){t&&(t.textContent="",t.parentNode&&t.parentNode.removeChild(t))}let et=t=>{let r=class extends t{constructor(...t){super(...t),this._freqInfo={freq:16,time:750},this._overlayRenderTaskHandle=null,this.height=0,this.messagesCommon=null,this.overlay=null,this.position=null,this.resizing=!1,this.root=null,this.surface=null,this.suspended=!0,this.ui=null,this.userContent=null,this.width=0,this.widthBreakpoint=null,this.addHandles([(0,P.wB)(()=>this.cursor,t=>{let{surface:r}=this;r&&r.setAttribute("data-cursor",t)}),(0,P.wB)(()=>this.navigating,t=>{let{surface:r}=this;r&&r.setAttribute("data-navigating",t.toString())})])}initialize(){this.addHandles([(0,P.wB)(()=>this.ui,(t,r)=>this._handleUIChange(t,r),P.Vh),this.on("focus",()=>this.notifyChange("focused")),this.on("blur",()=>this.notifyChange("focused"))])}destroy(){this.destroyed||(this.ui?.destroy(),this.container=null)}get container(){return this._get("container")??null}set container(t){let r=this._get("container"),i=(0,$.$)(t);if(i||"string"!=typeof t||T.A.getLogger(this).error("#container",`element with id '${t}' not found`),r===i)return;if(this._stopMeasuring(),r&&(r.classList.remove("esri-view"),this._overlayRenderTaskHandle&&(this._overlayRenderTaskHandle.remove(),this._overlayRenderTaskHandle=null),this.overlay&&(this.overlay.destroy(),this._set("overlay",null)),this.root&&(ee(this.root),this._set("root",null)),this.userContent&&((0,$.y)(this.userContent,r),ee(this.userContent),this._set("userContent",null))),!i)return this._set("width",0),this._set("height",0),this._set("position",null),this._set("suspended",!0),this._set("surface",null),void this._set("container",null);i.classList.add("esri-view");let s=document.createElement("div");s.className="esri-view-user-storage",(0,$.y)(i,s),i.appendChild(s),this._set("userContent",s);let o=document.createElement("div");o.className="esri-view-root",i.insertBefore(o,i.firstChild),this._set("root",o);let a=document.createElement("div");a.className="esri-view-surface",a.setAttribute("role","application"),a.tabIndex=0,o.appendChild(a),this._set("surface",a);let u=new X;o.appendChild(u.surface),this._set("overlay",u),this.addHandles((0,P.wB)(()=>u.needsRender,t=>{t&&!this._overlayRenderTaskHandle?this._overlayRenderTaskHandle=(0,H.mg)({render:()=>this.overlay?.render()}):this._overlayRenderTaskHandle=(0,O.xt)(this._overlayRenderTaskHandle)})),this.forceDOMReadyCycle(),this._set("container",i),this._startMeasuring()}get focused(){let t=document.activeElement===this.surface;return document.hasFocus()&&t}get size(){return[this.width,this.height]}blur(){this.surface?.blur()}focus(){this.surface?.focus()}pageToContainer(t,r,i){let s=this.position;return t-=s?s[0]:0,r-=s?s[1]:0,i?(i[0]=t,i[1]=r):i=[t,r],i}containerToPage(t,r,i){let s=this.position;return t+=s?s[0]:0,r+=s?s[1]:0,i?(i[0]=t,i[1]=r):i=[t,r],i}_handleUIChange(t,r){this.removeHandles("ui"),r&&r!==t&&r.destroy(),t&&(t.view=this,this.addHandles((0,P.wB)(()=>this.root,r=>{t.container=r?function(t){let r=document.createElement("div");return t.appendChild(r),r}(r):null},P.Vh),"ui")),this._set("ui",t)}_stopMeasuring(){this.removeHandles("measuring"),this._get("resizing")&&this._set("resizing",!1)}_startMeasuring(){let t=this._freqInfo;t.freq=16,t.time=750;let r=(0,H.mg)({prepare:t=>{let i=this._measure(),s=this._freqInfo;s.time+=t.deltaTime,i&&(s.freq=16,this._get("resizing")||this._set("resizing",!0)),!(s.time<s.freq)&&(s.time=0,s.freq=this._position()||i?16:Math.min(750,2*s.freq),!i&&s.freq>=512&&(r.pause(),this._get("resizing")&&this._set("resizing",!1)))}}),i=new ResizeObserver(i=>{t.freq=16,t.time=750,r.resume()});null!=this.container&&i.observe(this.container);let s=(0,q.hA)(()=>i.disconnect());this.addHandles([(0,B.on)(window,"resize",()=>{t.freq=16,t.time=750,r.resume()}),s,r],"measuring"),this._measure(),this._position()}_measure(){let t=this.container,r=t?t.clientWidth:0,i=t?t.clientHeight:0;if(0===r||0===i)return this.suspended||this._set("suspended",!0),!1;let s=this.width,o=this.height;return r===s&&i===o?(this.suspended&&this._set("suspended",!1),!1):(this._set("width",r),this._set("height",i),this.suspended&&this._set("suspended",!1),this.emit("resize",{oldWidth:s,oldHeight:o,width:r,height:i}),!0)}_position(){let t=this.container,r=this.position,i=t&&function(t){let r=(t.ownerDocument||window.document).defaultView,i=t.getBoundingClientRect();return Q[0]=i.left+(r?.pageXOffset??0),Q[1]=i.top+(r?.pageYOffset??0),Q}(t);return!!i&&(!r||i[0]!==r[0]||i[1]!==r[1])&&(this._set("position",[i[0],i[1]]),!0)}forceDOMReadyCycle(){}};return(0,M._)([(0,S.MZ)()],r.prototype,"container",null),(0,M._)([(0,S.MZ)({readOnly:!0})],r.prototype,"focused",null),(0,M._)([(0,S.MZ)({readOnly:!0})],r.prototype,"height",void 0),(0,M._)([(0,S.MZ)()],r.prototype,"messagesCommon",void 0),(0,M._)([(0,S.MZ)({type:X})],r.prototype,"overlay",void 0),(0,M._)([(0,S.MZ)({readOnly:!0})],r.prototype,"position",void 0),(0,M._)([(0,S.MZ)({readOnly:!0})],r.prototype,"resizing",void 0),(0,M._)([(0,S.MZ)({readOnly:!0})],r.prototype,"root",void 0),(0,M._)([(0,S.MZ)({value:null,readOnly:!0})],r.prototype,"size",null),(0,M._)([(0,S.MZ)({readOnly:!0})],r.prototype,"surface",void 0),(0,M._)([(0,S.MZ)({readOnly:!0})],r.prototype,"suspended",void 0),(0,M._)([(0,S.MZ)({nonNullable:!0})],r.prototype,"ui",void 0),(0,M._)([(0,S.MZ)({readOnly:!0})],r.prototype,"userContent",void 0),(0,M._)([(0,S.MZ)({readOnly:!0})],r.prototype,"width",void 0),(0,M._)([(0,S.MZ)()],r.prototype,"widthBreakpoint",void 0),r=(0,M._)([(0,x.$)("esri.views.DOMContainer")],r)};var er=i(83610),ei=i(92753),en=i(83392);function es(t){return null!=t&&"open"in t&&"declaredClass"in t}function eo(t){return null!=t&&"declaredClass"in t&&"dockOptions"in t}let ea=t=>{let r=class extends t{constructor(){super(...arguments),this._popupSetupTask=null,this.popup={},this.popupEnabled=!0}initialize(){this.addHandles([(0,P.wB)(()=>[this.ui,this.popup],([t,r],i)=>{let s="popup";if(i){let[t,r]=i;t&&es(r)&&(r.view=null,eo(r)&&t.remove(r,s))}t&&es(r)&&(r.view=this,eo(r)&&t.add(r,{key:s,position:"manual",internal:!0}))},P.Vh),this.on("click",t=>{this.popup&&this.popupEnabled&&("mouse"!==t.pointerType||0===t.button)&&(es(this.popup)?this.popup.viewModel.handleViewClick(t):t.async(async()=>{await this.setupPopup(),es(this.popup)&&!this.destroyed&&this.ready&&this.popupEnabled&&this.popup.viewModel.handleViewClick(t)}))},en.o.WIDGET)]),(0,P.C_)(()=>this.ready&&this.popupEnabled&&!this.updating).then(()=>{Promise.all([i.e(1170),i.e(2996),i.e(5032)]).then(i.bind(i,95032))})}destroy(){this.destroyed||this.closePopup()}async openPopup(t){if(es(this.popup))return this.popup.open(t);try{if(await this.setupPopup(),!this.popup)return void T.A.getLogger(this).error(new R.A("view:null-popup","Popup is null and can't be opened"));this.popup.open(t)}catch{}}closePopup(){this._popupSetupTask?.abort(),es(this.popup)&&this.popup.close()}async fetchPopupFeatures(t,r){return await this.when(),this._popupHitsToFeatures(await this._getPopupHits(t,r),r)}async setupPopup(){if(this._popupSetupTask?.abort(),this.popup&&!es(this.popup))return this._popupSetupTask=(0,er.UT)(async t=>{let{default:r}=await Promise.all([i.e(1170),i.e(2996),i.e(5032)]).then(i.bind(i,95032));if((0,ei.Te)(t),!this.popup||es(this.popup))return;let s=this.popup;delete s.open,delete s.close,this.popup=new r(s)}),this._popupSetupTask.promise}async _popupHitsToFeatures({location:t,hits:r},i){let s=[],o=[],a=!1,u=(0,ei.YL)(i,(0,A.A)("popup-view-fetch-timeout")??eu),d=t=>{let r=new el(t);return o.push(r),s.push(r.promise),r},c=t=>{let r=o.at(-1);return r&&r.layerView===t&&!a?r:d(t)};for(let t of r)"graphic"in t?(c(t.layerView).graphics.push(t.graphic),a=!1):(s.push(t.layerView.fetchPopupFeaturesAtLocation(t.mapPoint,u)),a=!0);o.map(t=>t.resolve(u));let p=(0,ei.nA)(s).then(t=>t.filter(t=>!!t).flat());return{pendingFeatures:s,allGraphicsPromise:p,location:t}}async _getPopupHits(t,r){let{hits:i,location:s}=await this.popupHitTest(t);(0,ei.Te)(r);let o=[];for(let t of i)if("graphic"in t){if(this._isValidPopupGraphic(t.graphic,r)){let r=this._isValidPopupGraphicsLayerView(t.layerView)?t.layerView:void 0;o.push({graphic:t.graphic,layerView:r})}}else this._isValidPopupLocationLayerView(t.layerView)&&o.push({mapPoint:t.mapPoint,layerView:t.layerView});return{hits:o,location:s}}_isValidPopupGraphic(t,r){return t&&!!t.getEffectivePopupTemplate(r?.defaultPopupTemplateEnabled)}_isValidPopupGraphicsLayerView(t){return!t||(!("layer"in t)||!t.suspended)&&"fetchPopupFeaturesFromGraphics"in t}_isValidPopupLocationLayerView(t){return(!("layer"in t)||!t.suspended)&&"fetchPopupFeaturesAtLocation"in t}};return(0,M._)([(0,S.MZ)()],r.prototype,"popup",void 0),(0,M._)([(0,S.MZ)()],r.prototype,"popupEnabled",void 0),r=(0,M._)([(0,x.$)("esri.views.PopupView")],r)};class el{constructor(t){this.layerView=t,this._resolver=(0,ei.Tw)(),this.graphics=[]}get promise(){return this._resolver.promise}resolve(t){let r,{layerView:i,graphics:s,_resolver:o}=this;return i?i.fetchPopupFeaturesFromGraphics(s,t).catch(t=>(r=t,null)).then(t=>{t?o.resolve(t):o.reject(r)}):o.resolve(s),o.promise}}let eu=5e3;var ed=i(33701),ec=i(61096),ep=i(74652),eh=i(55434),ef=i(31551),ey=i(5608),em=i(40211),eg=i(61414),e_=i(95442),ev=i(91463),ew=i(71760);let eb=class extends em.X{constructor(t){super(t),this.addHandles(this.on("before-add",t=>{null!=t.item&&t.item.parent===this.owner&&(T.A.getLogger(this).warn("Analysis inside the collection must be unique. Not adding this element again."),t.preventDefault())}))}_own(t){t.parent=this.owner}_release(t){t.parent=null}};eb=(0,M._)([(0,x.$)("esri.support.AnalysesCollection")],eb);var eM=i(65372),eS=i(93682),eA=i(47840),eT=i(90628);let ex=class extends W.A{constructor(t){super(t),this.view=null,this.baseLayerViews=new I.A,this.referenceLayerViews=new I.A,this._loadingHandle=(0,P.wB)(()=>this.view?.map?.basemap,t=>{t&&t.load().catch(()=>{})},P.Vh)}destroy(){for(let t of(this._set("view",null),this._loadingHandle&&(this._loadingHandle.remove(),this._loadingHandle=null),this.baseLayerViews))t.destroy();for(let t of(this.baseLayerViews.length=0,this.referenceLayerViews))t.destroy();this.referenceLayerViews.length=0}get suspended(){return this.view?.suspended??!0}get updating(){if(this.view?.suspended)return!1;let t=this.view?.map?.basemap;return!!t?.loaded&&(this.baseLayerViews.some(t=>t.updating)||this.referenceLayerViews.some(t=>t.updating))}};(0,M._)([(0,S.MZ)({constructOnly:!0})],ex.prototype,"view",void 0),(0,M._)([(0,S.MZ)({readOnly:!0})],ex.prototype,"baseLayerViews",void 0),(0,M._)([(0,S.MZ)({readOnly:!0})],ex.prototype,"referenceLayerViews",void 0),(0,M._)([(0,S.MZ)({readOnly:!0})],ex.prototype,"suspended",null),(0,M._)([(0,S.MZ)({type:Boolean,readOnly:!0})],ex.prototype,"updating",null);let eE=ex=(0,M._)([(0,x.$)("esri.views.BasemapView")],ex);var eI=i(90304),eC=i(84588),eR=i(64171),eO=i(29606);class eP{constructor(t,r,i){this.layer=t,this.view=r,this.layerViewImporter=i,this._controller=new AbortController,this._deferred=(0,ei.Tw)(),this._started=!1,this.done=!1,this.promise=this._deferred.promise,(0,ei.u7)(this._controller.signal,()=>{let r=new R.A("cancelled:layerview-create","layerview creation cancelled",{layer:t});this._deferred.reject(r)})}tryRecycle(t){if(!this.done||!this.layerView||!("tryRecycleWith"in this.layerView))return null;let r=this.layer.type,i=this._controller.signal;for(let s=0;s<t.length;s++){let o=t[s];if(o.type!==r)continue;let a=this.layerView.tryRecycleWith(o,{signal:i});if(a){t.splice(s,1),this.layer=o;let r=this.layerView,i=r.view;return this.promise=Promise.race([a.then(()=>((0,ei.Te)(this._controller.signal),o.emit("layerview-destroy",{view:i,layerView:r}),i.emit("layerview-destroy",{view:i,layerView:r}),o.emit("layerview-create",{view:i,layerView:r}),i.emit("layerview-create",{view:i,layerView:r}),r)),new Promise((t,r)=>(0,ei.u7)(this._controller.signal,()=>r((0,ei.NK)())))]),this.promise}}return null}destroy(){this._controller.abort();let{layerView:t}=this;if(t){let{layer:r,view:i}=this;r.emit("layerview-destroy",{view:i,layerView:t}),i.emit("layerview-destroy",{layer:r,layerView:t})}this.done=!0,this.layer=null,this.layerView=null,this.view=null,this.layerViewImporter=null,this._map=null}async start(){if(this._started)return;this._started=!0;let{_controller:{signal:t},layer:r,view:i}=this;this._map=i.map;try{let s,o;if(await r.load({signal:t}),r.prefetchResources&&await r.prefetchResources({signal:t}),r.createLayerView!==eR.A.prototype.createLayerView)s=await r.createLayerView(i,{signal:t});else{if(!this.layerViewImporter.hasLayerViewModule(r))throw new R.A("layer:view-not-supported","No layerview implementation was found");let o=await this.layerViewImporter.importLayerView(r);(0,ei.Te)(t),s="default"in o?new o.default({layer:r,view:i}):new o({layer:r,view:i})}let a=()=>{o=(0,O.xt)(o),s.destroyed||s.destroy(),s.layer=null,s.parent=null,s.view=null,this.done=!0};o=(0,ei.u7)(t,a),(0,ei.Te)(t);try{await s.when()}catch(t){throw a(),t}if(!this._map?.allLayers?.includes(r))return a(),void this._deferred.reject(new R.A("view:no-layerview-for-layer","The layer has been removed from the map",{layer:r}));this.layerView=s,r.emit("layerview-create",{view:i,layerView:s}),i.emit("layerview-create",{layer:r,layerView:s}),this.done=!0,this._deferred.resolve(s)}catch(t){r.emit("layerview-create-error",{view:i,error:t}),i.emit("layerview-create-error",{layer:r,error:t}),this.done=!0,this._deferred.reject(new R.A("layerview:create-error","layerview creation failed",{layer:r,error:t}))}}}let eN=class extends W.A{constructor(t){super(t),this._layerLayerViewInfoMap=new Map,this._recyclingInfoMap=new Map,this._watchUpdatingTracking=new J.U,this.supportsGround=!0,this._preloadLayerViewModules=()=>{let t=this.view.map?.allLayers;if(t)for(let r of t)this.layerViewImporter.hasLayerViewModule(r)&&this.layerViewImporter.importLayerView(r)},this._reschedule=()=>this.destroyed?Promise.reject():(null==this._workPromise&&(this._workPromise=(0,ei.Tw)(),this._workPromise.promise.catch(()=>{})),this.removeHandles("reschedule"),this.addHandles((0,H._)(this._doWork),"reschedule"),this._workPromise.promise),this._doWork=()=>{if(this.destroyed)return;let t=this.view.map;if(this._map!==t&&(this.clear(),this._map=t),null==this._workPromise)return void this.notifyChange("updating");this.removeHandles("reschedule"),this.removeHandles("collection-change");let r=new Set,i=[],s=this.view.ready,o=t=>{if(null!=t){for(let a of t)if(a){r.add(a);let t=this._layerLayerViewInfoMap.get(a);t&&s?t.start():t||this._recyclingInfoMap.has(a)||i.push(a),"layers"in a&&a.layers&&o(a.layers)}}};for(let t of this._rootCollectionNames)o((0,eC.Jt)(this,t));for(let[t,s]of this._layerLayerViewInfoMap)if(!r.has(t)){this._layerLayerViewInfoMap.delete(s.layer);let t=s.tryRecycle(i);t?(this.notifyChange("updating"),this._recyclingInfoMap.set(s.layer,s),t.then(()=>{this.notifyChange("updating"),this._recyclingInfoMap.delete(s.layer),this._layerLayerViewInfoMap.set(s.layer,s),this._reschedule()}).catch(()=>{this.notifyChange("updating"),this._recyclingInfoMap.delete(s.layer),s.destroy(),this._reschedule()})):s.destroy()}for(let[t,i]of this._recyclingInfoMap)r.has(t)||(this.notifyChange("updating"),this._recyclingInfoMap.delete(i.layer),i.destroy());for(let t of i)this._createLayerView(t);this._refreshCollections();let a=[t?.ground?.layers,t?.basemap?.baseLayers,t?.basemap?.referenceLayers,t?.layers].filter(t=>!!t);r.forEach(t=>"layers"in t&&a.push(t.layers)),this.addHandles(a.map(t=>this._watchUpdatingTracking.addOnCollectionChange(()=>t,this._reschedule)),"collection-change"),this._workPromise.resolve(),this._workPromise=null}}initialize(){this.addHandles([(0,P.on)(()=>this.view?.map?.allLayers,"change",this._preloadLayerViewModules,{onListenerAdd:this._preloadLayerViewModules}),(0,P.wB)(()=>{let t=this.view,r=t?.map;return[r?.basemap,r?.ground,r?.layers,t?.ready]},()=>this._reschedule(),P.pc)]),this._preloadLayerViewModules(),this._reschedule()}destroy(){this.clear(),(0,eO.X)(this._recyclingInfoMap),(0,eO.X)(this._layerLayerViewInfoMap),this._watchUpdatingTracking.destroy(),this._map=null,null!=this._workPromise&&(this._workPromise.reject((0,ei.NK)()),this._workPromise=null)}get _layersToLayerViews(){let t=[["view.map.basemap.baseLayers","view.basemapView.baseLayerViews"],["view.map.layers","view.layerViews"],["view.map.basemap.referenceLayers","view.basemapView.referenceLayerViews"]];return this.supportsGround&&t.push(["view.map.ground.layers","view.groundView.layerViews"]),new Map(t)}get _rootCollectionNames(){return Array.from(this._layersToLayerViews.keys())}get updating(){return null!=this._workPromise||this._watchUpdatingTracking.updating||(0,eI.Bs)(this._layerLayerViewInfoMap,t=>!t.done)||this._recyclingInfoMap.size>0}get updatingRemaining(){let t=0;for(let r of this._layerLayerViewInfoMap.values())r.done||++t;return t}clear(){this.destroyed||((0,eO.X)(this._layerLayerViewInfoMap),this._refreshCollections())}async whenLayerView(t){if(await this._reschedule(),!this._layerLayerViewInfoMap.has(t)){if(this._recyclingInfoMap.has(t))return this._recyclingInfoMap.get(t).promise;throw new R.A("view:no-layerview-for-layer","No layerview has been found for the layer",{layer:t})}return this._layerLayerViewInfoMap.get(t).promise}isCreatingLayerViewsForLayer(t,r){this.commitProperty("updatingRemaining");let i=this._layerLayerViewInfoMap.get(t);if(!i?.done)return!0;let s=i.layerView;return!(!s||!r||s.parent===r)||!!(i.done&&s&&"layers"in t&&t.layers?.length)&&t.layers.some(t=>this.isCreatingLayerViewsForLayer(t,s))}_refreshCollections(){for(let[t,r]of this._layersToLayerViews)this._populateLayerViewsOwners((0,eC.Jt)(this,t),(0,eC.Jt)(this,r),this.view);this.notifyChange("updating"),this.notifyChange("updatingRemaining")}_populateLayerViewsOwners(t,r,i){if(!t||!r)return void(r&&r.removeAll());let s=0;for(let a of t){var o;let t=this._layerLayerViewInfoMap.get(a);if(!t?.layerView)continue;let u=t.layerView;u.layer=a,u.parent=i,r.at(s)!==u&&r.splice(s,0,u),"layers"in a&&null!=(o=u)&&"object"==typeof o&&"layerViews"in o&&this._populateLayerViewsOwners(a.layers,u.layerViews,u),s+=1}s<r.length&&r.splice(s,r.length)}_createLayerView(t){t.load().catch(()=>{}),this.layerViewImporter.hasLayerViewModule(t)&&this.layerViewImporter.importLayerView(t);let r=new eP(t,this.view,this.layerViewImporter);r.promise.then(()=>this._refreshCollections(),r=>{r&&((0,ei.zf)(r)||"cancelled:layerview-create"===r.name)||T.A.getLogger(this).error(`Failed to create layerview for layer title:'${t.title??"no title"}', id:'${t.id??"no id"}' of type '${t.type}'.`,{layer:t,error:r}),this._refreshCollections()}),this._layerLayerViewInfoMap.set(t,r),this.view.ready&&r.start(),this.notifyChange("updating"),this.notifyChange("updatingRemaining")}};(0,M._)([(0,S.MZ)()],eN.prototype,"_workPromise",void 0),(0,M._)([(0,S.MZ)({readOnly:!0})],eN.prototype,"_watchUpdatingTracking",void 0),(0,M._)([(0,S.MZ)({readOnly:!0})],eN.prototype,"_layersToLayerViews",null),(0,M._)([(0,S.MZ)({readOnly:!0})],eN.prototype,"_rootCollectionNames",null),(0,M._)([(0,S.MZ)()],eN.prototype,"layerViewImporter",void 0),(0,M._)([(0,S.MZ)()],eN.prototype,"supportsGround",void 0),(0,M._)([(0,S.MZ)({readOnly:!0})],eN.prototype,"updating",null),(0,M._)([(0,S.MZ)({readOnly:!0})],eN.prototype,"updatingRemaining",null),(0,M._)([(0,S.MZ)({constructOnly:!0})],eN.prototype,"view",void 0);let ek=eN=(0,M._)([(0,x.$)("esri.views.LayerViewManager")],eN);var eL=i(55048);let eF=class extends W.A{constructor(t){super(t),this.factor=1.5,this.offset=(0,eL.tc)(0,0),this.position=null,this.size=120,this.maskUrl=null,this.maskEnabled=!0,this.overlayUrl=null,this.overlayEnabled=!0,this.visible=!0}get version(){return this.commitProperty("factor"),this.commitProperty("offset"),this.commitProperty("position"),this.commitProperty("visible"),this.commitProperty("size"),this.commitProperty("maskUrl"),this.commitProperty("maskEnabled"),this.commitProperty("overlayUrl"),this.commitProperty("overlayEnabled"),(this._get("version")||0)+1}};(0,M._)([(0,S.MZ)({type:Number})],eF.prototype,"factor",void 0),(0,M._)([(0,S.MZ)({nonNullable:!0})],eF.prototype,"offset",void 0),(0,M._)([(0,S.MZ)()],eF.prototype,"position",void 0),(0,M._)([(0,S.MZ)({type:Number,range:{min:0}})],eF.prototype,"size",void 0),(0,M._)([(0,S.MZ)()],eF.prototype,"maskUrl",void 0),(0,M._)([(0,S.MZ)()],eF.prototype,"maskEnabled",void 0),(0,M._)([(0,S.MZ)()],eF.prototype,"overlayUrl",void 0),(0,M._)([(0,S.MZ)()],eF.prototype,"overlayEnabled",void 0),(0,M._)([(0,S.MZ)({readOnly:!0})],eF.prototype,"version",null),(0,M._)([(0,S.MZ)({type:Boolean})],eF.prototype,"visible",void 0);let eZ=eF=(0,M._)([(0,x.$)("esri.views.Magnifier")],eF);var eD=i(31461),ej=i(69358),eU=i(82558),eV=i(71086),ez=i(86099);function eG(t){return!!(null!=t&&"object"==typeof t&&"createQuery"in t&&t.createQuery&&"on"in t&&t.on)}let e$=class extends ep.A.EventedAccessor{constructor(t){super(t),this._selectionMap=new ej.A,this._sources=new I.A,this._trashCan=[],this._layerEditHandles=new I.A,this._vizTaskId=0,this.showHighlight=!0,this.highlightName="default"}initialize(){this.addHandles([(0,P.wB)(()=>[this.view,this.showHighlight],()=>this._refreshVisualization()),(0,P.on)(()=>this.sources,"change",t=>{let r=this._selectionMap;for(let i of t.removed)r.delete(i);this._refreshListeners(),this._refreshVisualization()},{onListenerAdd:()=>this._refreshListeners()})]);let t=new I.A;this.view.when().then(()=>{this.view.map&&(this.view.map.allLayers.flatten(t=>"sublayers"in t&&t.sublayers?t.sublayers:null).forEach(r=>{(eG(r)&&!(0,eV.F2)(r)||(0,eV.Sv)(r))&&t.add(r)}),this.sources=t)})}destroy(){this._layerEditHandles.drain(O.xt)}get selections(){return Array.from(this._selectionMap.entries()).map(t=>{let[r,i]=t;return{layer:r,selection:[...i.selection]}})}get count(){let t=0;for(let r of this._selectionMap.values())t+=r.selection.length;return t}get hasSelection(){return this.count>0}get sources(){return this._sources}set sources(t){(0,ec.V)(t,this._sources)}async getSelectedFeatures(t,r={},i="layerView"){let{view:s,selections:o}=this,a=(void 0!==t?o.filter(r=>t.includes(r.layer)):o).filter(t=>t.selection.length>0).map(async t=>{let{layer:o,selection:a}=t,u=(0,eV.Sv)(o)?o.parent:o;if(null==u||!eH(u))return null;if("layer"===i)return eJ(u,a,r);if(eB(u))return null;let d=await s.whenLayerView(u).catch(()=>null);return d?eJ(d,a,r):null});return(await Promise.all(a)).filter(t=>null!=t)}updateSelection(t){let r=new Map;for(let[t,i]of this._selectionMap)r.set(t,[...i.selection]);let i=!1;for(let s of t.current.concat(t.added)){let t=s.sourceLayer,o=s.getObjectId();if(this.sources.includes(t)&&(eG(t)||(0,eV.Sv)(t))&&null!==o){let s=(0,eI.tE)(r,t,()=>[]);s.includes(o)||(s.push(o),i=!0)}}for(let s of t.removed){let t=s.sourceLayer,o=s.getObjectId();if(this.sources.includes(t)&&(eG(t)||(0,eV.Sv)(t))&&null!==o){let s=r.get(t),a=s?.indexOf(o);void 0!==a&&a>=0&&(s?.splice(a,1),i=!0)}}if(i){let{_selectionMap:t,_trashCan:i}=this,s=[];for(let[o,a]of r){let r=t.get(o);void 0!==r&&i.push(r),t.set(o,{selection:a}),s.push({layer:o,selection:a,...(0,eD.iv)(void 0!==r?r.selection:[],a)})}this._onSelectionChange(s)}}setSelection(t,r){this._setSelection(t,r)}getSelection(t){let r=this._selectionMap.get(t);return r?.selection}appendToSelection(t,r){let i=this._selectionMap.get(t),s=void 0!==i?[...i.selection]:[];for(let t of r)s.includes(t)||s.push(t);this._setSelection(t,s)}removeFromSelection(t,r){let i=this._selectionMap.get(t);if(!i)return;let s=[];for(let t of i.selection)r.includes(t)||s.push(t);this._setSelection(t,s)}toggleInSelection(t,r){let i=this._selectionMap.get(t);if(!i||0===i.selection.length)return void this._setSelection(t,r);let s=new Set(i.selection),o=new Set(r),a=(0,eU.BT)(s,o);this._setSelection(t,Array.from(a))}clear(){let t=this._selectionMap.values();this._trashCan.push(...t);let r=[];for(let[t,i]of this._selectionMap.entries())r.push({layer:t,added:[],removed:[...i.selection],selection:[]});this._selectionMap.clear(),this._onSelectionChange(r)}_onSelectionChange(t){this._refreshVisualization(),this.emit("selection-change",{view:this.view,changes:t})}_refreshVisualization(){if(null==this.view||null==this.sources)return;for(this._vizTaskId++;this._trashCan.length>0;){let t=this._trashCan.pop();t?.highlightHandle?.remove()}let{sources:t,view:r,_selectionMap:i,showHighlight:s}=this,o=this._vizTaskId;for(let a of t){let t=i.get(a),u=(0,eV.Sv)(a)?a.parent:a;if(null!=u&&eH(u)){if(eB(u))continue;r.whenLayerView(u).then(r=>{t?.highlightHandle?.remove(),null!=t&&s&&o===this._vizTaskId&&"highlight"in r&&"function"==typeof r.highlight&&t.selection.length>0&&(t.highlightHandle=r.highlight(t.selection,this.highlightName))}).catch(()=>{t?.highlightHandle?.remove()})}}}_refreshListeners(){for(let t of(this._layerEditHandles.drain(O.xt),this.sources)){let r=(0,eV.Sv)(t)?t.parent:t;if(null!=r&&eG(r)){let i=r.on("edits",r=>{this._handleEditChanges(r,t)});this._layerEditHandles.push(i)}}}_handleEditChanges(t,r){if(void 0!==t.deletedFeatures&&t.deletedFeatures.length>0&&this._selectionMap.has(r)){let i=t.deletedFeatures.filter(t=>null==t.error).map(t=>t.objectId).filter(eD.Ru);this.removeFromSelection(r,i)}}_setSelection(t,r){if(!this.sources.includes(t))throw Error(`Cannot set selection on layer ${t.title} because it is not in 'sources'`);let i=this._selectionMap.get(t);if(void 0===i||!eW(i,{selection:r})){void 0!==i&&this._trashCan.push(i),this._selectionMap.set(t,{selection:[...r]});let s={layer:t,selection:[...r],...(0,eD.iv)(void 0!==i?i.selection:[],r)};this._onSelectionChange([s])}}};(0,M._)([(0,S.MZ)({readOnly:!0,nonNullable:!0})],e$.prototype,"selections",null),(0,M._)([(0,S.MZ)({readOnly:!0,nonNullable:!0})],e$.prototype,"count",null),(0,M._)([(0,S.MZ)({constructOnly:!0,nonNullable:!0})],e$.prototype,"view",void 0),(0,M._)([(0,S.MZ)({readOnly:!0,nonNullable:!0})],e$.prototype,"hasSelection",null),(0,M._)([(0,S.MZ)()],e$.prototype,"showHighlight",void 0),(0,M._)([(0,S.MZ)()],e$.prototype,"sources",null),(0,M._)([(0,S.MZ)()],e$.prototype,"highlightName",void 0);let eB=t=>(0,eV.Sv)(t)?!0===t.parent?.isTable:t.isTable,eq=t=>void 0!==t.layer,eH=t=>void 0!==t?.when,eW=(t,r)=>{if(null==t&&null==r)return!0;if(null!=t&&null==r||null==t&&null!=r)return!1;if(null!=t&&null!=r&&null!=t.selection&&null!=r.selection){let i=[...t.selection],s=[...r.selection];if(i.length!==s.length)return!1;i.sort(),s.sort();for(let t=0;t<i.length;t++)if(i[t]!==s[t])return!1}return!0},eJ=async(t,r,i={})=>{let s;return eq(t)?void 0===t?null:await t.queryFeatures(new ez.A({...i,objectIds:r})).then(r=>({data:r,layer:t.layer})):void 0===t?null:await t.queryFeatures(new ez.A({...i,objectIds:r})).then(r=>({data:r,layer:t}))},eK=e$=(0,M._)([(0,x.$)("esri.views.SelectionManager")],e$);var eY=i(70152),eX=i(71017);let eQ=class extends eX.A.ClonableMixin(W.A){constructor(t){super(t),this.accentColor=new eY.A([255,127,0]),this.textColor=new eY.A([255,255,255])}};(0,M._)([(0,S.MZ)({type:eY.A,nonNullable:!0})],eQ.prototype,"accentColor",void 0),(0,M._)([(0,S.MZ)({type:eY.A,nonNullable:!0})],eQ.prototype,"textColor",void 0);let e0=eQ=(0,M._)([(0,x.$)("esri.views.Theme")],eQ);var e1=i(34603),e2=i(20538),e3=i(35759);i(42906);let e8=["click","double-click","immediate-click","immediate-double-click","hold","drag","key-down","key-up","pointer-down","pointer-move","pointer-up","pointer-drag","mouse-wheel","pointer-enter","pointer-leave","gamepad","focus","blur"],e5={};function e9(t){return!!e5[t]}e8.forEach(t=>{e5[t]=!0});class e6{constructor(t){this._handlers=new Map,this._counter=0,this._handlerCounts=new Map,this.view=t,this.inputManager=null}connect(t){t&&this.disconnect(),this.inputManager=t,this._handlers.forEach(({handler:t,priority:r},i)=>this.inputManager?.installHandlers(i,[t],r))}disconnect(){this.inputManager&&this._handlers.forEach((t,r)=>this.inputManager?.uninstallHandlers(r)),this.inputManager=null}destroy(){this.disconnect(),this._handlers.clear(),this.view=null}on(t,r,i,s){let o,a,u=Array.isArray(t)?t:t.split(",");if(!function(t){for(let r of t)if(!e9(r))return!1;return!0}(u))return u.some(e9)&&console.error("Error: registering input events and other events on the view at the same time is not supported."),null;Array.isArray(r)?a=r:(o=r,a=[]),"function"==typeof i?o=i:s=i,s=null!=s?s:en.o.DEFAULT;let d=this._createUniqueGroupName(),c=new e4(this.view,u,a,o);for(let t of(this._handlers.set(d,{handler:c,priority:s}),u)){let r=this._handlerCounts.get(t)||0;this._handlerCounts.set(t,r+1)}return this.inputManager&&this.inputManager.installHandlers(d,[c],s),(0,q.hA)(()=>this._removeHandler(d,u))}hasHandler(t){return!!this._handlerCounts.get(t)}_removeHandler(t,r){if(this._handlers.has(t))for(let i of(this._handlers.delete(t),r)){let t=this._handlerCounts.get(i);void 0===t||(1===t?this._handlerCounts.delete(i):this._handlerCounts.set(i,t-1))}this.inputManager&&this.inputManager.uninstallHandlers(t)}_createUniqueGroupName(){return this._counter+=1,`viewEvents_${this._counter}`}}class e4 extends e3.l{constructor(t,r,i,s){for(let o of(super(!0),this._latestDragStart=void 0,this.view=t,r))switch(o){case"click":this.registerIncoming("click",i,r=>s(function(t,r){let{pointerType:i,button:s,buttons:o,x:a,y:u,native:d,eventId:c}=r.data,{cancelable:p,timestamp:h}=r;return{type:"click",pointerType:i,button:s,buttons:o,x:a,y:u,native:d,timestamp:h,screenPoint:(0,eL.tc)(a,u),mapPoint:e7(t,a,u),eventId:c,cancelable:p,stopPropagation:()=>r.stopPropagation(),async:t=>r.async(t),preventDefault:()=>r.preventDefault()}}(t,r)));break;case"double-click":this.registerIncoming("double-click",i,r=>s(function(t,r){let{pointerType:i,button:s,buttons:o,x:a,y:u,native:d,eventId:c}=r.data,{cancelable:p,timestamp:h}=r;return{type:"double-click",pointerType:i,button:s,buttons:o,x:a,y:u,native:d,timestamp:h,mapPoint:e7(t,a,u),eventId:c,cancelable:p,stopPropagation:()=>r.stopPropagation(),async:t=>r.async(t),preventDefault:()=>r.preventDefault()}}(t,r)));break;case"immediate-click":this.registerIncoming("immediate-click",i,r=>s(function(t,r){let{pointerType:i,button:s,buttons:o,x:a,y:u,native:d,eventId:c}=r.data,p=d.pointerId,{cancelable:h,timestamp:f}=r;return{type:"immediate-click",pointerId:p,pointerType:i,button:s,buttons:o,x:a,y:u,native:d,timestamp:f,mapPoint:e7(t,a,u),eventId:c,cancelable:h,stopPropagation:()=>r.stopPropagation(),async:t=>r.async(t),preventDefault:()=>r.preventDefault()}}(t,r)));break;case"immediate-double-click":this.registerIncoming("immediate-double-click",i,r=>s(function(t,r){let{pointerType:i,button:s,buttons:o,x:a,y:u,native:d,eventId:c}=r.data,p=d.pointerId,{cancelable:h,timestamp:f}=r;return{type:"immediate-double-click",pointerId:p,pointerType:i,button:s,buttons:o,x:a,y:u,native:d,timestamp:f,mapPoint:e7(t,a,u),eventId:c,cancelable:h,stopPropagation:()=>r.stopPropagation(),async:t=>r.async(t),preventDefault:()=>r.preventDefault()}}(t,r)));break;case"hold":this.registerIncoming("hold",i,r=>s(function(t,r){let{pointerType:i,button:s,buttons:o,x:a,y:u,native:d}=r.data,{cancelable:c,timestamp:p}=r;return{type:"hold",pointerType:i,button:s,buttons:o,x:a,y:u,native:d,timestamp:p,mapPoint:e7(t,a,u),cancelable:c,stopPropagation:()=>r.stopPropagation(),async:t=>r.async(t),preventDefault:()=>r.preventDefault()}}(t,r)));break;case"drag":this.registerIncoming("drag",i,t=>{let r=this._wrapDrag(t);r&&s(r)});break;case"key-down":this.registerIncoming("key-down",i,t=>s(function(t){let{key:r,repeat:i,native:s}=t.data,{cancelable:o,timestamp:a}=t;return{type:"key-down",key:r,repeat:i,native:s,timestamp:a,cancelable:o,stopPropagation:()=>t.stopPropagation(),async:r=>t.async(r),preventDefault:()=>t.preventDefault()}}(t)));break;case"key-up":this.registerIncoming("key-up",i,t=>s(function(t){let{key:r,native:i}=t.data,{cancelable:s,timestamp:o}=t;return{type:"key-up",key:r,native:i,timestamp:o,cancelable:s,stopPropagation:()=>t.stopPropagation(),async:r=>t.async(r),preventDefault:()=>t.preventDefault()}}(t)));break;case"pointer-down":this.registerIncoming("pointer-down",i,t=>s(te(t,"pointer-down")));break;case"pointer-move":this.registerIncoming("pointer-move",i,t=>s(te(t,"pointer-move")));break;case"pointer-up":this.registerIncoming("pointer-up",i,t=>s(te(t,"pointer-up")));break;case"pointer-drag":this.registerIncoming("pointer-drag",i,t=>s(function(t){let{x:r,y:i,buttons:s,native:o,eventId:a}=t.data.currentEvent,{button:u}=t.data.startEvent,d=t.data.startEvent.native.pointerId,c=t.data.startEvent.native.pointerType,p=t.data.action,h={x:t.data.startEvent.x,y:t.data.startEvent.y},{cancelable:f,timestamp:y}=t;return{type:"pointer-drag",x:r,y:i,pointerId:d,pointerType:c,button:u,buttons:s,action:p,origin:h,native:o,timestamp:y,eventId:a,cancelable:f,stopPropagation:()=>t.stopPropagation(),async:r=>t.async(r),preventDefault:()=>t.preventDefault()}}(t)));break;case"mouse-wheel":this.registerIncoming("mouse-wheel",i,t=>s(function(t){let{cancelable:r,data:i,timestamp:s}=t,{x:o,y:a,deltaY:u,native:d}=i;return{type:"mouse-wheel",x:o,y:a,deltaY:u,native:d,timestamp:s,cancelable:r,stopPropagation:()=>t.stopPropagation(),async:r=>t.async(r),preventDefault:()=>t.preventDefault()}}(t)));break;case"pointer-enter":this.registerIncoming("pointer-enter",i,t=>s(te(t,"pointer-enter")));break;case"pointer-leave":this.registerIncoming("pointer-leave",i,t=>s(te(t,"pointer-leave")));break;case"gamepad":this.registerIncoming("gamepad",i,t=>{s(function(t){let{action:r,state:i,device:s}=t.data,{cancelable:o,timestamp:a}=t,{buttons:u,axes:d}=i;return{type:"gamepad",device:s,timestamp:a,action:r,buttons:u,axes:d,cancelable:o,stopPropagation:()=>t.stopPropagation(),async:r=>t.async(r),preventDefault:()=>t.preventDefault()}}(t))});break;case"focus":this.registerIncoming("focus",i,t=>{s(function(t){return{type:"focus",timestamp:t.timestamp,native:t.data.native,cancelable:t.cancelable,stopPropagation:()=>t.stopPropagation(),async:r=>t.async(r),preventDefault:()=>t.preventDefault()}}(t))});break;case"blur":this.registerIncoming("blur",i,t=>{s(function(t){return{type:"blur",timestamp:t.timestamp,native:t.data.native,cancelable:t.cancelable,stopPropagation:()=>t.stopPropagation(),async:r=>t.async(r),preventDefault:()=>t.preventDefault()}}(t))})}}_wrapDrag(t){let r=t.data,{x:i,y:s}=r.center,{action:o,pointerType:a,button:u}=r;if("start"===o&&(this._latestDragStart=r),!this._latestDragStart)return;let d=r.pointer.native,c=r.buttons,{cancelable:p,timestamp:h}=t,f={x:this._latestDragStart.center.x,y:this._latestDragStart.center.y};return"end"===o&&(this._latestDragStart=void 0),{type:"drag",action:o,x:i,y:s,origin:f,pointerType:a,button:u,buttons:c,radius:r.radius,angle:(0,e2.KJ)(r.angle),native:d,timestamp:h,cancelable:p,stopPropagation:()=>t.stopPropagation(),async:r=>t.async(r),preventDefault:()=>t.preventDefault()}}}function e7(t,r,i){return t.toMap((0,eL.tc)(r,i),{exclude:[]})}function te(t,r){let{x:i,y:s,button:o,buttons:a,native:u,eventId:d}=t.data,c=u.pointerId,p=u.pointerType,{cancelable:h,timestamp:f}=t;return{type:r,x:i,y:s,pointerId:c,pointerType:p,button:o,buttons:a,native:u,timestamp:f,eventId:d,cancelable:h,stopPropagation:()=>t.stopPropagation(),async:r=>t.async(r),preventDefault:()=>t.preventDefault()}}var tt=i(90715);function tr(t){return t.visible&&null!=t.getEditableFlag&&t.getEditableFlag(tt.PK.USER)&&t.getEditableFlag(tt.PK.MANAGER)}var ti=i(37914),tn=i(9247);class ts{constructor(){this._pointerLocations=new Map,this._hoveredManipulators=new Map,this._grabbedManipulators=new Map,this._draggedManipulators=new Map,this._stopDrag=!1,this._externallyDragging=!1,this._revertToNullActiveTool=!1,this._cursor=null}get cursor(){return this._cursor}hasFocusedManipulators(){return this._grabbedManipulators.size>0||this._draggedManipulators.size>0}handleInputEvent(t,r){let i=()=>t.stopPropagation();switch(t.type){case"pointer-move":"mouse"===t.pointerType&&this._pointerLocations.set(t.pointerId,{x:t.x,y:t.y,pointerType:t.pointerType});break;case"drag":this._grabbedManipulators.size>0?this._stopDrag=!0:"start"===t.action?this._externallyDragging=!0:"end"===t.action&&(this._externallyDragging=!1),this._stopDrag&&(i(),"end"===t.action&&(this._stopDrag=!1));break;case"pointer-down":{if(!tl(t))break;let s=(0,tn.ZV)(t),o=ta(s,t.pointerType,r.forEachTool);if(null==o)break;let a=o.manipulator,u=o.tool;null==a||null==u||!a.interactive||a.grabbable&&a.grabbableForEvent(t)||!a.grabbing||a.dragging||this._releaseManipulatorBeforeDragging(a,t,r),null!=a&&null!=u&&a.interactive&&a.grabbable&&a.grabbableForEvent(t)&&!a.grabbing&&(this._grabbedManipulators.set(t.pointerId,{manipulator:a,tool:u,start:s,pointerType:t.pointerType}),1===this._grabbedManipulators.size&&null==r.activeTool&&(this._revertToNullActiveTool=!0,r.setActiveTool(o.tool)),a.grabbing=!0,a.events.emit("grab-changed",{action:"start",pointerType:t.pointerType,screenPoint:s}),i());break}case"pointer-up":this._draggedManipulators.has(t.pointerId)||this._handlePointerEnd(t,r);break;case"pointer-drag":{if(!tl(t))break;let s=this._grabbedManipulators.get(t.pointerId),o=s?.manipulator,a=s?.tool;if(null==o||null==a)break;let u=(0,tn.ZV)(t);u.x=(0,e2.qE)(u.x,0,r.view.width),u.y=(0,e2.qE)(u.y,0,r.view.height);let d=s.start,c=this._draggedManipulators.get(t.pointerId);switch(t.action){case"start":case"update":"update"!==t.action&&1!==this._grabbedManipulators.size||(o.dragging=!0,c?o.events.emit("drag",{action:"update",start:d,screenPoint:u}):o.events.emit("drag",{action:"start",start:d,screenPoint:u,pointerType:t.pointerType}),this._draggedManipulators.set(t.pointerId,{tool:a,manipulator:o,start:d}));break;case"end":o.dragging=!1,c&&o.events.emit("drag",{action:"end",start:d,screenPoint:u}),this._draggedManipulators.delete(t.pointerId),this._handlePointerEnd(t,r)}i();break}case"immediate-click":{let s=(0,tn.ZV)(t),o=ta(s,t.pointerType,r.forEachTool);if(t.native.shiftKey||r.forEachTool(t=>{if((null==o||o.tool!==t||t.automaticManipulatorSelection)&&t.manipulators){let r=!1;t.manipulators.forEach(({manipulator:t})=>{t.selected&&(t.selected=!1,r=!0)}),r&&t.onManipulatorSelectionChanged&&t.onManipulatorSelectionChanged()}}),null==o)break;let{manipulator:a,tool:u}=o;if(!a.interactive)break;a.selectable&&u.automaticManipulatorSelection&&(a.selected=!a.selected,u.onManipulatorSelectionChanged&&u.onManipulatorSelectionChanged());let d=t.native.shiftKey;a.events.emit("immediate-click",{screenPoint:s,button:t.button,pointerType:t.pointerType,shiftKey:d,stopPropagation:i}),tu(a,i);break}case"click":{let s=(0,tn.ZV)(t),o=ta(s,t.pointerType,r.forEachTool),a=o?.manipulator;if(null==a||!a.interactive)break;let u=t.native.shiftKey;a.events.emit(t.type,{screenPoint:s,button:t.button,pointerType:t.pointerType,shiftKey:u}),i();break}case"double-click":{let s=(0,tn.ZV)(t),o=ta(s,t.pointerType,r.forEachTool),a=null!=o?o.manipulator:null;if(null==a||!a.interactive)break;let u=t.native.shiftKey;a.events.emit("double-click",{screenPoint:s,button:t.button,pointerType:t.pointerType,shiftKey:u,stopPropagation:i}),tu(a,i);break}case"immediate-double-click":{let s=(0,tn.ZV)(t),o=ta(s,t.pointerType,r.forEachTool),a=null!=o?o.manipulator:null;if(null==a||!a.interactive)break;let u=t.native.shiftKey;a.events.emit("immediate-double-click",{screenPoint:s,button:t.button,pointerType:t.pointerType,shiftKey:u,stopPropagation:i}),"mouse"===t.pointerType&&tu(a,i)}}this._onFocusChange(r.forEachTool)}_releaseManipulatorBeforeDragging(t,r,i){t.grabbing=!1,t.events.emit("grab-changed",{action:"end",pointerType:r.pointerType,screenPoint:(0,tn.ZV)(r)}),this._grabbedManipulators.forEach(({manipulator:r},i)=>{r===t&&this._grabbedManipulators.delete(i)}),this._afterManipulatorRelease(i.setActiveTool)}_handlePointerEnd(t,r){let i=this._grabbedManipulators.get(t.pointerId)?.manipulator;null!=i&&i.grabbing&&(i.grabbing=!1,i.events.emit("grab-changed",{action:"end",pointerType:t.pointerType,screenPoint:(0,tn.ZV)(t)}),this._grabbedManipulators.delete(t.pointerId),this._afterManipulatorRelease(r.setActiveTool))}_onFocusChange(t){this._updateCursor(),this._updateFocusedManipulatorTools(t)}_updateCursor(){this._grabbedManipulators.size>0?this._cursor=to(this._grabbedManipulators)||"grabbing":this._hoveredManipulators.size>0?this._cursor=to(this._hoveredManipulators)||"pointer":this._cursor=null}_updateFocusedManipulatorTools(t){let r=new Set,i=new Set;this._grabbedManipulators.forEach(({tool:t})=>{r.add(t)}),this._hoveredManipulators.forEach(({tool:t})=>{i.add(t)}),t(t=>{t.hasGrabbedManipulators=r.has(t),t.hasHoveredManipulators=i.has(t);let s=this._grabbedManipulators.values(),o=(0,ti.I6)(s,({tool:r})=>r===t);t.firstGrabbedManipulator=null!=o?o.manipulator:null})}clearPointers(t,{forEachTool:r,setActiveTool:i},s=!0,o){let a=(r,i)=>r===t&&(null==o||o===i);this._grabbedManipulators.forEach(({tool:t,manipulator:r,pointerType:i},s)=>{a(t,r)&&(this._grabbedManipulators.delete(s),r.grabbing=!1,r.events.emit("grab-changed",{action:"end",screenPoint:null,pointerType:i}))}),this._draggedManipulators.forEach(({tool:t,manipulator:r},i)=>{a(t,r)&&(this._draggedManipulators.delete(i),r.dragging=!1,r.events.emit("drag",{action:"cancel"}))}),s&&this._hoveredManipulators.forEach(({tool:t,manipulator:r},i)=>{a(t,r)&&(this._hoveredManipulators.delete(i),r.hovering=!1)}),this._afterManipulatorRelease(i),this._onFocusChange(r)}updateHoveredStateFromKnownPointers(t){this._pointerLocations.forEach((r,i)=>{this._updateHoveredStateForPointerAtScreenPosition((0,eL.tc)(r.x,r.y),i,r.pointerType,t)})}handleHoverEvent(t,r){let i=t.type;("pointer-up"===i||"immediate-click"===i||"pointer-move"===i)&&"mouse"===t.pointerType&&("pointer-up"!==i&&this._externallyDragging?this._clearHoveredManipulatorStates(t.pointerId):this._updateHoveredStateForPointerAtScreenPosition((0,tn.ZV)(t),t.pointerId,t.pointerType,r))}_updateHoveredStateForPointerAtScreenPosition(t,r,i,s){let o=ta(t,i,s),a=this._hoveredManipulators.get(r)?.manipulator;null==o||o.manipulator.interactive||(o=null),null!=o&&a===o.manipulator||(null!=a&&(a.hovering=!1),null!=o?(o.manipulator.hovering=!0,this._hoveredManipulators.set(r,o)):this._hoveredManipulators.delete(r),this._onFocusChange(s))}_afterManipulatorRelease(t){0===this._grabbedManipulators.size&&this._revertToNullActiveTool&&(t(null),this._revertToNullActiveTool=!1)}_clearHoveredManipulatorStates(t){this._hoveredManipulators.forEach(({manipulator:r},i)=>{t===i&&(this._hoveredManipulators.delete(t),r.hovering=!1)})}}function to(t){for(let{manipulator:r}of t.values())if(null!=r&&r.interactive){if(r.grabbing&&r.grabCursor)return r.grabCursor;if(r.cursor)return r.cursor}return null}function ta(t,r,i){let s=null;return i(i=>{if(null==i.manipulators||!tr(i))return!1;let o=i.manipulators.intersect(t,r);return null!=o&&(s={tool:i,manipulator:o},!0)}),s}function tl(t){return"mouse"!==t.pointerType||0===t.button}function tu(t,r){t?.consumesClicks&&r()}let td="attached",tc="tools",tp=class extends W.A{constructor(t){super(t),this._updatingHandles=new J.U,this._clock=e1.p,this._manipulatorState=new ts,this.tools=new I.A,this.cursor=null,this._interacting=!1,this._interactingTimeout=1e3,this._interactingTimeoutHandle=null,this._forEachTool=t=>{for(let r of this.tools.items)if(t(r))return}}initialize(){var t;this.addHandles([this.view.on(e8,t=>{this._handleInputEvent(t)},en.o.TOOL),(t=this.tools).on("before-add",r=>{let i=r.item;if(null==i||t.includes(i))return T.A.getLogger("esri.views.interactive.interactiveToolUtils").warn("Tool is either already in the list of tools or tool is `null`. Not adding tool."),void r.preventDefault();i.onAdd()}),t.on("after-remove",t=>{let r=t.item;r.active&&(r.view.activeTool=null),r.destroy()}),this.tools.on("before-add",({item:t})=>{this._updateToolEditableFlag(t)}),this.tools.on("before-remove",({item:t})=>{this._manipulatorState.clearPointers(t,this._manipulatorStateEventArgs),this._updateCursor()}),this.tools.on("change",()=>{this._refreshToolWatchers()})])}destroy(){this.activeTool=null,this.tools.drain(t=>t.destroy()),this._clearInteractingTimeout(),this._interacting=!1,this._updatingHandles.destroy()}get _manipulatorStateEventArgs(){return{forEachTool:this._forEachTool,activeTool:this.activeTool,setActiveTool:t=>{this.activeTool=t},view:this.view}}set activeTool(t){if(null!=t&&!this.view.ready)return void T.A.getLogger(this).error("Cannot set active tool while view is not ready.");if(t===this.activeTool)return;let r=this.activeTool;for(let i of(this._set("activeTool",t),null!=r&&r.deactivate(),null!=t&&t.activate(),this._removeIncompleteTools(t),this.tools)){this._updateToolEditableFlag(i);let t=tr(i);null!=this.activeTool&&t||this._manipulatorState.clearPointers(i,this._manipulatorStateEventArgs,!t)}this._updateCursor()}get updating(){return this._updatingHandles.updating||this.tools.some(t=>t.updating)}get interacting(){return this._interacting}_clearInteractingTimeout(){this._interactingTimeoutHandle=(0,O.xt)(this._interactingTimeoutHandle)}_startInteractingTimeout(){this._clearInteractingTimeout(),this._interactingTimeoutHandle=this._clock.setTimeout(()=>this._interacting=!1,this._interactingTimeout)}attach(){"3d"===this.view.type?this.addHandles([(0,P.wB)(()=>{let{state:t}=this.view;return"camera"in t&&t.camera},()=>this._forEachManipulator(t=>t.onViewChange())),this.view.elevationProvider?.on("elevation-change",t=>this._forEachManipulator(r=>r.onElevationChange(t)))],td):this.addHandles((0,P.wB)(()=>this.view.extent,()=>this._forEachManipulator(t=>t.onViewChange())))}detach(){this.activeTool=null,this.tools.removeAll(),this.removeHandles(td),this._clearInteractingTimeout(),this._interacting=!1}_forEachManipulator(t){this._forEachTool(r=>{r.manipulators&&r.manipulators.forEach(({manipulator:i})=>t(i,r))})}_handleInputEvent(t){let r=!1,i={...t,stopPropagation:()=>{r=!0,t.stopPropagation()}};null!=this.activeTool?this.activeTool.handleInputEvent&&this.activeTool.handleInputEvent(i):this._forEachTool(t=>{!r&&t.visible&&t.handleInputEvent(i)}),!r&&"key-down"===t.type&&"Escape"===t.key&&this.activeTool&&(t.stopPropagation(),this.activeTool=null),this._manipulatorState.handleInputEvent(i,this._manipulatorStateEventArgs),r||null==this.activeTool||this.activeTool.handleInputEventAfter(i),this._manipulatorState.handleHoverEvent(i,this._forEachTool),this._updateCursor(),"pointer-move"===t.type&&(this._manipulatorState.hasFocusedManipulators()||this.activeTool)&&(this._interacting=!0,this._startInteractingTimeout())}_refreshToolWatchers(){this.removeHandles(tc),this._forEachTool(t=>{if(t instanceof W.A){let r=(0,P.wB)(()=>[t.cursor,t.visible,t.editable],()=>{tr(t)||this._manipulatorState.clearPointers(t,this._manipulatorStateEventArgs),this._updateCursor()});this.addHandles(r,tc)}t.manipulators&&this.addHandles([t.manipulators.on("after-remove",r=>{this._manipulatorState.clearPointers(t,this._manipulatorStateEventArgs,!0,r.item.manipulator)}),t.manipulators.on("change",()=>{this._manipulatorState.updateHoveredStateFromKnownPointers(this._forEachTool),this._updateCursor()})],tc)}),this._manipulatorState.updateHoveredStateFromKnownPointers(this._forEachTool),this._updateCursor()}_updateToolEditableFlag(t){t.setEditableFlag?.(tt.PK.MANAGER,null==this.activeTool||t===this.activeTool)}_updateCursor(){let t=this._manipulatorState.cursor;null==t&&this._forEachTool(r=>!(null==r.cursor||!r.visible)&&(t=r.cursor,!0)),this._get("cursor")!==t&&this._set("cursor",t)}_removeIncompleteTools(t){this.tools.filter(r=>(null==t||r!==t)&&!r.created&&r.removeIncompleteOnCancel).forEach(t=>{this.tools.remove(t)})}get test(){}};(0,M._)([(0,S.MZ)({constructOnly:!0,nonNullable:!0})],tp.prototype,"view",void 0),(0,M._)([(0,S.MZ)({value:null})],tp.prototype,"activeTool",null),(0,M._)([(0,S.MZ)({readOnly:!0,type:I.A})],tp.prototype,"tools",void 0),(0,M._)([(0,S.MZ)({readOnly:!0})],tp.prototype,"cursor",void 0),(0,M._)([(0,S.MZ)({readOnly:!0})],tp.prototype,"updating",null),(0,M._)([(0,S.MZ)()],tp.prototype,"_interacting",void 0),(0,M._)([(0,S.MZ)({readOnly:!0})],tp.prototype,"interacting",null),tp=(0,M._)([(0,x.$)("esri.views.ToolViewManager")],tp);var th=i(28544),tf=i(65588);let ty=class extends W.A{constructor(t){super(),this.nativeIndex=null,this._detectedDeviceType="unknown","standard"===t.mapping?this._detectedDeviceType="standard":tg.test(t.id)?this._detectedDeviceType="spacemouse":this._detectedDeviceType="unknown",this.nativeIndex=t.index}get native(){let t=navigator.getGamepads?navigator.getGamepads():[];return null!=this.nativeIndex&&this.nativeIndex<t.length?t[this.nativeIndex]:null}get deviceType(){return this._detectedDeviceType}get axisThreshold(){return t_[this.deviceType]}};(0,M._)([(0,S.MZ)({nonNullable:!0,readOnly:!0})],ty.prototype,"nativeIndex",void 0),(0,M._)([(0,S.MZ)({type:String,readOnly:!0})],ty.prototype,"deviceType",null),(0,M._)([(0,S.MZ)({type:Number,readOnly:!0})],ty.prototype,"axisThreshold",null);let tm=ty=(0,M._)([(0,x.$)("esri.views.input.gamepad.GamepadInputDevice")],ty),tg=RegExp("^(3dconnexion|space(mouse|navigator|pilot|explorer))","i"),t_={standard:.15,spacemouse:.025,unknown:0},tv=class extends W.A{constructor(...t){super(...t),this.devices=new I.A,this.enabledFocusMode="document"}};(0,M._)([(0,S.MZ)({type:I.A.ofType(tm),readOnly:!0})],tv.prototype,"devices",void 0),(0,M._)([(0,S.MZ)({type:["document","view","none"]})],tv.prototype,"enabledFocusMode",void 0);let tw=tv=(0,M._)([(0,x.$)("esri.views.input.gamepad.GamepadSettings")],tv),tb=class extends W.A{constructor(){super(...arguments),this.gamepad=new tw}};(0,M._)([(0,S.MZ)({readOnly:!0})],tb.prototype,"gamepad",void 0);let tM=tb=(0,M._)([(0,x.$)("esri.views.input.Input")],tb);var tS=i(12800),tA=i(24842);let tT=()=>(0,S.MZ)({type:["pan","rotate","zoom","none"],nonNullable:!0}),tx=class extends W.A{constructor(t){super(t),this.dragPrimary="pan",this.dragSecondary="rotate",this.dragTertiary="zoom",this.mouseWheel="zoom"}};(0,M._)([tT()],tx.prototype,"dragPrimary",void 0),(0,M._)([tT()],tx.prototype,"dragSecondary",void 0),(0,M._)([tT()],tx.prototype,"dragTertiary",void 0),(0,M._)([(0,S.MZ)({type:["zoom","none"],nonNullable:!0})],tx.prototype,"mouseWheel",void 0);let tE=tx=(0,M._)([(0,x.$)("esri.views.navigation.NavigationActionMap")],tx),tI=class extends W.A{constructor(t){super(t),this.enabled=!0,this.device=null,this.mode="pan",this.tiltDirection="forward-down",this.velocityFactor=1}};(0,M._)([(0,S.MZ)({type:Boolean,nonNullable:!0})],tI.prototype,"enabled",void 0),(0,M._)([(0,S.MZ)({type:tm})],tI.prototype,"device",void 0),(0,M._)([(0,S.MZ)({type:["pan","zoom"],nonNullable:!0})],tI.prototype,"mode",void 0),(0,M._)([(0,S.MZ)({type:["forward-down","forward-up"],nonNullable:!0})],tI.prototype,"tiltDirection",void 0),(0,M._)([(0,S.MZ)({type:Number,nonNullable:!0})],tI.prototype,"velocityFactor",void 0);let tC=tI=(0,M._)([(0,x.$)("esri.views.navigation.gamepad.GamepadSettings")],tI),tR=class extends W.A{constructor(t){super(t),this.actionMap=new tE,this.browserTouchPanEnabled=!0,this.gamepad=new tC,this.momentumEnabled=!0}get effectiveMomentumEnabled(){return this.momentumEnabled&&!(0,tS.O)()}get mouseWheelZoomEnabled(){return"zoom"===this.actionMap.mouseWheel}set mouseWheelZoomEnabled(t){(0,tA.Lx)(T.A.getLogger(this),"mouseWheelZoomEnabled",{replacement:"actionMap.mouseWheel",version:"4.32",warnOnce:!0}),this.actionMap.mouseWheel=t?"zoom":"none"}};(0,M._)([(0,S.MZ)({type:tE,nonNullable:!0})],tR.prototype,"actionMap",void 0),(0,M._)([(0,S.MZ)({type:Boolean})],tR.prototype,"browserTouchPanEnabled",void 0),(0,M._)([(0,S.MZ)({type:tC,nonNullable:!0})],tR.prototype,"gamepad",void 0),(0,M._)([(0,S.MZ)({type:Boolean})],tR.prototype,"momentumEnabled",void 0),(0,M._)([(0,S.MZ)({type:Boolean})],tR.prototype,"mouseWheelZoomEnabled",null);let tO=tR=(0,M._)([(0,x.$)("esri.views.navigation.Navigation")],tR);var tP=i(8811),tN=i(10954);let tk,tL=null;async function tF(t){tL||(tL=i.e(3724).then(i.bind(i,3724)).then(t=>tk=t)),await tL,(0,ei.Te)(t)}async function tZ(t,r,i,s){if(!t)return null;let o=t.spatialReference;return(0,Z.isLoaded)()||(0,Z.canProjectWithoutEngine)(o,r)?(0,Z.project)(t,r):tk?tk.projectGeometry(t,r,i,s):(await Promise.race([tF(s),(0,Z.load)(s)]),tZ(t,r,i,s))}let tD=class extends W.A{constructor(t){super(t),this.required={extent:!1,heightModelInfo:!1,tileInfo:!1},this.defaultSpatialReference=null,this.userSpatialReference=null,this.sourcePreloadCount=10,this.priorityCollection=null,this.requiresExtentInSpatialReference=!0,this.suspended=!1,this._projectExtentTask={task:null,input:null,output:null,spatialReference:null}}destroy(){this._projectExtentTask.task&&(this._projectExtentTask.task=(0,O.DC)(this._projectExtentTask.task)),this._set("map",null)}get ready(){return!this._spatialReferenceTask.updating&&!this._tileInfoTask.updating&&!this._extentTask.updating}get heightModelInfoReady(){return!this._heightModelInfoTask.updating}get spatialReference(){return this.userSpatialReference??this._spatialReferenceTask.spatialReference}get extent(){return this._extentTask.extent}get heightModelInfo(){return this._heightModelInfoTask.heightModelInfo}get vcsWkid(){return this._heightModelInfoTask.vcsWkid}get latestVcsWkid(){return this._heightModelInfoTask.latestVcsWkid}get viewingMode(){return null==this.userSpatialReference||this.userSpatialReference.equals(this._spatialReferenceTask.spatialReference)?this._spatialReferenceTask.viewingMode:null}get tileInfo(){return this._tileInfoTask.tileInfo}get mapCollections(){let t=this.map?.(),r=[];return null!=this.priorityCollection&&r.push(this.priorityCollection),r.push({parent:t?.basemap,layers:t?.basemap?.baseLayers},{layers:t?.layers},{parent:t?.ground,layers:t?.ground?.layers},{parent:t?.basemap,layers:t?.basemap?.referenceLayers}),r}get _spatialReferenceTask(){let t;if(this.suspended)return this._get("_spatialReferenceTask")??{updating:!1};if(this._collectLayers(this.mapCollections,r=>{let i=this._getSupportedSpatialReferences(r);if(i.length>0){let r=this._narrowDownSpatialReferenceCandidates(t,i);null!=r&&(t=r)}return 1===t?.length})&&1!==t?.length)return{updating:!0};let r=this._pickSpatialReferenceCandidate(t);return{spatialReference:r?.spatialReference??null,viewingMode:r?.viewingMode??null,updating:!1}}get _tileInfoTask(){let t;if(!this.required.tileInfo)return this._get("_tileInfoTask")??{updating:!1};let r=this.map?.(),i=this.spatialReference;if(!i)return{updating:this._spatialReferenceTask.updating};let s=this._collectLayers([{parent:r?.basemap,layers:r?.basemap?.baseLayers},{layers:r?.layers}],r=>!(!("tileInfo"in r)||!r.tileInfo?.spatialReference.equals(i))&&(t=r,!0),t=>"tileInfo"in t);return t?{tileInfo:t.tileInfo,updating:!1}:{updating:s}}get _heightModelInfoTask(){if(!this.required.heightModelInfo||this.suspended&&this._get("_heightModelInfoTask")?.heightModelInfo)return this._get("_heightModelInfoTask")??{updating:!1};let t={},r=this._collectLayers(this.mapCollections,r=>{let i=(0,tP.zy)(r);return!!i&&(t={heightModelInfo:i,vcsWkid:r.spatialReference?.vcsWkid,latestVcsWkid:r.spatialReference?.latestVcsWkid},!0)},t=>(0,tP.jI)(t));return{...t,updating:r}}get _extentCandidatesTask(){if(this.suspended||!this.required.extent)return this._get("_extentCandidatesTask")??{updating:!1};if(!this.spatialReference)return{updating:this._spatialReferenceTask.updating};let t=[],r=this._collectLayers(this.mapCollections,r=>{let i="fullExtents"in r&&r.fullExtents||(null!=r.fullExtent?[r.fullExtent]:[]),s=this.requiresExtentInSpatialReference?null:i[0],o=i.find(t=>t.spatialReference.equals(this.spatialReference))??s;if(o)return t.push({extent:o,layer:r}),!0;if(this._getSupportedSpatialReferences(r).length>0)for(let s of i)t.push({extent:s,layer:r});return!1});return{candidates:t,updating:r}}get _extentTask(){let{candidates:t,updating:r}=this._extentCandidatesTask;if(r)return{updating:r};if(null==t||0===t.length)return{updating:!1};if(!this.spatialReference)return{updating:this._spatialReferenceTask.updating};let i=this._pickExtentCandidate(t),s=this.spatialReference;return i.extent.equals(this._projectExtentTask.input)&&s.equals(this._projectExtentTask.spatialReference)?{extent:this._projectExtentTask.output,updating:null!=this._projectExtentTask.task&&!this._projectExtentTask.task.finished}:(null!=this._projectExtentTask.task&&(this._projectExtentTask.task=(0,O.DC)(this._projectExtentTask.task)),this._projectExtentTask={input:i.extent.clone(),output:null,spatialReference:s.clone(),task:(0,er.UT)(async t=>{try{let r=await tZ(i.extent,s,"portalItem"in i.layer?i.layer.portalItem:void 0,t);this._projectExtentTask={...this._projectExtentTask,task:null,output:r}}catch(r){if((0,ei.G4)(t))return;this._projectExtentTask={...this._projectExtentTask,task:null}}})},{updating:!0})}_narrowDownSpatialReferenceCandidates(t,r){if(null==t)return r;let i=[];for(let a of t)for(let t of r){var s,o;if(!a.spatialReference.equals(t.spatialReference))continue;let r=(s=a.viewingMode,o=t.viewingMode,null!=s?null!=o?s===o&&s:s:o);if(!1!==r){i.push({spatialReference:a.spatialReference,viewingMode:r});break}}return i.length>0?i:null}_pickSpatialReferenceCandidate(t){let r=this.defaultSpatialReference;return null==t||t.length<1?r?{spatialReference:r,viewingMode:null}:null:(null!=r&&t.length>1&&t.some(({spatialReference:t})=>t.equals(r))&&(t=t.filter(({spatialReference:t})=>t.equals(r))),t.length>1&&t.some(({viewingMode:t})=>t!==tN.RT.Local)&&(t=t.filter(({viewingMode:t})=>t!==tN.RT.Local)),t[0])}_getSupportedSpatialReferences(t){let r="supportedSpatialReferences"in t&&t.supportedSpatialReferences||(t.spatialReference?[t.spatialReference]:[]);if(0===r.length)return[];let i=[];for(let s of r){let r=this.getSpatialReferenceSupport(s,t);if(null!=r)for(let{spatialReference:t,viewingMode:o}of r.constraints??[{spatialReference:s,viewingMode:null}])this.requiresExtentInSpatialReference&&null!=this.userSpatialReference&&!t.equals(this.userSpatialReference)||i.push({spatialReference:t,viewingMode:o})}return i}_pickExtentCandidate(t){let r=this.spatialReference;return t.find(({extent:t})=>r.equals(t.spatialReference))||t[0]}_collectLayers(t,r,i=()=>!0){switch(this._loadMaybe(this.map?.())){case"loading":return!0;case"failed":return!1}let s=new tj(i,r);for(let r of t)if(this._collectCollection(r,s),s.done||s.preloading===this.sourcePreloadCount)break;return s.updating}_collectCollection(t,r){if(t.layers){switch(this._loadMaybe(t.parent)){case"loading":return r.updating=!0,void++r.preloading;case"failed":return}for(let i of t.layers)if(r.layerFilter(i)){switch(this._loadMaybe(i)){case"failed":continue;case"loading":r.updating=!0,++r.preloading;break;case"loaded":if(r.updating||(r.done=r.pushLayer(i)),r.done||r.preloading===this.sourcePreloadCount)break;"layers"in i&&this._collectCollection({layers:i.layers},r)}if(r.done||r.preloading===this.sourcePreloadCount)break}}}_loadMaybe(t){return t&&"loadStatus"in t&&null!=t.loadStatus?"not-loaded"===t.loadStatus?(t.load().catch(t=>{(0,ei.zf)(t)}),"loading"):t.loadStatus:"loaded"}};(0,M._)([(0,S.MZ)()],tD.prototype,"required",void 0),(0,M._)([(0,S.MZ)({constructOnly:!0})],tD.prototype,"map",void 0),(0,M._)([(0,S.MZ)({constructOnly:!0})],tD.prototype,"getSpatialReferenceSupport",void 0),(0,M._)([(0,S.MZ)()],tD.prototype,"defaultSpatialReference",void 0),(0,M._)([(0,S.MZ)()],tD.prototype,"userSpatialReference",void 0),(0,M._)([(0,S.MZ)()],tD.prototype,"sourcePreloadCount",void 0),(0,M._)([(0,S.MZ)()],tD.prototype,"priorityCollection",void 0),(0,M._)([(0,S.MZ)()],tD.prototype,"requiresExtentInSpatialReference",void 0),(0,M._)([(0,S.MZ)()],tD.prototype,"suspended",void 0),(0,M._)([(0,S.MZ)({readOnly:!0})],tD.prototype,"ready",null),(0,M._)([(0,S.MZ)({readOnly:!0})],tD.prototype,"heightModelInfoReady",null),(0,M._)([(0,S.MZ)({readOnly:!0})],tD.prototype,"spatialReference",null),(0,M._)([(0,S.MZ)({readOnly:!0})],tD.prototype,"extent",null),(0,M._)([(0,S.MZ)({readOnly:!0})],tD.prototype,"heightModelInfo",null),(0,M._)([(0,S.MZ)({readOnly:!0})],tD.prototype,"vcsWkid",null),(0,M._)([(0,S.MZ)({readOnly:!0})],tD.prototype,"latestVcsWkid",null),(0,M._)([(0,S.MZ)({readOnly:!0})],tD.prototype,"viewingMode",null),(0,M._)([(0,S.MZ)({readOnly:!0})],tD.prototype,"tileInfo",null),(0,M._)([(0,S.MZ)({readOnly:!0})],tD.prototype,"mapCollections",null),(0,M._)([(0,S.MZ)({readOnly:!0})],tD.prototype,"_spatialReferenceTask",null),(0,M._)([(0,S.MZ)({readOnly:!0})],tD.prototype,"_tileInfoTask",null),(0,M._)([(0,S.MZ)({readOnly:!0})],tD.prototype,"_heightModelInfoTask",null),(0,M._)([(0,S.MZ)({readOnly:!0})],tD.prototype,"_extentCandidatesTask",null),(0,M._)([(0,S.MZ)()],tD.prototype,"_extentTask",null),(0,M._)([(0,S.MZ)()],tD.prototype,"_projectExtentTask",void 0),tD=(0,M._)([(0,x.$)("esri.views.support.DefaultsFromMap")],tD);class tj{constructor(t,r){this.layerFilter=t,this.pushLayer=r,this.preloading=-1,this.updating=!1,this.done=!1}}let tU=class extends W.A{constructor(t){super(t),this.featureTitleFields=!1,this.utilityNetworkFields=!1,this.globalIdField=!1}};(0,M._)([(0,S.MZ)()],tU.prototype,"featureTitleFields",void 0),(0,M._)([(0,S.MZ)()],tU.prototype,"utilityNetworkFields",void 0),(0,M._)([(0,S.MZ)()],tU.prototype,"globalIdField",void 0);let tV=tU=(0,M._)([(0,x.$)("esri.views.support.RequiredFieldsOptions")],tU),tz=h=class extends ep.A.EventedMixin(ey.A.EsriPromiseMixin(W.A)){constructor(t){super(t),this._userSpatialReference=null,this._cursor=null,this.handles=new eh.A,this.updatingHandles=new J.U,this.allLayerViews=new C.A({getCollections:()=>[this.basemapView?.baseLayerViews,this.groundView?.layerViews,this.layerViews,this.basemapView?.referenceLayerViews],getChildrenFunction:tB}),this.groundView=null,this.basemapView=null,this.displayFilterEnabled=!0,this.fatalError=null,this.graphics=new eM.Y,this.analyses=new eb,this.typeSpecificPreconditionsReady=!0,this.layerViews=new I.A,this.magnifier=new eZ,this.padding={left:0,top:0,right:0,bottom:0},this.ready=!1,this._readyStateWaitingTask=null,this.supportsGround=!0,this.type=null,this.scale=null,this.updating=!1,this.initialExtentRequired=!0,this.input=new tM,this.navigation=new tO,this.layerViewManager=null,this.analysisViewManager=null,this.isHeightModelInfoRequired=!1,this.width=null,this.height=null,this.resizing=!1,this.suspended=!1,this.viewEvents=new e6(this),this.persistableViewModels=new I.A,this.requiredFieldsOptions=new tV,this._isValid=!1,this._readyCycleForced=!1,this._lockedSpatialReference=null,this._userTimeZone=null,this._lockedTimeZone=null,this._userTimeExtent=null,this._lockedTimeExtent=null,this.theme=null,this.handles.add((0,P.wB)(()=>this.preconditionsReady,t=>{let r=this.ready;if(t?(this._lockedSpatialReference=this.spatialReference,this._lockedTimeZone=this.timeZone,this._lockedTimeExtent=this.timeExtent,h.views.add(this)):(this._lockedSpatialReference=null,h.views.remove(this)),this.notifyChange("spatialReference"),!t&&r)this.toolViewManager?.detach(),null!=this.analysisViewManager&&this.analysisViewManager.detach(),this.layerViewManager?.clear(),this._teardown();else if(t&&!r){try{this._startup()}catch(t){return void queueMicrotask(()=>{this.fatalError=new R.A("startup-error",null,t)})}null!=this.analysisViewManager&&this.analysisViewManager.attach(),this.toolViewManager.attach()}},P.OH))}initialize(){this.addResolvingPromise(Promise.all([this.loadAsyncDependencies(),this.validate()]).then(()=>(this._isValid=!0,(0,P.C_)(()=>this.ready)))),this.basemapView=new eE({view:this}),this.layerViewManager=new ek({view:this,layerViewImporter:{importLayerView:t=>this.importLayerView(t),hasLayerViewModule:t=>this.hasLayerViewModule(t)},supportsGround:this.supportsGround}),this.toolViewManager=new tp({view:this}),this.selectionManager=new eK({view:this}),this.addHandles([(0,P.z7)(()=>"map-content-error"===this.readyState&&!this.spatialReference,()=>{T.A.getLogger(this).warn("#spatialReference","no spatial reference could be derived from the currently added map layers")}),(0,P.wB)(()=>this.initialExtentRequired,t=>this.defaultsFromMap.required={...this.defaultsFromMap.required,extent:t},P.pc),(0,P.wB)(()=>this.ready,t=>{this.defaultsFromMap&&(this.defaultsFromMap.suspended=t,this.defaultsFromMap.userSpatialReference=t?this.spatialReference:this._userSpatialReference)},P.OH),(0,P.wB)(()=>this._userSpatialReference,t=>{this.defaultsFromMap&&(this.defaultsFromMap.userSpatialReference=t)},P.pc)])}destroy(){this.destroyed||(h.views.remove(this),this.viewEvents.destroy(),this.allLayerViews.destroy(),this.navigation&&(this.navigation.destroy(),this._set("navigation",null)),this.graphics=(0,O.pR)(this.graphics),this.analyses=(0,O.pR)(this.analyses),this.defaultsFromMap.destroy(),this._set("defaultsFromMap",null),(0,O.pR)(this.analysisViewManager),this.toolViewManager=(0,O.pR)(this.toolViewManager),this.layerViewManager=(0,O.pR)(this.layerViewManager),this.selectionManager=(0,O.pR)(this.selectionManager),this.basemapView=(0,O.pR)(this.basemapView),this.groundView?.destroy(),this.layerViews?.forEach(t=>t.destroy()),this.layerViews.length=0,this.invalidate(),this._emitter.clear(),this.handles.destroy(),this.map=(0,O.pR)(this.map),this.updatingHandles.destroy())}_startup(){this._set("ready",!0)}_teardown(){this._set("ready",!1)}whenReady(){return Promise.resolve(this)}toMap(){return T.A.getLogger(this).error("#toMap()","Not implemented on this instance of View"),null}get activeTool(){return this.toolViewManager?.activeTool}set activeTool(t){this.toolViewManager&&(this.toolViewManager.activeTool=t)}get animation(){return this._get("animation")}set animation(t){this._set("animation",t)}get center(){return null}get defaultsFromMapSettings(){return{}}get defaultsFromMap(){return new tD({required:{tileInfo:!1,heightModelInfo:!1,extent:!1},map:()=>this.map,getSpatialReferenceSupport:(t,r)=>this.getSpatialReferenceSupport(t,r),...this.defaultsFromMapSettings})}get extent(){return this._get("extent")}set extent(t){this._set("extent",t)}get heightModelInfo(){return this.getDefaultHeightModelInfo()}get highlights(){return this._get("highlights")??new(I.A.ofType(tf.A))([new tf.A({name:th.Tv}),new tf.A({name:th.n4,color:th.lH})])}set highlights(t){this._set("highlights",(0,ec.V)(t,this._get("highlights"),I.A.ofType(tf.A)))}get interacting(){return this.navigating}get navigating(){return!1}get preconditionsReady(){return!(this.fatalError||!this._isValid||this._readyCycleForced||!this.map||ef.A.isLoadable(this.map)&&!this.map.loaded||0===this.width||0===this.height||!this.spatialReference||!this._validateSpatialReference(this.spatialReference)||!this._lockedSpatialReference&&!this.defaultsFromMap?.ready||!this.typeSpecificPreconditionsReady)}get resolution(){return 0}set map(t){t!==this._get("map")&&(t?.destroyed&&(T.A.getLogger(this).warn("#map","The provided map is already destroyed",{map:t}),t=null),ef.A.isLoadable(t)&&t.load().catch(()=>{}),this.constructed&&!this.destroyed&&(this.forceReadyCycle(),this._lockedSpatialReference=null),this._set("map",t))}get readyState(){if(this.destroyed)return this._get("readyState");if(!this.map)return"missing-map";if("container"in this&&!this.container)return"missing-container";if(this.fatalError)return"rendering-error";if(this.defaultsFromMap?.ready&&!this.spatialReference){let t=!("loaded"in this.map)||this.map.loaded,r=this.map.ground.loaded,i=this.map.basemap?.loaded??!0;return t&&i&&r&&!this.map?.allLayers.length?"empty-map":(this._readyStateWaitingTask||(this._readyStateWaitingTask=(0,er.UT)(t=>(0,ei.Pl)((0,A.A)("view-readyState-waiting-delay"),null,t)),this.addHandles(this._readyStateWaitingTask),this.addHandles(this._readyStateWaitingTask,"ready-state-task")),this._readyStateWaitingTask?.finished?"map-content-error":"loading")}return this._readyStateWaitingTask=(0,O.DC)(this._readyStateWaitingTask),this.removeHandles("ready-state-task"),this.ready?"ready":"loading"}get spatialReference(){let t=this._userSpatialReference||this._lockedSpatialReference||this.getDefaultSpatialReference()||null;if(t&&this.defaultsFromMap?.required?.heightModelInfo){let r=t.clone();return r.vcsWkid=this.defaultsFromMap.vcsWkid,r.latestVcsWkid=this.defaultsFromMap.latestVcsWkid,r}return t}set spatialReference(t){let r=!(0,ew.aI)(t,this._get("spatialReference"));this._set("_userSpatialReference",t),r&&(this._set("spatialReference",t),this._spatialReferenceChanged(t))}_spatialReferenceChanged(t){}get stationary(){return!this.animation&&!this.navigating&&!this.resizing}get timeExtent(){return this._userTimeExtent??this._lockedTimeExtent??this.getDefaultTimeExtent()??null}set timeExtent(t){this._userTimeExtent=t}get timeZone(){return this._userTimeZone??this._lockedTimeZone??this.getDefaultTimeZone()??eS.qU}set timeZone(t){this._userTimeZone=t,(0,eT.wr)(t)||T.A.getLogger(this).warn("#timeZone",`the parsed value '${t}' may not be a valid IANA time zone`)}get tools(){return this.toolViewManager?.tools}get initialExtent(){return this.defaultsFromMap?.extent}get cursor(){return this.toolViewManager?.cursor??this._cursor??"default"}set cursor(t){this._cursor=t,this.notifyChange("cursor")}get size(){return[this.width,this.height]}get effectiveTheme(){return this.theme??new e0}whenLayerView(t){return this.layerViewManager?.whenLayerView(t)??Promise.reject()}getDefaultSpatialReference(){return this.defaultsFromMap?.spatialReference}getDefaultHeightModelInfo(){return(this.map&&"heightModelInfo"in this.map?this.map.heightModelInfo:void 0)??this.defaultsFromMap?.heightModelInfo??null}getDefaultTimeZone(){return null}getDefaultTimeExtent(){return null}importLayerView(t){throw new R.A("importLayerView() not implemented")}hasLayerViewModule(t){return!1}async validate(){}async loadAsyncDependencies(){}invalidate(){this._isValid=!1}getSpatialReferenceSupport(){return{constraints:null}}_validateSpatialReference(t){return null!=this.getSpatialReferenceSupport(t)}when(t,r){return this.isResolved()&&!this.ready&&T.A.getLogger(this).warn("#when()","Calling view.when() while the view is no longer ready but was already resolved once will resolve immediately. Use reactiveUtils.whenOnce(() => view.ready).then(...) instead."),super.when(t,r)}forceReadyCycle(){this.ready&&((0,P.z7)(()=>this.destroyed||!1===this.preconditionsReady,()=>this._readyCycleForced=!1,{once:!0}),this._readyCycleForced=!0)}addAndActivateTool(t){this.toolViewManager.tools.add(t),this.activeTool=t}tryFatalErrorRecovery(){this.fatalError=null}};tz.views=new I.A,(0,M._)([(0,S.MZ)()],tz.prototype,"_userSpatialReference",void 0),(0,M._)([(0,S.MZ)()],tz.prototype,"activeTool",null),(0,M._)([(0,S.MZ)({readOnly:!0})],tz.prototype,"allLayerViews",void 0),(0,M._)([(0,S.MZ)()],tz.prototype,"groundView",void 0),(0,M._)([(0,S.MZ)()],tz.prototype,"animation",null),(0,M._)([(0,S.MZ)()],tz.prototype,"basemapView",void 0),(0,M._)([(0,S.MZ)()],tz.prototype,"center",null),(0,M._)([(0,S.MZ)()],tz.prototype,"defaultsFromMapSettings",null),(0,M._)([(0,S.MZ)()],tz.prototype,"defaultsFromMap",null),(0,M._)([(0,S.MZ)()],tz.prototype,"displayFilterEnabled",void 0),(0,M._)([(0,S.MZ)()],tz.prototype,"fatalError",void 0),(0,M._)([(0,S.MZ)({type:eg.A})],tz.prototype,"extent",null),(0,M._)([(0,S.MZ)((0,em.C)(eM.Y,"graphics"))],tz.prototype,"graphics",void 0),(0,M._)([(0,S.MZ)((0,em.C)(eb,"analyses"))],tz.prototype,"analyses",void 0),(0,M._)([(0,S.MZ)({readOnly:!0,type:e_.A})],tz.prototype,"heightModelInfo",null),(0,M._)([(0,S.MZ)({type:I.A.ofType(tf.A)})],tz.prototype,"highlights",null),(0,M._)([(0,S.MZ)({readOnly:!0})],tz.prototype,"interacting",null),(0,M._)([(0,S.MZ)({readOnly:!0})],tz.prototype,"navigating",null),(0,M._)([(0,S.MZ)({readOnly:!0,dependsOn:["fatalError","_isValid","_readyCycleForced","map","map.loaded?","width","height","spatialReference","_lockedSpatialReference","defaultsFromMap.ready","typeSpecificPreconditionsReady"]})],tz.prototype,"preconditionsReady",null),(0,M._)([(0,S.MZ)({readOnly:!0})],tz.prototype,"typeSpecificPreconditionsReady",void 0),(0,M._)([(0,S.MZ)({type:I.A,readOnly:!0})],tz.prototype,"layerViews",void 0),(0,M._)([(0,S.MZ)()],tz.prototype,"resolution",null),(0,M._)([(0,S.MZ)({type:eZ})],tz.prototype,"magnifier",void 0),(0,M._)([(0,S.MZ)({value:null,type:ed.A})],tz.prototype,"map",null),(0,M._)([(0,S.MZ)()],tz.prototype,"padding",void 0),(0,M._)([(0,S.MZ)({readOnly:!0})],tz.prototype,"ready",void 0),(0,M._)([(0,S.MZ)()],tz.prototype,"_readyStateWaitingTask",void 0),(0,M._)([(0,S.MZ)({readOnly:!0})],tz.prototype,"readyState",null),(0,M._)([(0,S.MZ)({type:ev.A})],tz.prototype,"spatialReference",null),(0,M._)([(0,S.MZ)()],tz.prototype,"stationary",null),(0,M._)([(0,S.MZ)({readOnly:!0})],tz.prototype,"supportsGround",void 0),(0,M._)([(0,S.MZ)({type:eA.A})],tz.prototype,"timeExtent",null),(0,M._)([(0,S.MZ)({type:String,nonNullable:!0})],tz.prototype,"timeZone",null),(0,M._)([(0,S.MZ)()],tz.prototype,"tools",null),(0,M._)([(0,S.MZ)()],tz.prototype,"toolViewManager",void 0),(0,M._)([(0,S.MZ)({readOnly:!0})],tz.prototype,"type",void 0),(0,M._)([(0,S.MZ)({type:Number})],tz.prototype,"scale",void 0),(0,M._)([(0,S.MZ)({readOnly:!0})],tz.prototype,"updating",void 0),(0,M._)([(0,S.MZ)({readOnly:!0})],tz.prototype,"initialExtentRequired",void 0),(0,M._)([(0,S.MZ)({readOnly:!0})],tz.prototype,"initialExtent",null),(0,M._)([(0,S.MZ)()],tz.prototype,"cursor",null),(0,M._)([(0,S.MZ)({readOnly:!0})],tz.prototype,"input",void 0),(0,M._)([(0,S.MZ)({type:tO,nonNullable:!0})],tz.prototype,"navigation",void 0),(0,M._)([(0,S.MZ)()],tz.prototype,"layerViewManager",void 0),(0,M._)([(0,S.MZ)()],tz.prototype,"analysisViewManager",void 0),(0,M._)([(0,S.MZ)()],tz.prototype,"selectionManager",void 0),(0,M._)([(0,S.MZ)()],tz.prototype,"width",void 0),(0,M._)([(0,S.MZ)()],tz.prototype,"height",void 0),(0,M._)([(0,S.MZ)({readOnly:!0})],tz.prototype,"resizing",void 0),(0,M._)([(0,S.MZ)({value:null,readOnly:!0})],tz.prototype,"size",null),(0,M._)([(0,S.MZ)({readOnly:!0})],tz.prototype,"suspended",void 0),(0,M._)([(0,S.MZ)({readOnly:!0})],tz.prototype,"viewEvents",void 0),(0,M._)([(0,S.MZ)({readOnly:!0})],tz.prototype,"persistableViewModels",void 0),(0,M._)([(0,S.MZ)()],tz.prototype,"_isValid",void 0),(0,M._)([(0,S.MZ)()],tz.prototype,"_readyCycleForced",void 0),(0,M._)([(0,S.MZ)()],tz.prototype,"_lockedSpatialReference",void 0),(0,M._)([(0,S.MZ)()],tz.prototype,"_userTimeZone",void 0),(0,M._)([(0,S.MZ)()],tz.prototype,"_lockedTimeZone",void 0),(0,M._)([(0,S.MZ)()],tz.prototype,"_userTimeExtent",void 0),(0,M._)([(0,S.MZ)()],tz.prototype,"_lockedTimeExtent",void 0),(0,M._)([(0,S.MZ)({type:e0})],tz.prototype,"theme",void 0),(0,M._)([(0,S.MZ)({readOnly:!0,type:e0})],tz.prototype,"effectiveTheme",null),tz=h=(0,M._)([(0,x.$)("esri.views.View")],tz);let tG=globalThis.$arcgis;tG&&!tG.views&&Object.defineProperty(tG,"views",{configurable:!1,enumerable:!0,writable:!1,value:tz.views});let t$=tz;function tB(t){return t.layerViews}var tq=i(54036),tH=i(35430),tW=i(13907),tJ=i(92713),tK=i(19461),tY=i(44460),tX=i(47389),tQ=i(55130),t0=i(6815),t1=i(19284),t2=i(25561);function t3(t){return t instanceof Float32Array&&t.length>=2||Array.isArray(t)&&t.length>=2}var t8=i(39960),t5=i(25606);let t9=[0,0],t6=f=class extends tJ.A{constructor(t){super(t),this._viewpoint2D={center:(0,tH.vt)(),rotation:0,scale:0,spatialReference:void 0},this.center=[0,0],this.extent=new eg.A,this.id=0,this.inverseTransform=(0,tQ.vt)(),this.resolution=0,this.rotation=0,this.scale=0,this.transform=(0,tQ.vt)(),this.transformNoRotation=(0,tQ.vt)(),this.displayMat3=(0,t1.vt)(),this.displayViewMat3=(0,t1.vt)(),this.viewMat3=(0,t1.vt)(),this.viewMat2d=(0,tX.vt)(),this.worldScreenWidth=0,this.size=[0,0]}set pixelRatio(t){this._set("pixelRatio",t),this._update()}set size(t){this._set("size",t),this._update()}set viewpoint(t){if(t){let r=this._viewpoint2D,i=t.targetGeometry;r.center[0]=i.x,r.center[1]=i.y,r.rotation=t.rotation,r.scale=t.scale,r.spatialReference=i.spatialReference}this._update()}get visibleArea(){let[t,r]=this.size;return[this.toMap([0,0],0,0),this.toMap([0,0],0,r),this.toMap([0,0],t,r),this.toMap([0,0],t,0)]}copy(t){let r=this.size,i=this.viewpoint;return i&&r?(this.viewpoint=(0,tW.C)(i,t.viewpoint),this._set("size",(0,tq.C)(r,t.size))):(this.viewpoint=t.viewpoint.clone(),this._set("size",[t.size[0],t.size[1]])),this._set("pixelRatio",t.pixelRatio),this}clone(){return new f({size:this.size,viewpoint:this.viewpoint.clone(),pixelRatio:this.pixelRatio})}toMap(t,r,i){return t3(r)?(0,tq.l0)(t,r,this.inverseTransform):(t9[0]=r,t9[1]=i,(0,tq.l0)(t,t9,this.inverseTransform))}toScreen(t,r,i){return t3(r)?(0,tq.l0)(t,r,this.transform):(t9[0]=r,t9[1]=i,(0,tq.l0)(t,t9,this.transform))}toScreenNoRotation(t,r,i){return t3(r)?(0,tq.l0)(t,r,this.transformNoRotation):(t9[0]=r,t9[1]=i,(0,tq.l0)(t,t9,this.transformNoRotation))}wrapMapCoordinate(t,r){(0,tq.C)(t,r);let[i]=r,[s]=this.center,{extent:o,spatialReference:a}=this,{xmin:u,xmax:d}=o;if(a.isWrappable){let t=(0,tW.FT)(a)/2;u=Math.max(u,s-t),d=Math.min(d,s+t)}return(i<u||i>d)&&(t[0]=(0,t5.O7)(i,s,a)),t}getScreenTransform(t,r){let{center:i}=this._viewpoint2D,s=this._get("pixelRatio")||1,o=this._get("size");return(0,tW.GL)(t,i,o,r,0,s),t}_update(){let{center:t,spatialReference:r,scale:i,rotation:s}=this._viewpoint2D,o=this._get("pixelRatio")||1,a=this._get("size"),u=new E.A({targetGeometry:new t8.A(t[0],t[1],r),scale:i,rotation:s});if(this._set("viewpoint",u),!a||!r||!i)return;this.resolution=(0,tW.Hn)(u),this.rotation=s,this.scale=i,this.spatialReference=r,(0,tq.C)(this.center,t);let d=0!==a[0]?2/a[0]:0,c=0!==a[1]?-2/a[1]:0;(0,t0.hZ)(this.displayMat3,d,0,0,0,c,0,-1,1,1);let p=(0,t0.D_)(this.viewMat3),h=(0,t2.fA)(a[0]/2,a[1]/2),f=(0,t2.fA)(-a[0]/2,-a[1]/2),y=(0,tK.DF)(s);(0,t0.Tl)(p,p,h),(0,t0.e$)(p,p,y),(0,t0.Tl)(p,p,f),(0,t0.lw)(this.displayViewMat3,this.displayMat3,p);let m=(0,tY.kN)(this.viewMat2d,h);return(0,tY.e$)(m,m,y),(0,tY.Tl)(m,m,f),(0,tW.Z7)(this.extent,u,a),(0,tW.RG)(this.transform,u,a,o),(0,tY.B8)(this.inverseTransform,this.transform),(0,tW.cp)(this.transformNoRotation,u,a,o),this.worldScreenWidth=(0,tW.hV)(this.spatialReference,this.resolution),this._set("id",this.id+1),this.notifyChange("visibleArea"),this}};(0,M._)([(0,S.MZ)({readOnly:!0})],t6.prototype,"id",void 0),(0,M._)([(0,S.MZ)({value:1,json:{write:!0}})],t6.prototype,"pixelRatio",null),(0,M._)([(0,S.MZ)({json:{write:!0}})],t6.prototype,"size",null),(0,M._)([(0,S.MZ)()],t6.prototype,"spatialReference",void 0),(0,M._)([(0,S.MZ)({type:E.A,json:{write:!0}})],t6.prototype,"viewpoint",null),(0,M._)([(0,S.MZ)({readOnly:!0})],t6.prototype,"visibleArea",null);let t4=t6=f=(0,M._)([(0,x.$)("esri.views.2d.ViewState")],t6),t7=y=class extends W.A{constructor(){super(...arguments),this.left=0,this.top=0,this.right=0,this.bottom=0}clone(){return new y({left:this.left,top:this.top,right:this.right,bottom:this.bottom})}};(0,M._)([(0,S.MZ)()],t7.prototype,"left",void 0),(0,M._)([(0,S.MZ)()],t7.prototype,"top",void 0),(0,M._)([(0,S.MZ)()],t7.prototype,"right",void 0),(0,M._)([(0,S.MZ)()],t7.prototype,"bottom",void 0),t7=y=(0,M._)([(0,x.$)("esri.views.2d.PaddedViewState.Padding")],t7);let re=m=class extends t4{constructor(...t){super(...t),this.paddedViewState=new t4,this._updateContent=(()=>{let t=(0,tH.vt)();return()=>{let r=this._get("size"),i=this._get("padding");if(!r||!i)return;let s=this.paddedViewState;(0,tq.hZ)(t,i.left+i.right,i.top+i.bottom),(0,tq.Re)(t,r,t),(0,tq.C)(s.size,t);let o=s.viewpoint;o&&(this.viewpoint=o)}})(),this.addHandles((0,P.wB)(()=>[this.size,this.padding],()=>this._updateContent(),P.OH)),this.padding=new t7,this.size=[0,0]}set padding(t){this._set("padding",t||new t7)}set viewpoint(t){if(t){this.paddedViewState.viewpoint=t;let r=t,i=this._get("padding");i&&(r=(0,tW.nr)(t.clone(),t,this._get("size"),i));let{targetGeometry:s,rotation:o,scale:a}=r,{x:u,y:d,spatialReference:c}=s,p=this._viewpoint2D;p.center[0]=u,p.center[1]=d,p.rotation=o,p.scale=a,p.spatialReference=c,this._update()}}clone(){return new m({padding:this.padding.clone(),size:this.size.slice(),viewpoint:this.paddedViewState.viewpoint.clone(),pixelRatio:this.pixelRatio})}};(0,M._)([(0,S.MZ)()],re.prototype,"paddedViewState",void 0),(0,M._)([(0,S.MZ)({type:t7})],re.prototype,"padding",null),(0,M._)([(0,S.MZ)()],re.prototype,"viewpoint",null);let rt=re=m=(0,M._)([(0,x.$)("esri.views.2d.PaddedViewState")],re);var rr=i(84227),ri=i(25451);class rn{constructor(t){this.view=t,this._stationaryHandle=null,this._frameTaskHandle=null,this._updateParameters=null,this._updateRequested=!1,this._scheduler=(0,ri.mj)(),this._schedulerHandle=(0,P.z7)(()=>this._scheduler.updating,()=>this.requestFrame()),this.stationary=!0,this.prepare=()=>{this._updateParameters&&(this._updateParameters.state=this.view.state,this._updateParameters.stationary=this.view.stationary,this._updateParameters.pixelRatio=window.devicePixelRatio,this._updateParameters.renderingOptions=this.view.renderingOptions,this._updateParameters.targetState.copy(this.view.state),null==this.view.animation?.target||(0,ei.$X)(this.view.animation.target)||(this._updateParameters.targetState.viewpoint=this.view.animation.target))},this.update=t=>{if(this._updateRequested=!1,this.view?.destroyed)return;let{allLayerViews:r,graphicsView:i,labelManager:s,state:{id:o}}=this.view;r?.forEach(this._updateLayerView,this),null!=s&&(s.lastUpdateId!==o&&(s.viewChange(),s.lastUpdateId=o),s.updateRequested&&s.processUpdate(this._updateParameters)),null!=i&&(i.lastUpdateId!==o&&(i.viewChange(),i.lastUpdateId=o),i.updateRequested&&i.processUpdate(this._updateParameters)),this.view.graphicsTileStore?.setViewState(this._updateParameters.state),this.view.animation?this._scheduler.state=rr.M.ANIMATING:this.view.interacting?this._scheduler.state=rr.M.INTERACTING:this._scheduler.state=rr.M.IDLE,this._scheduler.frame(t)||this._updateRequested||this._scheduler.state!==rr.M.IDLE||this._frameTaskHandle?.pause()}}destroy(){this.stop(),this._schedulerHandle.remove(),this._scheduler.destroy()}get scheduler(){return this._scheduler}start(){if(this._frameTaskHandle)return;let t=this.view;this.stationary=t.stationary,this._updateParameters={state:t.state,targetState:new rt,pixelRatio:window.devicePixelRatio,stationary:this.stationary,renderingOptions:t.renderingOptions},this._stationaryHandle=(0,P.wB)(()=>t.stationary,t=>{this.stationary=t,this.requestFrame()}),this._frameTaskHandle=(0,H.mg)(this),this.requestUpdate()}stop(){this._frameTaskHandle&&(this._updateRequested=!1,this._stationaryHandle?.remove(),this._frameTaskHandle.remove(),this._updateParameters=this._stationaryHandle=this._frameTaskHandle=null,this.stationary=!0)}requestUpdate(){this._updateRequested||(this._updateRequested=!0,this.requestFrame())}requestFrame(){this._frameTaskHandle&&this._frameTaskHandle.resume()}_updateLayerView(t){if(!t.attached)return void this.requestUpdate();let r=this.view.state,i=t.lastUpdateId;null!=i&&(this.stationary||t.moving)||(t.moving=!0),i!==r.id&&t.viewChange(),this.stationary&&t.moving&&(t.moving=!1,t.moveEnd()),t.lastUpdateId=r.id,t.updateRequested&&t.processUpdate(this._updateParameters),"layerViews"in t&&t.layerViews?.forEach(this._updateLayerView,this)}}let rs=class extends ey.A{constructor(t){super(t),this.state="running",this.target=null,this._resolver=null}initialize(){this._resolver=(0,ei.Tw)(),this.addResolvingPromise(this._resolver.promise)}get done(){return"finished"===this.state||"stopped"===this.state}stop(){"stopped"!==this.state&&"finished"!==this.state&&(this._set("state","stopped"),this._resolver?.reject(new R.A("ViewAnimation stopped")))}finish(){"stopped"!==this.state&&"finished"!==this.state&&(this._set("state","finished"),this._resolver?.resolve())}update(t,r){r||(r=(0,ei.$X)(t)?"waiting-for-target":"running"),this._set("target",t),this._set("state",r)}};(0,M._)([(0,S.MZ)({readOnly:!0})],rs.prototype,"done",null),(0,M._)([(0,S.MZ)({readOnly:!0,type:String})],rs.prototype,"state",void 0),(0,M._)([(0,S.MZ)()],rs.prototype,"target",void 0),((rs=(0,M._)([(0,x.$)("esri.views.ViewAnimation")],rs))||(rs={})).State={RUNNING:"running",STOPPED:"stopped",FINISHED:"finished",WAITING_FOR_TARGET:"waiting-for-target"};let ro=rs,ra=class extends W.A{constructor(t){super(t),this._gotoTask=null}destroy(){this._gotoTask=null}async goTo(t,r){if(!t)return void T.A.getLogger(this).error("#goTo()","target cannot be null or undefined");let i=new ro;this.view.animation=i,await (0,P.C_)(()=>this.view.ready,r);let s={...r,animate:r?.animate??!(0,tS.O)(),animationMode:r?.animationMode??"auto"},{extent:o,spatialReference:a,size:u,viewpoint:d,constraints:c,padding:p,allLayerViews:h}=this.view,f=(0,tW.vt)(t,{extent:o,spatialReference:a,size:u,viewpoint:d,constraints:c,padding:p,allLayerViews:h,pickClosestTarget:r?.pickClosestTarget??!0});return i?.update(f),this._gotoTask={},s.animate?this._gotoAnimated(f,s):this._gotoImmediate(f,s)}_gotoImmediate(t,r){let i=this._gotoTask,s=this.view.animation,o=t.then(t=>{if((0,ei.Te)(r),i!==this._gotoTask)throw new R.A("view:goto-interrupted","Goto was interrupted");this.view.viewpoint=s.target=t,s.finish()});return this._cancellableGoTo(i,s,o,r)}_gotoAnimated(t,r){let i=this._gotoTask,s=this.view.animation;if(!s)return Promise.resolve();let o=t.then(t=>{if((0,ei.Te)(r),i!==this._gotoTask)throw new R.A("view:goto-interrupted","Goto was interrupted");return s.update(t),this.view.animationManager.animate(s,this.view.viewpoint,r),s.when().then(()=>{},()=>{})});return this._cancellableGoTo(i,s,o,r)}_cancellableGoTo(t,r,i,s){let o=()=>t===this._gotoTask;return(0,ei.qr)(i,s).finally(()=>{o()&&(r.done||r.stop())})}};(0,M._)([(0,S.MZ)({constructOnly:!0})],ra.prototype,"view",void 0),ra=(0,M._)([(0,x.$)("esri.views.2d.GoToManager")],ra);var rl=i(49667),ru=i(61451),rd=i(98083),rc=i(60470);let rp=g=class extends ru.A.NumericIdentifiableMixin(W.A){constructor(t){super(t),this.geometry=null,this.spatialReference=null}get normalizedGeometry(){if(null==this.geometry||!this.spatialReference)return null;if(!this.spatialReference.equals(this.geometry.spatialReference))try{return(0,Z.project)(this.geometry,this.spatialReference)}catch(t){return T.A.getLogger(this).error("#constraints.geometry","could not project the geometry to the view's spatial reference",{geometry:this.geometry,spatialReference:this.spatialReference,error:t}),null}return this.geometry}constrain(t,r){if(null==this.normalizedGeometry)return t;let i=t.targetGeometry;if("extent"===this.normalizedGeometry.type?(0,rd.qz)(this.normalizedGeometry,i):(0,rd.m3)(this.normalizedGeometry,i))return t;let{coordinate:s}=function(t,r){let i,s,o,a,{spatialReference:u}=r,d=[r.x,r.y],c=[0,0],p=function(t){switch(t.type){case"extent":return[[[t.xmin,t.ymin],[t.xmin,t.ymax],[t.xmax,t.ymax],[t.xmax,t.ymin],[t.xmin,t.ymin]]];case"polygon":return t.rings;case"polyline":return t.paths}}(t);for(let t=0;t<p.length;t++){let r=p[t];for(let u=0;u<r.length-1;u++){(0,rc.B1)(c,d,r,u);let p=(0,tq.Io)(d,c);(null==i||p<i)&&(i=p,s=[...c],o=t,a=u)}}if(null==i||!s||null==o||null==a)throw new R.A("nearest-coordinate:failed","Failed to find the nearest coordinate");let[h,f]=s;return{coordinate:new t8.A({x:h,y:f,spatialReference:u}),distance:i}}(this.normalizedGeometry,i);return s&&(t.targetGeometry=s),t}clone(){return new g({geometry:this.geometry?.clone(),spatialReference:this.spatialReference?.clone()})}};(0,M._)([(0,S.MZ)({constructOnly:!0})],rp.prototype,"geometry",void 0),(0,M._)([(0,S.MZ)({readOnly:!0})],rp.prototype,"normalizedGeometry",null),(0,M._)([(0,S.MZ)({constructOnly:!0})],rp.prototype,"spatialReference",void 0),rp=g=(0,M._)([(0,x.$)("esri.views.2d.constraints.GeometryConstraint")],rp);let rh=_=class extends ru.A.NumericIdentifiableMixin(W.A){constructor(){super(...arguments),this.enabled=!0,this.rotationEnabled=!0}constrain(t,r){return this.enabled&&r&&(this.rotationEnabled||(t.rotation=r.rotation)),t}clone(){return new _({enabled:this.enabled,rotationEnabled:this.rotationEnabled})}};(0,M._)([(0,S.MZ)()],rh.prototype,"enabled",void 0),(0,M._)([(0,S.MZ)()],rh.prototype,"rotationEnabled",void 0);let rf=rh=_=(0,M._)([(0,x.$)("esri.views.2d.constraints.RotationConstraint")],rh),ry=v=class extends ru.A.NumericIdentifiableMixin(W.A){constructor(t){super(t),this._lodByScale={},this._scales=[],this.effectiveLODs=null,this.effectiveMinZoom=-1,this.effectiveMaxZoom=-1,this.effectiveMinScale=0,this.effectiveMaxScale=0,this.lods=null,this.minZoom=-1,this.maxZoom=-1,this.minScale=0,this.maxScale=0,this.snapToZoom=!0}initialize(){let t,{lods:r,minScale:i,maxScale:s,minZoom:o,maxZoom:a}=this,u=-1,d=-1,c=!1,p=!1;if(0!==i&&0!==s&&i<s&&([i,s]=[s,i]),!r?.length)return this._set("effectiveMinScale",i),void this._set("effectiveMaxScale",s);for(let o of((r=r.map(t=>t.clone())).sort((t,r)=>r.scale-t.scale),r.forEach((t,r)=>t.level=r),r))!c&&i>0&&i>=o.scale&&(u=o.level,c=!0),!p&&s>0&&s>=o.scale&&(d=t?t.level:-1,p=!0),t=o;-1===o&&(o=0===i?0:u),-1===a&&(a=0===s?r.length-1:d),(o=Math.min(o=Math.max(o,0),r.length-1))>(a=Math.min(a=Math.max(a,0),r.length-1))&&([o,a]=[a,o]),i=r[o].scale,s=r[a].scale,r.splice(0,o),r.splice(a-o+1,r.length),r.forEach((t,r)=>{this._lodByScale[t.scale]=t,this._scales[r]=t.scale}),this._set("effectiveLODs",r),this._set("effectiveMinZoom",o),this._set("effectiveMaxZoom",a),this._set("effectiveMinScale",i),this._set("effectiveMaxScale",s)}constrain(t,r){if(r&&t.scale===r.scale)return t;let i=this.effectiveMinScale,s=this.effectiveMaxScale,o=t.targetGeometry,a=r&&r.targetGeometry,u=0!==s&&t.scale<s,d=0!==i&&t.scale>i;if(u||d){let u=d?i:s;if(r&&a){let i=(u-r.scale)/(t.scale-r.scale);o.x=a.x+(o.x-a.x)*i,o.y=a.y+(o.y-a.y)*i}t.scale=u}return this.snapToZoom&&this.effectiveLODs&&(t.scale=this._getClosestScale(t.scale)),t}fit(t){if(!this.effectiveLODs||!this.snapToZoom)return this.constrain(t,null);let r=this.scaleToZoom(t.scale),i=Math.abs(r-Math.floor(r));return t.scale=this.zoomToScale(i>.99?Math.round(r):Math.floor(r)),t}zoomToScale(t){if(!this.effectiveLODs)return 0;t-=this.effectiveMinZoom,t=Math.max(0,t);let r=this._scales;if(t<=0)return r[0];if(t>=r.length)return r[r.length-1];let i=Math.floor(t),s=Math.ceil(t);return r[i]+(t-i)*(r[s]-r[i])}scaleToZoom(t){let r,i;if(!this.effectiveLODs)return -1;let s=this._scales;if(t>=s[0])return this.effectiveMinZoom;if(t<=s[s.length-1])return this.effectiveMaxZoom;for(let o=0;o<s.length-1;o++){if(r=s[o],(i=s[o+1])===t)return o+this.effectiveMinZoom+1;if(r>t&&i<t)return o+this.effectiveMinZoom+1-(t-i)/(r-i)}return -1}snapToClosestScale(t){if(!this.effectiveLODs)return t;let r=this.scaleToZoom(t);return this.zoomToScale(Math.round(r))}snapToNextScale(t,r=.5){if(!this.effectiveLODs)return t*r;let i=Math.round(this.scaleToZoom(t));return this.zoomToScale(i+1)}snapToPreviousScale(t,r=2){if(!this.effectiveLODs)return t*r;let i=Math.round(this.scaleToZoom(t));return this.zoomToScale(i-1)}clone(){return new v({lods:this.lods,minZoom:this.minZoom,maxZoom:this.maxZoom,minScale:this.minScale,maxScale:this.maxScale})}_getClosestScale(t){return this._lodByScale[t]||(t=this._scales.reduce((r,i)=>Math.abs(i-t)<=Math.abs(r-t)?i:r,this._scales[0])),this._lodByScale[t].scale}};(0,M._)([(0,S.MZ)({readOnly:!0})],ry.prototype,"effectiveLODs",void 0),(0,M._)([(0,S.MZ)({readOnly:!0})],ry.prototype,"effectiveMinZoom",void 0),(0,M._)([(0,S.MZ)({readOnly:!0})],ry.prototype,"effectiveMaxZoom",void 0),(0,M._)([(0,S.MZ)({readOnly:!0})],ry.prototype,"effectiveMinScale",void 0),(0,M._)([(0,S.MZ)({readOnly:!0})],ry.prototype,"effectiveMaxScale",void 0),(0,M._)([(0,S.MZ)()],ry.prototype,"lods",void 0),(0,M._)([(0,S.MZ)()],ry.prototype,"minZoom",void 0),(0,M._)([(0,S.MZ)()],ry.prototype,"maxZoom",void 0),(0,M._)([(0,S.MZ)()],ry.prototype,"minScale",void 0),(0,M._)([(0,S.MZ)()],ry.prototype,"maxScale",void 0),(0,M._)([(0,S.MZ)()],ry.prototype,"snapToZoom",void 0);let rm=ry=v=(0,M._)([(0,x.$)("esri.views.2d.constraints.ZoomConstraint")],ry),rg={base:null,key:"type",typeMap:{extent:eg.A,polygon:F.A}},r_=class extends W.A{constructor(t){super(t),this.lods=null,this.minScale=0,this.maxScale=0,this.minZoom=-1,this.maxZoom=-1,this.rotationEnabled=!0,this.snapToZoom=!0,this.customConstraints=new I.A}destroy(){this.view=null}get effectiveLODs(){return this._zoom.effectiveLODs}get effectiveMinScale(){return this._zoom.effectiveMinScale}get effectiveMaxScale(){return this._zoom.effectiveMaxScale}get effectiveMinZoom(){return this._zoom.effectiveMinZoom}get effectiveMaxZoom(){return this._zoom.effectiveMaxZoom}set geometry(t){t?this._set("geometry",t):this._set("geometry",null)}get version(){return`${this._zoom?.uid}/${this._rotation?.uid}/${this._geometry?.uid}`}get _geometry(){let t=this._get("_geometry");return t&&this.geometry===t.geometry&&this.view?.constraintsInfo.spatialReference===t.spatialReference?t:new rp({geometry:this.geometry,spatialReference:this.view?.constraintsInfo.spatialReference})}get _rotation(){return new rf({rotationEnabled:this.rotationEnabled})}get _zoom(){let t=this._get("_zoom"),r=this.lods||this.view?.constraintsInfo.lods,i=this.minZoom,s=this.maxZoom,o=this.minScale,a=this.maxScale,u=this.snapToZoom;return t&&t.lods===r&&t.minZoom===i&&t.maxZoom===s&&t.minScale===o&&t.maxScale===a&&t.snapToZoom===u?t:new rm({lods:r,minZoom:i,maxZoom:s,minScale:o,maxScale:a,snapToZoom:u})}canZoomInTo(t){let r=this.effectiveMaxScale;return 0===r||t>=r}canZoomOutTo(t){let r=this.effectiveMinScale;return 0===r||t<=r}constrain(t,r){return this._zoom.constrain(t,r),this._rotation.constrain(t,r),this._geometry.constrain(t,r),this.customConstraints.forEach(i=>i.constrain(t,r)),t}constrainByGeometry(t){return this._geometry.constrain(t),this.customConstraints.forEach(r=>r.applyPanConstraint?.(t)),t}fit(t){return this._zoom.fit(t)}zoomToScale(t){return this._zoom.zoomToScale(t)}scaleToZoom(t){return this._zoom.scaleToZoom(t)}snapScale(t){return this._zoom.snapToClosestScale(t)}snapToNextScale(t){return this._zoom.snapToNextScale(t)}snapToPreviousScale(t){return this._zoom.snapToPreviousScale(t)}};(0,M._)([(0,S.MZ)({readOnly:!0})],r_.prototype,"effectiveLODs",null),(0,M._)([(0,S.MZ)({readOnly:!0})],r_.prototype,"effectiveMinScale",null),(0,M._)([(0,S.MZ)({readOnly:!0})],r_.prototype,"effectiveMaxScale",null),(0,M._)([(0,S.MZ)({readOnly:!0})],r_.prototype,"effectiveMinZoom",null),(0,M._)([(0,S.MZ)({readOnly:!0})],r_.prototype,"effectiveMaxZoom",null),(0,M._)([(0,S.MZ)({types:rg,value:null})],r_.prototype,"geometry",null),(0,M._)([(0,S.MZ)({type:[rl.A]})],r_.prototype,"lods",void 0),(0,M._)([(0,S.MZ)()],r_.prototype,"minScale",void 0),(0,M._)([(0,S.MZ)()],r_.prototype,"maxScale",void 0),(0,M._)([(0,S.MZ)()],r_.prototype,"minZoom",void 0),(0,M._)([(0,S.MZ)()],r_.prototype,"maxZoom",void 0),(0,M._)([(0,S.MZ)()],r_.prototype,"rotationEnabled",void 0),(0,M._)([(0,S.MZ)()],r_.prototype,"snapToZoom",void 0),(0,M._)([(0,S.MZ)({type:I.A})],r_.prototype,"customConstraints",void 0),(0,M._)([(0,S.MZ)()],r_.prototype,"view",void 0),(0,M._)([(0,S.MZ)({readOnly:!0})],r_.prototype,"version",null),(0,M._)([(0,S.MZ)({type:rp,readOnly:!0})],r_.prototype,"_geometry",null),(0,M._)([(0,S.MZ)({type:rf})],r_.prototype,"_rotation",null),(0,M._)([(0,S.MZ)({readOnly:!0,type:rm})],r_.prototype,"_zoom",null);let rv=r_=(0,M._)([(0,x.$)("esri.views.2d.MapViewConstraints")],r_);var rw=i(58985),rb=i(54143);let rM=class extends W.A{constructor(t){super(t),this.constraints=null,this.ready=!1,this.resizeAlign="center",this.addHandles([(0,P.wB)(()=>this.constraints?.version,t=>{this.constraints&&t&&this.ready&&(this.state.viewpoint=this.constraints.fit(this.state.paddedViewState.viewpoint))},P.OH)])}get center(){if(!this.ready)return this._get("center");let{center:t,spatialReference:r}=this.state.paddedViewState;return this.state.commitProperty("id"),new t8.A({x:t[0],y:t[1],spatialReference:r})}set center(t){let r;if(null==t)return;if(!this.ready)return void this._set("center",t);try{r=this._project(t,this.state.spatialReference)}catch(r){return void T.A.getLogger(this).error(new R.A("mapview:invalid-center","could not project the value in the view's spatial reference",{input:t,error:r}))}let i=this.viewpoint;(0,tW.Ji)(i,i,r),this.viewpoint=i}get extent(){return this.ready?(this.state.commitProperty("id"),this.state.paddedViewState.extent.clone()):this._get("extent")}set extent(t){let r;if(null==t)return;if(!t.width||!t.height)return void T.A.getLogger(this).error(new R.A("mapview:invalid-extent","invalid extent size"));if(!this.ready)return this._set("extent",t),this._set("center",void 0),this._set("viewpoint",void 0),this._set("scale",void 0),void this._set("zoom",void 0);try{r=this._project(t,this.state.spatialReference)}catch(t){return void T.A.getLogger(this).error(new R.A("mapview:invalid-extent","could not project the value in the view's spatial reference",{error:t}))}let i=this.viewpoint;(0,tW.b)(i,i,r,this.state.size,{constraints:this.constraints}),this.viewpoint=i}get padding(){return this.ready?this.state.padding:this._get("padding")}set padding(t){this.ready?(this.state.padding=t,this._set("padding",this.state.padding)):this._set("padding",t)}get resolution(){return this.ready?(this.state.commitProperty("id"),this.state.resolution):0}get rotation(){return this.ready?(this.state.commitProperty("id"),this.state.rotation):this._get("rotation")}set rotation(t){if(isNaN(t))return;if(!this.ready)return void this._set("rotation",t);let r=this.viewpoint;(0,tW.$0)(r,r,t),this.viewpoint=r}get scale(){return this.ready?(this.state.commitProperty("id"),this.state.scale):this._get("scale")}set scale(t){if(!t||isNaN(t))return;if(!this.ready){this._set("scale",t),this._set("zoom",void 0);let r=this._get("extent");return void(r&&(this._set("extent",void 0),this._set("center",r.center)))}let r=this.viewpoint;(0,tW.UR)(r,r,t),this.viewpoint=r}get viewpoint(){return this.ready?this.state.paddedViewState.viewpoint.clone():this._get("viewpoint")}set viewpoint(t){let r,i;if(null==t)return;if(!this.ready)return this._set("viewpoint",t),this._set("extent",void 0),this._set("center",void 0),this._set("zoom",void 0),void this._set("scale",void 0);try{r=this._project(t,this.state.spatialReference),!t.scale||isNaN(t.scale)?i=new R.A("mapview:invalid-viewpoint",`invalid scale value of ${t.scale}`):null==t.targetGeometry&&(i=new R.A("mapview:invalid-viewpoint","geometry not defined"))}catch(t){i=new R.A("mapview:invalid-viewpoint","could not project the value in the view's spatial reference",{error:t})}if(i)return void T.A.getLogger(this).error(i);this._scaleBeforeChangingSpatialReference=null;let s=new E.A({targetGeometry:new t8.A,scale:0,rotation:0});(0,tW.C)(s,r),this.constraints?.constrain(s,this.state.paddedViewState.viewpoint),this.state.viewpoint=s,this._set("viewpoint",s)}get visibleArea(){return this.ready?this.state.visibleArea:null}get zoom(){return this.ready?this.constraints?.scaleToZoom(this.scale)??-1:this._get("zoom")}set zoom(t){if(!(t>=0))return;if(!this.ready){this._set("zoom",t),this._set("scale",void 0);let r=this._get("extent");return void(r&&(this._set("extent",void 0),this._set("center",r.center)))}let r=this.constraints?.zoomToScale(t)??0;if(!r)return void this._set("zoom",-1);let i=this.viewpoint;(0,tW.UR)(i,i,r),this.viewpoint=i,this._set("zoom",this.constraints?.scaleToZoom(this.scale)??-1)}getUserStartupOptions(t){let r,i,s;if(!t[0]&&!t[1])return{center:void 0,rotation:void 0,scale:void 0};let{padding:o,constraints:a}=this,u=this._get("center"),d=this._get("extent"),c=this._get("scale"),p=this._get("rotation"),h=this._get("viewpoint"),f=this._get("zoom"),y=null!=f&&null!=a&&a.zoomToScale(f)||void 0,m=h?.rotation,g=h?.targetGeometry;"extent"===g?.type?r=g:"point"===g?.type&&(i=g,s=h?.scale);let _=d??r;return{center:u??i??_?.center,rotation:p??m,scale:(c??y??s??(_&&(0,tW.AU)(_,[t[0]-o.left-o.right,t[1]-o.top-o.bottom])))||void 0}}startup(t,r,i,s){let o=t.targetGeometry;try{this._project(t,i)}catch(r){T.A.getLogger(this).warn(new rw.A("mapview:startup-projection-error","projection of initial viewpoint to the view's spatial reference, defaulting to the initial viewpoint.",{center:o.toJSON(),spatialReference:i,error:r})),t.targetGeometry=s||new t8.A({x:0,y:0,spatialReference:i})}this.constraints?.fit(t),this._set("state",new rt({padding:this.padding,size:r,viewpoint:t})),this._set("ready",!0)}teardown(){this._set("ready",!1);let{center:[t,r],spatialReference:i,rotation:s,scale:o}=this.state.paddedViewState,a=new t8.A({x:t,y:r,spatialReference:i});this._set("viewpoint",null),this._set("extent",null),this._set("center",a),this._set("zoom",-1),this._set("rotation",s),this._set("scale",o),this._set("state",null)}changeSpatialReference(t){let r=this.state.paddedViewState.clone();if(null==this._scaleBeforeChangingSpatialReference)this._scaleBeforeChangingSpatialReference=r.scale;else{let t=r.viewpoint.clone();t.scale=this._scaleBeforeChangingSpatialReference,r.viewpoint=t}let i=r.clone(),[s,o]=r.center,a=null;try{a=this._project(new t8.A({x:s,y:o,spatialReference:r.spatialReference}),t)}catch(r){(0,rb.i)()||T.A.getLogger(this).warn(new rw.A("mapview:spatial-reference-change","could not project the view's center to the new spatial reference",{center:a?.toJSON(),spatialReference:t,error:r}))}a||(a=new t8.A({x:0,y:0,spatialReference:t}));let u=(0,tW.Ji)(new E.A({targetGeometry:new t8.A,scale:0,rotation:0}),r.viewpoint,a);i.viewpoint=u;try{let s=[r.size[0]/2,r.size[1]/2],o=[s[0]+20,s[1]],a=r.toMap([0,0],o),{x:d,y:c}=this._project(new t8.A({x:a[0],y:a[1],spatialReference:r.spatialReference}),t);a[0]=d,a[1]=c,i.toScreen(a,a);let p=(0,tW.s5)(s,a,o),h=Math.hypot(a[0]-s[0],a[1]-s[1])/20;!Number.isFinite(h)||Math.abs(h)>4?(u.rotation=0,u.targetGeometry=new t8.A({x:0,y:0,spatialReference:t})):(u.scale*=h,u.scale>(0,A.A)("mapview-srswitch-adjust-rotation-scale-threshold")?u.rotation=0:u.rotation+=Number.isFinite(p)?p:0)}catch{}this._get("constraints")?.constrain(u,void 0),this._get("state").viewpoint=u}resize(t,r){if(!this.ready)return;let i=this.state,s=this.state.paddedViewState.viewpoint,o=this.state.paddedViewState.size.slice();i.size=[t,r],(0,tW.XR)(s,s,o,this.state.paddedViewState.size,this.resizeAlign),s=this.constraints?.constrain(s,void 0)??s,this.state.viewpoint=s}toMap(t){if(!this.ready)return null;let[r,i]=this.state.toMap([0,0],[t.x,t.y]),s=this.state.spatialReference;return new t8.A({x:r,y:i,spatialReference:s})}toScreen(t,r){if(!this.ready)return null;let i=this._project(t,this.state.spatialReference),s=[i.x,i.y];return!1===r?.pickClosestTarget||this.state.paddedViewState.wrapMapCoordinate(s,s),this.state.toScreen(s,s),(0,eL.tc)(s[0],s[1])}_project(t,r){var i;let s=t?.targetGeometry||t;if(!r)return t;if(!s)return null;if(r.imageCoordinateSystem||s.spatialReference?.imageCoordinateSystem||(0,ew.aI)(r,s.spatialReference))return t;let o=(0,Z.project)(s,r);if(!o)throw new R.A("mapview:projection-not-possible","projecting input geometry to target spatial reference returned a null value",{geometry:s,spatialReference:r});return(i=t,"esri.Viewpoint"===i?.declaredClass)?(t.targetGeometry=o,t):o}};function rS(t,r){switch(r){case"primary":return"touch"===t.pointerType||0===t.button;case"secondary":return"touch"!==t.pointerType&&2===t.button;case"tertiary":return"touch"!==t.pointerType&&1===t.button}}function rA(t,r){return r.some(r=>rS(t,r))}function rT(t,{dragPrimary:r,dragSecondary:i,dragTertiary:s}){return[{key:"primary",value:r},{key:"secondary",value:i},{key:"tertiary",value:s}].filter(r=>r.value===t).map(t=>t.key)}(0,M._)([(0,S.MZ)({type:t8.A})],rM.prototype,"center",null),(0,M._)([(0,S.MZ)()],rM.prototype,"constraints",void 0),(0,M._)([(0,S.MZ)({type:eg.A})],rM.prototype,"extent",null),(0,M._)([(0,S.MZ)({value:{top:0,right:0,bottom:0,left:0},cast:t=>({top:0,right:0,bottom:0,left:0,...t})})],rM.prototype,"padding",null),(0,M._)([(0,S.MZ)()],rM.prototype,"ready",void 0),(0,M._)([(0,S.MZ)()],rM.prototype,"resizeAlign",void 0),(0,M._)([(0,S.MZ)({readOnly:!0})],rM.prototype,"resolution",null),(0,M._)([(0,S.MZ)({type:Number})],rM.prototype,"rotation",null),(0,M._)([(0,S.MZ)({type:Number})],rM.prototype,"scale",null),(0,M._)([(0,S.MZ)({readOnly:!0})],rM.prototype,"state",void 0),(0,M._)([(0,S.MZ)({type:E.A})],rM.prototype,"viewpoint",null),(0,M._)([(0,S.MZ)({readOnly:!0})],rM.prototype,"visibleArea",null),(0,M._)([(0,S.MZ)()],rM.prototype,"zoom",null),rM=(0,M._)([(0,x.$)("esri.views.2d.ViewStateManager")],rM);class rx extends e3.l{constructor(t,r){super(!0),this._view=t,this.registerIncoming("double-click",r,t=>this._handleDoubleClick(t,r))}_handleDoubleClick(t,r){rS(t.data,"primary")&&(t.stopPropagation(),r?this._view.mapViewNavigation.zoomOut([t.data.x,t.data.y]):this._view.mapViewNavigation.zoomIn([t.data.x,t.data.y]))}}class rE extends e3.l{constructor(t,r,i){super(!0),this.view=t,this.pointerType=r,this.registerIncoming("double-tap-drag",i,t=>this._handleDoubleTapDrag(t))}_handleDoubleTapDrag(t){let{data:r}=t,{pointerType:i}=r;if(i!==this.pointerType)return;t.stopPropagation();let{action:s,delta:o}=r,{view:a}=this,{mapViewNavigation:u}=a;switch(s){case"begin":{let{scale:t}=a;this._startScale=t,this._currentScale=t,this._previousDelta=o,u.begin();break}case"update":{if(this._previousDelta.y===o.y)return;this._previousDelta=o;let t=1.015**o.y,r=this._startScale*t,i=r/this._currentScale;u.setViewpointImmediate(i),this._currentScale=r;break}case"end":{let{constraints:t}=a,{effectiveLODs:r,snapToZoom:i}=t;if(!i||!r)return void u.end();let s=t.snapScale(this._currentScale),d=(o.y>0?Math.max(s,t.snapToPreviousScale(this._startScale)):Math.min(s,t.snapToNextScale(this._startScale)))/this._currentScale;u.zoom(d).then(()=>{u.end()})}}}}class rI{constructor(t){this._callbacks=t,this._currentCount=0,this._callbacks.condition||(this._callbacks.condition=()=>!0)}handle(t){let r=t.data,i=r.pointers.size;switch(r.action){case"start":this._currentCount=i,this._emitStart(t);break;case"added":this._emitEnd(this._previousEvent),this._currentCount=i,this._emitStart(t);break;case"update":this._emitUpdate(t);break;case"removed":this._startEvent&&this._emitEnd(this._previousEvent),this._currentCount=i,this._emitStart(t);break;case"end":this._emitEnd(t),this._currentCount=0}this._previousEvent=t}_emitStart(t){this._startEvent=t,this._callbacks.condition?.(this._currentCount,t)&&this._callbacks.start(this._currentCount,t,this._startEvent)}_emitUpdate(t){this._callbacks.condition?.(this._currentCount,t)&&this._callbacks.update(this._currentCount,t,this._startEvent)}_emitEnd(t){this._callbacks.condition?.(this._currentCount,t)&&this._callbacks.end(this._currentCount,t,this._startEvent),this._startEvent=null}}class rC extends e3.l{constructor(t,r,i){super(!0),this.view=t,this.pointerActions=r,this.registerIncoming("drag",i,t=>this._handleDrag(t)),this.registerIncoming("pointer-down",()=>this.stopMomentumNavigation())}onInstall(t){super.onInstall(t),this._dragEventSeparator=new rI({start:(t,r)=>{this.view.mapViewNavigation.pan.begin(this.view,r.data),r.stopPropagation()},update:(t,r)=>{this.view.mapViewNavigation.pan.update(this.view,r.data),r.stopPropagation()},end:(t,r)=>{this.view.mapViewNavigation.pan.end(this.view,r.data),r.stopPropagation()},condition:(t,r)=>1===t&&rA(r.data,this.pointerActions)})}_handleDrag(t){let r=this.view.mapViewNavigation;r.pinch.zoomMomentum||r.pinch.rotateMomentum?this.stopMomentumNavigation():this._dragEventSeparator.handle(t)}stopMomentumNavigation(){this.view.mapViewNavigation.pan.stopMomentumNavigation()}}class rR extends e3.l{constructor(t,r,i){super(!0),this._view=t,this.pointerActions=r;let s=this._view.mapViewNavigation;this._dragEventSeparator=new rI({start:(t,r)=>{s.rotate.begin(this._view,r.data),r.stopPropagation()},update:(t,r)=>{s.rotate.update(this._view,r.data),r.stopPropagation()},end:(t,r)=>{s.rotate.end(),r.stopPropagation()},condition:(t,r)=>1===t&&rA(r.data,this.pointerActions)}),this.registerIncoming("drag",i,t=>this._dragEventSeparator.handle(t))}}var rO=i(63599);function rP(t){let r=t*t;return t<0&&(r*=-1),r}class rN extends e3.l{constructor(t){super(!0),this._view=t,this._frameTask=null,this._watchHandles=new eh.A,this._currentDevice=null,this._transformation={translation:[0,0,0],heading:0,tilt:0,zoom:0},this._handle=this.registerIncoming("gamepad",t=>this._handleGamePadEvent(t)),this._handle.pause()}onInstall(t){super.onInstall(t),this._watchHandles.add([(0,P.wB)(()=>this._view.navigation.gamepad?.enabled,t=>{t?(this._handle.resume(),this._frameTask||(this._frameTask=(0,H.mg)({update:t=>this._frameUpdate(t.deltaTime)}))):(this._handle.pause(),this._frameTask&&(this._frameTask.remove(),this._frameTask=null))},P.Vh)])}onUninstall(){this._watchHandles.removeAll(),this._frameTask&&(this._frameTask.remove(),this._frameTask=null),super.onUninstall()}_handleGamePadEvent(t){var r;let i=this._view.navigation.gamepad.device;i&&t.data.device!==i||this._currentDevice&&this._currentDevice!==t.data.device||("end"===t.data.action?(this._currentDevice=null,(r=this._transformation).translation[0]=0,r.translation[1]=0,r.translation[2]=0,r.heading=0,r.tilt=0):(this._currentDevice=t.data.device,function(t,r,i){let s=t.state,o=t.device,a="forward-down"===r.tiltDirection?1:-1;"standard"===o.deviceType?(i.translation[0]=rP(s.axes[0]),i.translation[1]=rP(s.axes[1]),i.translation[2]=rP(s.buttons[7])-rP(s.buttons[6]),i.heading=rP(s.axes[2]),i.tilt=rP(s.axes[3])):"spacemouse"===o.deviceType&&(i.translation[0]=1.2*rP(s.axes[0]),i.translation[1]=1.2*rP(s.axes[1]),i.translation[2]=-(2*rP(s.axes[2])),i.heading=1.2*rP(s.axes[5]),i.tilt=1.2*rP(s.axes[3])),i.tilt*=a,(0,rO.h)(i.translation,i.translation,1)}(t.data,this._view.navigation.gamepad,this._transformation)),this._frameTask?.resume())}_frameUpdate(t){let r=this._transformation;if(0===r.translation[0]&&0===r.translation[1]&&0===r.translation[2]&&0===r.heading&&0===r.tilt&&0===r.zoom)return void this._frameTask?.pause();let i=this._view.viewpoint.clone(),s=rL*this._view.navigation.gamepad.velocityFactor*t;(0,tW.aA)(i,i,[r.translation[0]*s,-r.translation[1]*s]);let o=1+r.translation[2]*rF*t,a=this._view.constraints.rotationEnabled?-r.heading*rk*t:0,u=this._view.size,d=[u[0]/2,u[1]];(0,tW.WK)(i,i,o,a,d,u);let c=this._view.constraints.constrain(i,this._view.viewpoint);this._view.viewpoint=c}}let rk=.06,rL=.7,rF=6e-4;function rZ(t){let r=()=>t("visible"===document.visibilityState);return document.addEventListener("visibilitychange",r),(0,q.hA)(()=>document.removeEventListener("visibilitychange",r))}class rD extends e3.l{constructor(t,r,i){super(!0),this.view=t,this.keys=r,this._isSticky=!1,this._pressedKeys=new Set,this._timeout=void 0,this._currentDirection=void 0,this._stickyKeyDuration=200,this._handleKey=t=>{let r=this._keyMap[t.data.key];if(t.modifiers.has("Meta")||t.modifiers.has("Control"))return void this._stopMovement();if(null==r)return;t.stopPropagation(),t.preventDefault();let i="key-down"===t.type;if(this._pressedKeys[i?"add":"delete"](r),i){if(this._direction===r)return;this._direction=r,this._isSticky=!1,this._setTimeout(()=>{this._isSticky&&this._handlePopKey()})}else{let t=void 0===this._timeout,r=this._pressedKeys.size>0;t||r?this._handlePopKey():this._isSticky=!0}},this._handlePopKey=()=>{this._direction=Array.from(this._pressedKeys).pop(),null==this._direction&&this._stopMovement()},this._stopMovement=()=>{this._isSticky=!1,this._direction=void 0,this._pressedKeys.clear(),this._setTimeout(void 0)},this._keyMap={[r.left]:"left",[r.right]:"right",[r.up]:"up",[r.down]:"down"},this.registerIncoming("key-down",i,this._handleKey),this.registerIncoming("key-up",i,this._handleKey),this.registerIncoming("blur",i,this._stopMovement),this._visibilityHandle=rZ(t=>t?null:this._stopMovement())}onUninstall(){this._stopMovement(),this._visibilityHandle?.remove()}get _direction(){return this._currentDirection}set _direction(t){let r=null!=this._currentDirection;if(null!=t){if(r||this.view.mapViewNavigation.begin(),this._currentDirection!==t)switch(t){case"left":this.view.mapViewNavigation.continuousPanLeft();break;case"right":this.view.mapViewNavigation.continuousPanRight();break;case"up":this.view.mapViewNavigation.continuousPanUp();break;case"down":this.view.mapViewNavigation.continuousPanDown()}}else r&&this.view.mapViewNavigation.stop();this._currentDirection=t}_setTimeout(t){clearTimeout(this._timeout),this._timeout=void 0===t?void 0:setTimeout(()=>{this._timeout=void 0,t()},this._stickyKeyDuration)}}class rj extends e3.l{constructor(t,r,i){super(!0),this.view=t,this.keys=r,this._keyToDirection=new Map,this._pressed=!1,this._addKeysMapping(r),this.registerIncoming("key-down",i,t=>this._handleKeyDown(t)),this.registerIncoming("key-up",i,t=>this._handleKeyUp(t)),this.registerIncoming("blur",i,()=>this._handleStop()),this._visibilityHandle=rZ(t=>t?null:this._handleStop())}onUninstall(){this._visibilityHandle?.remove(),this._handleStop()}_addKeysMapping(t){this._addKeyMapping(t.clockwise,"clockwise"),this._addKeyMapping(t.counterClockwise,"counterClockwise"),this._addKeyMapping(t.reset,"reset")}_addKeyMapping(t,r){for(let i of t)this._keyToDirection.set(i,r)}_handleKeyDown(t){t.data.repeat||this._handleKey(t,!0)}_handleKeyUp(t){this._handleKey(t,!1)}_handleStop(){this._pressed&&(this._pressed=!1,this.view.mapViewNavigation.stop())}_handleKey(t,r){let i=t.modifiers;if(i.size>0&&!i.has("Shift")||!this.view.constraints.rotationEnabled)return;let s=this._keyToDirection.get(t.data.key);if(this._pressed=null!=s,this._pressed){if(t.preventDefault(),r)switch(this.view.mapViewNavigation.begin(),s){case"clockwise":this.view.mapViewNavigation.continuousRotateClockwise();break;case"counterClockwise":this.view.mapViewNavigation.continuousRotateCounterclockwise();break;case"reset":this.view.mapViewNavigation.resetRotation()}else this._pressed=!1,this.view.mapViewNavigation.stop();t.stopPropagation()}}}!function(t){t[t.IN=0]="IN",t[t.OUT=1]="OUT"}(w||(w={}));class rU extends e3.l{constructor(t,r,i){super(!0),this.view=t,this.keys=r,this._keysToZoomAction={},this.registerIncoming("key-down",i,t=>this._handleKeyDown(t)),r.zoomIn.forEach(t=>this._keysToZoomAction[t]=w.IN),r.zoomOut.forEach(t=>this._keysToZoomAction[t]=w.OUT)}_handleKeyDown(t){this._handleKey(t)}_handleKey(t){let r=t.modifiers;if(r.size>0&&!r.has("Shift"))return;let{key:i}=t.data;if(!(i in this._keysToZoomAction))return;let s=this._keysToZoomAction[i],{mapViewNavigation:o}=this.view,a=null;switch(s){case w.IN:a=o.zoomIn();break;case w.OUT:a=o.zoomOut();break;default:return}o.begin(),a.then(()=>o.end()),t.stopPropagation()}}class rV extends e3.l{constructor(t,r){super(!0),this._view=t,this._canZoom=!0,this.registerIncoming("mouse-wheel",r,t=>this._handleMouseWheel(t))}_handleMouseWheel(t){if("zoom"!==this._view.navigation.actionMap.mouseWheel||(t.preventDefault(),t.stopPropagation(),!this._canZoom))return;let r=this._view.mapViewNavigation,{x:i,y:s,deltaY:o}=t.data,a=r.zoom(1/.6**(1/60*o),[i,s]);a&&(this._canZoom=!1,a.catch(()=>{}).then(()=>{this._canZoom=!0,r.end()}))}}class rz extends e3.l{constructor(t){super(!0),this.view=t,this.registerIncoming("drag",t=>this._handleDrag(t)),this.registerIncoming("pointer-down",()=>this._stopMomentumNavigation());let r=this.view.mapViewNavigation;this._dragEventSeparator=new rI({start:(t,i)=>{r.pinch.begin(this.view,i.data),i.stopPropagation()},update:(t,i)=>{r.pinch.update(this.view,i.data),i.stopPropagation()},end:(t,i)=>{r.pinch.end(this.view),i.stopPropagation()},condition:t=>t>=2})}_handleDrag(t){this._dragEventSeparator.handle(t)}_stopMomentumNavigation(){this.view.mapViewNavigation.pinch.stopMomentumNavigation()}}function rG(t){let r=t.native;return r?{buttons:r.buttons.map(t=>t.pressed?t.value||1:0),axes:r.axes.map(r=>(function(t,r){let i=Math.abs(t);return i<r?0:Math.sign(t)*(i-r)/(1-r)})(r,t.axisThreshold))}:{buttons:[],axes:[]}}class r${constructor(t,r){this._element=t,this._input=r,this._hasEventListeners=!1,this._onConnectGamepad=t=>{this._connectGamepad(t.gamepad)},this._onDisconnectGamepad=t=>{let r=t.gamepad,i=r.index,s=this._inputDevices[i];s&&(this._emitGamepadEvent(r,rG(s),!1),this._inputDevices.splice(i,1),this._latestUpdate.splice(i,1),this._input.gamepad.devices.remove(s),this.ensurePollingState())},this._frameTask=null,this._latestUpdate=[],this._inputDevices=[],this._callback=null;let i="getGamepads"in window.navigator,s=window.isSecureContext;this.supported=i&&s,this.supported&&(rB(t=>this._connectGamepad(t)),window.addEventListener("gamepadconnected",this._onConnectGamepad),window.addEventListener("gamepaddisconnected",this._onDisconnectGamepad),this.ensurePollingState())}destroy(){this.hasEventListeners=!1,this.supported&&(window.removeEventListener("gamepadconnected",this._onConnectGamepad),window.removeEventListener("gamepaddisconnected",this._onDisconnectGamepad))}set hasEventListeners(t){this._hasEventListeners!==t&&(this._hasEventListeners=t,this.ensurePollingState())}get _eventsEnabled(){return this.supported&&this._inputDevices.length>0&&this._hasEventListeners}set onEvent(t){this._callback=t}_connectGamepad(t){let r=new tm(t);"unknown"!==r.deviceType&&(this._inputDevices[t.index]=r,this._input.gamepad.devices.add(r)),this.ensurePollingState()}ensurePollingState(){this._eventsEnabled?this._startPolling():this._stopPolling()}_startPolling(){null==this._frameTask&&(this._frameTask=(0,H.mg)({update:()=>this._readGamepadState()}))}_stopPolling(){null!=this._frameTask&&(this._frameTask.remove(),this._frameTask=null,this._latestUpdate=[])}_readGamepadState(){let t=document.hasFocus(),r=this._element.contains(document.activeElement),i="document"===this._input.gamepad.enabledFocusMode&&!t||"view"===this._input.gamepad.enabledFocusMode&&!r;rB(t=>{let r=this._inputDevices[t.index];if(!r)return;let s=this._latestUpdate[t.index],o=rG(r),a=i||function(t){for(let r=0;r<t.axes.length;r++)if(0!==t.axes[r])return!1;for(let r=0;r<t.buttons.length;r++)if(0!==t.buttons[r])return!1;return!0}(o);s&&(s.timestamp===t.timestamp||!s.active&&a||function(t,r){if(t.axes.length!==r.axes.length||t.buttons.length!==r.buttons.length)return!1;for(let i=0;i<t.axes.length;i++)if(t.axes[i]!==r.axes[i])return!1;for(let i=0;i<t.buttons.length;i++)if(t.buttons[i]!==r.buttons[i])return!1;return!0}(s.state,o))||this._emitGamepadEvent(t,o,!a)})}_emitGamepadEvent(t,r,i){let s=this._latestUpdate[t.index],o=s&&s.active;(o||i)&&(this._latestUpdate[t.index]={timestamp:t.timestamp,state:r,active:i},this._callback&&this._callback({device:this._inputDevices[t.index],state:r,action:!o&&i?"start":o&&i?"update":"end"}))}}function rB(t){for(let r of navigator.getGamepads())(function(t){if(!t||!t.connected)return!1;for(let r=0;r<t.axes.length;r++)if(isNaN(t.axes[r]))return!1;return!0})(r)&&t(r)}let rq=(0,A.A)("edge"),rH=(0,A.A)("chrome"),rW=(0,A.A)("ff"),rJ=(0,A.A)("safari"),rK="esri-view-surface",rY={touchNone:`${rK}--touch-none`,touchPan:`${rK}--touch-pan`};class rX{constructor(t,r){this._active={},this._callback=()=>{},this._activePointerCaptures=new Set,this._keyDownState=new Set,this._eventId=1,this._browserTouchPanningEnabled=!1,this._element=t,t.getAttribute("tabindex")||t.setAttribute("tabindex","0"),this._eventHandlers={"key-down":this._handleKey,"key-up":this._handleKey,"pointer-down":this._handlePointer,"pointer-move":this._handlePointerPreventDefault,"pointer-up":this._handlePointerPreventDefault,"pointer-enter":this._handlePointer,"pointer-leave":this._handlePointer,"pointer-cancel":this._handlePointer,"mouse-wheel":this._handleMouseWheel,"pointer-capture-lost":this._handlePointerCaptureLost},this._updateTouchAction(),this._element.addEventListener("keydown",this._preventAltKeyDefault),this._gamepadSource=new r$(t,r),this._gamepadSource.onEvent=t=>this._callback("gamepad",t)}destroy(){this._callback=()=>{},this.activeEvents=null,this._activePointerCaptures.forEach(t=>this._releasePointerCaptureSafe(t)),this._activePointerCaptures.clear(),this._gamepadSource=(0,O.pR)(this._gamepadSource),this._removeTouchAction(),this._element.removeEventListener("keydown",this._preventAltKeyDefault)}get browserTouchPanningEnabled(){return this._browserTouchPanningEnabled}set browserTouchPanningEnabled(t){this._browserTouchPanningEnabled=t,this._updateTouchAction(),this._updateTouchEventHandling()}set onEventReceived(t){this._callback=t}set activeEvents(t){for(let r in this._active)if(!t||!t.has(r)){let t=this._active[r];this._element.removeEventListener(rQ[r],t),delete this._active[r]}t&&t.forEach(t=>{if(!this._active[t]&&rQ[t]){let r=(this._eventHandlers[t]||this._handleDefault).bind(this,t);this._element.addEventListener(rQ[t],r),this._active[t]=r}}),this._gamepadSource&&(this._gamepadSource.hasEventListeners=t?.has("gamepad")??!1)}setPointerCapture(t,r){r?this._setPointerCaptureSafe(t.pointerId):(this._releasePointerCaptureSafe(t.pointerId),this._activePointerCaptures.delete(t.pointerId))}_updateTouchAction(){this._element.classList.remove(this._browserTouchPanningEnabled?rY.touchNone:rY.touchPan),this._element.classList.add(this._browserTouchPanningEnabled?rY.touchPan:rY.touchNone)}_updateTouchEventHandling(){this._browserTouchPanningEnabled?this._element.addEventListener("touchmove",this._preventMultiTouchPanning):this._element.removeEventListener("touchmove",this._preventMultiTouchPanning)}_removeTouchAction(){this._element.classList.remove(rY.touchNone),this._element.classList.remove(rY.touchPan),this._element.removeEventListener("touchmove",this._preventMultiTouchPanning)}_setPointerCaptureSafe(t){try{this._element.setPointerCapture(t),this._activePointerCaptures.add(t)}catch{}}_releasePointerCaptureSafe(t){try{if(this._element.hasPointerCapture&&!this._element.hasPointerCapture(t))return;this._element.releasePointerCapture(t)}catch(t){}}_updateNormalizedPointerLikeEvent(t,r){let i=(0,tn.Uo)(this._element,t);return rX.test.disableSubpixelCoordinates&&(i.x=Math.round(i.x),i.y=Math.round(i.y)),r.x=i.x,r.y=i.y,r}_handleKey(t,r){let{key:i}=r;i&&"key-up"===t&&this._keyDownState.delete(i);let s={native:r,key:i,repeat:!!i&&this._keyDownState.has(i)};i&&"key-down"===t&&this._keyDownState.add(s.key),this._callback(t,s)}_handlePointer(t,r){let i=this._updateNormalizedPointerLikeEvent(r,{native:r,x:0,y:0,pointerType:r.pointerType,button:r.button,buttons:r.buttons,eventId:this._eventId++});this._callback(t,i)}_handlePointerPreventDefault(t,r){let i=this._updateNormalizedPointerLikeEvent(r,{native:r,x:0,y:0,pointerType:r.pointerType,button:r.button,buttons:r.buttons,eventId:this._eventId++});r.preventDefault(),this._callback(t,i)}_getDeltaFromTrackpadOrMouseWheel(t){return t.shiftKey&&(0,A.A)("mac")&&0===t.deltaY?t.deltaX:t.deltaY}_handleMouseWheel(t,r){let i=this._getDeltaFromTrackpadOrMouseWheel(r);switch(r.deltaMode){case 0:rq&&(i=i/document.documentElement.clientHeight*600);break;case 1:i*=30;break;case 2:i*=900}rq?i*=.7:rH||rJ?i*=.6:rW&&(i*=1.375);let s=Math.abs(i);s>100&&(i=i/s*200/(1+Math.exp(-.02*(s-100))));let o=this._updateNormalizedPointerLikeEvent(r,{native:r,x:0,y:0,deltaY:i});this._callback(t,o)}_handlePointerCaptureLost(t,r){this._activePointerCaptures.delete(r.pointerId),this._handleDefault(t,r)}_handleDefault(t,r){r.preventDefault(),this._callback(t,{native:r})}_preventAltKeyDefault(t){"Alt"===t.key&&t.preventDefault()}_preventMultiTouchPanning(t){t.touches.length>1&&t.preventDefault()}}rX.test={disableSubpixelCoordinates:!1};let rQ={"key-down":"keydown","key-up":"keyup","pointer-down":"pointerdown","pointer-up":"pointerup","pointer-move":"pointermove","mouse-wheel":"wheel","pointer-capture-got":"gotpointercapture","pointer-capture-lost":"lostpointercapture","context-menu":"contextmenu","pointer-enter":"pointerenter","pointer-leave":"pointerleave","pointer-cancel":"pointercancel",focus:"focus",blur:"blur"};class r0 extends e3.l{constructor(){super(!0),this.registerIncoming("context-menu",t=>t.data.native.preventDefault())}}let r1={maximumClickDelay:300,movementUntilMouseDrag:1.5,movementUntilPenDrag:6,movementUntilTouchDrag:6,holdDelay:500,maximumDoubleClickDelay:250,maximumDoubleClickDistance:10,maximumDoubleTouchDelay:350,maximumDoubleTouchDistance:35};function r2(t,r){return Math.abs(r.x-t.x)+Math.abs(r.y-t.y)}function r3(t){let{native:r}=t,{pointerId:i,button:s,pointerType:o}=r;return"mouse"===o?`${i}:${s}`:`${o}`}class r8 extends e3.l{constructor(t=r1.maximumDoubleClickDelay,r=r1.maximumDoubleClickDistance,i=r1.maximumDoubleTouchDelay,s=r1.maximumDoubleTouchDistance,o=e1.p){super(!1),this._maximumDoubleClickDelay=t,this._maximumDoubleClickDistance=r,this._maximumDoubleTouchDelay=i,this._maximumDoubleTouchDistance=s,this._clock=o,this._doubleTapDragReady=!1,this._doubleTapDragActive=!1,this._dragStartCenter=(0,eL.tc)(0,0),this._pointerState=new Map,this._doubleTapDrag=this.registerOutgoing("double-tap-drag"),this._dragEventSeparator=new rI({start:(t,r)=>this._dragStart(t,r),update:(t,r)=>this._dragUpdate(r),end:(t,r)=>this._dragEnd(r)}),this.registerIncoming("drag",t=>this._dragEventSeparator.handle(t)),this.registerIncoming("pointer-down",t=>this._handlePointerDown(t)),this.registerIncoming("pointer-up",()=>this._handlePointerUp())}onUninstall(){this._pointerState.forEach(t=>{t.doubleTapTimeout=(0,O.xt)(t.doubleTapTimeout)})}get hasPendingInputs(){for(let t of this._pointerState.values())if(null!=t.doubleTapTimeout)return!0;return!1}_clearPointerDown(t){let r=this._pointerState.get(t);r&&(r.doubleTapTimeout=(0,O.xt)(r.doubleTapTimeout),this._pointerState.delete(t),this.refreshHasPendingInputs())}_dragStart(t,r){if(!this._doubleTapDragReady||1!==t)return;this._doubleTapDragReady=!1,this._doubleTapDragActive=!0;let{data:i,modifiers:s}=r,{center:o}=i;this._dragStartCenter=o;let a=r5("begin",(0,eL.tc)(0,0),i);this._doubleTapDrag.emit(a,void 0,s),r.stopPropagation()}_dragUpdate(t){if(!this._doubleTapDragActive)return;let{data:r,modifiers:i}=t,{center:s}=r,o=r5("update",(0,eL.tc)(s.x-this._dragStartCenter.x,s.y-this._dragStartCenter.y),r);this._doubleTapDrag.emit(o,void 0,i),t.stopPropagation()}_dragEnd(t){if(!this._doubleTapDragActive)return;let{data:r,modifiers:i}=t,{center:s}=r,o=r5("end",(0,eL.tc)(s.x-this._dragStartCenter.x,s.y-this._dragStartCenter.y),r);this._doubleTapDrag.emit(o,void 0,i),this._doubleTapDragActive=!1,t.stopPropagation()}_handlePointerDown(t){let{data:r}=t,i=r3(r),s=this._pointerState.get(i),{pointerType:o}=r.native;if(s){let a="touch"===o?this._maximumDoubleTouchDistance:this._maximumDoubleClickDistance;this._clearPointerDown(i),r2(s.event.data,r)>a?this._storePointerDown(t):this._doubleTapDragReady=!0}else this._storePointerDown(t)}_handlePointerUp(){this._doubleTapDragReady=!1}_storePointerDown(t){let{data:r}=t,{pointerType:i}=r.native,s=r3(r),o="touch"===i?this._maximumDoubleTouchDelay:this._maximumDoubleClickDelay,a=this._clock.setTimeout(()=>this._clearPointerDown(s),o);this._pointerState.set(s,{event:t,doubleTapTimeout:a}),this.refreshHasPendingInputs()}}function r5(t,r,i){let{button:s,buttons:o,pointer:a,pointers:u,pointerType:d,timestamp:c}=i;return{action:t,delta:r,button:s,buttons:o,pointer:a,pointers:u,pointerType:d,timestamp:c}}var r9=i(63430);class r6 extends e3.l{constructor(t){super(!1),this._navigationTouch=t,this._startStateModifiers=new Set,this._activePointerMap=new Map,this._isDragging=!1,this._isCurrentDragSuppressed=!1,this._drag=this.registerOutgoing("drag"),this.registerIncoming("pointer-drag",this._handlePointerDrag.bind(this)),this.registerIncoming("pointer-up",this._handlePointerUpAndPointerLost.bind(this)),this.registerIncoming("pointer-capture-lost",this._handlePointerUpAndPointerLost.bind(this)),this.registerIncoming("pointer-cancel",this._handlePointerUpAndPointerLost.bind(this))}_createPayload(t,r,i,s){return{action:t,pointerType:this._pointerType,button:this._mouseButton,buttons:r.buttons,timestamp:s,pointers:function(t){let r=new Map;return t.forEach((t,i)=>r.set(i,t.event)),r}(this._activePointerMap),pointer:r,angle:i.angle,radius:i.radius,center:i.center}}_addPointer(t){let r=t.native.pointerId,i=r7(this._activePointerMap).angle,s={event:t,initialAngle:0,lastAngle:0};this._activePointerMap.set(r,s);let o=ie(s,r4(this._activePointerMap));s.initialAngle=o,s.lastAngle=o,this._updatePointerAngles(i)}_updatePointer(t){if(t&&null==t.x&&null==t.y)return;let r=t.native.pointerId,i=this._activePointerMap.get(r);i?i.event=t:this._addPointer(t)}_removePointer(t){let r=r7(this._activePointerMap).angle;this._activePointerMap.delete(t),this._updatePointerAngles(r)}_updatePointerAngles(t){let r=r7(this._activePointerMap);this._activePointerMap.forEach(i=>{i.initialAngle=ie(i,r)-t,i.lastAngle=ie(i,r)-t})}_emitEvent(t,r,i){let s=r7(this._activePointerMap);this._drag.emit(this._createPayload(t,r,s,i),void 0,this._startStateModifiers)}_handlePointerUpAndPointerLost(t){let r=t.data.native.pointerId,i=(0,r9.l5)(t.timestamp);this._activePointerMap.get(r)&&(1===this._activePointerMap.size?(this._updatePointer(t.data),this._isCurrentDragSuppressed||this._emitEvent("end",t.data,i),this._isDragging=!1,this._isCurrentDragSuppressed=!1,this._removePointer(r)):(this._removePointer(r),this._emitEvent("removed",t.data,(0,r9.l5)(t.timestamp))))}_handlePointerDrag(t){let r=t.data,i=r.currentEvent,s=(0,r9.l5)(t.timestamp);switch(r.action){case"start":case"update":this._isDragging?this._activePointerMap.has(i.native.pointerId)?(this._updatePointer(i),this._isCurrentDragSuppressed||this._emitEvent("update",i,s)):(this._addPointer(i),this._emitEvent("added",i,s),this._isCurrentDragSuppressed=this._isSuppressed):(this._updatePointer(i),this._pointerType=t.data.startEvent.pointerType,this._mouseButton=t.data.startEvent.button,this._startStateModifiers=t.modifiers,this._isDragging=!0,this._isCurrentDragSuppressed=this._isSuppressed,this._isCurrentDragSuppressed||this._emitEvent("start",i,s))}}get _isSuppressed(){return!!this._navigationTouch&&!this._navigationTouch.browserTouchPanEnabled&&"touch"===this._pointerType&&1===this._activePointerMap.size}}function r4(t){let r=[];return t.forEach(t=>{r.push((0,eL.tc)(t.event.x,t.event.y))}),function(t,r){if(r?(r.radius=0,r.center.x=0,r.center.y=0):r={radius:0,center:(0,eL.tc)()},0===t.length)return r;if(1===t.length)return r.center.x=t[0].x,r.center.y=t[0].y,r;if(2===t.length){let[i,s]=t,[o,a]=[s.x-i.x,s.y-i.y];return r.radius=Math.sqrt(o*o+a*a)/2,r.center.x=(i.x+s.x)/2,r.center.y=(i.y+s.y)/2,r}let i=0,s=0;for(let r=0;r<t.length;r++)i+=t[r].x,s+=t[r].y;i/=t.length,s/=t.length;let o=t.map(t=>t.x-i),a=t.map(t=>t.y-s),u=0,d=0,c=0,p=0,h=0,f=0,y=0;for(let t=0;t<o.length;t++){let r=o[t],i=a[t],s=r*r,m=i*i;u+=s,d+=m,c+=r*i,p+=s*r,h+=m*i,f+=r*m,y+=i*s}let m=.5*(p+f),g=.5*(h+y),_=u*d-c*c,v=(m*d-g*c)/_,w=(u*g-c*m)/_,b=(0,eL.tc)(v+i,w+s);return{radius:Math.sqrt(v*v+w*w+(u+d)/t.length),center:b}}(r)}function r7(t){let r=r4(t),i=0;return t.forEach(t=>{let s=ie(t,r),o=s-t.lastAngle;for(;o>Math.PI;)o-=2*Math.PI;for(;o<-Math.PI;)o+=2*Math.PI;s=t.lastAngle+o,t.lastAngle=s;let a=s-t.initialAngle;i+=a}),{angle:i/=t.size||1,radius:r.radius,center:r.center}}function ie(t,r){let i=t.event,s=i.x-r.center.x;return Math.atan2(i.y-r.center.y,s)}!function(t){t[t.Left=0]="Left",t[t.Middle=1]="Middle",t[t.Right=2]="Right",t[t.Back=3]="Back",t[t.Forward=4]="Forward",t[t.Undefined=-1]="Undefined"}(b||(b={}));class it extends e3.l{constructor(t=r1.maximumDoubleClickDelay,r=r1.maximumDoubleClickDistance,i=r1.maximumDoubleTouchDelay,s=r1.maximumDoubleTouchDistance,o=e1.p){super(!1),this._maximumDoubleClickDelay=t,this._maximumDoubleClickDistance=r,this._maximumDoubleTouchDelay=i,this._maximumDoubleTouchDistance=s,this._clock=o,this._pointerState=new Map,this._immediateDoubleClick=this.registerOutgoing("immediate-double-click"),this.registerIncoming("pointer-down",this._handlePointerDown.bind(this)),this.registerIncoming("pointer-up",this._handlePointerUp.bind(this))}onUninstall(){this._pointerState.forEach(t=>{t.immediateDoubleClick&&t.immediateDoubleClick.timeoutHandle.remove()}),super.onUninstall()}_handlePointerDown(t){let r=t.data,i=r3(r);if(!this._pointerState.has(i)){let t={downButton:r.native.button,x:r.x,y:r.y,immediateDoubleClick:null};this._pointerState.set(i,t),this.startCapturingPointer(r.native)}}_handlePointerUp(t){let r=t.data,i=r3(r),s=this._pointerState.get(i);if(s&&s.downButton===r.native.button){let i=s.immediateDoubleClick,o="touch"===t.data.native.pointerType?this._maximumDoubleTouchDistance:this._maximumDoubleClickDistance;i?(i.timeoutHandle.remove(),r2(i,t.data)>o?this._startImmediateDoubleClick(t,s):(this._immediateDoubleClick.emit(t.data,void 0,i.modifiers),this._removeState(r))):r2(s,t.data)>o?this._removeState(r):this._startImmediateDoubleClick(t,s)}}_startImmediateDoubleClick(t,r){let i="touch"===t.data.native.pointerType?this._maximumDoubleTouchDelay:this._maximumDoubleClickDelay;r.immediateDoubleClick={x:t.data.x,y:t.data.y,modifiers:t.modifiers,timeoutHandle:this._clock.setTimeout(()=>this._removeState(t.data),i)}}_removeState(t){let r=r3(t);this._pointerState.delete(r),this.stopCapturingPointer(t.native),this.refreshHasPendingInputs()}}class ir extends e3.l{constructor(t=r1.maximumClickDelay,r=r1.movementUntilMouseDrag,i=r1.movementUntilPenDrag,s=r1.movementUntilTouchDrag,o=r1.holdDelay,a=e1.p){super(!1),this._maximumClickDelay=t,this._movementUntilMouseDrag=r,this._movementUntilPenDrag=i,this._movementUntilTouchDrag=s,this._holdDelay=o,this._clock=a,this._pointerState=new Map,this._pointerDrag=this.registerOutgoing("pointer-drag"),this._immediateClick=this.registerOutgoing("immediate-click"),this._pointerHold=this.registerOutgoing("hold"),this.registerIncoming("pointer-down",t=>this._handlePointerDown(t)),this.registerIncoming("pointer-up",t=>this._handlePointerLoss(t,"pointer-up")),this.registerIncoming("pointer-capture-lost",t=>this._handlePointerLoss(t,"pointer-capture-lost")),this.registerIncoming("pointer-cancel",t=>this._handlePointerLoss(t,"pointer-cancel")),this._moveHandle=this.registerIncoming("pointer-move",t=>this._handlePointerMove(t)),this._moveHandle.pause()}onUninstall(){this._pointerState.forEach(t=>{t.holdTimeout=(0,O.xt)(t.holdTimeout)}),super.onUninstall()}_handlePointerDown(t){let r=t.data,i=r.native.pointerId,s=null;0===this._pointerState.size&&(s=this._clock.setTimeout(()=>{let r=this._pointerState.get(i);if(r){if(!r.isDragging){let i=r.previousEvent;this._pointerHold.emit(i,void 0,t.modifiers),r.holdEmitted=!0}r.holdTimeout=null}},this._holdDelay));let o={startEvent:r,previousEvent:r,startTimestamp:t.timestamp,isDragging:!1,downButton:r.native.button,holdTimeout:s,modifiers:new Set};this._pointerState.set(i,o),this.startCapturingPointer(r.native),this._moveHandle.resume(),this._pointerState.size>1&&this._startDragging(t)}_handlePointerMove(t){let r=t.data,i=r.native.pointerId,s=this._pointerState.get(i);s&&(s.isDragging?this._pointerDrag.emit(ii("update",s,r),void 0,s.modifiers):function(t,r){let i=r.x-t.x,s=r.y-t.y;return Math.sqrt(i*i+s*s)}(r,s.startEvent)>this._getDragThreshold(r.native.pointerType)&&this._startDragging(t),s.previousEvent=r)}_getDragThreshold(t){switch(t){case"touch":return this._movementUntilTouchDrag;case"pen":return this._movementUntilPenDrag;default:return this._movementUntilMouseDrag}}_startDragging(t){let r=t.data,i=r.native.pointerId;this._pointerState.forEach(s=>{null!=s.holdTimeout&&(s.holdTimeout.remove(),s.holdTimeout=null),s.isDragging||(s.modifiers=t.modifiers,s.isDragging=!0,i===s.startEvent.native.pointerId?this._pointerDrag.emit(ii("start",s,r)):this._pointerDrag.emit(ii("start",s,s.previousEvent),t.timestamp))})}_handlePointerLoss(t,r){let i=t.data,s=i.native.pointerId,o=this._pointerState.get(s);o&&((null!=o.holdTimeout&&(o.holdTimeout.remove(),o.holdTimeout=null),o.isDragging)?this._pointerDrag.emit(ii("end",o,"pointer-up"===r?i:o.previousEvent),void 0,o.modifiers):"pointer-up"===r&&o.downButton===i.native.button&&t.timestamp-o.startTimestamp<=this._maximumClickDelay&&!o.holdEmitted&&this._immediateClick.emit(i),this._pointerState.delete(s),this.stopCapturingPointer(i.native),0===this._pointerState.size&&this._moveHandle.pause())}}function ii(t,r,i){return{action:t,startEvent:r.startEvent,previousEvent:r.previousEvent,currentEvent:i}}class is extends e3.l{constructor(t=r1.maximumDoubleClickDelay,r=r1.maximumDoubleClickDistance,i=r1.maximumDoubleTouchDelay,s=r1.maximumDoubleTouchDistance,o=e1.p){super(!1),this._maximumDoubleClickDelay=t,this._maximumDoubleClickDistance=r,this._maximumDoubleTouchDelay=i,this._maximumDoubleTouchDistance=s,this._clock=o,this._pointerState=new Map,this._click=this.registerOutgoing("click"),this._doubleClick=this.registerOutgoing("double-click"),this.registerIncoming("immediate-click",t=>this._handleImmediateClick(t)),this.registerIncoming("pointer-down",t=>this._handlePointerDown(t))}onUninstall(){this._pointerState.forEach(t=>t.doubleClickTimer=(0,O.xt)(t.doubleClickTimer))}get hasPendingInputs(){for(let t of this._pointerState.values())if(null!=t.doubleClickTimer)return!0;return!1}_clearDoubleClickTimer(t,r){let i=this._pointerState.get(t);i&&(i.doubleClickTimer=(0,O.xt)(i.doubleClickTimer),r&&this._click.emit(i.event.data,void 0,i.event.modifiers),this._pointerState.delete(t),this.refreshHasPendingInputs())}_doubleClickTimeoutExceeded(t){let r=this._pointerState.get(t);1===r.pointerDownCount&&this._click.emit(r.event.data,void 0,r.event.modifiers),r.doubleClickTimer=null,this._pointerState.delete(t),this.refreshHasPendingInputs()}_handleImmediateClick(t){let r=t.data,{pointerType:i}=r.native,s=function(t){let{pointerId:r,pointerType:i,button:s}=t.native;return"mouse"===i?`${r}:${s}`:`${i}`}(r);if(!this._pointerState.has(s))return void this._startClick(t);let o=this._pointerState.get(s),{data:a,modifiers:u}=o.event,d="touch"===i?this._maximumDoubleTouchDistance:this._maximumDoubleClickDistance;r2(a,r)>d?(this._clearDoubleClickTimer(s,!0),this._startClick(t)):(this._clearDoubleClickTimer(s,!1),2===o.pointerDownCount&&this._doubleClick.emit(a,void 0,u))}_handlePointerDown(t){let r=r3(t.data),i=this._pointerState.get(r);i&&(i.pointerDownCount+=1)}_startClick(t){let{data:r}=t,{native:{pointerType:i}}=r,s=r3(r),o="touch"===i?this._maximumDoubleTouchDelay:this._maximumDoubleClickDelay,a=this._clock.setTimeout(()=>this._doubleClickTimeoutExceeded(s),o);this._pointerState.set(s,{event:t,doubleClickTimer:a,pointerDownCount:1}),this.refreshHasPendingInputs()}}let io={counter:"Control",pan:{left:"ArrowLeft",right:"ArrowRight",up:"ArrowUp",down:"ArrowDown"},zoom:{zoomIn:["=","+"],zoomOut:["-","_"]},rotate:{clockwise:["a","A"],counterClockwise:["d","D"],reset:["n","N"]}},ia=Symbol("handles"),il=class extends W.A{initialize(){let t=()=>this.view?.ready;this.addHandles([(0,P.z7)(()=>!t(),()=>this._disconnect()),(0,P.z7)(t,()=>this._connect())])}destroy(){this._disconnect()}get latestPointerType(){return this._inputManager?.latestPointerType}get latestPointerLocation(){return this._inputManager?.latestPointerLocation}get multiTouchActive(){return this._inputManager?.multiTouchActive??!1}isModifierKeyDown(t){return this._inputManager?.isModifierKeyDown(t)??!1}_disconnect(){this.view.viewEvents.disconnect(),this.removeHandles(ia),this._inputManager=(0,O.pR)(this._inputManager)}_connect(){let t=new rX(this.view.surface,this.view.input),r=[new it,new ir,new is,new r6(this.view.navigation),new r8],i=new en.e({eventSource:t,recognizers:r}),s=new rC(this.view,["primary"]),o=new rR(this.view,["secondary"]);i.installHandlers("prevent-context-menu",[new r0],en.o.INTERNAL),i.installHandlers("navigation",[new rz(this.view),new rN(this.view),new rV(this.view),new rx(this.view),new rx(this.view,[io.counter]),s,new rD(this.view,io.pan),new rU(this.view,io.zoom),new rj(this.view,io.rotate),o,new rE(this.view,"touch")],en.o.INTERNAL),this.view.viewEvents.connect(i),this._source=t,this._inputManager=i,this.addHandles([(0,P.wB)(()=>this.view?.navigation?.browserTouchPanEnabled,t=>{this._source&&(this._source.browserTouchPanningEnabled=!t)},P.Vh),(0,P.wB)(()=>{let{actionMap:t}=this.view.navigation;return{panActions:rT("pan",t),rotateActions:rT("rotate",t)}},({panActions:t,rotateActions:r})=>{s.pointerActions=t,o.pointerActions=r},P.pc)],ia)}get test(){}};(0,M._)([(0,S.MZ)()],il.prototype,"view",void 0),(0,M._)([(0,S.MZ)()],il.prototype,"latestPointerType",null),(0,M._)([(0,S.MZ)()],il.prototype,"latestPointerLocation",null),(0,M._)([(0,S.MZ)()],il.prototype,"multiTouchActive",null);let iu=il=(0,M._)([(0,x.$)("esri.views.2d.input.MapViewInputManager")],il),id=class extends W.A{constructor(){super(...arguments),this._timer=void 0}get stationary(){return!this._timer}flip(){this._timestamp=performance.now(),null==this._timer&&(this._timer=setInterval(()=>{performance.now()-this._timestamp>=160&&this.clear()},160))}clear(){this._timer&&(clearInterval(this._timer),this._timer=void 0)}};(0,M._)([(0,S.MZ)()],id.prototype,"_timer",void 0),(0,M._)([(0,S.MZ)()],id.prototype,"stationary",null),id=(0,M._)([(0,x.$)("esri.views.2d.support.StationaryManager")],id);let ic=t=>{let r=class extends t{constructor(...t){super(...t),this.fullOpacity=1,this.stateManager=new rM({constraints:new rv({view:this})}),this.goToManager=new ra({view:this}),this.stationaryManager=new id,this.mapViewNavigation=null,this.renderingOptions={samplingMode:"dynamic",edgeLabelsVisible:!1,labelsAnimationTime:0,labelCollisionsEnabled:!1},this.frameTask=new rn(this),this.inputManager=new iu({view:this}),this.viewEvents=new e6(this),this.padding={top:0,right:0,bottom:0,left:0},this.addHandles([(0,P.wB)(()=>this.viewpoint,()=>this.stationaryManager.flip(),P.OH),this.on("resize",t=>this.stateManager.resize(t.width,t.height))])}get constraintsInfo(){return{lods:null,spatialReference:null}}get extent(){return this.stateManager?.extent??null}set extent(t){this.stateManager.extent=t}get state(){return this.stateManager.state}get interacting(){return this.navigating}get stationary(){return!this.animation&&!this.navigating&&!this.resizing&&this.stationaryManager.stationary}set animation(t){let r=this._get("animation");if(t===r)return;if(r&&r.stop(),t!==this.animationManager.animation&&this.animationManager.stop(),!t||t.isFulfilled())return void this._set("animation",null);this._set("animation",t);let i=()=>{this.destroyed||t===this._get("animation")&&(this._set("animation",null),this.frameTask?.requestFrame())};t.when(i,i)}get constraints(){return this.stateManager?.constraints}set constraints(t){t.view=this;let r=this.stateManager.constraints;this.stateManager.constraints=t,r?.destroy()}get padding(){return this.stateManager?.padding}set padding(t){this.stateManager&&(this.stateManager.padding=t)}get resizeAlign(){return this.stateManager.resizeAlign}set resizeAlign(t){this.stateManager.resizeAlign=t}get rotation(){return this.stateManager.rotation??0}set rotation(t){let{rotationEnabled:r}=this.constraints;this.constraints.rotationEnabled=!0,this.stateManager.rotation=t,this.constraints.rotationEnabled=r}get viewpoint(){return this.stateManager.viewpoint??null}set viewpoint(t){this.stateManager.viewpoint=t,this.frameTask.requestFrame()}on(t,r,i,s){return this.inputManager&&this.viewEvents.on(t,r,i,s)||super.on(t,r)}hasEventListener(t){return super.hasEventListener(t)||this.viewEvents.hasHandler(t)}goTo(t,r){return this.goToManager.goTo(t,r)}};return(0,M._)([(0,S.MZ)({readOnly:!0})],r.prototype,"animationManager",void 0),(0,M._)([(0,S.MZ)({readOnly:!0})],r.prototype,"fullOpacity",void 0),(0,M._)([(0,S.MZ)()],r.prototype,"stateManager",void 0),(0,M._)([(0,S.MZ)()],r.prototype,"constraintsInfo",null),(0,M._)([(0,S.MZ)()],r.prototype,"extent",null),(0,M._)([(0,S.MZ)()],r.prototype,"goToManager",void 0),(0,M._)([(0,S.MZ)({readOnly:!0})],r.prototype,"state",null),(0,M._)([(0,S.MZ)({readOnly:!0})],r.prototype,"mapViewNavigation",void 0),(0,M._)([(0,S.MZ)()],r.prototype,"renderingOptions",void 0),(0,M._)([(0,S.MZ)({readOnly:!0})],r.prototype,"interacting",null),(0,M._)([(0,S.MZ)()],r.prototype,"stationary",null),(0,M._)([(0,S.MZ)()],r.prototype,"animation",null),(0,M._)([(0,S.MZ)({type:rv})],r.prototype,"constraints",null),(0,M._)([(0,S.MZ)({readOnly:!0})],r.prototype,"inputManager",void 0),(0,M._)([(0,S.MZ)()],r.prototype,"padding",null),(0,M._)([(0,S.MZ)()],r.prototype,"resizeAlign",null),(0,M._)([(0,S.MZ)()],r.prototype,"rotation",null),(0,M._)([(0,S.MZ)({readOnly:!0})],r.prototype,"viewEvents",void 0),(0,M._)([(0,S.MZ)({type:E.A})],r.prototype,"viewpoint",null),r=(0,M._)([(0,x.$)("esri.views.Viewport2DMixin")],r)};var ip=i(88937);class ih{constructor(t){this._view=t,this.viewpoint=new E.A({targetGeometry:new t8.A,scale:0,rotation:0})}get view(){return this._view}get size(){let[t,r]=this._view.size;return Math.sqrt(t*t+r*r)}get scale(){return this.viewpoint.scale}get rotation(){return this.viewpoint.rotation}get center(){return this.viewpoint.targetGeometry}get scaleToResolutionFactor(){return(0,tW.ri)(this.center.spatialReference)}pixelsPerPanAtZoom(t){return 1/(t*this.scaleToResolutionFactor)}zoomAtPixelsPerPan(t){return 1/(t*this.scaleToResolutionFactor)}pixelsPerRotate(){return this.size/2}compareTo(t,r){r.pan=(0,ip.Io)(this.center,t.center);let i=Math.abs(t.rotation-this.rotation);i=i>=180?360-i:i,r.rotate=(0,e2.kU)(i),r.sourceZoom=this.scale,r.targetZoom=t.scale}interpolate(t,r,i){let{pan:s,rotate:o,zoom:a,zoomOffset:u}=i,{center:d}=this;d.spatialReference=t.center.spatialReference,d.x=(0,e2.Cc)(t.center.x,r.center.x,s),d.y=(0,e2.Cc)(t.center.y,r.center.y,s),this.viewpoint.scale=(0,e2.Cc)(t.scale,r.scale+u,a);let c=t.rotation,p=r.rotation;Math.abs(p-c)>=180&&(c+=360*(c<p?1:-1)),this.viewpoint.rotation=(0,e2.Cc)(c,p,o)}copyFrom(t){(0,tW.C)(this.viewpoint,t.viewpoint),this._view=t.view}}var iy=i(49896);let im=t=>t*t,ig=t=>1-im(1-t),i_=t=>t*t*t,iv=t=>1-i_(1-t),iw=t=>t*t*t*t,ib=t=>1-iw(1-t),iM=t=>t*t*t*t*t,iS=t=>1-iM(1-t),iA=t=>1-Math.cos(t*Math.PI/2),iT=t=>1-iA(1-t),ix=t=>2**(10*(t-1)),iE=t=>1-ix(1-t),iI=t=>-(Math.sqrt(1-t*t)-1),iC=t=>1-iI(1-t);function iR(t){let r=2*(t-Math.sqrt((t-1)*t)),i=r/2/t;return s=>s<i?t*s*s:r*s-r+1}function iO(t,r){return(i,s)=>i<r?r*t(i/r,s):1-t((1-i)/(1-r),s)*(1-r)}let iP=iO(iR(1),1),iN=iO(iR(1),0),ik=iO(iR(1),.5),iL=iO(iR(2),1),iF=iO(iR(2),0),iZ=iO(iR(2),.5),iD=iO(iR(3),1),ij=iO(iR(3),0),iU=iO(iR(3),.5),iV=iO(iR(4),1),iz={linear:t=>t,"in-quad":im,"out-quad":ig,"in-out-quad":t=>t<.5?im(2*t)/2:(ig(2*(t-.5))+1)/2,"in-coast-quad":iP,"out-coast-quad":iN,"in-out-coast-quad":ik,"in-cubic":i_,"out-cubic":iv,"in-out-cubic":t=>t<.5?i_(2*t)/2:(iv(2*(t-.5))+1)/2,"in-coast-cubic":iL,"out-coast-cubic":iF,"in-out-coast-cubic":iZ,"in-quart":iw,"out-quart":ib,"in-out-quart":t=>t<.5?iw(2*t)/2:(ib(2*(t-.5))+1)/2,"in-coast-quart":iD,"out-coast-quart":ij,"in-out-coast-quart":iU,"in-quint":iM,"out-quint":iS,"in-out-quint":t=>t<.5?iM(2*t)/2:(iS(2*(t-.5))+1)/2,"in-coast-quint":iV,"out-coast-quint":iO(iR(4),0),"in-out-coast-quint":iO(iR(4),.5),"in-sine":iA,"out-sine":iT,"in-out-sine":t=>t<.5?iA(2*t)/2:(iT(2*(t-.5))+1)/2,"in-expo":ix,"out-expo":iE,"in-out-expo":t=>t<.5?ix(2*t)/2:(iE(2*(t-.5))+1)/2,"in-circ":iI,"out-circ":iC,"in-out-circ":t=>t<.5?iI(2*t)/2:(iC(2*(t-.5))+1)/2,ease:t=>iy.Z0.ease(t),"ease-in":t=>iy.Z0.easeIn(t),"ease-out":t=>iy.Z0.easeOut(t),"ease-in-out":t=>iy.Z0.easeInOut(t)};class iG{constructor(){this.pan=0,this.rotate=0,this.fov=0,this.sourceZoom=0,this.targetZoom=0}}let i$={desiredScreenFlow:2,minDuration:(0,r9.l5)(500),maxDuration:(0,r9.l5)(8e3)},iB={...i$,maxDuration:(0,r9.l5)(4e3)};class iq{constructor(t){this._createCamera=t,this.compared=new iG,this.segmentStart=0,this.segmentEnd=1,this.settings={desiredScreenFlow:i$.desiredScreenFlow},this.source=t(),this.target=t()}clone(){let t=new iq(this._createCamera);return t.copyFrom(this),t}copyFrom(t){this.update(t.source,t.target,t.settings)}update(t,r,i){this.source!==t&&this.source.copyFrom(t),this.target!==r&&this.target.copyFrom(r),this.source.compareTo(this.target,this.compared),this.settings.desiredScreenFlow=i.desiredScreenFlow??i$.desiredScreenFlow,this.desiredPixelFlow=this.settings.desiredScreenFlow*this.target.size,this.halfWindowSize=this.target.size/2}halfWindowPanAtZoom(t){let r=this.target.pixelsPerPanAtZoom(t);return this.halfWindowSize/r}get hasZoom(){return Math.abs(this.compared.sourceZoom-this.compared.targetZoom)>1e-5}get hasPan(){return this.compared.pan>(0,tK.FD)()}get hasFov(){return Math.abs(this.compared.fov)>(0,tK.FD)()}get hasRotate(){return this.compared.rotate>(0,tK.FD)()}}class iH{constructor(){this.pan=0,this.rotate=0,this.zoom=0,this.fov=0,this.zoomOffset=0}}let iW=class{constructor(){this.segments=[]}get time(){return this.segments.reduce((t,r)=>(0,r9.Kp)(t+r.time),(0,r9.Kp)(0))}interpolateComponentsAt(t,r){t=Math.min(Math.max(t,0),1)*this.time;let i=0,s=0,o=this.definition,a=this.segments.reduce((t,r)=>t||r.definition.hasZoom,!1);for(let u=0;u<this.segments.length;u++){let d=this.segments[u],c=d.definition;if(t<=d.time||u===this.segments.length-1){if(this.segmentInterpolateComponentsAt(d,0===d.time?0:t/d.time,r),o.hasPan&&!isNaN(r.pan)&&isFinite(o.compared.pan)?r.pan=(i+c.compared.pan*r.pan)/o.compared.pan:r.pan=1,o.hasRotate&&!isNaN(r.rotate)&&isFinite(o.compared.rotate)?r.rotate=(s+c.compared.rotate*r.rotate)/o.compared.rotate:r.rotate=1,a&&!isNaN(r.zoom)&&isFinite(c.compared.targetZoom)){let{sourceZoom:t,targetZoom:i}=c.compared,s=r.zoom*(i-t)+t,o=this.segments[0].definition.compared.sourceZoom,a=this.segments[this.segments.length-1].definition.compared.targetZoom,u=Math.abs(i-o)>Math.abs(t-o)?i:t;r.zoomOffset=u-a,r.zoom=(s-o)/(u-o)}else r.zoom=1;return r}t-=d.time,i+=c.compared.pan,s+=c.compared.rotate}}segmentInterpolateComponentsAt(t,r,i){t.interpolateComponentsAt(r,i)}};class iJ{get time(){return this._time}constructor(t){t&&this.update(t)}update(t){t&&(this.definition?this.definition.copyFrom(t):this.definition=t.clone()),this._updatePrecomputedVariables(),this._updatePixelFlow()}_updatePrecomputedVariables(){let t=this.definition,r=t.compared,i=r.sourceZoom,s=r.targetZoom;this._zoomSign=i>s?1:-1,this._panPixelsAtSource=r.pan*t.source.pixelsPerPanAtZoom(i);let o=(t.source.pixelsPerRotate()+t.target.pixelsPerRotate())/2;this._rotatePixels=r.rotate*o}_updatePixelFlow(){let t=this.definition.compared.sourceZoom,r=this.definition.compared.targetZoom,{hasZoom:i,hasPan:s,hasRotate:o}=this.definition,a=0,u=0;i&&(s&&(a=(r/t-1)/(-1/(this._zoomSign*this.definition.halfWindowSize)*Math.LN2*this._panPixelsAtSource)),o&&(u=this._zoomSign*(Math.log(t/r)/Math.LN2)*this.definition.halfWindowSize/this._rotatePixels)),this._zoomPixelFlow=0,this._panPixelFlow=0,this._rotatePixelFlow=0;let d=this.definition.desiredPixelFlow;if(i&&s&&o){let t=a+u+a*u;this._zoomPixelFlow=a*u/t*d,this._panPixelFlow=u/t*d,this._rotatePixelFlow=a/t*d}else if(i&&s){let t=1+a;this._zoomPixelFlow=a/t*d,this._panPixelFlow=1/t*d}else if(i&&o){let t=1+u;this._zoomPixelFlow=u/t*d,this._rotatePixelFlow=1/t*d}else if(s&&o){let t=this._panPixelsAtSource/this._rotatePixels,r=1+t;this._panPixelFlow=t/r*d,this._rotatePixelFlow=1/r*d}else s?this._panPixelFlow=d:i?this._zoomPixelFlow=d:o&&(this._rotatePixelFlow=d);if(this._time=(0,r9.Kp)(Math.max(this.rotateTime,this.zoomTime,this.panTime)),this.fovTime>this._time){let t=this.fovTime/this._time;this._time=this.fovTime,this._zoomPixelFlow/=t,this._panPixelFlow/=t,this._rotatePixelFlow/=t}}get rotateTime(){return this.definition.hasRotate?(0,r9.Kp)(this._rotatePixels/this._rotatePixelFlow):(0,r9.Kp)(0)}get zoomTime(){return this.definition.hasZoom?(0,r9.Kp)(this._zoomSign*(Math.log(this.definition.compared.sourceZoom/this.definition.compared.targetZoom)/Math.LN2)*this.definition.halfWindowSize/this._zoomPixelFlow):(0,r9.Kp)(0)}get fovTime(){return this.definition.hasFov?(0,r9.Kp)(Math.abs(this.definition.compared.fov)/iK):(0,r9.Kp)(0)}get panTime(){if(!this.definition.hasPan)return(0,r9.Kp)(0);if(this.definition.hasZoom){let t=-1/(this._zoomSign*this.definition.halfWindowSize)*Math.LN2,r=t*this._panPixelsAtSource;return(0,r9.Kp)(Math.log(r*(this._zoomPixelFlow/this._panPixelFlow)+1)/(t*this._zoomPixelFlow))}return(0,r9.Kp)(this._panPixelsAtSource/this._panPixelFlow)}_interpolateComponentsZoom(t){if(0===t||1===t)return t;if(this.definition.hasZoom){let r=this.definition.compared.sourceZoom,i=this.definition.compared.targetZoom;return(r*(r/i)**-t-r)/(i-r)}return t}_interpolateComponentsFov(t){if(0===t)return this.definition.segmentStart;if(1===t)return this.definition.segmentEnd;if(this.definition.hasFov){let{segmentStart:r,segmentEnd:i}=this.definition;return r+t*(i-r)}return this.definition.segmentStart}_interpolateComponentsPan(t){if(0===t||1===t)return t;if(this.definition.hasPan&&this.definition.hasZoom){let r=-1/(this._zoomSign*this.definition.halfWindowSize)*this._zoomPixelFlow;return 1/this._panPixelsAtSource*(this._panPixelFlow*(2**(r*t*this._time)-1))/(r*Math.LN2)}return t}_interpolateComponentsRotate(t){return t}interpolateComponentsAt(t,r){t=Math.min(Math.max(t,0),1),r.zoom=this._interpolateComponentsZoom(t),r.pan=this._interpolateComponentsPan(t),r.rotate=this._interpolateComponentsRotate(t),r.zoomOffset=0,r.fov=this._interpolateComponentsFov(t)}}let iK=(0,e2.kU)(45);function iY(t,r,i){let s=r-t.compared.sourceZoom,o=t.halfWindowPanAtZoom(s);return-t.halfWindowSize*(i.ascensionFactor*Math.LN2*t.compared.pan+o)*Math.log(t.compared.sourceZoom/r)/(t.desiredPixelFlow*Math.LN2*o)}function iX(t,r,i){let s=1/r,o=Math.log(t.compared.sourceZoom*s),a=1/t.desiredPixelFlow,u=1/Math.LN2,d=r-t.compared.sourceZoom,c=1/d,p=(i.ascensionFactor*Math.LN2*t.compared.pan+t.halfWindowPanAtZoom(d))/t.halfWindowPanAtZoom(1);return t.halfWindowSize*s*a*u*c*p-t.halfWindowSize*o*a*u*c+t.halfWindowSize*o*a*u*p/(d*d)}function iQ(t,r,i){let s=r-t.compared.sourceZoom,o=1/s,a=1/r,u=Math.log(t.compared.sourceZoom*a),d=(i.ascensionFactor*Math.LN2*t.compared.pan+t.halfWindowPanAtZoom(s))/t.halfWindowPanAtZoom(1);return t.halfWindowSize*o*(-2*o*a*d+2*o*u+2*a-2*u*d/(s*s)-d/(r*r))/(t.desiredPixelFlow*Math.LN2)}function i0(t,r){return-t.halfWindowSize*Math.log(t.compared.sourceZoom/r)/(t.desiredPixelFlow*Math.LN2)}function i1(t,r){return t.halfWindowSize/(r*t.desiredPixelFlow*Math.LN2)}function i2(t,r){return-t.halfWindowSize/(r*r*t.desiredPixelFlow*Math.LN2)}function i3(t,r,i){return t.halfWindowSize*(-t.halfWindowPanAtZoom(r)-i.descensionFactor*Math.LN2*t.compared.pan+t.halfWindowPanAtZoom(t.compared.targetZoom))*Math.log(r/t.compared.targetZoom)/(t.desiredPixelFlow*Math.LN2*t.halfWindowPanAtZoom(-r+t.compared.targetZoom))}function i8(t,r,i){let s=Math.log(r/t.compared.targetZoom),o=1/t.desiredPixelFlow,a=1/Math.LN2,u=-r+t.compared.targetZoom,d=1/u,c=(-t.halfWindowPanAtZoom(r)-i.descensionFactor*Math.LN2*t.compared.pan+t.halfWindowPanAtZoom(t.compared.targetZoom))/t.halfWindowPanAtZoom(1);return-t.halfWindowSize*s*o*a*d+t.halfWindowSize*s*o*a*c/(u*u)+t.halfWindowSize*o*a*d*c/r}function i5(t,r,i){let s=r-t.compared.targetZoom,o=1/s,a=1/r,u=Math.log(r/t.compared.targetZoom),d=(t.halfWindowPanAtZoom(r)+i.descensionFactor*Math.LN2*t.compared.pan-t.halfWindowPanAtZoom(t.compared.targetZoom))/t.halfWindowPanAtZoom(1);return t.halfWindowSize*o*(-2*o*a*d-2*o*u+2*a+2*u*d/(s*s)-d/(r*r))/(t.desiredPixelFlow*Math.LN2)}function i9(t,r){return t.halfWindowSize*Math.log(r/t.compared.targetZoom)/(t.desiredPixelFlow*Math.LN2)}function i6(t,r){return t.halfWindowSize/(r*t.desiredPixelFlow*Math.LN2)}function i4(t,r){return-t.halfWindowSize/(r*r*t.desiredPixelFlow*Math.LN2)}class i7 extends iW{constructor(t,r){super(),this._preallocSegments=[new iJ,new iJ,new iJ],this._ascensionSegment=null,this._descensionSegment=null,this.update(t,r)}update(t,r){if(!t)return;this.definition?this.definition.copyFrom(t):this.definition=t.clone();let i=r?.apex?function(t,r){let i,s=function(t,r){let i=Math.max(t.compared.sourceZoom,t.compared.targetZoom),s=t.source.zoomAtPixelsPerPan(t.desiredPixelFlow/t.compared.pan)/2;return s<i?null!=r.maximumDistance?i+(r.maximumDistance-i)/2:1.5*i:r.maximumDistance?Math.min(r.maximumDistance,s):s}(t,r),o={ascensionFactor:null!=r.ascensionFactor?r.ascensionFactor:.5,descensionFactor:null!=r.descensionFactor?r.descensionFactor:.5},a=0===o.ascensionFactor,u=0===o.descensionFactor,d=a?i0:iY,c=a?i1:iX,p=a?i2:iQ,h=u?i9:i3,f=u?i6:i8,y=u?i4:i5,m=r=>d(t,r,o)+-t.compared.pan*t.halfWindowSize*(o.ascensionFactor+o.descensionFactor-1)/(t.desiredPixelFlow*t.halfWindowPanAtZoom(r))+h(t,r,o),g=r=>c(t,r,o)+t.compared.pan*t.halfWindowSize*(o.ascensionFactor+o.descensionFactor-1)/(t.desiredPixelFlow*t.halfWindowPanAtZoom(r*r))+f(t,r,o),_=r=>p(t,r,o)+-2*t.compared.pan*t.halfWindowSize*(o.ascensionFactor+o.descensionFactor-1)/(t.desiredPixelFlow*t.halfWindowPanAtZoom(r*r*r))+y(t,r,o),v=m(s),w=function(t){let r=t.compared.sourceZoom-t.compared.targetZoom;if(0===r)return t.compared.pan*t.halfWindowSize/(t.desiredPixelFlow*t.halfWindowPanAtZoom(t.compared.sourceZoom));let i=Math.LN2*t.compared.pan,s=t.halfWindowPanAtZoom(r),o=t.halfWindowSize*Math.log(t.compared.sourceZoom/t.compared.targetZoom)/(t.desiredPixelFlow*Math.LN2*s);return t.compared.sourceZoom<=t.compared.targetZoom?o*(i-s):o*(i+s)}(t),b=r.maximumIterations||20,M=null!=r.maximumDistance?r.maximumDistance:1/0;for(i=0;i<b;i++){let i=r.desiredSlope??1e-6,o=g(s);Math.abs(o)>i&&(o+=i);let a=o/_(s);if(isNaN(a)||s>=M&&a<0){if(!isFinite(M))return null;v=m(s=M);break}if((s-=a)<t.compared.sourceZoom||s<t.compared.targetZoom)return null;let u=m(s);if(Math.abs(u-v)/v<=.005)break;v=u}return v>.7*w||s<t.compared.sourceZoom||s<t.compared.targetZoom?null:s}(t,r.apex):null;this.segments.length=0,this._ascensionSegment=null,this._descensionSegment=null,i?this._updateWithApex(i,r?.apex):this._updateWithoutApex()}segmentInterpolateComponentsAt(t,r,i){t.interpolateComponentsAt(r,i),t===this._ascensionSegment?i.zoom=ig(i.zoom):t===this._descensionSegment&&(i.zoom=im(i.zoom))}_updateWithApex(t,r){let[i,s,o]=this._preallocSegments,a=r?.ascensionFactor??.5,u=Math.min(1-a,null!=r?.ascensionFactor&&null!=r.descensionFactor?r.descensionFactor:.5),d=1-a-u;i.definition?i.definition.copyFrom(this.definition):i.definition=this.definition.clone(),i.definition.compared.targetZoom=t,i.definition.compared.pan=this.definition.compared.pan*a,i.definition.compared.rotate=this.definition.compared.rotate*a,i.definition.segmentEnd=a,i.update(),this._ascensionSegment=i,this.segments.push(i),d>0&&(s.definition?s.definition.copyFrom(this.definition):s.definition=this.definition.clone(),s.definition.copyFrom(this.definition),s.definition.compared.sourceZoom=t,s.definition.compared.targetZoom=t,s.definition.compared.pan=this.definition.compared.pan*d,s.definition.compared.rotate=this.definition.compared.rotate*d,s.definition.segmentStart=i.definition.segmentEnd,s.definition.segmentEnd=i.definition.segmentEnd+d,s.update(),this.segments.push(s)),o.definition?o.definition.copyFrom(this.definition):o.definition=this.definition.clone(),o.definition.compared.sourceZoom=t,o.definition.compared.pan=this.definition.compared.pan*u,o.definition.compared.rotate=this.definition.compared.rotate*u,o.definition.segmentStart=a+d,o.update(),this._descensionSegment=o,this.segments.push(o)}_updateWithoutApex(){let[t]=this._preallocSegments;t.update(this.definition),this.segments.push(t)}}let ne=new iH,nt=class{get time(){return this._time}get isLinear(){return 1===this.path.segments.length}constructor(t){this._time=(0,r9.l5)(0),this._easing=ik,this.definition=new iq(t),this.path=new i7}update(t,r,i){this.definition.update(t,r,i),this.path.update(this.definition,i),this._time=this._applyTimeSettings((0,r9.gr)(isFinite(this.path.time)?this.path.time:(0,r9.Kp)(0)),i),this._easing=i.easing??(this._time>=1e3?ik:iE)}cameraAt(t,r){t=Math.min(Math.max(0,t),1),t=this._normalizedEasing(t);let i=this.path.interpolateComponentsAt(t,ne);r.interpolate(this.definition.source,this.definition.target,i)}_normalizedEasing(t){let r=this._easing(0,this._time),i=this._easing(1,this._time);return(this._easing(t,this._time)-r)/(i-r)}_applyTimeSettings(t,r){let i=null!=r.speedFactor?r.speedFactor:1,s=r.minDuration??i$.minDuration/i,o=r.maxDuration??i$.maxDuration/i;return t=null!=r.duration?(0,r9.l5)(r.duration):(0,r9.l5)(Math.min(Math.max(t/i,s),o))}};class nr{constructor(t){this._view=t,this._animation=new nt(()=>new ih(this._view)),this._current=new ih(this._view)}get _source(){return this._animation.definition.source}get _target(){return this._animation.definition.target}get duration(){return this._animation.time}get animation(){return this._animation}update(t,r,i={}){(0,tW.C)(this._current.viewpoint,t),(0,tW.C)(this._source.viewpoint,t),(0,tW.C)(this._target.viewpoint,r),this._animation.update(this._source,this._target,i)}applyRatio(t,r){this._animation.cameraAt(r,this._current),(0,tW.C)(t,this._current.viewpoint)}}let ni=class extends W.A{constructor(t){super(t),this._animation=null,this._destinationViewState=new rt,this.updateFunction=null,this.easing=iz.ease,this.viewpoint=new E.A({targetGeometry:new t8.A,scale:0,rotation:0}),this._updateTask=(0,H.mg)({postRender:this._postRender.bind(this)}),this._updateTask.pause(),this._transition=new nr(t.view)}destroy(){this._updateTask=(0,O.xt)(this._updateTask)}get animation(){return this._animation}set animation(t){this._animation=t,this.view.animation=t}animate(t,r,i){this.stop();let s=this.viewpoint;(0,tW.C)(s,r);let o=t.target;this._transition.update(this.viewpoint,o,{apex:{maximumDistance:Math.min(64*Math.min(r.scale,o.scale),this.view.constraints.effectiveMinScale),desiredSlope:5e-8},duration:i?.duration,maxDuration:"auto"===i?.animationMode?(0,r9.l5)(1/0):i?.maxDuration??iB.maxDuration,speedFactor:i?.speedFactor,easing:("string"==typeof i?.easing?iz[i.easing]:i?.easing)||this.easing}),"auto"===i?.animationMode&&(this._destinationViewState.copy(this.view.state),this._destinationViewState.viewpoint=o,function(t,r,i,s){if(null!=r?.duration)return!0;let{time:o,isLinear:a}=t,u=r?.speedFactor||1;if(o>(r?.maxDuration??iB.maxDuration/u))return!1;if(a){let t=(0,tH.vt)(),r=(0,eL.tc)(...s.toScreen(t,...i.center)),a=(0,eL.tc)(...i.toScreen(t,...s.center)),d=null!=a&&a.x>-1*i.size[0]&&a.x<2*i.size[0]&&a.y>-1*i.size[1]&&a.y<2*i.size[1],c=null!=r&&r.x>-1*s.size[0]&&r.x<2*s.size[0]&&r.y>-1*s.size[1]&&r.y<2*s.size[1];if(o>2e3/u&&!d&&!c)return!1}return!0}(this._transition.animation,i,this.view.state,this._destinationViewState)||this._transition.update(this.viewpoint,o,{duration:(0,r9.l5)(0)}));let a=()=>{this.animation===t&&this._updateTask&&("finished"===t.state&&(this._transition.applyRatio(this.viewpoint,1),this.view.state&&(this.view.state.viewpoint=this.viewpoint.clone())),this.animation=null,this.updateFunction=null)};return t.when(a,a),this._startTime=performance.now(),this._updateTask.resume(),this.animation=t,t}animateContinuous(t,r){this.stop(),this.updateFunction=r,this.viewpoint=t;let i=new ro({target:t.clone()}),s=()=>{this.animation===i&&this._updateTask&&(this.animation=null,this.updateFunction=null)};return i.when(s,s),this._startTime=performance.now(),this._updateTask.resume(),this.animation=i,i}stop(){this.animation&&(this.animation.stop(),this.animation=null,this.updateFunction=null)}_postRender(t){let r=this.animation;if(r&&r.state!==ro.State.STOPPED){if(this.updateFunction)this.updateFunction(this.viewpoint,t.deltaTime),this.animation?.update(this.viewpoint);else{let t=performance.now()-this._startTime,r=this._transition.duration,i=r>0?t/r:1,s=i>=1;this._transition.applyRatio(this.viewpoint,i),s&&this.animation?.finish()}this.view.state&&(this.view.state.viewpoint=this.viewpoint.clone())}else this._updateTask.pause()}};(0,M._)([(0,S.MZ)()],ni.prototype,"easing",void 0),(0,M._)([(0,S.MZ)()],ni.prototype,"view",void 0),(0,M._)([(0,S.MZ)()],ni.prototype,"viewpoint",void 0);let nn=ni=(0,M._)([(0,x.$)("esri.views.2d.AnimationManager")],ni);function ns(){return Promise.all([Promise.all([i.e(9590),i.e(7337)]).then(i.bind(i,81732)),Promise.all([i.e(364),i.e(9590),i.e(4080),i.e(7970),i.e(8810),i.e(9210),i.e(5886),i.e(5123),i.e(5989),i.e(479),i.e(957),i.e(1083),i.e(1682),i.e(267),i.e(9243)]).then(i.bind(i,69243))])}let no=()=>ns().then(()=>Promise.all([i.e(3700),i.e(364),i.e(9590),i.e(4080),i.e(7970),i.e(8810),i.e(9210),i.e(5886),i.e(5123),i.e(5989),i.e(479),i.e(957),i.e(1083),i.e(1433),i.e(8176),i.e(6734)]).then(i.bind(i,56734))),na=()=>ns().then(()=>Promise.all([i.e(3700),i.e(364),i.e(9590),i.e(4080),i.e(8810),i.e(9210),i.e(5886),i.e(5123),i.e(6005),i.e(2235),i.e(7628)]).then(i.bind(i,57628))),nl={"base-dynamic":()=>ns().then(()=>Promise.all([i.e(3700),i.e(364),i.e(9590),i.e(4080),i.e(8810),i.e(9116)]).then(i.bind(i,69116))),"base-tile":no,"bing-maps":no,catalog:()=>ns().then(()=>Promise.all([i.e(3700),i.e(5107)]).then(i.bind(i,55107))),"catalog-dynamic-group":()=>ns().then(()=>Promise.all([i.e(3700),i.e(5229)]).then(i.bind(i,95229))),"catalog-footprint":()=>ns().then(()=>Promise.all([i.e(3700),i.e(364),i.e(9590),i.e(4080),i.e(8810),i.e(9210),i.e(5886),i.e(5123),i.e(6005),i.e(2235),i.e(7628),i.e(3650)]).then(i.bind(i,83650))),csv:na,"geo-rss":()=>ns().then(()=>Promise.all([i.e(3700),i.e(364),i.e(9590),i.e(4080),i.e(7970),i.e(8810),i.e(9210),i.e(5886),i.e(5123),i.e(5989),i.e(479),i.e(9295)]).then(i.bind(i,9295))),feature:na,geojson:na,parquet:na,graphics:()=>ns().then(()=>Promise.all([i.e(3700),i.e(364),i.e(9590),i.e(4080),i.e(7970),i.e(8810),i.e(9210),i.e(5886),i.e(5123),i.e(5989),i.e(479),i.e(877)]).then(i.bind(i,90877))),group:()=>ns().then(()=>Promise.all([i.e(3700),i.e(7912)]).then(i.bind(i,17912))),imagery:()=>ns().then(()=>Promise.all([i.e(3700),i.e(364),i.e(9590),i.e(4080),i.e(7970),i.e(8810),i.e(9210),i.e(5886),i.e(5123),i.e(5989),i.e(479),i.e(6098),i.e(1433),i.e(2493),i.e(5612)]).then(i.bind(i,95612))),"imagery-tile":()=>ns().then(()=>Promise.all([i.e(3700),i.e(364),i.e(9590),i.e(4080),i.e(6098),i.e(2493),i.e(9570)]).then(i.bind(i,27189))),kml:()=>ns().then(()=>Promise.all([i.e(3700),i.e(364),i.e(9590),i.e(4080),i.e(7970),i.e(8810),i.e(9210),i.e(5886),i.e(5123),i.e(5989),i.e(479),i.e(1682),i.e(1926)]).then(i.bind(i,2483))),"knowledge-graph":()=>ns().then(()=>Promise.all([i.e(3700),i.e(9750)]).then(i.bind(i,69750))),"link-chart":()=>ns().then(()=>Promise.all([i.e(3700),i.e(9750)]).then(i.bind(i,69750))),"knowledge-graph-sublayer":na,"map-image":()=>ns().then(()=>Promise.all([i.e(3700),i.e(364),i.e(9590),i.e(4080),i.e(7970),i.e(8810),i.e(9210),i.e(5886),i.e(5123),i.e(5989),i.e(479),i.e(1433),i.e(8176),i.e(3047)]).then(i.bind(i,63047))),"map-notes":()=>ns().then(()=>Promise.all([i.e(3700),i.e(364),i.e(9590),i.e(4080),i.e(7970),i.e(8810),i.e(9210),i.e(5886),i.e(5123),i.e(5989),i.e(479),i.e(2839)]).then(i.bind(i,62839))),media:()=>ns().then(()=>Promise.all([i.e(3700),i.e(364),i.e(9590),i.e(4080),i.e(7970),i.e(8810),i.e(9210),i.e(5886),i.e(5123),i.e(5989),i.e(479),i.e(957),i.e(1083),i.e(9448)]).then(i.bind(i,9448))),"ogc-feature":()=>ns().then(()=>Promise.all([i.e(3700),i.e(364),i.e(9590),i.e(4080),i.e(8810),i.e(9210),i.e(5886),i.e(5123),i.e(6005),i.e(2235),i.e(7628),i.e(6906)]).then(i.bind(i,96906))),"open-street-map":no,"oriented-imagery":na,route:()=>ns().then(()=>Promise.all([i.e(3700),i.e(364),i.e(9590),i.e(4080),i.e(7970),i.e(8810),i.e(9210),i.e(5886),i.e(5123),i.e(5989),i.e(479),i.e(8556),i.e(8937)]).then(i.bind(i,58937))),stream:()=>ns().then(()=>Promise.all([i.e(3700),i.e(364),i.e(9590),i.e(4080),i.e(8810),i.e(9210),i.e(5886),i.e(5123),i.e(6005),i.e(2235),i.e(7628),i.e(8816)]).then(i.bind(i,58816))),"subtype-group":()=>ns().then(()=>Promise.all([i.e(3700),i.e(364),i.e(9590),i.e(4080),i.e(8810),i.e(9210),i.e(5886),i.e(5123),i.e(6005),i.e(2235),i.e(7628),i.e(1793)]).then(i.bind(i,1793))),tile:no,"vector-tile":()=>ns().then(()=>Promise.all([i.e(3700),i.e(364),i.e(9590),i.e(4080),i.e(6840),i.e(4967)]).then(i.bind(i,24967))),video:()=>ns().then(()=>Promise.all([i.e(3700),i.e(364),i.e(9590),i.e(4080),i.e(7970),i.e(8810),i.e(9210),i.e(5886),i.e(5123),i.e(5989),i.e(479),i.e(8414)]).then(i.bind(i,88414))),wcs:()=>ns().then(()=>Promise.all([i.e(3700),i.e(364),i.e(9590),i.e(4080),i.e(6098),i.e(2493),i.e(9570)]).then(i.bind(i,27189))),"web-tile":no,wfs:na,wms:()=>ns().then(()=>Promise.all([i.e(3700),i.e(364),i.e(9590),i.e(4080),i.e(8810),i.e(4916)]).then(i.bind(i,4916))),wmts:()=>ns().then(()=>Promise.all([i.e(3700),i.e(364),i.e(9590),i.e(4080),i.e(8810),i.e(9637)]).then(i.bind(i,89637))),"line-of-sight":null,"base-elevation":null,"building-scene":null,dimension:null,elevation:null,"integrated-mesh":null,"integrated-mesh-3dtiles":null,"point-cloud":null,viewshed:null,voxel:null,scene:null,unknown:null,unsupported:null},nu={hasLayerViewModule:t=>null!=nl[t.type],importLayerView:t=>{let r=nl[t.type];if(null==r)throw function(t){let r=t.declaredClass?t.declaredClass.slice(t.declaredClass.lastIndexOf(".")+1):"Unknown",i=r.replaceAll(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();return new R.A(`${i}:view-not-supported`,`${r} is not supported in 2D`)}(t);return r(t)}};var nd=i(61849),nc=i(79378);i(88161),i(16643);var np=i(69288),nh=i(84766),nf=i(94740),ny=i(39137);let nm={added:[],removed:[]},ng=new Set,n_=new nc.A(0,0,0,0);class nv extends ep.A{constructor(t){super(),this._tiles=new Map,this._index=(0,np.r)(9,(0,A.A)("esri-csp-restrictions")?t=>({minX:t.bounds[0],minY:t.bounds[1],maxX:t.bounds[2],maxY:t.bounds[3]}):[".bounds[0]",".bounds[1]",".bounds[2]",".bounds[3]"]),this.tiles=[],this.tileScheme=t}destroy(){this.clear()}clear(){this.tiles.length=0,this._tiles.clear(),this._index.clear()}has(t){return this._tiles.has(t)}get(t){return this._tiles.get(t)}getIntersectingTiles(t){if(!t||0===(0,nh.VL)(t)||0===(0,nh.uJ)(t))return[];let r=function(t,r){let i=(0,ew.Vp)(r);if(!i)return null;let[s,o]=i.valid;return t[2]>o?[(0,nh.vt)([t[0],t[1],o,t[3]]),(0,nh.vt)([s,t[1],s+t[2]-o,t[3]])]:t[0]<s?[(0,nh.vt)([s,t[1],t[2],t[3]]),(0,nh.vt)([o-(s-t[0]),t[1],o,t[3]])]:null}(t,this.tileScheme.spatialReference);return null!=r?[...new Set([...this.boundsIntersections(r[0]),...this.boundsIntersections(r[1])])]:this.boundsIntersections(t)}boundsIntersections(t){return this._index.search({minX:t[0],minY:t[1],maxX:t[2],maxY:t[3]})}updateTiles(t){let r={added:[],removed:[]};for(let i of t.added)if(!this.has(i)){let t=new nf.F(this.tileScheme,i);this._tiles.set(i,t),this._index.insert(t),r.added.push(t)}for(let i of t.removed)if(this.has(i)){let t=this.get(i);this._tiles.delete(i),this._index.remove(t),r.removed.push(t)}this.tiles.length=0,this._tiles.forEach(t=>this.tiles.push(t)),(r.added.length||r.removed.length)&&this.emit("update",r)}setViewState(t){let r=this.tileScheme.getTileCoverage(t,0);if(!r)return;let{spans:i,lodInfo:s}=r,{level:o}=s;if(i.length>0)for(let{row:t,colFrom:r,colTo:a}of i)for(let i=r;i<=a;i++){let r=n_.set(o,t,s.normalizeCol(i),s.getWorldForColumn(i)).id;if(ng.add(r),!this.has(r)){let t=new nf.F(this.tileScheme,r);this._tiles.set(r,t),this._index.insert(t),this.tiles.push(t),nm.added.push(t)}}for(let t=this.tiles.length-1;t>=0;t--){let r=this.tiles[t];ng.has(r.id)||(this._tiles.delete(r.id),this.tiles.splice(t,1),this._index.remove(r),nm.removed.push(r))}(nm.added.length||nm.removed.length)&&this.emit("update",nm),ny.A.pool.release(r),ng.clear(),nm.added.length=0,nm.removed.length=0}}var nw=i(69931),nb=i(62160),nM=i(38992),nS=i(97135);async function nA(t,r,i){let s=(0,tn.FV)(r)?(0,tn.xB)(t,r):r;if(!t.ready||isNaN(s.x)||isNaN(s.y))return{screenPoint:s,results:[]};let o=new Set,a=new Set,u=!1,d=null,c=null;i?.include?nx(i.include,nT(t,t=>{o.add(t),nI(t,t=>a.add(t))},(t,r)=>{a.add(t),o.add(r)},t=>{d||(d=new Set),d.add(t)},t=>o.add(t),()=>u=!0)):(u=!0,(o=new Set(t.allLayerViews)).forEach(t=>{nI(t,t=>a.add(t))})),i?.exclude&&nx(i.exclude,nT(t,t=>{o.delete(t),nI(t,t=>a.delete(t))},t=>a.delete(t),t=>{c||(c=new Set),c.add(t)}));let p=t.toMap(s),h=t.allLayerViews.filter(r=>!r.suspended&&o.has(r)&&r.clips.every(r=>(0,nb.O)(t,r,s,p))).reverse(),f=[...u?t.graphicsView.hitTest(p).map(t=>({type:"graphic",graphic:t,layer:null,mapPoint:p})):[],...await Promise.all(h.map(t=>t.hitTest(p,s)).toArray())].filter(eD.Ru).flat().filter(eD.Ru);return f=f.filter(t=>"graphic"!==t.type||"subtype-group"!==t.layer?.type||a.has(t.graphic.layer)),d&&(f=f.filter(t=>!("graphic"in t)||!t.graphic||d?.has(nE(t.graphic)))),c&&(f=f.filter(t=>!("graphic"in t)||!t.graphic||!c?.has(nE(t.graphic)))),{screenPoint:s,results:f}}function nT(t,r,i,s,o,a){return u=>{if(u instanceof nS.A){if(u.layer===t)a?.();else{let r=t.allLayerViews.find(t=>t.layer===u.layer);r&&o?.(r)}s(nE(u))}else if("layer"in u&&"element"in u);else if("subtype-sublayer"===u.type){let r=t.allLayerViews.find(t=>t.layer===u.parent);r&&i(u,r)}else{let i=t.allLayerViews.find(t=>t.layer===u);i&&r(i)}}}function nx(t,r){if(t)if((0,ti.xZ)(t))for(let i of t)if((0,ti.xZ)(i))for(let t of i)r(t);else r(i);else r(t)}function nE(t){let r=t.getObjectId();return r?`${t.layer?.uid??t.sourceLayer?.uid??"MapView"}/${r}`:`"MapView/${t.uid}`}function nI({layer:t},r){"subtype-group"===t?.type&&t.sublayers.forEach(t=>{r(t)})}var nC=i(34271);let nR={flipY:!0,premultipliedAlpha:!0};async function nO(t,r){let i=await nN(t,r),{format:s,quality:o}=(0,nC.getFormatAndQuality)(r?.format,r?.quality);return(0,nC.encode)(i,{format:s,quality:o},nR)}async function nP(t,r){let i=await nN(t,r);return(0,nC.encodeData)(i,nR)}function nN(t,r){var i,s;let o=function(t,r,i,s){t.ignorePadding&&(s={left:0,right:0,top:0,bottom:0});let o=null;null!=t.width&&null!=t.height?o=[t.width,t.height]:null==t.width&&null!=t.height?o=[t.height,t.height]:null!=t.width&&null==t.height?o=[t.width,t.width]:null==t.width&&null==t.height&&(o=null);let a=i[0]-(s.left+s.right),u=i[1]-(s.top+s.bottom),d,c,p=t.area||{x:0,y:0,width:a,height:u};if(o){let t=o[0]/o[1];if(t>a/u){let r=p.width/t;p={x:p.x,y:Math.round(p.y+(p.height-r)/2),width:p.width,height:Math.round(r)}}else{let r=p.height*t;p={x:Math.round(p.x+(p.width-r)/2),y:p.y,width:Math.round(r),height:p.height}}}else o=[p.width,p.height];return o[0]>p.width?(d=Math.min(o[0]/p.width,r),c=o[0]/p.width/d):(d=1,c=o[0]/p.width),{cropArea:{x:Math.round((p.x+s.left)*d),y:Math.round((p.y+s.top)*d),width:Math.round(p.width*d),height:Math.round(p.height*d)},outputScale:c,resolutionScale:d}}(r||{},(i=t.stage,s=t.size,Math.min(4,(0,nC.getMaximumResolutionScale)(s,Math.min(4096,i.context.parameters.maxTextureSize)))),t.size,t.padding),a=function(t={},r){if(!t.layers)return;let i=[];return t.layers.forEach(t=>{let s=r.find(r=>r.layer.id===t.id);s?.container&&i.push(s.container)}),i}(r,t.allLayerViews);return t.stage.takeScreenshot(o,a,t.backgroundColor,r?.rotation)}var nk=i(31642),nL=i(2698);let nF={component:"esri-component"},nZ=class extends W.A{constructor(){super(...arguments),this.widget=null}destroy(){this.node=null,this.widget?.destroy()}get id(){return this._get("id")??this.widget?.id??this.node?.id}set id(t){this._set("id",t)}set node(t){let r=this._get("node");t!==r&&(t&&t.classList.add(nF.component),r&&r.classList.remove(nF.component),this._set("node",t))}castNode(t){return this.widget?.destroy(),t?"string"==typeof t||t&&"nodeType"in t?(this._set("widget",null),(0,$.$)(t)):(t&&"function"==typeof t.render&&!t.domNode&&(t.domNode=document.createElement("div")),this._set("widget",t),t.domNode):(this._set("widget",null),null)}};(0,M._)([(0,S.MZ)()],nZ.prototype,"id",null),(0,M._)([(0,S.MZ)()],nZ.prototype,"node",null),(0,M._)([(0,k.w)("node")],nZ.prototype,"castNode",null),(0,M._)([(0,S.MZ)({readOnly:!0})],nZ.prototype,"widget",void 0);let nD=nZ=(0,M._)([(0,x.$)("esri.views.ui.Component")],nZ);i(40970);var nj=i(62543),nU=i(41390),nV=i(28105);let nz={left:0,top:0,bottom:0,right:0},nG={bottom:30,top:15,right:15,left:15},n$="esri-ui",nB={ui:n$,corner:`${n$}-corner`,innerContainer:`${n$}-inner-container`,manualContainer:`${n$}-manual-container`,cornerContainer:`${n$}-corner-container`,topLeft:`${n$}-top-left`,topRight:`${n$}-top-right`,bottomLeft:`${n$}-bottom-left`,bottomRight:`${n$}-bottom-right`};function nq(t){return 0===t?"0":`${t}px`}function nH(t){let r="object"==typeof t&&null!==t&&Object.getPrototypeOf(t);return(null===r||r===Object.prototype)&&("component"in t||"index"in t||"position"in t)?t:null}function nW(t,{top:r,bottom:i,left:s,right:o}){t.style.top=r,t.style.bottom=i,t.style.left=s,t.style.right=o}let nJ=class extends ep.A.EventedAccessor{constructor(t){super(t),this._cornerNameToContainerLookup={},this._positionNameToContainerLookup={},this._components=[],this._componentMap=new Map,this._removeWidgetHandleKey=Symbol("componentOnRemoveSymbol"),this._locale=(0,nV.JK)(),this.view=null,this._applyViewPadding=()=>{let t=this.container;t&&nW(t,this._toPixelPosition(this._getViewPadding()))},this._applyUIPadding=()=>{let t=this._innerContainer;t&&nW(t,this._toPixelPosition(this.padding))},this._initContainers()}initialize(){this.addHandles([(0,P.wB)(()=>[this.view?.padding,this.container],this._applyViewPadding,P.Vh),(0,P.wB)(()=>this.padding,this._applyUIPadding,P.Vh),(0,P.wB)(()=>[this.container,this._locale],([t,r])=>{t&&t.setAttribute("lang",r)},P.Vh),(0,nV.oQ)(t=>{this._locale=t})])}destroy(){for(let t of(this.container=null,this._components))t.destroy();this._components.length=0,this._componentMap.clear()}set container(t){let r=this._get("container");t!==r&&(t&&(t.classList.add(nB.ui),(0,nj.hY)(t),this._attachContainers(t)),r&&(r.classList.remove(nB.ui),nW(r,{top:"",bottom:"",left:"",right:""}),r.textContent=""),this._set("container",t))}get height(){let t=this.view?.height??0;if(0===t)return t;let{top:r,bottom:i}=this._getViewPadding();return Math.max(t-r-i,0)}get padding(){return this._get("padding")}set padding(t){this._overrideIfSome("padding",t)}castPadding(t){return"number"==typeof t?{bottom:t,top:t,right:t,left:t}:{...nG,...t}}get width(){let t=this.view?.width??0;if(0===t)return t;let{left:r,right:i}=this._getViewPadding();return Math.max(t-r-i,0)}add(t,r){let i,s,o;if(Array.isArray(t))return void t.forEach(t=>this.add(t,r));let a=nH(t);a&&({index:i,position:r,component:t,key:s}=a),r&&"object"==typeof r&&({index:i,key:s,position:r,internal:o}=r),t&&(!r||this._isValidPosition(r))&&this._add(t,r,i,s,o)}remove(t,r){if(!t)return;if(Array.isArray(t))return t.map(t=>this.remove(t,r));let i=this._find(t);if(i){if(this._componentMap.has(i)&&this._componentMap.get(i)?.key!==r)return;let t=this._components.indexOf(i),s=i.node.parentNode;return s?.removeChild(i.node),this._componentMap.delete(i),i.widget?.removeHandlesReference(this._removeWidgetHandleKey),this._components.splice(t,1)[0]}}empty(t,r={removeInternal:!1}){if(Array.isArray(t)){for(let i of t)this.empty(i,r);return}let i=this._positionNameToContainerLookup[t??"manual"];for(let t of Array.prototype.slice.call(i.children).map(t=>this._findByNode(t)).filter(t=>null!=t&&(!this._componentMap.get(t)?.internal||r.removeInternal)))this.remove(t)}move(t,r){let i;if(Array.isArray(t)&&t.forEach(t=>this.move(t,r)),!t)return;let s=nH(t)||nH(r);if(s&&(i=s.index,r=s.position,t=s.component||t),r&&!this._isValidPosition(r))return;let o=this.remove(t);o&&this.add(o,{position:r,index:i})}find(t){if(!t)return null;let r=this._findById(t);return r&&(r.widget||r.node)}getComponents(t,r={includeInternal:!1}){return t?Array.isArray(t)?t.flatMap(t=>this._getComponentsAtPosition(t,r)):this._getComponentsAtPosition(t,r):this._components.filter(t=>r.includeInternal||!this._componentMap.get(t)?.internal).map(({widget:t,node:r})=>t??r)}getPosition(t){for(let r in this._positionNameToContainerLookup)if(this._positionNameToContainerLookup[r].contains(t))return r;return null}_add(t,r,i,s,o){t instanceof nD||(t=new nD({node:t}));let{widget:a}=t;null!=a&&a instanceof W.A&&a.addHandles((0,q.hA)(()=>{queueMicrotask(()=>this.remove(t))}),this._removeWidgetHandleKey),this._place({component:t,position:r,index:i}),this._components.push(t),this._componentMap.set(t,{key:s,internal:o})}_find(t){return t?t instanceof nD?this._findByComponent(t):"string"==typeof t?this._findById(t):this._findByNode(t.domNode||t):null}_getViewPadding(){return this.view?.padding??nz}_attachContainers(t){t.appendChild(this._innerContainer),t.appendChild(this._manualContainer)}_initContainers(){let t=document.createElement("div");t.classList.add(nB.innerContainer,nB.cornerContainer);let r=document.createElement("div");r.classList.add(nB.innerContainer,nB.manualContainer);let i=document.createElement("div");i.classList.add(nB.topLeft,nB.corner),t.appendChild(i);let s=document.createElement("div");s.classList.add(nB.topRight,nB.corner),t.appendChild(s);let o=document.createElement("div");o.classList.add(nB.bottomLeft,nB.corner),t.appendChild(o);let a=document.createElement("div");a.classList.add(nB.bottomRight,nB.corner),t.appendChild(a),this._innerContainer=t,this._manualContainer=r;let u=(0,nU.V8)();this._cornerNameToContainerLookup={"top-left":i,"top-right":s,"bottom-left":o,"bottom-right":a,"top-leading":u?s:i,"top-trailing":u?i:s,"bottom-leading":u?a:o,"bottom-trailing":u?o:a},this._positionNameToContainerLookup={manual:r,...this._cornerNameToContainerLookup}}_isValidPosition(t){return!!this._positionNameToContainerLookup[t]}_place(t){var r;let i=t.position??"manual",{component:s,index:o}=t,a=this._positionNameToContainerLookup[i];if((r=s.widget)&&!r._started&&"function"==typeof r.postMixInProperties&&"function"==typeof r.buildRendering&&"function"==typeof r.postCreate&&"function"==typeof r.startup&&s.widget.startup(),!(null!=o&&o>-1))return void a.appendChild(s.node);let u=Array.from(a.children);if(0===o){let{firstChild:t}=a;return void(t?t.parentNode?.insertBefore(s.node,t):a.appendChild(s.node))}if(o>=u.length)return void a.appendChild(s.node);let d=u[o];d.parentNode?.insertBefore(s.node,d)}_toPixelPosition(t){return{top:nq(t.top),left:nq(t.left),right:nq(t.right),bottom:nq(t.bottom)}}_findByComponent(t){return this._components.find(r=>r===t)??null}_findById(t){return this._components.find(({id:r})=>r===t)??null}_findByNode(t){return this._components.find(({node:r})=>r===t)??null}_getComponentsAtPosition(t,r){let i=this._positionNameToContainerLookup[t];return Array.prototype.slice.call(i.children).map(t=>this._findByNode(t)).filter(eD.Ru).filter(t=>r.includeInternal||!this._componentMap.get(t)?.internal).map(({widget:t,node:r})=>t??r)}};(0,M._)([(0,S.MZ)()],nJ.prototype,"_locale",void 0),(0,M._)([(0,S.MZ)()],nJ.prototype,"container",null),(0,M._)([(0,S.MZ)()],nJ.prototype,"height",null),(0,M._)([(0,S.MZ)({value:nG})],nJ.prototype,"padding",null),(0,M._)([(0,k.w)("padding")],nJ.prototype,"castPadding",null),(0,M._)([(0,S.MZ)()],nJ.prototype,"view",void 0),(0,M._)([(0,S.MZ)()],nJ.prototype,"width",null);let nK=nJ=(0,M._)([(0,x.$)("esri.views.ui.UI")],nJ);var nY=i(1455),nX=i(6322);let nQ=new Map;function n0(t,r){return t&&"copyright"in t&&(!r||"function"==typeof t.originOf&&"user"===t.originOf("copyright"))}function n1(t,r,i){i&&r&&(t.find(t=>t.layerView===r&&t.text===i)||t.push({text:i,layerView:r}))}let n2=[],n3=class extends W.A{constructor(t){super(t),this._clear=()=>{this._fetchedAttributionData.clear(),this._pendingAttributions.clear(),this.removeHandles("suspension"),this.notifyChange("state")},this._pendingAttributions=new Set,this._fetchedAttributionData=new Map,this.items=new I.A,this.view=null,this._allLayerViewsChange=t=>{this.removeHandles("suspension"),this.removeHandles("visible-geometry-changed");let r=this.view?.allLayerViews;r&&(this.addHandles(r.map(t=>(0,P.wB)(()=>[t.suspended,t.layer?.attributionVisible],()=>this._updateAttributionItems())).toArray(),"suspension"),r.forEach(t=>{"esri.views.3d.layers.Tiles3DLayerView3D"===t.declaredClass&&this.addHandles(t.on("visible-geometry-changed",()=>this._updateAttributionItems()),"visible-geometry-changed")})),t?.removed&&t.removed.forEach(t=>{this._pendingAttributions.delete(t),this._fetchedAttributionData.delete(t)}),this._updateAttributionItems()},this.addHandles([(0,P.on)(()=>this.view?.allLayerViews,"change",t=>this._allLayerViewsChange(t),{onListenerAdd:()=>this._allLayerViewsChange(),onListenerRemove:this._clear}),(0,P.z7)(()=>!0===this.view?.stationary,()=>this._updateAttributionItems())])}destroy(){this.view=null,this._fetchedAttributionData.clear(),this._pendingAttributions.clear(),this.items.removeAll()}get state(){return this.view?.ready?this._pendingAttributions.size>0?"loading":"ready":"disabled"}_updateAttributionItems(){var t,r;let i=this.view,s=i?.allLayerViews;if(n2.length=0,!i||!s)return void this._clear();s.forEach(t=>{if(t.suspended||!t.layer?.attributionVisible)return;let r=t.layer;if(n0(r,"user"))return void n1(n2,t,r.copyright);if(r.hasAttributionData){if(this._fetchedAttributionData.has(t)){let s=this._fetchedAttributionData.get(t);return void(s?n1(n2,t,this._getDynamicAttribution(s,i,r)):n0(r)&&n1(n2,t,r.copyright))}return void this._fetchAttributionData(t)}n1(n2,t,("portalItem"in r?r.portalItem?.accessInformation:void 0)||r.copyright)});let o=s.find(t=>"integrated-mesh-3dtiles"===t.layer?.type);if(this.view&&o){let r=(t=this.view,nQ.get(t));if(r){let t=r.getAttributionText();for(let r=0;r<t.length;++r)n1(n2,o,t[r])}}r=this.items,(r.length!==n2.length||r.some((t,r)=>t.text!==n2[r].text))&&(this.items.removeAll(),this.items.addMany(n2)),n2.length=0,this.notifyChange("state")}async _fetchAttributionData(t){if(this._pendingAttributions.has(t))return;this._pendingAttributions.add(t);let r=await (0,er.Ke)(t.layer.fetchAttributionData());if(this._pendingAttributions.has(t)){let i=r.ok?this._createContributionIndex(r.value,"bing-maps"===t.layer.type):null;this._pendingAttributions.delete(t),this._fetchedAttributionData.set(t,i)}this._updateAttributionItems()}_createContributionIndex(t,r){let i=t.contributors,s={};if(!i)return s;for(let t=0;t<i.length;t++){let o=i[t],a=o.coverageAreas;if(!a)return;for(let i of a){let a=i.bbox,u=i.zoomMin-(r&&i.zoomMin?1:0),d=i.zoomMax-(r&&i.zoomMax?1:0),c=new eg.A({xmin:a[1],ymin:a[0],xmax:a[3],ymax:a[2],spatialReference:ev.A.WGS84}),p={extent:(0,nX.Gh)(c),attribution:o.attribution||"",score:null!=i.score?i.score:100,id:t};for(let t=u;t<=d;t++)s[t]??=[],s[t].push(p)}}return s.maxKey=Math.max.apply(null,Object.keys(s)),s}_getDynamicAttribution(t,r,i){let{extent:s,scale:o}=r,a=i.tileInfo?.scaleToZoom(o)??0;if(a=Math.min(t.maxKey??0,Math.round(a)),!s||null==a||a<=-1)return"";let u=t[a],d=(0,nX.Cv)(s.center.clone().normalize(),ev.A.WebMercator),c=new Set;return u?u.filter(t=>{let r=t.id,i=!c.has(r)&&d&&t.extent&&(0,rd.qz)(t.extent,d);return i&&c.add(r),i}).sort((t,r)=>r.score-t.score||t.objectId-r.objectId).map(t=>t.attribution).join(", "):""}};(0,M._)([(0,S.MZ)({readOnly:!0,type:I.A})],n3.prototype,"items",void 0),(0,M._)([(0,S.MZ)({readOnly:!0})],n3.prototype,"state",null),(0,M._)([(0,S.MZ)()],n3.prototype,"view",void 0);let n8=n3=(0,M._)([(0,x.$)("esri.widgets.Attribution.AttributionViewModel")],n3);var n5=i(46595),n9=i(22164),n6=i(73225),n4=i(47642);let n7="esri-attribution",se={base:n7,poweredBy:`${n7}__powered-by`,sources:`${n7}__sources`,open:`${n7}--open`,sourcesOpen:`${n7}__sources--open`,link:`${n7}__link`},st=class extends nY.A{constructor(t,r){super(t,r),this._isOpen=!1,this._attributionTextOverflowed=!1,this._prevSourceNodeHeight=0,this._resizeObserver=new ResizeObserver(t=>t.forEach(({target:t})=>this._checkSourceTextOverflow(t))),this.itemDelimiter=" | ",this.messages=null,this.viewModel=new n8}initialize(){this.addHandles((0,P.on)(()=>this.viewModel?.items,"change",()=>this.scheduleRender()))}destroy(){this._resizeObserver?.disconnect()}get _isInteractive(){return this._isOpen||this._attributionTextOverflowed}get attributionText(){return this.viewModel.items.reduce((t,r)=>(t.includes(r.text)||t.push(r.text),t),[]).join(this.itemDelimiter)}get icon(){return"description"}set icon(t){this._overrideIfSome("icon",t)}get label(){return this.messages?.widgetLabel??""}set label(t){this._overrideIfSome("label",t)}get view(){return this.viewModel.view}set view(t){this.viewModel.view=t}render(){let t={[se.open]:this._isOpen};return(0,n4.K)("div",{bind:this,class:this.classes(se.base,n5.D.widget,t),dir:"ltr",onclick:this._toggleState,onkeydown:this._toggleState},this._renderSourcesNode(),this._renderPoweredBy())}_renderPoweredBy(){return(0,n4.K)("div",{class:se.poweredBy},"Powered by"," ",(0,n4.K)("a",{class:se.link,href:"https://www.esri.com/",rel:"noreferrer",target:"_blank"},"Esri"))}_renderSourcesNode(){let t=this._isOpen,r=this._isInteractive,{attributionText:i}=this,s={[se.sourcesOpen]:t,[n5.D.interactive]:r};return(0,n4.K)("div",{afterCreate:this._afterSourcesNodeCreate,bind:this,class:this.classes(se.sources,s),innerHTML:i,tabIndex:r?0:void 0})}_afterSourcesNodeCreate(t){this._prevSourceNodeHeight=t.clientWidth,this._resizeObserver.observe(t)}_checkSourceTextOverflow(t){let r=!1,{clientHeight:i,clientWidth:s,scrollWidth:o}=t,a=o>s,u=this._attributionTextOverflowed!==a;if(this._attributionTextOverflowed=a,u&&(r=!0),this._isOpen){let t=i<this._prevSourceNodeHeight;this._prevSourceNodeHeight=i,t&&(this._isOpen=!1,r=!0)}r&&this.scheduleRender()}_toggleState(){this._isInteractive&&(this._isOpen=!this._isOpen)}};(0,M._)([(0,S.MZ)()],st.prototype,"_isOpen",void 0),(0,M._)([(0,S.MZ)()],st.prototype,"_isInteractive",null),(0,M._)([(0,S.MZ)()],st.prototype,"_attributionTextOverflowed",void 0),(0,M._)([(0,S.MZ)()],st.prototype,"_prevSourceNodeHeight",void 0),(0,M._)([(0,S.MZ)({readOnly:!0,dependsOn:["viewModel.items.length","itemDelimiter"]})],st.prototype,"attributionText",null),(0,M._)([(0,S.MZ)()],st.prototype,"icon",null),(0,M._)([(0,S.MZ)()],st.prototype,"itemDelimiter",void 0),(0,M._)([(0,S.MZ)()],st.prototype,"label",null),(0,M._)([(0,S.MZ)(),(0,n6.G)("esri/widgets/Attribution/t9n/Attribution")],st.prototype,"messages",void 0),(0,M._)([(0,S.MZ)()],st.prototype,"view",null),(0,M._)([(0,S.MZ)({type:n8})],st.prototype,"viewModel",void 0),(0,M._)([(0,n9.$)()],st.prototype,"_toggleState",null);let sr=st=(0,M._)([(0,x.$)("esri.widgets.Attribution")],st);var si=i(91184),sn=i(65628);let ss=class extends(0,sn.A)(W.A){constructor(t){super(t),this.orientation={x:0,y:0,z:0},this.view=null,this._updateForCamera=this._updateForCamera.bind(this),this._updateForRotation=this._updateForRotation.bind(this),this._updateRotationWatcher=this._updateRotationWatcher.bind(this)}initialize(){this._watchForView(P.Vh)}destroy(){this.view=null}get canShowNorth(){var t;return t=this.view,t?.spatialReference?.isWebMercator||t?.spatialReference?.isGeographic||!1}get state(){return this.view?.ready&&("2d"!==this.view.type||this.view.constraints.rotationEnabled)?this.canShowNorth?"compass":"rotation":"disabled"}reset(){this.view?.ready&&("2d"===this.view?.type?this.callGoTo({target:{rotation:0},options:{animationMode:"always",duration:(0,si.s)()}}):this.callGoTo({target:{heading:0}}))}_updateForRotation(t){null!=t&&this._set("orientation",{z:t})}_updateForCamera(t){if(!t)return;let r=-t.heading;this._set("orientation",{x:0,y:0,z:r})}_updateRotationWatcher(t){this.removeAllHandles(),this._watchForView(),t&&this.addHandles("2d"===t.type?(0,P.wB)(()=>t?.rotation,this._updateForRotation,P.Vh):(0,P.wB)(()=>t?.camera,this._updateForCamera,P.Vh))}_watchForView(t){this.addHandles((0,P.wB)(()=>this.view,this._updateRotationWatcher,t))}};(0,M._)([(0,S.MZ)({readOnly:!0})],ss.prototype,"canShowNorth",null),(0,M._)([(0,S.MZ)({readOnly:!0})],ss.prototype,"orientation",void 0),(0,M._)([(0,S.MZ)({readOnly:!0})],ss.prototype,"state",null),(0,M._)([(0,S.MZ)()],ss.prototype,"view",void 0);let so=ss=(0,M._)([(0,x.$)("esri.widgets.Compass.CompassViewModel")],ss),sa="esri-compass",sl={base:sa,iconContainer:`${sa}__icon-container`};var su=i(23716);let sd=class extends nY.A{constructor(t,r){super(t,r),this.messages=null,this.viewModel=new so,this._reset=()=>{this.viewModel.reset()},this._toRotationTransform=t=>({transform:`rotateZ(${t.z}deg)`})}loadDependencies(){return(0,su.W)({button:()=>Promise.all([i.e(5082),i.e(814)]).then(i.bind(i,70814)),icon:()=>i.e(2461).then(i.bind(i,52461))})}get goToOverride(){return this.viewModel.goToOverride}set goToOverride(t){this.viewModel.goToOverride=t}get icon(){return"rotation"===this.viewModel.state?"arrow-up":"compass-needle"}set icon(t){this._overrideIfSome("icon",t)}get label(){return this.messages?.widgetLabel??""}set label(t){this._overrideIfSome("label",t)}get view(){return this.viewModel.view}set view(t){this.viewModel.view=t}reset(){return this.viewModel.reset()}render(){let{orientation:t,state:r}=this.viewModel,{messages:i}=this;return(0,n4.K)("div",{class:this.classes(sl.base,n5.D.widget)},(0,n4.K)("calcite-button",{class:n5.D.widgetButton,disabled:"disabled"===r,kind:"neutral",label:i.reset,onclick:this._reset,round:!0,scale:"s",title:i.reset},(0,n4.K)("div",{"aria-hidden":"true",class:sl.iconContainer,title:i.reset},(0,n4.K)("calcite-icon",{icon:this.icon,styles:this._toRotationTransform(t)}))))}};(0,M._)([(0,S.MZ)()],sd.prototype,"goToOverride",null),(0,M._)([(0,S.MZ)()],sd.prototype,"icon",null),(0,M._)([(0,S.MZ)()],sd.prototype,"label",null),(0,M._)([(0,S.MZ)(),(0,n6.G)("esri/widgets/Compass/t9n/Compass")],sd.prototype,"messages",void 0),(0,M._)([(0,S.MZ)()],sd.prototype,"view",null),(0,M._)([(0,S.MZ)({type:so})],sd.prototype,"viewModel",void 0);let sc=sd=(0,M._)([(0,x.$)("esri.widgets.Compass")],sd),sp="esri-navigation-toggle",sh={base:sp,isLayoutHorizontal:`${sp}--horizontal`},sf=class extends W.A{constructor(t){super(t),this._navigationMode="pan",this.view=null}initialize(){this.addHandles((0,P.z7)(()=>this.view?.navigation?.actionMap,()=>this._updateNavigationActionMap()))}destroy(){this.view=null}get state(){return this.view?.ready&&"3d"===this.view?.type?"ready":"disabled"}get navigationMode(){return this._navigationMode}set navigationMode(t){this._navigationMode=t,this._updateNavigationActionMap()}toggle(){"disabled"!==this.state&&(this.navigationMode="pan"!==this.navigationMode?"pan":"rotate")}_updateNavigationActionMap(){let t=this.view?.navigation?.actionMap;if(!t)return;let r="pan"===this._navigationMode;t.dragPrimary=r?"pan":"rotate",t.dragSecondary=r?"rotate":"pan"}};(0,M._)([(0,S.MZ)({readOnly:!0})],sf.prototype,"state",null),(0,M._)([(0,S.MZ)()],sf.prototype,"_navigationMode",void 0),(0,M._)([(0,S.MZ)()],sf.prototype,"view",void 0);let sy=sf=(0,M._)([(0,x.$)("esri.widgets.NavigationToggle.NavigationToggleViewModel")],sf),sm=class extends nY.A{constructor(t,r){super(t,r),this.messages=null,this.viewModel=new sy,this.toggle=()=>this.viewModel.toggle(),this._panButton=null,this._rotateButton=null,this._toggle=()=>{let t="pan"===this.viewModel?.navigationMode?this._rotateButton:this._panButton;(0,nU.Z6)(t),this.toggle()}}loadDependencies(){return(0,su.W)({button:()=>Promise.all([i.e(5082),i.e(814)]).then(i.bind(i,70814))})}get icon(){return"move"}set icon(t){this._overrideIfSome("icon",t)}get label(){return this.messages?.widgetLabel??""}set label(t){this._overrideIfSome("label",t)}set layout(t){"horizontal"!==t&&(t="vertical"),this._set("layout",t)}get view(){return this.viewModel.view}set view(t){this.viewModel.view=t}render(){let t="disabled"===this.viewModel?.state,r="pan"===this.viewModel?.navigationMode,i=this.messages.toggle;return(0,n4.K)("div",{class:this.classes(sh.base,n5.D.widget,{[sh.isLayoutHorizontal]:"horizontal"===this.layout})},(0,n4.K)("calcite-button",{afterCreate:t=>{this._panButton=t},appearance:r?"outline-fill":"solid",class:n5.D.widgetButton,disabled:t,iconStart:"move",kind:"neutral",label:i,onclick:this._toggle,tabIndex:r?void 0:-1,title:i}),(0,n4.K)("calcite-button",{afterCreate:t=>{this._rotateButton=t},appearance:r?"solid":"outline-fill",class:n5.D.widgetButton,disabled:t,iconStart:"rotate",kind:"neutral",label:i,onclick:this._toggle,tabIndex:r?-1:void 0,title:i}))}};(0,M._)([(0,S.MZ)()],sm.prototype,"icon",null),(0,M._)([(0,S.MZ)()],sm.prototype,"label",null),(0,M._)([(0,S.MZ)({value:"vertical"})],sm.prototype,"layout",null),(0,M._)([(0,S.MZ)(),(0,n6.G)("esri/widgets/NavigationToggle/t9n/NavigationToggle")],sm.prototype,"messages",void 0),(0,M._)([(0,S.MZ)()],sm.prototype,"view",null),(0,M._)([(0,S.MZ)({type:sy})],sm.prototype,"viewModel",void 0);let sg=sm=(0,M._)([(0,x.$)("esri.widgets.NavigationToggle")],sm),s_=class extends W.A{get canZoomIn(){if(!this.view?.ready)return!1;let t=this.view?.constraints?.effectiveMaxScale;return 0===t||this._scale>t}get canZoomOut(){let{view:t}=this;if(!t?.ready)return!1;let r=t.constraints?.effectiveMinScale;return 0===r||this._scale<r}get _scale(){let t=this.view?.animation?.target;return(t&&"then"in t?void 0:t?.scale)??this.view?.scale??0}};(0,M._)([(0,S.MZ)({readOnly:!0})],s_.prototype,"canZoomIn",null),(0,M._)([(0,S.MZ)({readOnly:!0})],s_.prototype,"canZoomOut",null),(0,M._)([(0,S.MZ)()],s_.prototype,"view",void 0),(0,M._)([(0,S.MZ)()],s_.prototype,"_scale",null);let sv=s_=(0,M._)([(0,x.$)("esri.widgets.Zoom.ZoomConditions2D")],s_),sw=class extends W.A{get canZoomIn(){return!!this.view.ready}get canZoomOut(){return!!this.view.ready}};(0,M._)([(0,S.MZ)({readOnly:!0})],sw.prototype,"canZoomIn",null),(0,M._)([(0,S.MZ)({readOnly:!0})],sw.prototype,"canZoomOut",null),(0,M._)([(0,S.MZ)()],sw.prototype,"view",void 0);let sb=sw=(0,M._)([(0,x.$)("esri.widgets.Zoom.ZoomConditions3D")],sw),sM=class extends W.A{constructor(t){super(t)}destroy(){this.view=null}get canZoomIn(){return null!=this._zoomConditions&&this._zoomConditions.canZoomIn}get canZoomOut(){return null!=this._zoomConditions&&this._zoomConditions?.canZoomOut}get state(){return this.view?.ready?"ready":"disabled"}set view(t){t?"2d"===t.type?this._zoomConditions=new sv({view:t}):"3d"===t.type&&(this._zoomConditions=new sb({view:t})):this._zoomConditions=null,this._set("view",t)}zoomIn(){let t=this.view;this.canZoomIn&&t&&("2d"===t.type?t.mapViewNavigation.zoomIn():(0,ei.QZ)(t.goTo({zoomFactor:2})))}zoomOut(){let t=this.view;this.canZoomOut&&t&&("2d"===t.type?t.mapViewNavigation.zoomOut():(0,ei.QZ)(t.goTo({zoomFactor:.5})))}};(0,M._)([(0,S.MZ)()],sM.prototype,"_zoomConditions",void 0),(0,M._)([(0,S.MZ)()],sM.prototype,"canZoomIn",null),(0,M._)([(0,S.MZ)()],sM.prototype,"canZoomOut",null),(0,M._)([(0,S.MZ)({readOnly:!0})],sM.prototype,"state",null),(0,M._)([(0,S.MZ)()],sM.prototype,"view",null);let sS=sM=(0,M._)([(0,x.$)("esri.widgets.Zoom.ZoomViewModel")],sM),sA={base:"esri-zoom",horizontalLayout:"esri-zoom--horizontal"},sT=class extends nY.A{constructor(t,r){super(t,r),this.messages=null,this.viewModel=new sS,this.zoomIn=()=>this.viewModel.zoomIn(),this.zoomOut=()=>this.viewModel.zoomOut()}loadDependencies(){return(0,su.W)({button:()=>Promise.all([i.e(5082),i.e(814)]).then(i.bind(i,70814))})}get icon(){return"magnifying-glass-plus"}set icon(t){this._overrideIfSome("icon",t)}get label(){return this.messages?.widgetLabel??""}set label(t){this._overrideIfSome("label",t)}set layout(t){"horizontal"!==t&&(t="vertical"),this._set("layout",t)}set view(t){this.viewModel.view=t}get view(){return this.viewModel.view}render(){let t={[sA.horizontalLayout]:"horizontal"===this.layout},{canZoomIn:r,canZoomOut:i}=this.viewModel,{zoomIn:s,zoomOut:o}=this.messages;return(0,n4.K)("div",{class:this.classes(sA.base,n5.D.widget,t)},(0,n4.K)("calcite-button",{class:n5.D.widgetButton,disabled:!r,iconStart:"plus",kind:"neutral",label:s,onclick:this.zoomIn,title:s}),(0,n4.K)("calcite-button",{class:n5.D.widgetButton,disabled:!i,iconStart:"minus",kind:"neutral",label:o,onclick:this.zoomOut,title:o}))}};(0,M._)([(0,S.MZ)()],sT.prototype,"icon",null),(0,M._)([(0,S.MZ)()],sT.prototype,"label",null),(0,M._)([(0,S.MZ)({value:"vertical"})],sT.prototype,"layout",null),(0,M._)([(0,S.MZ)(),(0,n6.G)("esri/widgets/Zoom/t9n/Zoom")],sT.prototype,"messages",void 0),(0,M._)([(0,S.MZ)()],sT.prototype,"view",null),(0,M._)([(0,S.MZ)({type:sS})],sT.prototype,"viewModel",void 0);let sx=sT=(0,M._)([(0,x.$)("esri.widgets.Zoom")],sT),sE=class extends nK{constructor(t){super(t),this._defaultPositionLookup={attribution:"manual",compass:"top-left","navigation-toggle":"top-left",zoom:"top-left"},this.components=[],this._updateViewAwareWidgets=t=>{this.components.forEach(r=>{let i=this._find(r),s=i?.widget;void 0!==s?.view&&(s.view=t)})},this._componentsWatcher=(t,r)=>{this._removeComponents(r),this._addComponents(t),this._adjustPadding(t)}}initialize(){this.addHandles([(0,P.wB)(()=>this.components,this._componentsWatcher,P.Vh),(0,P.wB)(()=>this.view,this._updateViewAwareWidgets,P.Vh)])}_add(t,r,i,s,o){let a=t;if("string"==typeof t&&this._defaultPositionLookup[t]){if(this._find(t))return;a=this._createComponent(t)}super._add(a,r,i,s,o)}_removeComponents(t){t.forEach(t=>{let r=this._find(t);r&&(this.remove(r),r.destroy())})}_adjustPadding(t){if(!t.includes("attribution")&&!this._isOverridden("padding")){let{top:t}=this.padding;this.padding=t}}_addComponents(t){this.constructed&&t.forEach(t=>this.add(this._createComponent(t),this._defaultPositionLookup[t]))}_createComponent(t){let r=this._createWidget(t);return new nD({id:t,node:r})}_createWidget(t){let r=this.view;switch(t){case"attribution":return new sr({view:r});case"compass":return new sc({view:r});case"navigation-toggle":return new sg({view:r});case"zoom":return new sx({view:r})}}};(0,M._)([(0,S.MZ)()],sE.prototype,"components",void 0);let sI=sE=(0,M._)([(0,x.$)("esri.views.ui.DefaultUI")],sE),sC=class extends sI{constructor(t){super(t),this.components=["attribution","zoom"]}};(0,M._)([(0,S.MZ)()],sC.prototype,"components",void 0);let sR=sC=(0,M._)([(0,x.$)("esri.views.ui.2d.DefaultUI2D")],sC);var sO=i(24927),sP=i(75998);async function sN(){let[,{GraphicsView2D:t,GraphicContainer:r,LabelManager:h,MapViewNavigation:f,MagnifierView2D:y,GridView2D:m,Stage:g}]=await Promise.all([Promise.all([i.e(9590),i.e(7337)]).then(i.bind(i,81732)),Promise.all([i.e(364),i.e(9590),i.e(4080),i.e(7970),i.e(8810),i.e(9210),i.e(5886),i.e(5123),i.e(5989),i.e(479),i.e(957),i.e(1083),i.e(1682),i.e(267),i.e(9243)]).then(i.bind(i,69243))]);o=t,a=r,u=h,d=f,c=y,p=m,s=g}let sk=class extends ic(G(ea(et(t$)))){constructor(t){super(t),this._magnifierView=null,this._gridView=null,this.stage=null,this._resolveWhenReady=[],this.rootLayerViews=new C.A({getCollections:()=>[this.basemapView?.baseLayerViews,this.layerViews,this.basemapView?.referenceLayerViews],getChildrenFunction:()=>null}),this.featuresTilingScheme=null,this.graphicsView=null,this.labelManager=null,this.navigation=new tO({actionMap:new tE({dragTertiary:"none"})}),this.renderingOptions={samplingMode:"dynamic",edgeLabelsVisible:!0,labelsAnimationTime:125,labelCollisionsEnabled:!0},this.supersampleScreenshotsEnabled=!0,this.supportsGround=!1,this.floors=new I.A,this.grid=null,this.map=null,this.spatialReferenceLocked=!1,this.timeline=new nk.K,this.type="2d",this.view2dType=null,this.ui=new sR,this.test={takeScreenshot:async t=>nP(this._getScreenshotView(t),t)},this.padding={top:0,right:0,bottom:0,left:0},(0,N.n_)()}destroy(){this.layerViewManager.clear(),this._set("preconditionsReady",!1),this.frameTask=(0,O.pR)(this.frameTask),this.goToManager.destroy(),this.rootLayerViews.destroy(),this.inputManager.destroy(),this._set("inputManager",null)}get graphicsTileStore(){return new nv(this.featuresTilingScheme)}get constraintsInfo(){let t=this.defaultsFromMap?.tileInfo,r=this.spatialReference;return{lods:t?.spatialReference?.equals(r)?t.lods:null,spatialReference:r}}get initialExtentRequired(){if(!this.stateManager)return!1;let{scale:t,constraints:r,center:i,viewpoint:s,extent:o}=this,a=this.zoom;return!(this.map&&"initialViewProperties"in this.map&&this.map.initialViewProperties?.viewpoint)&&!o&&(r?.effectiveLODs||(a=-1),(!i||0===t&&-1===a)&&(null==s?.targetGeometry||"extent"!==s.targetGeometry.type&&!s.scale))}get defaultsFromMapSettings(){return{required:{extent:!1,heightModelInfo:!1,tileInfo:!0},requiresExtentInSpatialReference:this.spatialReferenceLocked}}get scheduler(){return this.frameTask.scheduler}get typeSpecificPreconditionsReady(){let t=this._getDefaultViewpoint();if(!t)return!1;let r=t.targetGeometry,i=this.spatialReference;return(0,Z.isLoadedOrLoadFor)(r.spatialReference,i)}get background(){return(0,sO.r)(this.map)?this.map.initialViewProperties.background:null}set background(t){this._override("background",t)}get center(){return this.stateManager?.center??null}set center(t){this.stateManager.center=t}get highlightOptions(){return(0,nM.a)(this)}set highlightOptions(t){(0,nM.o)(this,t)}get padding(){return this.stateManager?.padding}set padding(t){this.stateManager&&(this.stateManager.padding=t)}get rendering(){return this.stage?.renderRequested??!1}get resolution(){return this.stateManager.resolution??0}get scale(){return this.stateManager?.scale??0}set scale(t){this.stateManager&&(this.stateManager.scale=t)}get tileInfo(){return this.featuresTilingScheme?.tileInfo}get updating(){let t=!(!this.magnifier.visible||null===this.magnifier.position||!this._magnifierView?.updatingHandles.updating),r=!this.destroyed&&(!this.layerViewManager||!this.labelManager||!this.graphicsView||!0===this.layerViewManager.updating||!0===this.labelManager.updating||!0===this.graphicsView.updating||this.allLayerViews.some(t=>!t.destroyed&&!("layerViews"in t)&&!0===t.updating)||t);if((0,A.A)("esri-2d-log-updating")){let i=this.allLayerViews.reduce((t,r)=>({...t,[`${r.layer.id}(${r.layer.type})`]:!r.destroyed&&!("layerViews"in r)&&r.updating}),{});console.log(`Updating MapView: ${r}
-> Null LayerViewManager: ${!this.layerViewManager}
-> Null LabelManager: ${!this.labelManager}
-> Null GraphicsView: ${!this.graphicsView}
-> layerViewManager.updating: ${this.layerViewManager?.updating}
-> labelManager.updating: ${this.labelManager?.updating}
-> graphicsView.updating: ${this.graphicsView?.updating}
-> allLayerViews: ${JSON.stringify(i)}
-> updatingMagnifier: ${t}
`)}return r}get visibleArea(){let t=this.stateManager.visibleArea;return t?new F.A({rings:[t.map(t=>[t[0],t[1]])],spatialReference:this.spatialReference}):t}get zoom(){return this.stateManager.zoom??-1}set zoom(t){this.stateManager.zoom=t}get navigating(){return this.mapViewNavigation?.interacting??!1}async hitTest(t,r){return nA(this,t,r)}async takeScreenshot(t){return nO(this._getScreenshotView(t),t)}toMap(t){if(!this.ready)return null;let r=(0,tn.FV)(t)?(0,tn.xB)(this,t):t;return this.stateManager.toMap(r)}toScreen(t,r){return this.stateManager.toScreen(t,r)}whenLayerView(t){return super.whenLayerView(t)}graphicChanged(t){this.graphicsView&&this.graphicsView.graphicUpdateHandler(t)}whenReady(){return new Promise(t=>{this.ready?t(this):this._resolveWhenReady.push(t)})}forceDOMReadyCycle(){this.forceReadyCycle()}getDefaultSpatialReference(){return this.map&&"initialViewProperties"in this.map&&this.map.initialViewProperties.spatialReference||this.defaultsFromMap?.spatialReference||null}getDefaultTimeZone(){return(0,sO.r)(this.map)?this.map.initialViewProperties.timeZone:null}getDefaultTimeExtent(){return(0,sO.r)(this.map)?this.map.initialViewProperties.timeExtent:null}hasLayerViewModule(t){return nu.hasLayerViewModule(t)}importLayerView(t){return nu.importLayerView(t)}pixelSizeAt(){return this.ready?this.resolution:(T.A.getLogger(this).error("#pixelSizeAt()","Map view cannot be used before it is ready"),null)}async popupHitTest(t){let r=this.toMap(t),i=await this.hitTest(t),s=this.allLayerViews.toArray().filter(i=>i.clips.every(i=>(0,nb.O)(this,i,t,r))).reverse(),o=new globalThis.Map(s.map(t=>[t.layer.uid,t])),a=[],u=0,d=0;for(;u<i.results.length||d<s.length;){let t=i.results.at(u);if(t&&"graphic"!==t.type){++u;continue}let c=o.get((t?.layer??t?.graphic.layer)?.uid);if((!t||c)&&d<s.length&&s.at(d)!==c){let t=s.at(d);"fetchPopupFeaturesAtLocation"in t&&a.push({mapPoint:r,layerView:t}),++d}else t&&(a.push({graphic:t.graphic,layerView:c}),++u)}return{hits:a,location:r}}requestUpdate(){this.ready&&this.frameTask.requestUpdate()}async validate(){let t=function(t){let r=(0,nL.C)();return r.available?"3d"===t&&r.majorPerformanceCaveat?new R.A("webgl:major-performance-caveat-detected",`Your WebGL implementation (${r.unmaskedRenderer}) doesn't seem to support hardware accelerated rendering. Check your browser settings or if your GPU is in a blocklist.`):r.supportsHighPrecisionFragment?r.supportsVertexShaderSamplers?null:new R.A("webgl:vertex-shader-samplers-required","WebGL support for vertex shader samplers is required but not supported."):new R.A("webgl:high-precision-fragment-required","WebGL support for high precision fragment shaders is required but not supported."):new R.A("webgl:required","WebGL2 is required but not supported.",Error().stack)}(this.type);if((0,A.A)("safari")&&9>(0,A.A)("safari")&&(t=new R.A("mapview:browser-not-supported","This browser is not supported by MapView (Safari < 9)",{type:"safari",requiredVersion:9,detectedVersion:(0,A.A)("safari")})),null!=t)throw T.A.getLogger(this).warn("#validate()",t.message),t}loadAsyncDependencies(){return sN()}_getDefaultViewpoint(){let{constraints:t,initialExtent:r,map:i,padding:s,size:o}=this;if(!t)return null;let a=i&&"initialViewProperties"in i?i.initialViewProperties:void 0,u=this.stateManager.getUserStartupOptions(this.size),d=a?.viewpoint,c=d?.targetGeometry?.extent??r,p=c?.center,h=d?.rotation??0,f=d?.scale||c&&(0,tW.AU)(c,[o[0]-s.left-s.right,o[1]-s.top-s.bottom]),y=u.center??p,m=u.rotation??h,g=u.scale??f;return y&&g?new E.A({targetGeometry:y,scale:g,rotation:m}):null}_startup(){this.timeline.begin("MapView Startup");let t=this._getDefaultViewpoint();this.stateManager.startup(t,this.size,this.spatialReference,this.defaultsFromMap.extent?.center),this.graphics.owner=this;let r=new s(this.surface,{canvas:this.renderCanvas,contextOptions:{disabledExtensions:this.deactivatedWebGLExtensions,debugWebGLExtensions:this.debugWebGLExtensions},renderingOptions:this.renderingOptions,timeline:this.timeline});this.stage=r,this._magnifierView=new c,this._magnifierView.magnifier=this.magnifier,this._gridView=new p;let i=new u({view:this});this._set("labelManager",i);let o=new nn({view:this});this._set("animationManager",o);let a=new d({view:this,animationManager:o});this._set("mapViewNavigation",a),this._setupSpatialReferenceDependentProperties(),this.addHandles([this.rootLayerViews.on("change",()=>this._updateStageChildren()),r.on("webgl-error",t=>this.fatalError=t.error),(0,P.wB)(()=>this.stationary,t=>r.stationary=t,P.pc),(0,P.wB)(()=>this.background,t=>{r.backgroundColor=t?.color,this._magnifierView.backgroundColor=t?.color},P.pc),(0,P.wB)(()=>this.magnifier,t=>this._magnifierView.magnifier=t,P.pc),(0,P.wB)(()=>this.grid,t=>this._gridView.grid=t,P.pc),(0,P.wB)(()=>this.renderingOptions,t=>r.renderingOptions=t,P.pc),(0,P.wB)(()=>this.highlights.items.map(t=>({name:t.name,options:{fillColor:t.color,haloColor:t.haloColor,fillOpacity:t.fillOpacity,haloOpacity:t.haloOpacity,haloWidth:t.haloWidth,haloBlur:t.haloBlur}})),()=>{r.highlightGradient=(0,nw.u4)(r.highlightGradient,this.highlights.items)},P.pc),(0,P.wB)(()=>this.state.id,()=>r.state=this.state,P.pc)],"map-view"),this._updateStageChildren();let h=this._resolveWhenReady;this._resolveWhenReady=[],h.forEach(t=>t(this)),this.timeline.end("MapView Startup"),this.frameTask.start(),this._set("ready",!0)}_teardown(){this._destroySpatialReferenceDependentProperties(),this.removeHandles("map-view"),this.mapViewNavigation.destroy(),this._set("mapViewNavigation",null),this.animation=null,this.animationManager.destroy(),this._set("animationManager",null),this.layerViewManager.clear(),this.labelManager.destroy(),this._magnifierView.destroy(),this._gridView.destroy(),this.stage.destroy(),this.stage=null,this._set("graphicsView",null),this._magnifierView=null,this._gridView=null,this._set("labelManager",null),this._set("mapViewNavigation",null),this.graphics.owner=null,this.frameTask.stop(),this.stationaryManager.clear(),this._set("ready",!1),this.stateManager.teardown()}_updateStageChildren(){this.stage.removeAllChildren(),this.rootLayerViews.forEach(t=>{this.stage.addChild(t.container)});let t=this.graphicsView;this.stage.addChild(t.container),this.stage.addChild(this._magnifierView),this.stage.addChild(this._gridView)}_setupSpatialReferenceDependentProperties(){let t=new nd.A(D.A.create({spatialReference:this.spatialReference,size:512,numLODs:36}));this._set("featuresTilingScheme",t);let r=new o({view:this,graphics:this.graphics,requestUpdateCallback:()=>this.requestUpdate(),container:new a(t)});this._set("graphicsView",r)}_destroySpatialReferenceDependentProperties(){let t=this.graphicsView;this._set("graphicsView",null),t.destroy(),this._set("featuresTilingScheme",null)}_getScreenshotView(t){let{allLayerViews:r,padding:i,size:s,stage:o}=this;return{allLayerViews:r,backgroundColor:t?.ignoreBackground?null:this.background?.color,padding:i,size:s,stage:o}}_spatialReferenceChanged(t){if(this.ready){for(let t of(this.frameTask.stop(),this.allLayerViews))t.processDetach();for(let r of(this._destroySpatialReferenceDependentProperties(),this.stateManager.changeSpatialReference(t),this.stage.state=this.state,this._setupSpatialReferenceDependentProperties(),this.allLayerViews))r.processAttach();this.frameTask.requestFrame(),this.frameTask.start(),this._updateStageChildren()}}};sk.type="2d",(0,M._)([(0,S.MZ)({constructOnly:!0})],sk.prototype,"deactivatedWebGLExtensions",void 0),(0,M._)([(0,S.MZ)({constructOnly:!0})],sk.prototype,"debugWebGLExtensions",void 0),(0,M._)([(0,S.MZ)({readOnly:!0})],sk.prototype,"featuresTilingScheme",void 0),(0,M._)([(0,S.MZ)({readOnly:!0})],sk.prototype,"graphicsTileStore",null),(0,M._)([(0,S.MZ)()],sk.prototype,"graphicsView",void 0),(0,M._)([(0,S.MZ)()],sk.prototype,"constraintsInfo",null),(0,M._)([(0,S.MZ)()],sk.prototype,"initialExtentRequired",null),(0,M._)([(0,S.MZ)()],sk.prototype,"labelManager",void 0),(0,M._)([(0,S.MZ)({type:tO,nonNullable:!0})],sk.prototype,"navigation",void 0),(0,M._)([(0,S.MZ)({constructOnly:!0})],sk.prototype,"renderCanvas",void 0),(0,M._)([(0,S.MZ)()],sk.prototype,"renderingOptions",void 0),(0,M._)([(0,S.MZ)({constructOnly:!0})],sk.prototype,"supersampleScreenshotsEnabled",void 0),(0,M._)([(0,S.MZ)({readOnly:!0})],sk.prototype,"supportsGround",void 0),(0,M._)([(0,S.MZ)()],sk.prototype,"defaultsFromMapSettings",null),(0,M._)([(0,S.MZ)({readOnly:!0})],sk.prototype,"typeSpecificPreconditionsReady",null),(0,M._)([(0,S.MZ)({type:sP.A})],sk.prototype,"background",null),(0,M._)([(0,S.MZ)()],sk.prototype,"center",null),(0,M._)([(0,S.MZ)({type:I.A})],sk.prototype,"floors",void 0),(0,M._)([(0,S.MZ)()],sk.prototype,"grid",void 0),(0,M._)([(0,S.MZ)({type:tf.A})],sk.prototype,"highlightOptions",null),(0,M._)([(0,S.MZ)()],sk.prototype,"map",void 0),(0,M._)([(0,S.MZ)()],sk.prototype,"padding",null),(0,M._)([(0,S.MZ)({readOnly:!0})],sk.prototype,"rendering",null),(0,M._)([(0,S.MZ)({readOnly:!0})],sk.prototype,"resolution",null),(0,M._)([(0,S.MZ)()],sk.prototype,"scale",null),(0,M._)([(0,S.MZ)({constructOnly:!0})],sk.prototype,"spatialReferenceLocked",void 0),(0,M._)([(0,S.MZ)({readOnly:!0})],sk.prototype,"tileInfo",null),(0,M._)([(0,S.MZ)({type:nk.K,readOnly:!0})],sk.prototype,"timeline",void 0),(0,M._)([(0,S.MZ)({readOnly:!0})],sk.prototype,"type",void 0),(0,M._)([(0,S.MZ)({readOnly:!0})],sk.prototype,"updating",null),(0,M._)([(0,S.MZ)({readOnly:!0})],sk.prototype,"view2dType",void 0),(0,M._)([(0,S.MZ)({readOnly:!0})],sk.prototype,"visibleArea",null),(0,M._)([(0,S.MZ)()],sk.prototype,"zoom",null),(0,M._)([(0,S.MZ)({readOnly:!0})],sk.prototype,"navigating",null),(0,M._)([(0,S.MZ)(),(0,k.w)(t=>t instanceof sI?t:(0,L.PZ)(sR,t))],sk.prototype,"ui",void 0);let sL=sk=(0,M._)([(0,x.$)("esri.views.View2D")],sk),sF=class extends sL{constructor(t){super(t),this.view2dType="map"}};(0,M._)([(0,S.MZ)({readOnly:!0})],sF.prototype,"view2dType",void 0);let sZ=sF=(0,M._)([(0,x.$)("esri.views.MapView")],sF)},15964:(t,r,i)=>{i.d(r,{A:()=>p});var s,o=i(81856);i(61939),i(57845),i(33638),i(32391);var a=i(33498),u=i(12709),d=i(60733);let c=s=class extends d.A{constructor(t){super(t),this.type="solid"}clone(){return new s(this.cloneProperties())}};(0,o._)([(0,a.e)({solid:"solid"},{readOnly:!0})],c.prototype,"type",void 0);let p=c=s=(0,o._)([(0,u.$)("esri.symbols.edges.SolidEdges3D")],c)},16082:(t,r,i)=>{i.d(r,{q:()=>o});var s=i(15142);class o{constructor(t,r){this._storage=new s.F,this.id="",this.name="",this.size=0,this._storage.maxSize=t,this._storage.register(this),r&&this._storage.registerRemoveFunc("",r)}destroy(){this._storage.deregister(this),this._storage.destroy()}put(t,r,i=1){this._storage.put(this,t,r,i,1)}pop(t){return this._storage.pop(this,t)}get(t){return this._storage.get(this,t)}clear(){this._storage.clearAll()}get maxSize(){return this._storage.maxSize}set maxSize(t){this._storage.maxSize=t}resetHitRate(){}}},16217:(t,r,i)=>{i.d(r,{Rr:()=>c,fY:()=>h,ne:()=>p});var s=i(81856),o=i(34184),a=i(91838);i(57845),i(61939),i(33638);var u=i(12709),d=i(72621);function c(t,r,i){if(!t)return null;let s=t.find(t=>!!t.field);if(!s)return null;let o=new d.A;return o.read(s,i),[o]}let p={type:[d.A],json:{origins:{"web-scene":{write:!1,read:!1}},name:"layerDefinition.orderBy",read:{reader:c},write:{writer:function(t,r,i,s){let a=t.find(t=>!!t.field);a&&(0,o.sM)(i,[a.toJSON()],r)}}}},h=t=>{let r=class extends t{constructor(){super(...arguments),this.orderBy=null}};return(0,s._)([(0,a.MZ)(p)],r.prototype,"orderBy",void 0),r=(0,s._)([(0,u.$)("esri.layers.mixins.OrderedLayer")],r)}},16352:(t,r,i)=>{i.d(r,{w:()=>d});var s=i(86942),o=i(94401);let a=Object.prototype.toString;function u(t,r,i,s){(0,o.z4)(t,r).cast=s}function d(...t){if(3!==t.length||"string"!=typeof t[1]){var r;return 1===t.length&&"[object Function]"===a.call(t[0])?function(t){let r="__accessorMetadata__"in t?(0,s.dp)(t):t;return function(...t){if(t.push(r),"number"==typeof t[2])throw Error("Using @cast has parameter decorator is not supported since 4.16");return u.apply(this,t)}}(t[0]):1===t.length&&"string"==typeof t[0]?(r=t[0],(t,i)=>{(0,o.z4)(t,r).cast=t[i]}):void 0}}},16643:(t,r,i)=>{i.d(r,{A:()=>f});var s=i(84766),o=i(54036);class a{constructor(t,r,i){this.maxSize=t,this._tileInfoView=r,this._removedFunc=i,this._tilePerId=new Map,this._tileKeysPerLevel=[]}clear(){this._tilePerId.clear(),this._tileKeysPerLevel=[]}has(t){return this._tilePerId.has(t)}get(t){return this._tilePerId.get(t)}pop(t){var r,i;let s=this._tilePerId.get(t);if(!s)return;let o=s.key.level,a=this._tileKeysPerLevel[o];r=this._tilePerId,i=t,r.delete(i);for(let r=0;r<a.length;r++)if(a[r].id===t){a.splice(r,1);break}return s.visible=!0,s}add(t){t.visible=!1;let r=t.key,i=r.id;if(this._tilePerId.has(i))return;this._tilePerId.set(i,t);let s=r.level;this._tileKeysPerLevel[s]||(this._tileKeysPerLevel[s]=[]),this._tileKeysPerLevel[s].push(r)}prune(t,r,i){let s=this._tilePerId.size;if(s<=this.maxSize)return;let o=this._tileKeysPerLevel.length-1;for(;s>this.maxSize&&o>=0;)o!==t&&(s=this._pruneAroundCenterTile(s,r,i,o)),o--;s>this.maxSize&&(s=this._pruneAroundCenterTile(s,r,i,t))}_pruneAroundCenterTile(t,r,i,s){let a=this._tileKeysPerLevel[s];if(!a||0===a.length)return t;let{size:u,origin:d}=this._tileInfoView.tileInfo,c=i*u[0],p=i*u[1],h=[0,0],f=[0,0];for(a.sort((t,i)=>(h[0]=d.x+c*(t.col+.5),h[1]=d.y-p*(t.row+.5),f[0]=d.x+c*(i.col+.5),f[1]=d.y-p*(i.row+.5),(0,o.hG)(h,r)-(0,o.hG)(f,r)));a.length>0;){let r=a.pop();if(this._removeTile(r.id),--t===this.maxSize)break}return t}_removeTile(t){var r,i;let s=this._tilePerId.get(t);this._removedFunc&&s&&this._removedFunc(s),r=this._tilePerId,i=t,r.delete(i)}}var u=i(39137);let d=new(i(79378)).A(0,0,0,0),c=new Map,p=[],h=[];class f{constructor(t){this._previousScale=Number.POSITIVE_INFINITY,this.cachePolicy="keep",this.coveragePolicy="closest",this.resampling=!0,this.tileIndex=new Map,this.tiles=[],this.buffer=192,this.acquireTile=t.acquireTile,this.releaseTile=t.releaseTile,this.tileInfoView=t.tileInfoView,null!=t.resampling&&(this.resampling=t.resampling),t.cachePolicy&&(this.cachePolicy=t.cachePolicy),t.coveragePolicy&&(this.coveragePolicy=t.coveragePolicy),null!=t.buffer&&(this.buffer=t.buffer),t.cacheSize&&(this._tileCache=new a(t.cacheSize,this.tileInfoView,t=>{this.releaseTile(t)}))}destroy(){this.tileIndex.clear()}update(t){let{resampling:r,tileIndex:i}=this,{scale:s,center:o,resolution:a}=t.state,{minScale:f,maxScale:y}=this.tileInfoView,m=!t.stationary&&s>this._previousScale;if(this._previousScale=s,!r&&(s>f||s<y))return this.tiles.length=0,void this.clear();let g=this.tileInfoView.getTileCoverage(t.state,this.buffer,this.resampling,this.coveragePolicy);if(!g)return this.tiles.length=0,void this.clear();let{spans:_,lodInfo:v}=g,{level:w}=v;this.tiles.length=0,i.forEach(t=>t.visible=!0);let b=0,M=0;if(_.length>0)for(let{row:t,colFrom:r,colTo:s}of _)for(let o=r;o<=s;o++){b++;let r=d.set(w,t,v.normalizeCol(o),v.getWorldForColumn(o)).id,s=i.get(r);if(s)s.isReady?(c.set(r,s),M++):m||this._addParentTile(r,c);else{if(this._tileCache?.has(r)){if(s=this._tileCache.pop(r),this.tileIndex.set(r,s),s.isReady){c.set(r,s),M++;continue}}else s=this.acquireTile(d),this.tileIndex.set(r,s);m||this._addParentTile(r,c)}}let S=M===b;for(let[t,r]of i){if(c.has(t))continue;d.set(t);let i=this.tileInfoView.intersects(g,d),s="purge"===this.cachePolicy?d.level!==w:d.level>w;i&&(m||!S)?r.isReady?s&&"purge"===this.cachePolicy&&this._hasReadyAncestor(d,w)?p.push(r):h.push(r):s&&p.push(r):!s&&i||p.push(r)}for(let t of h)t.isReady&&c.set(t.key.id,t);for(let t of p)this._tileCache?this._tileCache.add(t):this.releaseTile(t),i.delete(t.key.id);for(let t of c.values())this.tiles.push(t);for(let t of i.values())c.has(t.key.id)||(t.visible=!1);this._tileCache?.prune(w,o,a),u.A.pool.release(g),h.length=0,p.length=0,c.clear()}clear(){let{tileIndex:t}=this;for(let r of t.values())this.releaseTile(r);t.clear()}refresh(t){for(let r of this.tileIndex.values())t(r);this._tileCache?.clear()}updateCacheSize(t){this._tileCache&&(this._tileCache.maxSize=t)}_addParentTile(t,r){let i=t,s=null;for(;i=this.tileInfoView.getTileParentId(i);)if(this.tileIndex.has(i)){if(s=this.tileIndex.get(i),s?.isReady){r.has(s.key.id)||r.set(s.key.id,s);break}}else if(this._tileCache?.has(i)&&(s=this._tileCache.pop(i),this.tileIndex.set(i,s),s?.isReady)){r.has(s.key.id)||r.set(s.key.id,s);break}}_hasReadyAncestor(t,r){let i=(0,s.vt)();for(let o of(this.tileInfoView.getTileBounds(i,t,!0),this.tileIndex.values()))if(o.isReady&&o.key.level>=r&&o.key.level<t.level){let t=(0,s.vt)();if(this.tileInfoView.getTileBounds(t,o.key,!0),(0,s.gR)(t,i))return!0}return!1}}},16876:(t,r,i)=>{i.d(r,{A:()=>k});var s=i(81856),o=i(54335),a=i(61096),u=i(61939),d=i(90525),c=i(58985),p=i(91838),h=i(16352);i(57845),i(33638);var f=i(53480),y=i(12709),m=i(7780),g=i(14307),_=i(67546),v=i(71924),w=i(92090),b=i(89050),M=i(31312),S=i(72025),A=i(3200),T=i(6015),x=i(86629),E=i(46567),I=i(56358),C=i(12274),R=i(23041);let O={icon:b.A,object:S.A,line:M.A,path:A.A,fill:w.A,extrude:v.A,text:E.A,water:I.A},P=o.A.ofType({base:x.A,key:"type",typeMap:O,errorContext:"symbol-layer"}),N=class extends T.A{constructor(t){super(t),this.styleOrigin=null,this.thumbnail=null,this.type=null;let r=this.__accessor__&&this.__accessor__.metadata&&this.__accessor__.metadata.symbolLayers,i=r?.type||o.A;this._set("symbolLayers",new i)}get color(){return null}set color(t){this.constructed&&u.A.getLogger(this).error("Symbol3D does not support colors on the symbol level. Colors may be set on individual symbol layer materials instead.")}set symbolLayers(t){(0,a.V)(t,this._get("symbolLayers"))}readStyleOrigin(t,r,i){if(t.styleUrl&&t.name){let r=(0,_.f)(t.styleUrl,i);return new C.A({styleUrl:r,name:t.name})}if(t.styleName&&t.name)return new C.A({portal:i?.portal||g.A.getDefault(),styleName:t.styleName,name:t.name});i?.messages&&i.messages.push(new c.A("symbol3d:incomplete-style-origin","Style origin requires either a 'styleUrl' or 'styleName' and a 'name' property",{context:i,definition:t}))}writeStyleOrigin(t,r,i,s){if(t.styleUrl&&t.name){let i=(0,_.t)(t.styleUrl,s);(0,d.oP)(i)&&(i=(0,d.S8)(i)),r.styleOrigin={styleUrl:i,name:t.name}}else t.styleName&&t.name&&(t.portal&&s?.portal&&!(0,d.ut)(t.portal.restUrl,s.portal.restUrl)?s?.messages&&s.messages.push(new c.A("symbol:cross-portal","The symbol style origin cannot be persisted because it refers to an item on a different portal than the one being saved to.",{symbol:this})):r.styleOrigin={styleName:t.styleName,name:t.name})}normalizeCtorArgs(t){return t instanceof x.A||t&&O[t.type]?{symbolLayers:[t]}:Array.isArray(t)?{symbolLayers:t}:t}};(0,s._)([(0,p.MZ)({json:{read:!1,write:!1}})],N.prototype,"color",null),(0,s._)([(0,p.MZ)({type:P,nonNullable:!0,json:{write:!0}}),(0,h.w)(a.H)],N.prototype,"symbolLayers",null),(0,s._)([(0,p.MZ)({type:C.A})],N.prototype,"styleOrigin",void 0),(0,s._)([(0,f.w)("styleOrigin")],N.prototype,"readStyleOrigin",null),(0,s._)([(0,m.K)("styleOrigin",{"styleOrigin.styleUrl":{type:String},"styleOrigin.styleName":{type:String},"styleOrigin.name":{type:String}})],N.prototype,"writeStyleOrigin",null),(0,s._)([(0,p.MZ)({type:R.V,json:{read:!1}})],N.prototype,"thumbnail",void 0),(0,s._)([(0,p.MZ)({type:["point-3d","line-3d","polygon-3d","mesh-3d","label-3d"],readOnly:!0})],N.prototype,"type",void 0);let k=N=(0,s._)([(0,y.$)("esri.symbols.Symbol3D")],N)},16979:(t,r,i)=>{function s(t){let r=[];for(t.reset();t.nextPath();){let i=[];for(;t.nextPoint();)i.push([t.x,t.y]);r.push(i)}return t.reset(),r}function o(t){let r=[];for(;t.nextPoint();)r.push([t.x,t.y]);return t.seekPathStart(),r}i.d(r,{A:()=>o,x:()=>s})},17058:(t,r,i)=>{i.d(r,{Df:()=>p,fm:()=>h,mJ:()=>c});var s=i(19158),o=i(62761),a=i(32104);let u=!1,d=[];function c(t,r){let i=new a.r(function s(){if(!i||c)return;if(u)return void f(s);let a=d;i.clear(),u=!0,c=!0,d=(0,o.a)(i,t),c=!1,u=!1,r(d,a),y()}),d=null,c=!1;return c=!0,d=(0,o.a)(i,t),c=!1,(0,s.hA)(function(){i&&(i.destroy(),i=null,d=null)})}function p(t,r){let i=new a.r(function(){r(u,d)}),u=null;function d(){return i?(i.clear(),u=(0,o.a)(i,t)):null}return d(),(0,s.hA)(function(){i&&(i.destroy(),i=null),u=null})}function h(t,r){let i=!1,d=!1,c=!!r?.sync,p=new a.r(()=>{i||d||(d=!0,c?h():queueMicrotask(h))});function h(){d=!1,p&&!i&&(u?f(h):(p.clear(),u=!0,i=!0,(0,o.a)(p,t),i=!1,u=!1,y()))}return i=!0,(0,o.a)(p,t),i=!1,(0,s.hA)(function(){p&&(p.destroy(),p=null)})}function f(t){d.includes(t)||d.unshift(t)}function y(){for(;d.length;)d.pop()()}},17954:(t,r,i)=>{i.d(r,{A:()=>y});var s,o=i(81856),a=i(33715),u=i(91838);i(57845),i(61939);var d=i(12709),c=i(7780),p=i(78766),h=i(5741);let f=s=class extends h.A{constructor(t){super(t),this.attributes=null,this.description=null,this.fieldInfos=null,this.title=null,this.type="fields"}writeFieldInfos(t,r){r.fieldInfos=t&&t.map(t=>t.toJSON())}clone(){return new s((0,a.o8)({attributes:this.attributes,description:this.description,fieldInfos:this.fieldInfos,title:this.title}))}};(0,o._)([(0,u.MZ)({type:Object,json:{write:!0}})],f.prototype,"attributes",void 0),(0,o._)([(0,u.MZ)({type:String,json:{write:!0}})],f.prototype,"description",void 0),(0,o._)([(0,u.MZ)({type:[p.A]})],f.prototype,"fieldInfos",void 0),(0,o._)([(0,c.K)("fieldInfos")],f.prototype,"writeFieldInfos",null),(0,o._)([(0,u.MZ)({type:String,json:{write:!0}})],f.prototype,"title",void 0),(0,o._)([(0,u.MZ)({type:["fields"],readOnly:!0,json:{read:!1,write:{isRequired:!0}}})],f.prototype,"type",void 0);let y=f=s=(0,o._)([(0,d.$)("esri.popup.content.FieldsContent")],f)},18106:(t,r,i)=>{i.d(r,{A:()=>v});var s,o=i(81856),a=i(91838);i(57845),i(61939),i(33638);var u=i(12709),d=i(66377),c=i(70152),p=i(92713),h=i(33715),f=i(86942),y=i(80548);let m=s=class extends p.A{constructor(t){super(t),this.colors=null,this.fields=[],this.normalizeField=null,this.series=[],this.tooltipField=null}clone(){return new s({colors:(0,h.o8)(this.colors),fields:(0,h.o8)(this.fields),normalizeField:this.normalizeField,series:(0,h.o8)(this.series),tooltipField:this.tooltipField})}};(0,o._)([(0,a.MZ)({type:[c.A],json:{type:[[f.jz]],write:!0}})],m.prototype,"colors",void 0),(0,o._)([(0,a.MZ)({type:[String],json:{write:{isRequired:!0}}})],m.prototype,"fields",void 0),(0,o._)([(0,a.MZ)({type:String,json:{write:!0}})],m.prototype,"normalizeField",void 0),(0,o._)([(0,a.MZ)({type:[y.A],json:{read:!1}})],m.prototype,"series",void 0),(0,o._)([(0,a.MZ)({type:String,json:{write:!0}})],m.prototype,"tooltipField",void 0);let g=m=s=(0,o._)([(0,u.$)("esri.popup.content.support.ChartMediaInfoValue")],m),_=class extends d.A{constructor(t){super(t),this.type=null,this.value=void 0}};(0,o._)([(0,a.MZ)({type:["bar-chart","column-chart","line-chart","pie-chart"],readOnly:!0,json:{read:!1,write:!0}})],_.prototype,"type",void 0),(0,o._)([(0,a.MZ)({type:g,json:{write:{isRequired:!0}}})],_.prototype,"value",void 0);let v=_=(0,o._)([(0,u.$)("esri.popup.content.mixins.ChartMediaInfo")],_)},18524:(t,r,i)=>{i.d(r,{U:()=>h});var s=i(81856),o=i(28690),a=i(19158),u=i(45257),d=i(77089),c=i(91838),p=i(12709);let h=class extends o.A{constructor(){super(...arguments),this.updating=!1,this._handleId=0,this._scheduleHandleId=0,this._pendingPromises=new Set}destroy(){this.removeAll()}add(t,r,i={}){return this._installWatch(t,r,i,u.wB)}addWhen(t,r,i={}){return this._installWatch(t,r,i,u.z7)}addOnCollectionChange(t,r,{initial:i=!1,final:s=!1}={}){let o=++this._handleId;return this.addHandles([(0,u.on)(t,"after-changes",this._createSyncUpdatingCallback(),u.OH),(0,u.on)(t,"change",r,{onListenerAdd:i?t=>r({added:t.toArray(),removed:[]}):void 0,onListenerRemove:s?t=>r({added:[],removed:t.toArray()}):void 0})],o),(0,a.hA)(()=>this.removeHandles(o))}addPromise(t){if(null==t)return t;let r=++this._handleId;this.addHandles((0,a.hA)(()=>{this._pendingPromises.delete(t)&&(0!==this._pendingPromises.size||this.hasHandles(f)||this._set("updating",!1))}),r),this._pendingPromises.add(t),this._set("updating",!0);let i=()=>this.removeHandles(r);return t.then(i,i),t}removeAll(){this._pendingPromises.clear(),this.removeAllHandles(),this._set("updating",!1)}_installWatch(t,r,i={},s){let o=++this._handleId;i.sync||this._installSyncUpdatingWatch(t,o);let u=s(t,r,i);return this.addHandles(u,o),(0,a.hA)(()=>this.removeHandles(o))}_installSyncUpdatingWatch(t,r){let i=this._createSyncUpdatingCallback(),s=(0,u.wB)(t,i,{sync:!0,equals:()=>!1});return this.addHandles(s,r),s}_createSyncUpdatingCallback(){return()=>{this.removeHandles(f),++this._scheduleHandleId;let t=this._scheduleHandleId;this._get("updating")||this._set("updating",!0),this.addHandles((0,d._)(()=>{t===this._scheduleHandleId&&(this._set("updating",this._pendingPromises.size>0),this.removeHandles(f))}),f)}}};(0,s._)([(0,c.MZ)({readOnly:!0})],h.prototype,"updating",void 0),h=(0,s._)([(0,p.$)("esri.core.support.UpdatingHandles")],h);let f=-42},18845:(t,r,i)=>{i.d(r,{A:()=>_});var s=i(81856),o=i(71017),a=i(92713),u=i(91838);i(57845),i(61939),i(33638);var d=i(53480),c=i(12709),p=i(7780),h=i(47840),f=i(57421),y=i(90628);function m(t,r){return f.A.fromJSON({value:t,unit:r})}let g=class extends o.A.ClonableMixin(a.A){constructor(t){super(t),this.cumulative=!1,this.endField=null,this.fullTimeExtent=null,this.hasLiveData=!1,this.interval=null,this.startField=null,this.timeZone=null,this.trackIdField=null,this.useTime=!0,this.stops=null}readFullTimeExtent(t,r){return r.timeExtent&&Array.isArray(r.timeExtent)&&2===r.timeExtent.length?h.A.fromArray(r.timeExtent):null}writeFullTimeExtent(t,r){null!=t?.start&&null!=t.end?r.timeExtent=t.toArray():r.timeExtent=null}readInterval(t,r){return r.timeInterval&&r.timeIntervalUnits?m(r.timeInterval,r.timeIntervalUnits):r.defaultTimeInterval&&r.defaultTimeIntervalUnits?m(r.defaultTimeInterval,r.defaultTimeIntervalUnits):null}writeInterval(t,r){r.timeInterval=t?.toJSON().value??null,r.timeIntervalUnits=t?.toJSON().unit??null}};(0,s._)([(0,u.MZ)({type:Boolean,json:{name:"exportOptions.timeDataCumulative",write:!0}})],g.prototype,"cumulative",void 0),(0,s._)([(0,u.MZ)({type:String,json:{name:"endTimeField",write:{enabled:!0,allowNull:!0}}})],g.prototype,"endField",void 0),(0,s._)([(0,u.MZ)({type:h.A,json:{write:{enabled:!0,allowNull:!0}}})],g.prototype,"fullTimeExtent",void 0),(0,s._)([(0,d.w)("fullTimeExtent",["timeExtent"])],g.prototype,"readFullTimeExtent",null),(0,s._)([(0,p.K)("fullTimeExtent")],g.prototype,"writeFullTimeExtent",null),(0,s._)([(0,u.MZ)({type:Boolean,json:{write:!0}})],g.prototype,"hasLiveData",void 0),(0,s._)([(0,u.MZ)({type:f.A,json:{write:{enabled:!0,allowNull:!0}}})],g.prototype,"interval",void 0),(0,s._)([(0,d.w)("interval",["timeInterval","timeIntervalUnits","defaultTimeInterval","defaultTimeIntervalUnits"])],g.prototype,"readInterval",null),(0,s._)([(0,p.K)("interval")],g.prototype,"writeInterval",null),(0,s._)([(0,u.MZ)({type:String,json:{name:"startTimeField",write:{enabled:!0,allowNull:!0}}})],g.prototype,"startField",void 0),(0,s._)([(0,u.MZ)((0,y.P6)("timeReference",!0))],g.prototype,"timeZone",void 0),(0,s._)([(0,u.MZ)({type:String,json:{write:{enabled:!0,allowNull:!0}}})],g.prototype,"trackIdField",void 0),(0,s._)([(0,u.MZ)({type:Boolean,json:{name:"exportOptions.useTime",write:!0}})],g.prototype,"useTime",void 0),(0,s._)([(0,u.MZ)({type:[Date],json:{read:!1}})],g.prototype,"stops",void 0);let _=g=(0,s._)([(0,c.$)("esri.layers.support.TimeInfo")],g)},18876:(t,r,i)=>{i.d(r,{O9:()=>a,dw:()=>u,mj:()=>o});var s=i(60028);function o(t,r){let i=t.length>r.length?t:r;return(t.length>r.length?r:t).every((t,r)=>t.type===i[r].type)}function a(t,r){let i=t.length>r.length?t:r,o=t.length>r.length?r:t;for(let t=o.length;t<i.length;t++)o.push((0,s.sK)(i[t]))}function u(t){let r=t[0];return!!r&&"type"in r}},19158:(t,r,i)=>{i.d(r,{DQ:()=>h,a0:()=>a,a2:()=>c,ei:()=>u,hA:()=>o,rE:()=>p,vE:()=>d});let s={remove:()=>{}};function o(t){return t?{remove(){t&&(t(),t=void 0)}}:s}function a(t){t.forEach(t=>t?.remove())}function u(t){a(t),t.length=0}function d(t){return o(()=>a(t))}function c(t){return o(()=>t()?.remove())}function p(t){return o(()=>t?.abort())}function h(t){return o(null!=t?()=>t.destroy():void 0)}},19284:(t,r,i)=>{function s(){let t=new Float32Array(9);return t[0]=1,t[4]=1,t[8]=1,t}function o(t){let r=new Float32Array(9);return r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=t[3],r[4]=t[4],r[5]=t[5],r[6]=t[6],r[7]=t[7],r[8]=t[8],r}i.d(r,{o8:()=>o,vt:()=>s}),Object.freeze(Object.defineProperty({__proto__:null,clone:o,create:s,createView:function(t,r){return new Float32Array(t,r,9)},fromValues:function(t,r,i,s,o,a,u,d,c){let p=new Float32Array(9);return p[0]=t,p[1]=r,p[2]=i,p[3]=s,p[4]=o,p[5]=a,p[6]=u,p[7]=d,p[8]=c,p}},Symbol.toStringTag,{value:"Module"}))},19461:(t,r,i)=>{i.d(r,{DF:()=>c,FD:()=>o,Ov:()=>a,ct:()=>p});let s=1e-6;function o(){return s}let a=Math.random,u=Math.PI/180,d=180/Math.PI;function c(t){return t*u}function p(t){return t*d}Object.freeze(Object.defineProperty({__proto__:null,RANDOM:a,equals:function(t,r){return Math.abs(t-r)<=s*Math.max(1,Math.abs(t),Math.abs(r))},getEpsilon:o,setEpsilon:function(t){s=t},toDegree:p,toRadian:c},Symbol.toStringTag,{value:"Module"}))},20243:(t,r,i)=>{i.d(r,{A:()=>p});var s,o=i(81856),a=i(91838);i(57845),i(61939),i(33638);var u=i(12709),d=i(91766);let c=s=class extends d.A{constructor(t){super(t),this.text=null,this.textFormat="plain-text",this.type="text"}clone(){return new s({text:this.text,textFormat:this.textFormat,visibilityExpression:this.visibilityExpression})}};(0,o._)([(0,a.MZ)({type:String,json:{write:!0}})],c.prototype,"text",void 0),(0,o._)([(0,a.MZ)({type:String,json:{write:!0}})],c.prototype,"textFormat",void 0),(0,o._)([(0,a.MZ)({type:["text"],readOnly:!0,json:{read:!1,write:!0}})],c.prototype,"type",void 0);let p=c=s=(0,o._)([(0,u.$)("esri.form.elements.TextElement")],c)},20258:(t,r,i)=>{i.d(r,{CJ:()=>y});var s=i(32391),o=i(33715),a=i(34184),u=i(1529),d=i(71086);let c=new Set(["bing-maps","imagery","imagery-tile","map-image","open-street-map","tile","unknown","unsupported","vector-tile","web-tile","wcs","wms","wmts"]),p=new Set(["catalog","csv","feature","geo-rss","geojson","group","imagery","imagery-tile","kml","knowledge-graph","map-image","map-notes","media","ogc-feature","oriented-imagery","route","stream","subtype-group","tile","unknown","unsupported","vector-tile","web-tile","wcs","wfs","wms","wmts"]),h=new Set([...p,"link-chart"]);function f(t,r){"maxScale"in t&&(r.maxScale=(0,u.B)(t.maxScale)??void 0),"minScale"in t&&(r.minScale=(0,u.B)(t.minScale)??void 0)}function y(t,r,i){if(!t.persistenceEnabled)return null;if(!("write"in t)||!t.write)return i?.messages&&i.messages.push(new s.A("layer:unsupported",`Layers (${t.title}, ${t.id}) of type '${t.declaredClass}' cannot be persisted`,{layer:t})),null;if((0,d.Ov)(t)&&!t.isTable)r=t.resourceInfo;else if(function(t,r){if(r.restrictedWebMapWriting){let i=function(t){switch(t.layerContainerType){case"basemap":return c;case"operational-layers":return"link-chart"===t.origin?h:p;default:return null}}(r);return null==i||i.has(t.type)&&!(0,d.Ov)(t)}return!0}(t,i)){let r={};return t.write(r,i)?r:null}return null!=r&&function(t,r){if(function(t,r){if(r)if((0,d.Ov)(t)){let i=(0,a.wc)("featureCollection.layers",r),s=i?.[0]?.layerDefinition;s&&f(t,s)}else"group"!==t.type&&f(t,r)}(t,r),r&&(r.id=t.id,"blendMode"in t&&(r.blendMode=t.blendMode,"normal"===r.blendMode&&delete r.blendMode),r.opacity=(0,u.B)(t.opacity)??void 0,r.title=t.title||"Layer",r.visibility=t.visible,"legendEnabled"in t&&"wmts"!==t.type))if((0,d.Ov)(t)){let i=r.featureCollection;i&&(i.showLegend=t.legendEnabled)}else r.showLegend=t.legendEnabled}(t,r=(0,o.o8)(r)),r}},20538:(t,r,i)=>{i.d(r,{$8:()=>E,Cc:()=>d,Hx:()=>w,Io:()=>x,J_:()=>f,KJ:()=>h,Sp:()=>g,XM:()=>y,YN:()=>m,ZH:()=>v,cU:()=>o,gg:()=>_,hs:()=>c,kU:()=>p,or:()=>I,pF:()=>R,pq:()=>C,qE:()=>a,yR:()=>u});let s=new Float32Array(1);function o(t){--t;for(let r=1;r<32;r<<=1)t|=t>>r;return t+1}function a(t,r,i){return Math.min(Math.max(t,r),i)}function u(t){return t--,t|=t>>1,t|=t>>2,t|=t>>4,t|=t>>8,t|=t>>16,++t}function d(t,r,i){return t+(r-t)*i}function c(t,r,i,s,o){return s+(t-r)/(i-r)*(o-s)}function p(t){return t*Math.PI/180}function h(t){return 180*t/Math.PI}function f(t,r=1e-6){return(t<0?-1:1)/Math.max(Math.abs(t),r)}function y(t){return Math.acos(a(t,-1,1))}function m(t){return Math.asin(a(t,-1,1))}function g(t,r,i=1e-6){return t===r||!!Number.isFinite(t)&&!!Number.isFinite(r)&&(t>r?t-r:r-t)<=i}function _(t,r,i=1e-6){return!g(t,r,i)&&t>r}function v(t,r,i=1e-6){return!g(t,r,i)&&t<r}function w(t,r,i=1e-6){return g(t,r,i)||t>r}let b=new DataView(new ArrayBuffer(Float64Array.BYTES_PER_ELEMENT));function M(t){return b.setFloat64(0,t),b.getBigInt64(0)}let S=BigInt("1000000"),A=T(1);function T(t){var r;let i=M(t=Math.abs(t));return Math.abs(t-(r=i<=S?S:i-S,b.setBigInt64(0,r),b.getFloat64(0)))}function x(t,r,i=A){if(t===r)return!0;if(!Number.isFinite(t)||!Number.isFinite(r))return!1;if(null!=i&&T(Math.min(Math.abs(t),Math.abs(r)))<i)return Math.abs(t-r)<=i;let s=M(t),o=M(r);return s<0==o<0&&!((s<o?o-s:s-o)>S)}function E(t){var r;return r=Math.max(-C,Math.min(t,C)),s[0]=r,s[0]}function I(t){let r=t[0]*t[0]+t[1]*t[1]+t[2]*t[2],i=t[3]*t[3]+t[4]*t[4]+t[5]*t[5],s=t[6]*t[6]+t[7]*t[7]+t[8]*t[8];return!(g(r,1)&&g(i,1)&&g(s,1))}let C=(s[0]=34028234663852886e22,s[0]);function R(t,r,i){if(void 0===i||0==+i)return Math[t](r);if(i*=1,isNaN(r*=1)||"number"!=typeof i||i%1!=0)return NaN;let s=r.toString().split("e");return+((s=(r=Math[t](+(s[0]+"e"+(s[1]?s[1]-i:-i)))).toString().split("e"))[0]+"e"+(s[1]?+s[1]+i:i))}},20703:(t,r,i)=>{let s;i.d(r,{Ad:()=>y,QY:()=>h,lw:()=>f,xR:()=>m});var o=i(57942),a=i(32391),u=i(61939),d=i(91463);let c=()=>u.A.getLogger("esri.support.arcadeOnDemand"),p=["geometry","scale","timeProperties"];function h(t,r){if(null!=r)for(let i of p)r.hasArcadeDependency(i)&&t.add(i);return t}function f(){return s||(s=(async()=>{let t=await Promise.all([i.e(2140),i.e(8200),i.e(2996),i.e(2801)]).then(i.bind(i,2801));return{arcade:t.arcade,arcadeUtils:t,Dictionary:t.Dictionary,Feature:t.arcadeFeature,Voxel:t.Voxel}})()),s}let y=(t,r,i)=>g.create(t,r,i,null,["$feature","$view"],[]),m=(t,r,i,s)=>g.create(t,r,i,s,["$feature","$view"],[]);class g{constructor(t,r,i,s,o,a,u){this._dependencies=new Map,this.services=null,this.script=t,this.evaluate=s;let d=Array.isArray(a)?a:a?.fields;this.fields=d??[],this._syntaxTree=i,this._arcade=r,this._arcadeFeature=o,this._spatialReference=u,this._dependencies.set("geometry",r.scriptTouchesGeometry(this._syntaxTree)),this._dependencies.set("scale",this._arcade.referencesMember(this._syntaxTree,"scale")),this._dependencies.set("timeProperties",this._arcade.scriptUsesViewProperties(this._syntaxTree,["timeProperties"]))}static async create(t,r,i,s,u,p){let h,{arcade:y,Feature:m,Dictionary:_}=await f(),v=r instanceof d.A?r:d.A.fromJSON(r);try{h=y.parseScript(t,p)}catch(r){return c().error(new a.A("arcade-bad-expression","Failed to parse arcade script",{script:t,error:r})),null}let w=u.reduce((t,r)=>({...t,[r]:null}),{}),b=null;null!=s&&((b=new _(s)).immutable=!0,w.$config=null);let M=y.scriptUsesGeometryEngine(h),S=M&&y.enableGeometrySupport(),A=y.scriptUsesFeatureSet(h)&&y.enableFeatureSetSupport(),T=y.scriptIsAsync(h),x=T&&y.enableAsyncSupport();await Promise.all([S,A,x]);let E=new Set;await y.loadDependentModules(E,h,null,T,M);let I=new _;I.immutable=!1,I.setField("scale",0);let C=y.compileScript(h,{vars:w,spatialReference:v,useAsync:!!x});return new g(t,y,h,(t,r)=>{let i=t.$view?.timeZone;if("$view"in t&&t.$view){let r;if(I.setField("scale","object"==typeof t.$view&&"scale"in t.$view?t.$view.scale:void 0),"object"==typeof t.$view&&"timeProperties"in t.$view&&null!=t.$view.timeProperties){let{currentStart:s,currentEnd:a}=t.$view.timeProperties;r=new _({currentStart:null!=s?null!=i?o.lY.epochToArcadeDate(s,i):o.lY.unknownEpochToArcadeDate(s):void 0,currentEnd:null!=a?null!=i?o.lY.epochToArcadeDate(a,i):o.lY.unknownEpochToArcadeDate(a):void 0,startIncluded:!0,endIncluded:!0})}I.setField("timeProperties",r),t.$view=I}return b&&(t.$config=b),C({vars:t,spatialReference:v,services:r,timeZone:i})},new m,i,v)}repurposeFeature(t){return t.geometry&&!t.geometry.spatialReference&&(t.geometry.spatialReference=this._spatialReference),this._arcadeFeature.repurposeFromGraphicLikeObject(t.geometry,t.attributes,{fields:this.fields}),this._arcadeFeature}references(t){return this._dependencies.get(t)??!1}}},21221:(t,r,i)=>{i.d(r,{A:()=>m});var s,o=i(81856),a=i(33715),u=i(91838);i(57845),i(61939);var d=i(33498),c=i(12709),p=i(28763),h=i(22812),f=i(23356);let y=s=class extends(0,h.h)(p.A){constructor(t){super(t),this.description=null,this.label=null,this.symbol=null,this.type="simple"}async collectRequiredFields(t,r){await Promise.all([this.collectSymbolFields(t,r),this.collectVVRequiredFields(t,r)])}async collectSymbolFields(t,r){await Promise.all(this.symbols.map(i=>i.collectRequiredFields(t,r)))}getSymbol(t,r){return this.symbol}async getSymbolAsync(t,r){return this.symbol}get symbols(){return this.symbol?[this.symbol]:[]}getAttributeHash(){return this.visualVariables?.reduce((t,r)=>t+r.getAttributeHash(),"")??""}getMeshHash(){return this.symbols.reduce((t,r)=>t+JSON.stringify(r),"")}get arcadeRequired(){return this.arcadeRequiredForVisualVariables}clone(){return new s({description:this.description,label:this.label,symbol:(0,a.o8)(this.symbol),visualVariables:(0,a.o8)(this.visualVariables),authoringInfo:(0,a.o8)(this.authoringInfo)})}};(0,o._)([(0,u.MZ)({type:String,json:{write:!0}})],y.prototype,"description",void 0),(0,o._)([(0,u.MZ)({type:String,json:{write:!0}})],y.prototype,"label",void 0),(0,o._)([(0,u.MZ)(f.Wp)],y.prototype,"symbol",void 0),(0,o._)([(0,d.e)({simple:"simple"})],y.prototype,"type",void 0);let m=y=s=(0,o._)([(0,c.$)("esri.renderers.SimpleRenderer")],y)},21283:(t,r,i)=>{i.d(r,{A:()=>y});var s=i(81856),o=i(71017),a=i(91838),u=i(86942);i(57845),i(33638);var d=i(33498),c=i(12709),p=i(5741),h=i(67347);let f=class extends o.A.ClonableMixin(p.A){constructor(t){super(t),this.description=null,this.displayCount=null,this.title=null,this.associationTypes=[],this.type="utility-network-associations"}};(0,s._)([(0,a.MZ)({type:String,json:{write:!0}})],f.prototype,"description",void 0),(0,s._)([(0,a.MZ)({type:Number,json:{type:u.jz,write:!0}})],f.prototype,"displayCount",void 0),(0,s._)([(0,a.MZ)({type:String,json:{write:!0}})],f.prototype,"title",void 0),(0,s._)([(0,a.MZ)({type:[h.A],json:{write:!0}})],f.prototype,"associationTypes",void 0),(0,s._)([(0,d.e)({utilityNetworkAssociations:"utility-network-associations"})],f.prototype,"type",void 0);let y=f=(0,s._)([(0,c.$)("esri.popup.content.UtilityNetworkAssociationsContent")],f)},21371:(t,r,i)=>{i.d(r,{Fi:()=>h,HZ:()=>w,Jf:()=>v,LS:()=>b,Wo:()=>_,bd:()=>M,cr:()=>m,iz:()=>y,qg:()=>f,tK:()=>S,yG:()=>g});var s=i(90525),o=i(67546);let a={mapserver:"MapServer",imageserver:"ImageServer",featureserver:"FeatureServer",knowledgegraphserver:"KnowledgeGraphServer",sceneserver:"SceneServer",streamserver:"StreamServer",vectortileserver:"VectorTileServer","3dtilesserver":"3DTilesServer",videoserver:"VideoServer"},u=Object.values(a),d=RegExp(`^((?:https?:)?\\/\\/\\S+?\\/rest\\/services\\/(.+?)\\/(${u.join("|")}))(?:\\/(?:layers\\/)?(\\d+))?`,"i"),c=RegExp(`^((?:https?:)?\\/\\/\\S+?\\/([^/\\n]+)\\/(${u.join("|")}))(?:\\/(?:layers\\/)?(\\d+))?`,"i"),p=/(.*?)\/(?:layers\/)?(\d+)\/?$/i;function h(t){return d.test(t)}function f(t){if(null==t)return null;let r=(0,s.An)(t),i=r?.path.match(d)||r?.path.match(c);if(!i)return null;let[,o,u,p,h]=i,f=u.indexOf("/");return{title:m(-1!==f?u.slice(f+1):u),serverType:a[p.toLowerCase()],sublayer:null!=h&&""!==h?parseInt(h,10):null,url:{path:o}}}function y(t){let r=(0,s.An)(t).path.match(p);return r?{serviceUrl:r[1],sublayerId:Number(r[2])}:null}function m(t){return(t=t.replaceAll(/\s*[/_]+\s*/g," "))[0].toUpperCase()+t.slice(1)}function g(t,r){let i=[];if(t){let r=f(t);null!=r&&r.title&&i.push(r.title)}if(r){let t=m(r);i.push(t)}if(2===i.length){if(i[0].toLowerCase().includes(i[1].toLowerCase()))return i[0];if(i[1].toLowerCase().includes(i[0].toLowerCase()))return i[1]}return i.join(" - ")}function _(t){let r=(0,s.$z)(t,!0);return!!r&&(r=r.toLowerCase()).endsWith(".arcgis.com")&&(r.startsWith("services")||r.startsWith("tiles")||r.startsWith("features"))}function v(t,r){return t?(0,s.UC)((0,s.zi)(t,r)):t}function w(t){let r,{url:i}=t;if(!i)return{url:i};i=(0,s.zi)(i,t.logger);let o=(0,s.An)(i),a=f(o.path);if(null!=a)null!=a.sublayer&&null==t.layer.layerId&&(r=a.sublayer),i=a.url.path;else if(t.nonStandardUrlAllowed){let t=y(o.path);null!=t&&(i=t.serviceUrl,r=t.sublayerId)}return{url:(0,s.UC)(i),layerId:r}}function b(t,r,i,a,u){(0,o.w)(r,a,"url",u),a.url&&null!=t.layerId&&(a.url=(0,s.fj)(a.url,i,t.layerId.toString()))}function M(t){if(!t)return!1;let r=t.toLowerCase(),i=r.includes("/services/"),s=r.includes("/mapserver/wmsserver"),o=r.includes("/imageserver/wmsserver"),a=r.includes("/wmsserver");return i&&(s||o||a)}function S(t){if(!t)return!1;let r=new s.s0((0,s.s2)(t)),i=r.authority?.toLowerCase();return"server.arcgisonline.com"===i||"services.arcgisonline.com"===i}},21798:(t,r,i)=>{i.d(r,{A:()=>E});var s,o=i(81856);i(57845);var a=i(30781),u=i(92713),d=i(33715),c=i(55048),p=i(91838);i(61939);var h=i(53480),f=i(12709),y=i(7780),m=i(13852),g=i(91839),_=i(71086),v=i(1345),w=i(81998),b=i(76558);let M=new a.J({esriServerPointLabelPlacementAboveCenter:"above-center",esriServerPointLabelPlacementAboveLeft:"above-left",esriServerPointLabelPlacementAboveRight:"above-right",esriServerPointLabelPlacementBelowCenter:"below-center",esriServerPointLabelPlacementBelowLeft:"below-left",esriServerPointLabelPlacementBelowRight:"below-right",esriServerPointLabelPlacementCenterCenter:"center-center",esriServerPointLabelPlacementCenterLeft:"center-left",esriServerPointLabelPlacementCenterRight:"center-right",esriServerLinePlacementAboveAfter:"above-after",esriServerLinePlacementAboveAlong:"above-along",esriServerLinePlacementAboveBefore:"above-before",esriServerLinePlacementAboveStart:"above-start",esriServerLinePlacementAboveEnd:"above-end",esriServerLinePlacementBelowAfter:"below-after",esriServerLinePlacementBelowAlong:"below-along",esriServerLinePlacementBelowBefore:"below-before",esriServerLinePlacementBelowStart:"below-start",esriServerLinePlacementBelowEnd:"below-end",esriServerLinePlacementCenterAfter:"center-after",esriServerLinePlacementCenterAlong:"center-along",esriServerLinePlacementCenterBefore:"center-before",esriServerLinePlacementCenterStart:"center-start",esriServerLinePlacementCenterEnd:"center-end",esriServerPolygonPlacementAlwaysHorizontal:"always-horizontal"},{ignoreUnknown:!0});function S(t,r,i){return{enabled:!(0,_.TU)(i?.layer)}}function A(t){return!t||"service"!==t.origin&&"map-image"!==t.layer?.type}function T(t){return"map-image"===t?.type&&!!t.capabilities?.exportMap?.supportsArcadeExpressionForLabeling}let x=s=class extends u.A{static evaluateWhere(t,r){let i=(t,r,i)=>{switch(r){case"=":return t==i;case"<>":return t!=i;case">":return t>i;case">=":return t>=i;case"<":return t<i;case"<=":return t<=i}return!1};try{if(null==t)return!0;let s=t.split(" ");if(3===s.length)return i(r[s[0]],s[1],s[2]);if(7===s.length){let t=i(r[s[0]],s[1],s[2]),o=s[3],a=i(r[s[4]],s[5],s[6]);switch(o){case"AND":return t&&a;case"OR":return t||a}}return!1}catch(t){}}constructor(t){super(t),this.type="label",this.name=null,this.allowOverrun=!1,this.deconflictionStrategy="static",this.labelExpression=null,this.labelExpressionInfo=null,this.labelPlacement=null,this.labelPosition="curved",this.maxScale=0,this.minScale=0,this.repeatLabel=!0,this.repeatLabelDistance=null,this.symbol=v.Hk,this.useCodedValues=void 0,this.where=null}readLabelExpression(t,r){let i=r.labelExpressionInfo;if(!i||!i.value&&!i.expression)return t}writeLabelExpression(t,r,i){if(this.labelExpressionInfo){if(null!=this.labelExpressionInfo.value)t=(0,g.D3)(this.labelExpressionInfo.value);else if(null!=this.labelExpressionInfo.expression){let r=(0,g.tH)(this.labelExpressionInfo.expression);r&&(t="["+r+"]")}}null!=t&&(r[i]=t)}writeLabelExpressionInfo(t,r,i,s){if(null==t&&null!=this.labelExpression&&A(s))t=new m.A({expression:this.getLabelExpressionArcade()});else if(!t)return;let o=t.toJSON(s);o.expression&&(r[i]=o)}writeMaxScale(t,r){(t||this.minScale)&&(r.maxScale=t)}writeMinScale(t,r){(t||this.maxScale)&&(r.minScale=t)}getLabelExpression(){return(0,g.XJ)(this)}getLabelExpressionArcade(){return(0,g.BI)(this)}getLabelExpressionSingleField(){return(0,g.rU)(this)}hash(){return JSON.stringify(this)}clone(){return new s({allowOverrun:this.allowOverrun,deconflictionStrategy:this.deconflictionStrategy,labelExpression:this.labelExpression,labelExpressionInfo:(0,d.o8)(this.labelExpressionInfo),labelPosition:this.labelPosition,labelPlacement:this.labelPlacement,maxScale:this.maxScale,minScale:this.minScale,name:this.name,repeatLabel:this.repeatLabel,repeatLabelDistance:this.repeatLabelDistance,symbol:(0,d.o8)(this.symbol),where:this.where,useCodedValues:this.useCodedValues})}};(0,o._)([(0,p.MZ)({type:String,json:{write:!0}})],x.prototype,"name",void 0),(0,o._)([(0,p.MZ)({type:Boolean,json:{write:!0,default:!1,origins:{"web-scene":{write:!1},"portal-item":{default:!1,write:{overridePolicy:S}}}}})],x.prototype,"allowOverrun",void 0),(0,o._)([(0,p.MZ)({type:String,json:{write:!0,default:"static",origins:{"web-scene":{write:!1},"portal-item":{default:"static",write:{overridePolicy:S}}}}})],x.prototype,"deconflictionStrategy",void 0),(0,o._)([(0,p.MZ)({type:String,json:{write:{overridePolicy(t,r,i){return this.labelExpressionInfo&&"service"===i?.origin&&T(i.layer)?{enabled:!1}:{allowNull:!0}}}}})],x.prototype,"labelExpression",void 0),(0,o._)([(0,h.w)("labelExpression")],x.prototype,"readLabelExpression",null),(0,o._)([(0,y.K)("labelExpression")],x.prototype,"writeLabelExpression",null),(0,o._)([(0,p.MZ)({type:m.A,json:{write:{overridePolicy:(t,r,i)=>!function(t){return A(t)||T(t?.layer)}(i)?{enabled:!1}:{allowNull:!0}}}})],x.prototype,"labelExpressionInfo",void 0),(0,o._)([(0,y.K)("labelExpressionInfo")],x.prototype,"writeLabelExpressionInfo",null),(0,o._)([(0,p.MZ)({type:M.apiValues,json:{type:M.jsonValues,read:M.read,write:M.write}})],x.prototype,"labelPlacement",void 0),(0,o._)([(0,p.MZ)({type:["curved","parallel"],json:{write:!0,origins:{"web-map":{write:!1},"web-scene":{write:!1},"portal-item":{write:!1}}}})],x.prototype,"labelPosition",void 0),(0,o._)([(0,p.MZ)({type:Number})],x.prototype,"maxScale",void 0),(0,o._)([(0,y.K)("maxScale")],x.prototype,"writeMaxScale",null),(0,o._)([(0,p.MZ)({type:Number})],x.prototype,"minScale",void 0),(0,o._)([(0,y.K)("minScale")],x.prototype,"writeMinScale",null),(0,o._)([(0,p.MZ)({type:Boolean,json:{write:!0,origins:{"web-scene":{write:!1},"portal-item":{write:{overridePolicy:S}}}}})],x.prototype,"repeatLabel",void 0),(0,o._)([(0,p.MZ)({type:Number,cast:c.cr,json:{write:!0,origins:{"web-scene":{write:!1},"portal-item":{write:{overridePolicy:S}}}}})],x.prototype,"repeatLabelDistance",void 0),(0,o._)([(0,p.MZ)({types:b.em,json:{origins:{"web-scene":{types:b.Rv,write:w.oO,default:null}},write:w.oO,default:null}})],x.prototype,"symbol",void 0),(0,o._)([(0,p.MZ)({type:Boolean,json:{write:!0}})],x.prototype,"useCodedValues",void 0),(0,o._)([(0,p.MZ)({type:String,json:{write:!0}})],x.prototype,"where",void 0);let E=x=s=(0,o._)([(0,f.$)("esri.layers.support.LabelClass")],x)},21892:(t,r,i)=>{i.d(r,{P:()=>M,L:()=>S});var s=i(81856),o=i(28690),a=i(42108),u=i(33715),d=i(44151);class c{constructor(){this._propertyOriginMap=new Map,this._originStores=Array(d.AU),this._values=new Map,this.multipleOriginsSupported=!0}clone(t){let r=new c,i=this._originStores[d.Gr.DEFAULTS];i&&i.forEach((t,i)=>{r.set(i,(0,u.o8)(t),d.Gr.DEFAULTS)});for(let i=d.Gr.SERVICE;i<d.AU;i++){let s=this._originStores[i];s&&s.forEach((s,o)=>{t&&t.has(o)||r.set(o,(0,u.o8)(s),i)})}return r}get(t,r){let i=void 0===r?this._values:this._originStores[r];return i?i.get(t):void 0}keys(t){let r=null==t?this._values:this._originStores[t];return r?[...r.keys()]:[]}set(t,r,i=d.Gr.USER){let s=this._originStores[i];if(s||(s=new Map,this._originStores[i]=s),s.set(t,r),!this._values.has(t)||this._propertyOriginMap.get(t)<=i){let s=this._values.get(t);return this._values.set(t,r),this._propertyOriginMap.set(t,i),s!==r}return!1}delete(t,r=d.Gr.USER){let i=this._originStores[r];if(!i)return;let s=i.get(t);if(i.delete(t),this._values.has(t)&&this._propertyOriginMap.get(t)===r){this._values.delete(t);for(let i=r-1;i>=0;i--){let r=this._originStores[i];if(r&&r.has(t)){this._values.set(t,r.get(t)),this._propertyOriginMap.set(t,i);break}}}return s}has(t,r){let i=void 0===r?this._values:this._originStores[r];return!!i&&i.has(t)}revert(t,r){for(;r>0&&!this.has(t,r);)--r;let i=this._originStores[r],s=i?.get(t),o=this._values.get(t);return this._values.set(t,s),this._propertyOriginMap.set(t,r),o!==s}originOf(t){return this._propertyOriginMap.get(t)||d.Gr.DEFAULTS}forEach(t){this._values.forEach(t)}}var p=i(352),h=i(30225),f=i(12709);let y=t=>{let r=class extends t{constructor(...t){super(...t);let r=(0,h.oY)(this),i=r.store,s=new c;r.store=s,(0,a.k)(r,i,s)}read(t,r){(0,p.L)(this,t,r)}getAtOrigin(t,r){let i=m(this),s=(0,d.aB)(r);if("string"==typeof t)return i.get(t,s);let o={};return t.forEach(t=>{o[t]=i.get(t,s)}),o}originOf(t){return(0,d.OL)(this.originIdOf(t))}originIdOf(t){return m(this).originOf(t)}revert(t,r){let i=m(this),s=(0,d.aB)(r),o=(0,h.oY)(this);("string"==typeof t?"*"===t?i.keys(s):[t]:t).forEach(t=>{o.invalidate(t),i.revert(t,s),o.commit(t)})}};return(0,s._)([(0,f.$)("esri.core.ReadOnlyMultiOriginJSONSupport")],r)};function m(t){return(0,h.oY)(t).store}let g=class extends y(o.A){};g=(0,s._)([(0,f.$)("esri.core.ReadOnlyMultiOriginJSONSupport")],g);var _=i(84588),v=i(84627);let w=t=>{let r=class extends t{constructor(...t){super(...t)}clear(t,r="user"){return b(this).delete(t,(0,d.aB)(r))}write(t,r){return(0,v.M)(this,t=t||{},r),t}setAtOrigin(t,r,i){(0,h.oY)(this).setAtOrigin(t,r,(0,d.aB)(i))}removeOrigin(t){let r=b(this),i=(0,d.aB)(t);for(let t of r.keys(i))r.originOf(t)===i&&r.set(t,r.get(t,i),d.Gr.USER)}updateOrigin(t,r){let i=b(this),s=(0,d.aB)(r),o=(0,_.Jt)(this,t);for(let r=s+1;r<d.AU;++r)i.delete(t,r);i.set(t,o,s)}toJSON(t){return this.write({},t)}};return(r=(0,s._)([(0,f.$)("esri.core.MultiOriginJSONSupport.WriteableMultiOriginJSONSupport")],r)).prototype.toJSON.isDefaultToJSON=!0,r};function b(t){return(0,h.oY)(t).store}let M=t=>{let r=class extends w(y(t)){constructor(...t){super(...t)}};return(0,s._)([(0,f.$)("esri.core.MultiOriginJSONSupport")],r)},S=class extends M(o.A){};S=(0,s._)([(0,f.$)("esri.core.MultiOriginJSONSupport")],S)},22164:(t,r,i)=>{i.d(r,{$:()=>o});var s=i(41390);function o(){return function(t,r){var i;if(!t[r])throw TypeError(`Cannot auto bind undefined function '${String(r)}'`);return{value:(i=t[r],function(t,...r){!function(t){let r=t?.type;return t instanceof KeyboardEvent||"keyup"===r||"keydown"===r||"keypress"===r}(t)?i.call(this,t,...r):(0,s.OU)(t.key)&&(t.preventDefault(),t.stopPropagation(),t.target.click())})}}}},22191:(t,r,i)=>{i.d(r,{A:()=>w});var s,o=i(81856),a=i(70152),u=i(30781),d=i(33715),c=i(55048),p=i(91838);i(57845),i(61939);var h=i(33498),f=i(12709),y=i(7780),m=i(1681),g=i(71230);let _=new u.J({esriSMSCircle:"circle",esriSMSSquare:"square",esriSMSCross:"cross",esriSMSX:"x",esriSMSDiamond:"diamond",esriSMSTriangle:"triangle",esriSMSPath:"path"}),v=s=class extends m.A{constructor(...t){super(...t),this.color=new a.A([255,255,255,.25]),this.type="simple-marker",this.size=12,this.style="circle",this.outline=new g.A}normalizeCtorArgs(t,r,i,s){if(t&&"string"!=typeof t)return t;let o={};return t&&(o.style=t),null!=r&&(o.size=(0,c.cr)(r)),i&&(o.outline=i),s&&(o.color=s),o}writeColor(t,r){t&&"x"!==this.style&&"cross"!==this.style&&(r.color=t.toJSON()),null===t&&(r.color=null)}set path(t){this.style="path",this._set("path",t)}clone(){return new s({angle:this.angle,color:(0,d.o8)(this.color),outline:this.outline&&this.outline.clone(),path:this.path,size:this.size,style:this.style,xoffset:this.xoffset,yoffset:this.yoffset})}hash(){return`${super.hash()}.${this.color&&this.color.hash()}.${this.path}.${this.style}.${this.outline?.hash()}`}};(0,o._)([(0,p.MZ)()],v.prototype,"color",void 0),(0,o._)([(0,y.K)("color")],v.prototype,"writeColor",null),(0,o._)([(0,h.e)({esriSMS:"simple-marker"},{readOnly:!0})],v.prototype,"type",void 0),(0,o._)([(0,p.MZ)()],v.prototype,"size",void 0),(0,o._)([(0,p.MZ)({type:_.apiValues,json:{read:_.read,write:_.write}})],v.prototype,"style",void 0),(0,o._)([(0,p.MZ)({type:String,json:{write:!0}})],v.prototype,"path",null),(0,o._)([(0,p.MZ)({types:{key:"type",base:null,defaultKeyValue:"simple-line",typeMap:{"simple-line":g.A}},json:{default:null,write:!0}})],v.prototype,"outline",void 0);let w=v=s=(0,o._)([(0,f.$)("esri.symbols.SimpleMarkerSymbol")],v)},22301:(t,r,i)=>{i.d(r,{C:()=>h,v:()=>p});var s=i(61939),o=i(34184),a=i(58985),u=i(94401),d=i(1298);let c=()=>s.A.getLogger("esri.core.accessorSupport.extensions.serializableProperty.reader");function p(t,r,i){var s;t&&(!i&&!r.read||r.read?.reader||!1===r.read?.enabled||("types"in(s=t)?_(s.types):g(s.type))&&(0,o.sM)("read.reader",h(t),r))}function h(t){let r=t.ndimArray??0;if(r>1){var i=t;let r=(function t(r,i,s,o){return 0!==o&&Array.isArray(i)?i.map(i=>t(r,i,s,o-1)):r(i,void 0,s)}).bind(null,f(i)),s=i.ndimArray??0;return(t,i,o)=>{if(null==t)return t;t=r(t,o,s);let a=s,u=t;for(;a>0&&Array.isArray(u);)a--,u=u[0];if(void 0!==u)for(let r=0;r<a;r++)t=[t];return t}}if(1===r)return y(t);if("type"in t&&m(t.type)){let r=t.type.prototype?.itemType?.Type,i=y("function"==typeof r?{type:r}:{types:r});return(r,s,o)=>{let a=i(r,s,o);return a?new t.type(a):a}}return f(t)}function f(t){var r;return"type"in t?(r=t.type).prototype.read?(t,i,s)=>{if(null==t)return t;let o=typeof t;if("object"!==o)return void c().error(`Expected JSON value of type 'object' to deserialize type '${r.prototype.declaredClass}', but got '${o}'`);let a=new r;return a.read(t,s),a}:r.fromJSON:function(t){let r=null,i=t.errorContext??"type",s=t.validate;return(o,d,p)=>{if(null==o)return o;let h=typeof o;if("object"!==h)return void c().error(`Expected JSON value of type 'object' to deserialize, but got '${h}'`);r||(r=function(t){let r={};for(let i in t.typeMap){let s=t.typeMap[i],o=(0,u.tD)(s.prototype);if("function"==typeof t.key)continue;let a=o[t.key];if(!a)continue;if(a.json?.type&&Array.isArray(a.json.type)&&1===a.json.type.length&&"string"==typeof a.json.type[0]){r[a.json.type[0]]=s;continue}let d=a.json?.write;if(!d?.writer){r[i]=s;continue}let c=d.target,p="string"==typeof c?c:t.key,h={};d.writer(i,h,p),h[p]&&(r[h[p]]=s)}return r}(t));let f=t.key;if("string"!=typeof f)return;let y=o[f],m=y?r[y]:t.defaultKeyValue?t.typeMap[t.defaultKeyValue]:void 0;if(!m){let t=`Type '${y||"unknown"}' is not supported`;return p?.messages&&o&&p.messages.push(new a.A(`${i}:unsupported`,t,{definition:o,context:p})),void c().error(t)}let g=new m;return g.read(o,p),s?s(g):g}}(t.types)}function y(t){let r=f(t);return(t,i,s)=>{if(null==t)return t;if(Array.isArray(t)){let i=[];for(let o of t){let t=r(o,void 0,s);void 0!==t&&i.push(t)}return i}let o=r(t,void 0,s);return void 0!==o?[o]:void 0}}function m(t){if(!(0,d.P)(t))return!1;let r=t.prototype.itemType;return!(!r||!r.Type)&&("function"==typeof r.Type?g(r.Type):_(r.Type))}function g(t){return!Array.isArray(t)&&!!t&&t.prototype&&("read"in t.prototype||"fromJSON"in t||m(t))}function _(t){for(let r in t.typeMap)if(!g(t.typeMap[r]))return!1;return!0}},22303:(t,r,i)=>{i.d(r,{v:()=>d});var s=i(33715),o=i(62761),a=i(24965);class u{constructor(t,r){this._observable=new a.I,this._value=t,this._equalityFunction=r}get value(){return(0,o.gc)(this._observable),this._value}set value(t){this._equalityFunction(t,this._value)||(this._value=t,this._observable.notify())}mutate(t){t(this._value),this._observable.notify()}}function d(t,r=s.gh){return new u(t,r)}},22313:(t,r,i)=>{i.d(r,{A:()=>s});class s{constructor(t,r=30){this.name=t,this._counter=0,this._samples=Array(r)}push(t){null!=t&&(this._samples[++this._counter%this._samples.length]=t)}set(t){null!=t&&(this._samples[this._counter%this._samples.length]=t)}get median(){return this._samples.slice().sort((t,r)=>t-r)[Math.floor(this._samples.length/2)]}get average(){return this._samples.reduce((t,r)=>t+r,0)/this._samples.length}get last(){return this._samples[this._counter%this._samples.length]}}},22812:(t,r,i)=>{i.d(r,{h:()=>I});var s=i(81856),o=i(91838);i(57845);var a=i(61939);i(33638);var u=i(53480),d=i(12709),c=i(7780),p=i(39265),h=i(98189),f=i(59630),y=i(2568),m=i(11004),g=i(86926),_=i(28690),v=i(30781),w=i(58985);let b={color:h.A,size:m.A,opacity:f.A,rotation:y.A},M=new v.J({colorInfo:"color",transparencyInfo:"opacity",rotationInfo:"rotation",sizeInfo:"size"}),S=/^\[([^\]]+)\]$/i,A=class extends _.A{constructor(){super(...arguments),this.colorVariables=null,this.opacityVariables=null,this.rotationVariables=null,this.sizeVariables=null}set visualVariables(t){if(this._resetVariables(),t=t?.filter(t=>!!t),t?.length){for(let r of t)switch(r.type){case"color":this.colorVariables.push(r);break;case"opacity":this.opacityVariables.push(r);break;case"rotation":this.rotationVariables.push(r);break;case"size":this.sizeVariables.push(r)}this.sizeVariables.length&&this.sizeVariables.some(t=>!!t.target)&&t.sort((t,r)=>t.target===r.target?0:t.target?1:-1);for(let r=0;r<t.length;r++)t[r].index=r;this._set("visualVariables",t)}else this._set("visualVariables",t)}readVariables(t,r,i){let{rotationExpression:s,rotationType:o}=r,u=s?.match(S),d=u?.[1];if(d&&(t||(t=[]),t.push({type:"rotationInfo",rotationType:o,field:d})),t)return t.map(t=>{let r=M.read(t.type),s=b[r];s||(a.A.getLogger(this).warn(`Unknown variable type: ${r}`),i?.messages&&i.messages.push(new w.A("visual-variable:unsupported",`visualVariable of type '${r}' is not supported`,{definition:t,context:i})));let o=new s;return o.read(t,i),o})}writeVariables(t,r){let i=[];for(let s of t){let t=s.toJSON(r);t&&i.push(t)}return i}_resetVariables(){this.colorVariables=[],this.opacityVariables=[],this.rotationVariables=[],this.sizeVariables=[]}};(0,s._)([(0,o.MZ)()],A.prototype,"visualVariables",null);let T=A=(0,s._)([(0,d.$)("esri.renderers.visualVariables.VisualVariableFactory")],A);var x=i(8064);let E={base:g.A,key:"type",typeMap:{opacity:f.A,color:h.A,rotation:y.A,size:m.A}},I=t=>{let r=class extends t{constructor(){super(...arguments),this._vvFactory=new T}set visualVariables(t){this._vvFactory.visualVariables=t,this._set("visualVariables",this._vvFactory.visualVariables)}readVisualVariables(t,r,i){return this._vvFactory.readVariables(t,r,i)}writeVisualVariables(t,r,i,s){r[i]=this._vvFactory.writeVariables(t,s)}get arcadeRequiredForVisualVariables(){return this.visualVariables?.some(({arcadeRequired:t})=>t)??!1}hasVisualVariables(t,r){return t?this.getVisualVariablesForType(t,r).length>0:this.getVisualVariablesForType("size",r).length>0||this.getVisualVariablesForType("color",r).length>0||this.getVisualVariablesForType("opacity",r).length>0||this.getVisualVariablesForType("rotation",r).length>0}getVisualVariablesForType(t,r){return this.visualVariables?.filter(i=>i.type===t&&("string"==typeof r?i.target===r:!1!==r||!i.target))??[]}async collectVVRequiredFields(t,r){let i=[];for(let s of(this.visualVariables&&(i=i.concat(this.visualVariables)),i))s&&(s.field&&(0,p.rq)(t,r,s.field),s.normalizationField&&(0,p.rq)(t,r,s.normalizationField),s.valueExpression&&(function(t,r,i){let s=(0,x.D)(t);return null!=s&&((0,p.rq)(r,i,s),!0)}(s.valueExpression,t,r)||await (0,p.Dx)(t,r,s.valueExpression)))}};return(0,s._)([(0,o.MZ)({types:[E],value:null,json:{write:!0}})],r.prototype,"visualVariables",null),(0,s._)([(0,u.w)("visualVariables",["visualVariables","rotationType","rotationExpression"])],r.prototype,"readVisualVariables",null),(0,s._)([(0,c.K)("visualVariables")],r.prototype,"writeVisualVariables",null),r=(0,s._)([(0,d.$)("esri.renderers.mixins.VisualVariablesMixin")],r)}},23041:(t,r,i)=>{i.d(r,{V:()=>c});var s,o=i(81856),a=i(28690),u=i(91838);i(57845),i(61939),i(33638);var d=i(12709);let c=s=class extends a.A{constructor(){super(...arguments),this.url=""}clone(){return new s({url:this.url})}};(0,o._)([(0,u.MZ)({type:String})],c.prototype,"url",void 0),c=s=(0,o._)([(0,d.$)("esri.symbols.support.Thumbnail")],c)},23106:(t,r,i)=>{i.d(r,{Ao:()=>u,KQ:()=>d,Tg:()=>a});var s=i(31461),o=i(81713);function a(t){return!!t&&null!=o.j[t]}function u(t){return 1/(o.j[t]||1)}let d=function(){let t=Object.keys(o.j);return(0,s.TF)(t,"decimal-degrees"),t.sort(),t}()},23226:(t,r,i)=>{i.d(r,{It:()=>g,LG:()=>d,OM:()=>h,Sm:()=>f,Y:()=>c,bK:()=>p,mm:()=>m,sQ:()=>y});var s=i(65111),o=i(91463),a=i(6322);async function u(t){let r=t.spatialReference;if(r.isWGS84)return t.clone();if(r.isWebMercator)return(0,a.ci)(t);let i=o.A.WGS84;return await (0,s.initializeProjection)(r,i),(0,s.project)(t,i)}function d(t,r){if(!c(t,r)){let i=t.typeKeywords;i?i.push(r):t.typeKeywords=[r]}}function c(t,r){return!!t.typeKeywords?.includes(r)}function p(t){return c(t,m.HOSTED_SERVICE)}function h(t,r){let i=t.typeKeywords;if(i){let t=i.indexOf(r);t>-1&&i.splice(t,1)}}function f(t,r,i){i?d(t,r):h(t,r)}async function y(t){let r,i=t.clone().normalize();if(i.length>1)for(let t of i)r?t.width>r.width&&(r=t):r=t;else r=i[0];return u(r)}let m={DEVELOPER_BASEMAP:"DeveloperBasemap",GROUP_LAYER_MAP:"Map",HOSTED_SERVICE:"Hosted Service",JSAPI:"ArcGIS API for JavaScript",LOCAL_SCENE:"ViewingMode-Local",METADATA:"Metadata",MULTI_LAYER:"Multilayer",ORIENTED_IMAGERY_LAYER:"OrientedImageryLayer",SINGLE_LAYER:"Singlelayer",SUBTYPE_GROUP_LAYER:"SubtypeGroupLayer",SUBTYPE_GROUP_TABLE:"SubtypeGroupTable",TABLE:"Table",TILED_IMAGERY:"Tiled Imagery"};function g(t){let{portal:r,isOrgItem:i,itemControl:s}=t,o=r.user?.privileges,a=!o||o.includes("features:user:edit"),u=!!i&&!!o?.includes("features:user:fullEdit"),d="update"===s||"admin"===s;return d?u=a=!0:u&&(a=!0),{features:{edit:a,fullEdit:u},content:{updateItem:d}}}},23281:(t,r,i)=>{i.d(r,{j:()=>u});var s=i(81856),o=i(91838);i(57845),i(61939),i(33638);var a=i(12709);let u=t=>{let r=class extends t{constructor(){super(...arguments),this.minScale=0,this.maxScale=0}get effectiveScaleRange(){var t,r;let i={minScale:this.minScale,maxScale:this.maxScale},s=this.parent;s&&"effectiveScaleRange"in s&&(t=i,r=s.effectiveScaleRange,t.minScale=t.minScale>0?r.minScale>0?Math.min(t.minScale,r.minScale):t.minScale:r.minScale,t.maxScale=t.maxScale>0?r.maxScale>0?Math.max(t.maxScale,r.maxScale):t.maxScale:r.maxScale);let o=this._get("effectiveScaleRange");return o&&o.minScale===i.minScale&&o.maxScale===i.maxScale?o:i}};return(0,s._)([(0,o.MZ)({type:Number,nonNullable:!0,json:{write:!0}})],r.prototype,"minScale",void 0),(0,s._)([(0,o.MZ)({type:Number,nonNullable:!0,json:{write:!0}})],r.prototype,"maxScale",void 0),(0,s._)([(0,o.MZ)({readOnly:!0})],r.prototype,"effectiveScaleRange",null),r=(0,s._)([(0,a.$)("esri.layers.mixins.ScaleRangeLayer")],r)}},23356:(t,r,i)=>{i.d(r,{As:()=>f,Ug:()=>y,Wp:()=>h,z4:()=>p});var s=i(34184),o=i(22301),a=i(26232),u=i(6015),d=i(81998),c=i(76558);let p={types:c.xK,json:{write:{writer:d.M9},origins:{"web-scene":{types:c.On,write:{writer:d.M9},read:{reader:(0,o.C)({types:c.On})}}}}},h=(0,s.$N)({json:{origins:{"web-scene":{write:{isRequired:!0}}}}},p),f={types:{base:u.A,key:"type",typeMap:{"simple-fill":c.Es.typeMap["simple-fill"],"picture-fill":c.Es.typeMap["picture-fill"],"polygon-3d":c.Es.typeMap["polygon-3d"],cim:c.Es.typeMap.cim}},json:{write:{writer:d.M9},origins:{"web-scene":{type:a.A,write:{writer:d.M9}}}}},y={cast:t=>null==t||"string"==typeof t||"number"==typeof t?t:`${t}`,json:{type:String,write:{writer:(t,r)=>{r.value=t?.toString()}}}}},23716:(t,r,i)=>{let s;i.d(r,{V:()=>p,W:()=>h});var o=i(61830);let a=!1,u=t=>{a=!0,(0,o.s)(t)};var d=i(81048);i(57845);var c=i(90525);function p(){a||u((0,c.s2)((0,d.s)(s)))}function h(t){let r=[];for(let i of Object.keys(t))customElements.get(`calcite-${i}`)||r.push(t[i]?.());return r.length>0?Promise.all(r):null}s="components/assets"},24626:(t,r,i)=>{i.d(r,{A:()=>h});var s,o=i(81856),a=i(91838);i(57845),i(61939),i(33638);var u=i(12709),d=i(18106),c=i(37261);let p=s=class extends d.A{constructor(t){super(t),this.type="column-chart"}clone(){return new s({altText:this.altText,title:this.title,caption:this.caption,value:this.value?.clone()})}};(0,o._)([(0,a.MZ)({type:["column-chart"],readOnly:!0,json:{type:["columnchart"],read:!1,write:{writer:c.U.write,isRequired:!0}}})],p.prototype,"type",void 0);let h=p=s=(0,o._)([(0,u.$)("esri.popup.content.ColumnChartMediaInfo")],p)},24743:(t,r,i)=>{i.d(r,{LF:()=>h,dM:()=>f,sU:()=>c});var s=i(81856),o=i(91838);i(57845),i(61939),i(33638);var a=i(12709),u=i(89800),d=i(27318);let c={type:["average","color-burn","color-dodge","color","darken","destination-atop","destination-in","destination-out","destination-over","difference","exclusion","hard-light","hue","invert","lighten","lighter","luminosity","minus","multiply","normal","overlay","plus","reflect","saturation","screen","soft-light","source-atop","source-in","source-out","vivid-light","xor"],nonNullable:!0,json:{read:!1,write:!1,origins:{"web-map":{read:!0,write:{layerContainerTypes:u.K}},"portal-item":{read:!0,write:{layerContainerTypes:u.K}}}}},p={read:{reader:d.LF},write:{allowNull:!0,writer:d.M9,layerContainerTypes:u.K}},h={json:{read:!1,write:!1,origins:{"web-map":p,"portal-item":p}}},f=t=>{let r=class extends t{constructor(){super(...arguments),this.blendMode="normal",this.effect=null}};return(0,s._)([(0,o.MZ)(c)],r.prototype,"blendMode",void 0),(0,s._)([(0,o.MZ)(h)],r.prototype,"effect",void 0),r=(0,s._)([(0,a.$)("esri.layers.mixins.BlendLayer")],r)}},24842:(t,r,i)=>{i.d(r,{Lx:()=>u,eF:()=>d,eO:()=>a,io:()=>c});var s=i(57845);let o=new WeakMap;function a(t,r,i={}){if((0,s.A)("esri-deprecation-warnings")){let{moduleName:s}=i;c(t,`Function: ${(s?s+"::":"")+r+"()"}`,i)}}function u(t,r,i={}){if((0,s.A)("esri-deprecation-warnings")){let{moduleName:s}=i;c(t,`Property: ${(s?s+"::":"")+r}`,i)}}function d(t,r,i={}){(0,s.A)("esri-deprecation-warnings")&&c(t,`Multiple argument constructor: ${r}`,{warnOnce:!0,replacement:`new ${r}({ <your properties here> })`,...i})}function c(t,r,i={}){if((0,s.A)("esri-deprecation-warnings")){let{replacement:s,version:a,see:u,warnOnce:d}=i,c=r;if(s&&(c+=`
	 Replacement: ${s}`),a&&(c+=`
	 Version: ${a}`),u)if(Array.isArray(u))for(let t of(c+="\n	\uD83D\uDD17 See for more details:",u))c+=`
		${t}`;else c+=`
	 See ${u} for more details.`;!function(t,r,i=!1){let s=` DEPRECATED - ${r}`;if(!i)return t.warn(s);let a=o.get(t);a||(a=new Set,o.set(t,a)),a.has(r)||(a.add(r),t.warn(s))}(t,c,d)}}},24860:(t,r,i)=>{i.d(r,{D:()=>a,p:()=>o});var s=i(86942);function o(t){return Math.max(0,Math.min((0,s.Vr)(100*(1-t)),100))}function a(t){return Math.max(0,Math.min(1-t/100,1))}},24927:(t,r,i)=>{function s(t){return null!=t&&"object"==typeof t&&"declaredClass"in t&&"esri.WebMap"===t.declaredClass}i.d(r,{Y:()=>o,r:()=>s});let o=new(i(962)).R(2,33)},24965:(t,r,i)=>{i.d(r,{I:()=>o});var s=i(25734);class o extends s.T{notify(){let t=this._observers;if(t&&t.length>0)for(let r of t.slice())r.onInvalidated(),r.onCommitted()}}},25045:(t,r,i)=>{i.d(r,{P:()=>o});var s=i(98570);class o extends s.A{constructor(){super(...arguments),this._set=new Set}destroy(){super.destroy(),this._set=null}acquire(...t){let r=super.acquire(...t);return this._set.delete(r),r}release(t){t&&!this._set.has(t)&&(super.release(t),this._set.add(t))}_dispose(t){this._set.delete(t),super._dispose(t)}}},25451:(t,r,i)=>{i.d(r,{Bb:()=>R,W6:()=>s,mj:()=>M,nu:()=>P});var s,o,a,u=i(55434);i(57845);var d=i(61939),c=i(40941),p=i(22313),h=i(87196),f=i(92753),y=i(45257),m=i(22303),g=i(63430),_=i(31788),v=i(68972),w=i(84227),b=i(97303);function M(){return new o.Scheduler}!function(t){t.RESOURCE_CONTROLLER_IMMEDIATE="immediate",t.RESOURCE_CONTROLLER="schedule",t.SLIDE="slide",t.STREAM_DATA_LOADER="stream loader",t.ELEVATION_QUERY="elevation query",t.TERRAIN_SURFACE="terrain",t.SURFACE_GEOMETRY_UPDATES="surface geometry updates",t.LOD_RENDERER="LoD renderer",t.GRAPHICS_CORE="Graphics3D",t.I3S_CONTROLLER="I3S",t.POINT_CLOUD_LAYER="point cloud",t.FEATURE_TILE_FETCHER="feature fetcher",t.OVERLAY="overlay",t.STAGE="stage",t.GRAPHICS_DECONFLICTOR="graphics deconflictor",t.FILTER_VISIBILITY="Graphics3D filter visibility",t.SCALE_VISIBILITY="Graphics3D scale visibility",t.FRUSTUM_VISIBILITY="Graphics3D frustum visibility",t.POINT_OF_INTEREST_FREQUENT="POI frequent",t.POINT_OF_INTEREST_INFREQUENT="POI infrequent",t.LABELER="labeler",t.FEATURE_QUERY_ENGINE="feature query",t.FEATURE_TILE_TREE="feature tile tree",t.FEATURE_TILE_TREE_ACTIVE="fast feature tile tree",t.ELEVATION_ALIGNMENT="elevation alignment",t.ELEVATION_ALIGNMENT_SCENE="elevation alignment scene",t.TEXT_TEXTURE_ATLAS="text texture atlas",t.TEXTURE_UNLOAD="texture unload",t.LINE_OF_SIGHT_TOOL="line of sight tool",t.LINE_OF_SIGHT_TOOL_INTERACTIVE="interactive line of sight tool",t.ELEVATION_PROFILE="elevation profile",t.SNAPPING="snapping",t.SHADOW_ACCUMULATOR="shadow accumulator",t.CLOUDS_GENERATOR="clouds generator",t.MAPVIEW_FETCH_QUEUE="mapview fetch queue",t.MAPVIEW_LAYERVIEW_UPDATE="mapview layerview update",t.MAPVIEW_VECTOR_TILE_PARSING_QUEUE="mapview vector tile parsing queue",t[t.NONE=0]="NONE",t[t.TEST_PRIO=1]="TEST_PRIO"}(s||(s={}));let S=new Map([[s.RESOURCE_CONTROLLER_IMMEDIATE,0],[s.RESOURCE_CONTROLLER,4],[s.SLIDE,0],[s.STREAM_DATA_LOADER,0],[s.ELEVATION_QUERY,0],[s.TERRAIN_SURFACE,1],[s.SURFACE_GEOMETRY_UPDATES,1],[s.LOD_RENDERER,2],[s.GRAPHICS_CORE,2],[s.I3S_CONTROLLER,2],[s.POINT_CLOUD_LAYER,2],[s.FEATURE_TILE_FETCHER,2],[s.CLOUDS_GENERATOR,2],[s.OVERLAY,4],[s.STAGE,4],[s.GRAPHICS_DECONFLICTOR,4],[s.FILTER_VISIBILITY,4],[s.SCALE_VISIBILITY,4],[s.FRUSTUM_VISIBILITY,4],[s.POINT_OF_INTEREST_FREQUENT,6],[s.POINT_OF_INTEREST_INFREQUENT,30],[s.LABELER,8],[s.FEATURE_QUERY_ENGINE,8],[s.FEATURE_TILE_TREE,16],[s.FEATURE_TILE_TREE_ACTIVE,0],[s.ELEVATION_ALIGNMENT,12],[s.ELEVATION_ALIGNMENT_SCENE,14],[s.TEXT_TEXTURE_ATLAS,12],[s.TEXTURE_UNLOAD,12],[s.LINE_OF_SIGHT_TOOL,16],[s.LINE_OF_SIGHT_TOOL_INTERACTIVE,0],[s.SNAPPING,0],[s.SHADOW_ACCUMULATOR,30],[s.MAPVIEW_FETCH_QUEUE,0],[s.MAPVIEW_LAYERVIEW_UPDATE,2],[s.MAPVIEW_VECTOR_TILE_PARSING_QUEUE,0]]);function A(t){return S.has(t)?S.get(t):"number"==typeof t?t:1}let T=(0,g.l5)(6.5),x=(0,g.l5)(1),E=(0,g.l5)(30),I=(0,g.l5)(1e3/30),C=(0,g.l5)(100);!function(t){class r{get updating(){return this._updating.value}_updatingChanged(){this._updating.value=this._tasks.some(t=>t.needsUpdate)}constructor(){for(let t of(this._updating=(0,m.v)(!0),this._microTaskQueued=!1,this._frameNumber=0,this.performanceInfo={total:new p.A("total"),tasks:new Map},this._frameTaskTimes=new Map,this._budget=new o,this._state=w.M.INTERACTING,this._tasks=new h.A,this._runQueue=new h.A,this._load=0,this._idleStateCallbacks=new h.A,this._idleUpdatesStartFired=!1,this._forceTask=!1,this._debug=!1,this._debugHandle=(0,y.wB)(()=>v.A.SCHEDULER_LOG_SLOW_TASKS,t=>this._debug=t,y.Vh),Object.keys(s)))this.performanceInfo.tasks.set(s[t],new p.A(s[t]))}destroy(){this._tasks.toArray().forEach(t=>t.remove()),this._tasks.clear(),(0,c.xt)(this._debugHandle),this._microTaskQueued=!1,this._updatingChanged()}taskRunningChanged(t){this._updatingChanged(),t&&this._budget.remaining>0&&!this._microTaskQueued&&(this._microTaskQueued=!0,queueMicrotask(()=>{this._microTaskQueued&&(this._microTaskQueued=!1,this._budget.remaining>0&&this._schedule()&&this._runFrame())}))}registerTask(t,r){let s=new i(this,t,r);return this._tasks.push(s),this._updatingChanged(),this.performanceInfo.tasks.has(t)||this.performanceInfo.tasks.set(t,new p.A(t)),s}registerIdleStateCallbacks(t,r){let i={idleBegin:t,idleEnd:r};this._idleStateCallbacks.push(i),this.state===w.M.IDLE&&this._idleUpdatesStartFired&&i.idleBegin();let s=this;return{remove:()=>this._removeIdleStateCallbacks(i),set idleBegin(e){s._idleUpdatesStartFired&&(i.idleEnd(),s._state===w.M.IDLE&&e()),i.idleBegin=e},set idleEnd(e){i.idleEnd=e}}}get load(){return this._load}set state(t){this._state!==t&&(this._state=t,this.state!==w.M.IDLE&&this._idleUpdatesStartFired&&(this._idleUpdatesStartFired=!1,this._idleStateCallbacks.forAll(t=>t.idleEnd())))}get state(){return this._state}frame(t){this._startFrameTaskTimes();let r=this._updateBudget(t);if(r){let t=this._budget.now();this._runFrame(),this._recordFrameTaskTimes(this._budget.now()-t)}else this._recordFrameTaskTimes(0);return r}_updateBudget(t){this._test&&(this._test.usedBudget=0),++this._frameNumber;let r=T,i=t.frameDuration,s=x;switch(this.state){case w.M.IDLE:r=(0,g.l5)(0),i=(0,g.l5)(Math.max(C,t.frameDuration)),s=E;break;case w.M.INTERACTING:i=(0,g.l5)(Math.max(I,t.frameDuration));case w.M.ANIMATING:}return i=(0,g.l5)(i-t.elapsedFrameTime-r),this.state!==w.M.IDLE&&i<x&&!this._forceTask?(this._forceTask=!0,!1):(i=(0,g.l5)(Math.max(i,s)),this._budget.reset(i,this.state),this._updateLoad(),this._schedule())}_runFrame(){switch(this._forceTask=!1,this._microTaskQueued=!1,this.state){case w.M.IDLE:this._idleUpdatesStartFired||(this._idleUpdatesStartFired=!0,this._idleStateCallbacks.forAll(t=>t.idleBegin())),this._runIdle();break;case w.M.INTERACTING:this._runInteracting();break;default:this._runAnimating()}this._test&&(this._test.usedBudget=this._budget.elapsed)}stopFrame(){this._budget.reset((0,g.l5)(0),this._state),this._budget.madeProgress()}_removeIdleStateCallbacks(t){this._idleUpdatesStartFired&&t.idleEnd(),this._idleStateCallbacks.removeUnordered(t)}removeTask(t){this._tasks.removeUnordered(t),this._runQueue.removeUnordered(t),this._updatingChanged()}_updateTask(t){this._tasks.forAll(r=>{r.name===t&&r.setPriority(t)})}_getState(t){if(this._runQueue.some(r=>r.name===t))return a.SCHEDULED;let r=a.IDLE;return this._tasks.forAll(i=>{i.name===t&&i.needsUpdate&&(i.schedulePriority<=1?r=a.READY:r!==a.READY&&(r=a.WAITING))}),r}_getRuntime(t){let r=0;return this._tasks.forAll(i=>{i.name===t&&(r+=i.runtime)}),r}_resetRuntimes(){this._tasks.forAll(t=>t.runtime=0)}_getRunning(){let t=new Map;if(this._tasks.forAll(r=>{r.needsUpdate&&t.set(r.name,(t.get(r.name)||0)+1)}),0===t.size)return null;let r="";return t.forEach((t,i)=>{r+=t>1?` ${t}x ${i}`:` ${i}`}),r}_runIdle(){this._run()}_runInteracting(){this._run()}_runAnimating(){this._run()}_updateLoad(){let t=this._tasks.reduce((t,r)=>r.needsUpdate?++t:t,0);this._load=.9*this._load+.09999999999999998*t}_schedule(){for(this._runQueue.filterInPlace(t=>!!t.needsUpdate||(t.schedulePriority=t.basePriority,!1)),this._tasks.forAll(t=>{0===t.basePriority&&t.needsUpdate&&!this._runQueue.includes(t)&&t.blockFrame!==this._frameNumber&&this._runQueue.unshift(t)});0===this._runQueue.length;){let t=!1,r=0;if(this._tasks.forAll(i=>{i.needsUpdate&&0!==i.schedulePriority&&0!==i.basePriority&&i.blockFrame!==this._frameNumber&&((t=!0,r=Math.max(r,i.basePriority),1===i.schedulePriority)?(i.schedulePriority=0,this._runQueue.push(i)):--i.schedulePriority)}),!t)return this._updatingChanged(),!1}return this._updatingChanged(),!0}_run(){do for(;this._runQueue.length>0;){let t=this._budget.now(),r=this._runQueue.pop();this._budget.resetProgress();try{r.task.runTask(this._budget)===b.G&&(r.blockFrame=this._frameNumber)}catch(t){d.A.getLogger("esri.views.support.Scheduler").error(`Exception in task "${r.name}"`,t),r.blockFrame=this._frameNumber}!this._budget.hasProgressed&&r.blockFrame!==this._frameNumber&&r.needsUpdate&&(r.name,s.I3S_CONTROLLER,r.blockFrame=this._frameNumber),r.schedulePriority=r.basePriority;let i=this._budget.now()-t;if(r.runtime+=i,this._frameTaskTimes.set(r.priority,this._frameTaskTimes.get(r.priority)+i),this._budget.remaining<=0)return void this._updatingChanged()}while(this._schedule());this._updatingChanged()}_startFrameTaskTimes(){for(let t of Object.keys(s))this._frameTaskTimes.set(s[t],0)}_recordFrameTaskTimes(t){this._frameTaskTimes.forEach((t,r)=>this.performanceInfo.tasks.get(r).push(t)),this.performanceInfo.total.push(t)}get test(){return this._test}}t.Scheduler=r;class i{get task(){return this._task.value}get updating(){return this._queue.running}constructor(t,r,i){this._scheduler=t,this.name=r,this.blockFrame=0,this.runtime=0,this._queue=new _.T,this._handles=new u.A,this._basePriority=A(r),this.schedulePriority=this._basePriority,this._task=(0,m.v)(null!=i?i:this._queue),this._handles.add((0,y.z7)(()=>this.task.running,r=>t.taskRunningChanged(r)))}remove(){this.processQueue(R),this._scheduler.removeTask(this),this.schedule=P.schedule,this.reschedule=P.reschedule,this._handles.destroy()}get basePriority(){return this._basePriority}setPriority(t){if(this.name===t)return;this.name=t;let r=A(t);0!==this._basePriority&&0===this.schedulePriority||(this.schedulePriority=r),this._basePriority=r}get priority(){return this.name}set priority(t){this.setPriority(t)}get needsUpdate(){return this.updating||this.task.running}schedule(t,r,i){return this._queue.push(t,r,i)}reschedule(t,r,i){return this._queue.unshift(t,r,i)}processQueue(t){return this._queue.runTask(t)}}class o{constructor(){this._begin="undefined"!=typeof performance?performance.now():0,this._budget=0,this._state=w.M.IDLE,this._done=!1,this._progressed=!1,this._enabled=!0}run(t){return!this.done&&(!0===t()&&this.madeProgress(),!0)}get done(){return this._done}get budget(){return this._budget}madeProgress(){return this._progressed=!0,this._done=this.elapsed>=this._budget&&this._enabled,this._done}get state(){return this._state}get enabled(){return this._enabled}set enabled(t){this._enabled=t}reset(t,r){this._begin=this.now(),this._budget=t,this._state=r,this.resetProgress()}get remaining(){return Math.max(this._budget-this.elapsed,0)}now(){return performance.now()}get elapsed(){return this.now()-this._begin}resetProgress(){this._progressed=!1,this._done=!1}get hasProgressed(){return this._progressed}}t.Budget=o}(o||(o={})),function(t){t.SCHEDULED="s",t.READY="r",t.WAITING="w",t.IDLE="i"}(a||(a={}));let R=(()=>{let t=new o.Budget;return t.enabled=!1,t})();class O{remove(){}processQueue(){}schedule(t,r,i){try{if((0,f.G4)(r)){let t=(0,f.NK)();return i?Promise.resolve(i(t)):Promise.reject(t)}return(0,f.z7)(t(R))}catch(t){return Promise.reject(t)}}reschedule(t,r,i){return this.schedule(t,r,i)}}let P=new O},25561:(t,r,i)=>{function s(){return new Float32Array(2)}function o(t,r){let i=new Float32Array(2);return i[0]=t,i[1]=r,i}function a(){return s()}function u(){return o(1,1)}function d(){return o(1,0)}function c(){return o(0,1)}i.d(r,{Un:()=>h,fA:()=>o,uY:()=>p,vt:()=>s});let p=a(),h=u();Object.freeze(Object.defineProperty({__proto__:null,ONES:h,UNIT_X:d(),UNIT_Y:c(),ZEROS:p,clone:function(t){let r=new Float32Array(2);return r[0]=t[0],r[1]=t[1],r},create:s,createView:function(t,r){return new Float32Array(t,r,2)},fromValues:o,ones:u,unitX:d,unitY:c,zeros:a},Symbol.toStringTag,{value:"Module"}))},25606:(t,r,i)=>{i.d(r,{O7:()=>I,Hr:()=>E,el:()=>x,mT:()=>C,XX:()=>S});var s=i(48767),o=i(32391),a=i(61939),u=i(87960),d=i(65442),c=i(97559),p=i(71760),h=i(6322),f=i(39166),y=i(31789),m=i(86277);async function g(t,r,i,s){let o=(0,m.Dl)(t),a=r[0].spatialReference,u={...s,responseType:"json",query:{...o.query,f:"json",sr:(0,p.YX)(a),target:JSON.stringify({geometryType:(0,y.$B)(r[0]),geometries:r}),cutter:JSON.stringify(i)}},{cutIndexes:d,geometries:c=[]}=(await (0,f.A)(o.path+"/cut",u)).data;return{cutIndexes:d,geometries:c.map(t=>{let r=(0,y.rS)(t);return r.spatialReference=a,r})}}var _=i(90525),v=i(29201);async function w(t,r,i){let s="string"==typeof t?(0,_.An)(t):t,o=r[0].spatialReference,a=(0,y.$B)(r[0]),u={...i,query:{...s.query,f:"json",sr:(0,p.YX)(o),geometries:JSON.stringify((0,v.X)(r))}},{data:d}=await (0,f.A)(s.path+"/simplify",u);return(0,v.V)(d.geometries,a,o)}let b=()=>a.A.getLogger("esri.geometry.support.normalizeUtils");function M(t){let r=[],i=0,s=0;for(let o=0;o<t.length;o++){let a=t[o],u=null;for(let t=0;t<a.length;t++)u=a[t],r.push(u),0===t?s=i=u[0]:(i=Math.min(i,u[0]),s=Math.max(s,u[0]));u&&r.push([(i+s)/2,0])}return r}function S(t,r){if(!(t instanceof d.A||t instanceof u.A)){let t="straightLineDensify: the input geometry is neither polyline nor polygon";throw b().error(t),new o.A(t)}let i=(0,c.r8)(t),s=[];for(let t of i){let i=[];s.push(i),i.push([t[0][0],t[0][1]]);for(let s=0;s<t.length-1;s++){let o=t[s][0],a=t[s][1],u=t[s+1][0],d=t[s+1][1],c=Math.sqrt((u-o)*(u-o)+(d-a)*(d-a)),p=(d-a)/c,h=(u-o)/c,f=c/r;if(f>1){for(let t=1;t<=f-1;t++){let s=t*r,u=h*s+o,d=p*s+a;i.push([u,d])}let t=(c+Math.floor(f-1)*r)/2,s=h*t+o,u=p*t+a;i.push([s,u])}i.push([u,d])}}return"polygon"===t.type?new u.A({rings:s,spatialReference:t.spatialReference}):new d.A({paths:s,spatialReference:t.spatialReference})}function A(t,r,i){if(r){let r=S(t,1e6);t=(0,h.ci)(r,!0)}return i&&(t=(0,c.kS)(t,i)),t}function T(t,r,i){if(Array.isArray(t)){let s=t[0];if(s>r){let i=(0,c.kd)(s,r);t[0]=s+-2*r*i}else if(s<i){let r=(0,c.kd)(s,i);t[0]=s+-2*i*r}}else{let s=t.x;if(s>r){let i=(0,c.kd)(s,r);t=t.clone().offset(-2*r*i,0)}else if(s<i){let r=(0,c.kd)(s,i);t=t.clone().offset(-2*i*r,0)}}return t}async function x(t,r,i){if(!Array.isArray(t))return x([t],r);r&&"string"!=typeof r&&b().warn("normalizeCentralMeridian()","The url object is deprecated, use the url string instead");let o="string"==typeof r?r:r?.url??s.A.geometryServiceUrl,a,f,y,m,_,v,M,S,E=0,I=[],C=[];for(let r of t)if(null!=r)if(a||(a=r.spatialReference,f=(0,p.Vp)(a),v=(y=a.isWebMercator)?102100:4326,m=c.j7[v].maxX,_=c.j7[v].minX,M=c.j7[v].plus180Line,S=c.j7[v].minus180Line),f)if("mesh"===r.type)C.push(r);else if("point"===r.type)C.push(T(r.clone(),m,_));else if("multipoint"===r.type){let t=r.clone();t.points=t.points.map(t=>T(t,m,_)),C.push(t)}else if("extent"===r.type){let t=r.clone()._normalize(!1,!1,f);C.push(t.rings?new u.A(t):t)}else if(r.extent){let t=r.extent,i=(0,c.kd)(t.xmin,_)*(2*m),s=0===i?r.clone():(0,c.kS)(r.clone(),i);t.offset(i,0);let{xmin:o,xmax:a}=t;o=Number(o.toFixed(9)),a=Number(a.toFixed(9)),t.intersects(M)&&a!==m?(E=a>E?a:E,s=A(s,y),I.push(s),C.push("cut")):t.intersects(S)&&o!==_?(E=2*m*a>E?2*m*a:E,s=A(s,y,360),I.push(s),C.push("cut")):C.push(s)}else C.push(r.clone());else C.push(r);else C.push(r);let R=(0,c.kd)(E,m),O=-90,P=R,N=new d.A;for(;R>0;){let t=360*R-180;N.addPath([[t,O],[t,-1*O]]),O*=-1,R--}if(I.length>0&&P>0){let r=function(t,r){let i=-1;for(let s=0;s<r.cutIndexes.length;s++){let o=r.cutIndexes[s],a=r.geometries[s],u=(0,c.r8)(a);for(let t=0;t<u.length;t++){let r=u[t];r.some(i=>{if(i[0]<180)return!0;{let i=0;for(let t=0;t<r.length;t++){let s=r[t][0];i=s>i?s:i}i=Number(i.toFixed(9));let s=-360*(0,c.kd)(i,180);for(let i=0;i<r.length;i++){let r=a.getPoint(t,i);a.setPoint(t,i,r.clone().offset(s,0))}return!0}})}if(o===i){if("polygon"===t[0].type)for(let r of(0,c.r8)(a))t[o]=t[o].addRing(r);else if("polyline"===t[0].type)for(let r of(0,c.r8)(a))t[o]=t[o].addPath(r)}else i=o,t[o]=a}return t}(I,await g(o,I,N,i)),s=[],a=[];for(let i=0;i<C.length;i++){let o=C[i];if("cut"!==o)a.push(o);else{let o=r.shift(),u=t[i];null!=u&&"polygon"===u.type&&u.rings&&u.rings.length>1&&o.rings.length>=u.rings.length?(s.push(o),a.push("simplify")):a.push(y?(0,h.Gh)(o):o)}}if(!s.length)return a;let u=await w(o,s,i),d=[];for(let t=0;t<a.length;t++){let r=a[t];"simplify"!==r?d.push(r):d.push(y?(0,h.Gh)(u.shift()):u.shift())}return d}let k=[];for(let t=0;t<C.length;t++){let r=C[t];if("cut"!==r)k.push(r);else{let t=I.shift();k.push(!0===y?(0,h.Gh)(t):t)}}return k}function E(t){if(!t)return null;let r=t.extent;if(!r)return null;let i=t.spatialReference&&(0,p.Vp)(t.spatialReference);if(!i)return r;let[s,o]=i.valid,{width:a}=r,u,{xmin:d,xmax:c}=r;if([d,c]=[c,d],"extent"===t.type||0===a||a<=o||a>2*o||d<s||c>o)return r;switch(t.type){case"polygon":if(!(t.rings.length>1))return r;u=M(t.rings);break;case"polyline":if(!(t.paths.length>1))return r;u=M(t.paths);break;case"multipoint":u=t.points}let h=r.clone();for(let t=0;t<u.length;t++){let r=u[t][0];r<0?(r+=o,c=Math.max(r,c)):(r-=o,d=Math.min(r,d))}return h.xmin=d,h.xmax=c,h.width<a?(h.xmin-=o,h.xmax-=o,h):r}function I(t,r,i){let s=(0,p.Vp)(i);if(null==s)return t;let[o,a]=s.valid,u=2*a,d=0,c=0;r>a?d=Math.ceil(Math.abs(r-a)/u):r<o&&(d=-Math.ceil(Math.abs(r-o)/u)),t>a?c=Math.ceil(Math.abs(t-a)/u):t<o&&(c=-Math.ceil(Math.abs(t-o)/u));let h=t+(d-c)*u,f=h-r;return f>a?h-=u:f<o&&(h+=u),h}function C(t,r){let i=(0,p.Vp)(r);if(i){let[r,s]=i.valid,o=s-r;if(t<r)for(;t<r;)t+=o;if(t>s)for(;t>s;)t-=o}return t}},25734:(t,r,i)=>{i.d(r,{T:()=>u});var s=i(19158),o=i(31461);class a{constructor(t,r){this._observers=t,this._observer=r}remove(){(0,o.TF)(this._observers,this._observer)}}class u{constructor(){this._observers=null,this.destroyed=!1}observe(t){if(this.destroyed||t.destroyed)return d;null==this._observers&&(this._observers=[]);let r=this._observers,i=!1,s=!1,o=r.length;for(let a=0;a<o;++a){let o=r[a];if(o.destroyed)s=!0;else if(o===t){i=!0;break}}return i||(r.push(t),s&&this._removeDestroyedObservers()),new a(r,t)}_removeDestroyedObservers(){let t=this._observers;if(!t||0===t.length)return;let r=t.length,i=0;for(let s=0;s<r;++s){for(;s+i<r&&t[s+i].destroyed;)++i;if(i>0){if(!(s+i<r))break;t[s]=t[s+i]}}t.length=r-i}destroy(){if(this.destroyed)return;this.destroyed=!0;let t=this._observers;if(null!=t){for(let r of t)r.onCommitted();this._observers=null}}}let d=(0,s.hA)()},25765:(t,r,i)=>{var s;i.d(r,{i:()=>s}),function(t){t[t.Dirty=1]="Dirty",t[t.Overridden=2]="Overridden",t[t.Computing=4]="Computing",t[t.NonNullable=8]="NonNullable",t[t.HasDefaultValue=16]="HasDefaultValue",t[t.DepTrackingInitialized=32]="DepTrackingInitialized",t[t.AutoTracked=64]="AutoTracked",t[t.ExplicitlyTracking=128]="ExplicitlyTracking"}(s||(s={}))},25779:(t,r,i)=>{i.d(r,{A:()=>p});var s=i(19158);i(57845);var o=i(92753),a=i(27298),u=i(7404),d=i(59217),c=i(31393);class p{constructor(){this._inUseClients=[],this._clients=[],this._clientPromises=[],this._ongoingJobsQueue=new a.A}destroy(){this.close()}get closed(){return!this._clients?.length}open(t,r){return new Promise((i,s)=>{let a=!0,u=t=>{(0,o.Te)(r.signal),a&&(a=!1,t())};this._clients.length=t.length,this._clientPromises.length=t.length,this._inUseClients.length=t.length;for(let a=0;a<t.length;++a){let d=t[a];(0,o.$X)(d)?this._clientPromises[a]=d.then(t=>(this._clients[a]=new c.A(t,r,this._ongoingJobsQueue),u(i),this._clients[a]),()=>(u(s),null)):(this._clients[a]=new c.A(d,r,this._ongoingJobsQueue),this._clientPromises[a]=Promise.resolve(this._clients[a]),u(i))}})}broadcast(t,r,i){let s=Array(this._clientPromises.length);for(let o=0;o<this._clientPromises.length;++o){let a=this._clientPromises[o];s[o]=a.then(s=>s?.invoke(t,r,i))}return s}close(){let t;for(;t=this._ongoingJobsQueue.pop();)t.resolver.reject((0,o.NK)(`Worker closing, aborting job calling '${t.methodName}'`));for(let t of this._clientPromises)t.then(t=>t?.close());this._clients.length=0,this._clientPromises.length=0,this._inUseClients.length=0,(0,u.h)(this)}invoke(t,r,i){return this.apply(t,[r],i)}apply(t,r,i){let s=(0,o.Tw)();this._ongoingJobsQueue.push({methodName:t,data:r,invokeOptions:i,resolver:s});for(let t=0;t<this._clientPromises.length;t++){let r=this._clients[t];r?r.jobAdded():this._clientPromises[t].then(t=>t?.jobAdded())}return s.promise}createInvokeProxy(t){return(0,d.L)(this,t)}on(t,r){return Promise.all(this._clientPromises).then(()=>(0,s.vE)(this._clients.map(i=>i.on(t,r))))}openPorts(){return new Promise(t=>{let r=Array(this._clientPromises.length),i=r.length;for(let s=0;s<this._clientPromises.length;++s)this._clientPromises[s].then(o=>{o&&(r[s]=o.openPort()),0==--i&&t(r)})})}get test(){}}},25868:(t,r,i)=>{i.d(r,{A:()=>p});var s,o=i(81856),a=i(92713),u=i(91838);i(57845),i(61939),i(33638);var d=i(12709);let c=s=class extends a.A{constructor(t){super(t),this.name=null,this.title=null,this.expression=null,this.returnType=null}clone(){return new s({name:this.name,title:this.title,expression:this.expression,returnType:this.returnType})}};(0,o._)([(0,u.MZ)({type:String,json:{write:!0}})],c.prototype,"name",void 0),(0,o._)([(0,u.MZ)({type:String,json:{write:!0}})],c.prototype,"title",void 0),(0,o._)([(0,u.MZ)({type:String,json:{write:!0}})],c.prototype,"expression",void 0),(0,o._)([(0,u.MZ)({type:["string","number"],json:{write:!0}})],c.prototype,"returnType",void 0);let p=c=s=(0,o._)([(0,d.$)("esri.popup.ExpressionInfo")],c)},25930:(t,r,i)=>{i.d(r,{A:()=>p});var s=i(81856),o=i(71017),a=i(92713),u=i(91838);i(57845),i(61939),i(33638);var d=i(12709);let c=class extends o.A.ClonableMixin(a.A){constructor(t){super(t),this.expression=null,this.title=null,this.returnType=null}};(0,s._)([(0,u.MZ)({type:String,json:{write:!0}})],c.prototype,"expression",void 0),(0,s._)([(0,u.MZ)({type:String,json:{write:!0}})],c.prototype,"title",void 0),(0,s._)([(0,u.MZ)({type:String,json:{write:!0}})],c.prototype,"returnType",void 0);let p=c=(0,s._)([(0,d.$)("esri.layers.support.ExpressionInfo")],c)},25954:(t,r,i)=>{i.d(r,{J:()=>f});var s,o=i(60733),a=i(81856);i(61939),i(57845),i(33638),i(32391);var u=i(33498),d=i(12709);let c=s=class extends o.A{constructor(t){super(t),this.type="sketch"}clone(){return new s(this.cloneProperties())}};(0,a._)([(0,u.e)({sketch:"sketch"},{readOnly:!0})],c.prototype,"type",void 0);let p=c=s=(0,a._)([(0,d.$)("esri.symbols.edges.SketchEdges3D")],c);var h=i(15964);let f={types:{key:"type",base:o.A,typeMap:{solid:h.A,sketch:p}},json:{write:!0}}},25995:(t,r,i)=>{i.d(r,{G:()=>s});let s=Symbol("Accessor-beforeDestroy")},25999:(t,r,i)=>{i.d(r,{A:()=>m});var s,o=i(81856),a=i(30781),u=i(92713),d=i(33715),c=i(91838);i(57845),i(61939);var p=i(12709),h=i(7780);let f=new a.J({count:"count",sum:"sum",min:"min",max:"max",avg:"avg",stddev:"stddev",var:"var",exceedslimit:"exceedslimit",percentile_cont:"percentile-continuous",percentile_disc:"percentile-discrete",EnvelopeAggregate:"envelope-aggregate",CentroidAggregate:"centroid-aggregate",ConvexHullAggregate:"convex-hull-aggregate"}),y=s=class extends u.A{constructor(t){super(t),this.maxPointCount=void 0,this.maxRecordCount=void 0,this.maxVertexCount=void 0,this.onStatisticField=null,this.outStatisticFieldName=null,this.statisticType=null,this.statisticParameters=null}writeStatisticParameters(t,r){"percentile-continuous"!==this.statisticType&&"percentile-discrete"!==this.statisticType||(r.statisticParameters=(0,d.o8)(t))}clone(){return new s({maxPointCount:this.maxPointCount,maxRecordCount:this.maxRecordCount,maxVertexCount:this.maxVertexCount,onStatisticField:this.onStatisticField,outStatisticFieldName:this.outStatisticFieldName,statisticType:this.statisticType,statisticParameters:(0,d.o8)(this.statisticParameters)})}};(0,o._)([(0,c.MZ)({type:Number,json:{write:!0}})],y.prototype,"maxPointCount",void 0),(0,o._)([(0,c.MZ)({type:Number,json:{write:!0}})],y.prototype,"maxRecordCount",void 0),(0,o._)([(0,c.MZ)({type:Number,json:{write:!0}})],y.prototype,"maxVertexCount",void 0),(0,o._)([(0,c.MZ)({type:String,json:{write:!0}})],y.prototype,"onStatisticField",void 0),(0,o._)([(0,c.MZ)({type:String,json:{write:!0}})],y.prototype,"outStatisticFieldName",void 0),(0,o._)([(0,c.MZ)({type:String,json:{read:{source:"statisticType",reader:f.read},write:{target:"statisticType",writer:f.write}}})],y.prototype,"statisticType",void 0),(0,o._)([(0,c.MZ)({type:Object})],y.prototype,"statisticParameters",void 0),(0,o._)([(0,h.K)("statisticParameters")],y.prototype,"writeStatisticParameters",null);let m=y=s=(0,o._)([(0,p.$)("esri.rest.support.StatisticDefinition")],y)},26232:(t,r,i)=>{i.d(r,{A:()=>x});var s,o=i(81856),a=i(54335),u=i(24842),d=i(33715),c=i(61939),p=i(45257),h=i(91838);i(57845);var f=i(33498),y=i(12709),m=i(71924),g=i(92090),_=i(89050),v=i(31312),w=i(72025),b=i(16876),M=i(46567),S=i(56358);let A=a.A.ofType({base:null,key:"type",typeMap:{extrude:m.A,fill:g.A,icon:_.A,line:v.A,object:w.A,text:M.A,water:S.A}}),T=s=class extends b.A{constructor(t){super(t),this.symbolLayers=new A,this.type="polygon-3d"}initialize(){let t=t=>{"line"===t.type&&(0,u.io)(c.A.getLogger(this),"LineSymbol3DLayer can not be used as a SymbolLayer with a PolygonSymbol3D symbol anymore.",{replacement:"Use FillSymbol3DLayer.outline instead.",version:"4.28"}),"text"===t.type&&(0,u.io)(c.A.getLogger(this),"TextSymbol3DLayer can not be used as a SymbolLayer with a PolygonSymbol3D symbol anymore.",{replacement:"Use Labels instead.",version:"4.28"})};for(let r of this.symbolLayers)t(r);this.addHandles((0,p.on)(()=>this.symbolLayers,"after-add",({item:r})=>t(r),p.OH))}clone(){return new s({styleOrigin:(0,d.o8)(this.styleOrigin),symbolLayers:(0,d.o8)(this.symbolLayers),thumbnail:(0,d.o8)(this.thumbnail)})}static fromJSON(t){let r=new s;if(r.read(t),2===r.symbolLayers.length&&"fill"===r.symbolLayers.at(0).type&&"line"===r.symbolLayers.at(1).type){let i=r.symbolLayers.at(0),s=r.symbolLayers.at(1);!s.enabled||t.symbolLayers?.[1]&&!1===t.symbolLayers[1].enable||(i.outline={size:s.size,color:null!=s.material?s.material.color:null}),r.symbolLayers.removeAt(1)}return r}static fromSimpleFillSymbol(t){return new s({symbolLayers:new a.A([g.A.fromSimpleFillSymbol(t)])})}};(0,o._)([(0,h.MZ)({type:A,json:{write:!0}})],T.prototype,"symbolLayers",void 0),(0,o._)([(0,f.e)({PolygonSymbol3D:"polygon-3d"},{readOnly:!0})],T.prototype,"type",void 0);let x=T=s=(0,o._)([(0,y.$)("esri.symbols.PolygonSymbol3D")],T)},26474:(t,r,i)=>{i.d(r,{A:()=>p});var s,o=i(81856);i(61939),i(57845),i(33638),i(32391);var a=i(33498),u=i(12709),d=i(95048);let c=s=class extends d.A{constructor(t){super(t),this.type="inherited"}clone(){return new s}};(0,o._)([(0,a.e)({inherited:"inherited"})],c.prototype,"type",void 0);let p=c=s=(0,o._)([(0,u.$)("esri.layers.support.InheritedDomain")],c)},27298:(t,r,i)=>{i.d(r,{A:()=>a});var s=i(62761),o=i(24965);class a{constructor(t=t=>t.values().next().value){this._peeker=t,this._observable=new o.I,this._items=new Set}get length(){return(0,s.gc)(this._observable),this._items.size}clear(){0!==this.length&&(this._items.clear(),this._observable.notify())}last(){let t;if(0!==this.length){for(t of this._items);return t}}peek(){if(0!==this.length)return this._peeker(this._items)}push(t){this.contains(t)||(this._items.add(t),this._observable.notify())}contains(t){return(0,s.gc)(this._observable),this._items.has(t)}pop(){if(0===this.length)return;let t=this.peek();return this._items.delete(t),this._observable.notify(),t}popLast(){if(0===this.length)return;let t=this.last();return this._items.delete(t),this._observable.notify(),t}remove(t){this.contains(t)&&(this._items.delete(t),this._observable.notify())}filter(t){let r=this.length;return this._items.forEach(r=>{t(r)||this._items.delete(r)}),r!==this._items.size&&this._observable.notify(),this}*[Symbol.iterator](){(0,s.gc)(this._observable),yield*this._items}}},27318:(t,r,i)=>{i.d(r,{LF:()=>d,M9:()=>c,zu:()=>p});var s=i(32391),o=i(34184),a=i(61192),u=i(18876);function d(t,r,i){try{var s=t;if(!s||0===s.length)return null;if(function(t){let r=t[0];return!!r&&"scale"in r}(s)){let t=[];for(let r of s)t.push({scale:r.scale,value:p(r.value)});return t}return p(s)}catch(t){i?.messages?.push(t)}return null}function c(t,r,i,s){try{let s=function(t){let r=(0,a.q)(t);return r?(0,u.dw)(r)?r.map(t=>t.toJSON()):r.map(({scale:t,effects:r})=>({scale:t,value:r.map(t=>t.toJSON())})):null}(t);(0,o.sM)(i,s,r)}catch(t){s.messages&&s.messages.push(t)}}function p(t){if(!t?.length)return"";let r=[];for(let i of t){let t=[];switch(i.type){case"grayscale":case"sepia":case"saturate":case"invert":case"brightness":case"contrast":case"opacity":t=[h(i,"amount")];break;case"blur":t=[h(i,"radius","pt")];break;case"hue-rotate":t=[h(i,"angle","deg")];break;case"drop-shadow":t=[h(i,"xoffset","pt"),h(i,"yoffset","pt"),h(i,"blurRadius","pt"),function(t,r){if(null==t[r])throw new s.A("effect:missing-parameter",`Missing parameter '${r}' in ${t.type} effect`,{effect:t});let i=t[r];return`rgba(${i[0]||0}, ${i[1]||0}, ${i[2]||0}, ${i[3]/255||0})`}(i,"color")];break;case"bloom":t=[h(i,"strength"),h(i,"radius","pt"),h(i,"threshold")]}let o=`${i.type}(${t.filter(Boolean).join(" ")})`;(0,a.q)(o),r.push(o)}return r.join(" ")}function h(t,r,i){if(null==t[r])throw new s.A("effect:missing-parameter",`Missing parameter '${r}' in ${t.type} effect`,{effect:t});return i?t[r]+i:""+t[r]}},27675:(t,r,i)=>{i.d(r,{A:()=>p});var s=i(81856),o=i(71017),a=i(92713),u=i(91838);i(57845),i(61939),i(33638);var d=i(12709);let c=class extends o.A.ClonableMixin(a.A){constructor(){super(...arguments),this.showLegend=null,this.title=null}};(0,s._)([(0,u.MZ)({type:Boolean,json:{write:!0}})],c.prototype,"showLegend",void 0),(0,s._)([(0,u.MZ)({type:String,json:{write:!0}})],c.prototype,"title",void 0);let p=c=(0,s._)([(0,d.$)("esri.renderers.visualVariables.support.VisualVariableLegendOptions")],c)},28015:(t,r,i)=>{i.r(r),i.d(r,{default:()=>P});var s,o=i(81856),a=i(81048),u=i(32391),d=i(92713),c=i(33715),p=i(31551),h=i(90525),f=i(91838),y=i(86942),m=i(53480),g=i(12709),_=i(61414),v=i(14307),w=i(28690),b=i(61939),M=i(16352);i(57845),i(33638);let S=class extends w.A{constructor(t){super(t),this.portalItem=null}normalizeCtorArgs(t){return t?.portalItem&&t.path?{...t,path:A(t.path,t.portalItem)}:t}set path(t){null!=t&&(0,h.oP)(t)?b.A.getLogger(this).error("portalitemresource:invalid-path","A portal item resource path must be relative"):this._set("path",t)}_castPath(t){return A(t,this.portalItem)}get url(){return this.portalItem&&this.path?`${this.portalItem.itemUrl}/resources/${this.path}`:null}get cdnUrl(){return this.portalItem&&this.path?`${this.portalItem.itemCdnUrl}/resources/${this.path}`:null}get itemRelativeUrl(){return this.portalItem&&this.path?`./resources/${this.path}`:null}fetch(t="json",r){let i=this.cdnUrl;if(null==i)throw new u.A("portal-item-resource:fetch","Portal item resource does not refer to a valid item or path");return this.portalItem.portal.request(i,{responseType:t,query:{token:this.portalItem.apiKey,_ts:r?.cacheBust?Date.now():null},signal:r?.signal})}async update(t,r){let{addOrUpdateResources:s}=await i.e(8721).then(i.bind(i,58721));return await s(this.portalItem,[{resource:this,content:t,compress:r?.compress,access:r?.access}],"update",r),this}hasPath(){return null!=this.path}};function A(t,r){return null==t?t:(t=t.replace(/^\/+/,""),null!=r&&(0,h.oP)(t)&&(t=(0,h.V1)(t,r.itemUrl)),t?.replace(/^\/+/,"").replace(/^(\.\/)?resources\//,""))}(0,o._)([(0,f.MZ)()],S.prototype,"portalItem",void 0),(0,o._)([(0,f.MZ)({type:String,value:null})],S.prototype,"path",null),(0,o._)([(0,M.w)("path")],S.prototype,"_castPath",null),(0,o._)([(0,f.MZ)({type:String,readOnly:!0})],S.prototype,"url",null),(0,o._)([(0,f.MZ)({type:String,readOnly:!0})],S.prototype,"cdnUrl",null),(0,o._)([(0,f.MZ)({type:String,readOnly:!0})],S.prototype,"itemRelativeUrl",null);let T=S=(0,o._)([(0,g.$)("esri.portal.PortalItemResource")],S),x=class extends w.A{constructor(t){super(t),this.created=null,this.rating=null}};(0,o._)([(0,f.MZ)({type:Date})],x.prototype,"created",void 0),(0,o._)([(0,f.MZ)()],x.prototype,"rating",void 0);let E=x=(0,o._)([(0,g.$)("esri.portal.PortalRating")],x);var I=i(67546);let C=new Set(["3DTiles Service","CSV","Feature Collection","Feature Service","Feed","GeoJson","Group Layer","Image Service","KML","Map Service","Media Layer","Scene Service","Stream Service","Vector Tile Service","WFS","WMS","WMTS"]),R=new Set(["KML","GeoJson","CSV"]),O=s=class extends d.A.JSONSupportMixin(p.A){static from(t){return(0,y.PZ)(s,t)}constructor(t){super(t),this.access=null,this.accessInformation=null,this.apiKey=null,this.applicationProxies=null,this.avgRating=null,this.categories=null,this.classification=null,this.created=null,this.culture=null,this.description=null,this.extent=null,this.groupCategories=null,this.id=null,this.isOrgItem=!1,this.itemControl=null,this.licenseInfo=null,this.modified=null,this.name=null,this.numComments=null,this.numRatings=null,this.numViews=null,this.owner=null,this.ownerFolder=null,this.portal=null,this.screenshots=null,this.size=null,this.snippet=null,this.sourceJSON=null,this.sourceUrl=null,this.spatialReference=null,this.tags=null,this.title=null,this.type=null,this.typeKeywords=null,this.url=null}destroy(){this.portal=null}get displayName(){let t=this.type,r=this.typeKeywords||[],i=t;return"Feature Service"===t||"Feature Collection"===t?i=r.includes("Table")?"Table":r.includes("Route Layer")?"Route Layer":r.includes("Markup")?"Markup":"Feature Layer":"Image Service"===t?i=r.includes("Elevation 3D Layer")?"Elevation Layer":r.includes("Tiled Imagery")?"Tiled Imagery Layer":"Imagery Layer":"Scene Service"===t?i="Scene Layer":"Video Service"===t?i="Video Layer":"Scene Package"===t?i="Scene Layer Package":"Stream Service"===t?i="Feature Layer":"Geoprocessing Service"===t?i=r.includes("Web Tool")?"Tool":"Geoprocessing Service":"Geoenrichment Service"===t?i="GeoEnrichment Service":"Geocoding Service"===t?i="Locator":"Microsoft Powerpoint"===t?i="Microsoft PowerPoint":"GeoJson"===t?i="GeoJSON":"Globe Service"===t?i="Globe Layer":"Vector Tile Service"===t?i="Tile Layer":"netCDF"===t?i="NetCDF":"Map Service"===t?i=r.includes("Spatiotemporal")||!r.includes("Hosted Service")&&!r.includes("Tiled")||r.includes("Relational")?"Map Image Layer":"Tile Layer":t?.toLowerCase().includes("add in")?i=t.replaceAll(/(add in)/gi,"Add-In"):"datastore catalog service"===t?i="Big Data File Share":"Compact Tile Package"===t?i="Tile Package (tpkx)":"Raster function template"===t?i="Raster Function Template":"OGCFeatureServer"===t?i="OGC Feature Layer":"web mapping application"===t&&r.includes("configurableApp")?i="Instant App":"Insights Page"===t?i="Insights Report":"Excalibur Imagery Project"===t?i="Excalibur Project":"3DTiles Service"===t?i="3D tiles layer":"3DTiles Package"===t&&(i="3D tiles package"),i}readExtent(t){return t&&t.length?new _.A(t[0][0],t[0][1],t[1][0],t[1][1]):null}get iconUrl(){let t=this.type?.toLowerCase()||"",r=this.typeKeywords||[],i,s=!1,o=!1,u=!1,d=!1,c=!1,p=!1,h=!1,f=!1;return t.indexOf("service")>0||"feature collection"===t||"kml"===t||"wms"===t||"wmts"===t||"wfs"===t?(s=r.includes("Hosted Service"),"feature service"===t||"feature collection"===t||"kml"===t||"wfs"===t?(o=r.includes("Table"),u=r.includes("Route Layer"),d=r.includes("Markup"),c=r.includes("Spatiotemporal"),p=r.includes("UtilityNetwork"),i=c&&o?"spatiotemporaltable":o?"table":u?"routelayer":d?"markup":c?"spatiotemporal":p?"utilitynetwork":s?"featureshosted":"features"):"map service"===t||"wms"===t||"wmts"===t?(c=r.includes("Spatiotemporal"),h=r.includes("Relational"),i=c||h?"mapimages":s||r.includes("Tiled")||"wmts"===t?"maptiles":"mapimages"):i="scene service"===t?r.includes("Line")?"sceneweblayerline":r.includes("3DObject")?"sceneweblayermultipatch":r.includes("Point")?"sceneweblayerpoint":r.includes("IntegratedMesh")?"sceneweblayermesh":r.includes("PointCloud")?"sceneweblayerpointcloud":r.includes("Polygon")?"sceneweblayerpolygon":r.includes("Building")?"sceneweblayerbuilding":r.includes("Voxel")?"sceneweblayervoxel":"sceneweblayer":"image service"===t?r.includes("Elevation 3D Layer")?"elevationlayer":r.includes("Tiled Imagery")?"tiledimagerylayer":"imagery":"stream service"===t?"streamlayer":"vector tile service"===t?"vectortile":"datastore catalog service"===t?"datastorecollection":"geocoding service"===t?"geocodeservice":"video service"===t?r.includes("Live Stream")?"livestreamvideolayer":"videolayer":"geoprocessing service"===t?r.includes("Web Tool")?"tool":"layers":"geodata service"===t?"geodataservice":"3dtiles service"===t?r.includes("3DObject")?"3dobjecttileslayer":r.includes("IntegratedMesh")?"integratedmeshtileslayer":"3dtileslayer":"layers"):i="web map"===t||"cityengine web scene"===t?"maps":"web scene"===t?r.includes("ViewingMode-Local")?"webscenelocal":"websceneglobal":"web mapping application"===t&&r.includes("configurableApp")?"instantapps":"web mapping application"===t||"mobile application"===t||"application"===t||"operation view"===t||"desktop application"===t?"apps":"map document"===t||"map package"===t||"published map"===t||"scene document"===t||"globe document"===t||"basemap package"===t||"mobile basemap package"===t||"mobile map package"===t||"project package"===t||"project template"===t||"pro map"===t||"layout"===t||"layer"===t&&r.includes("ArcGIS Pro")||"explorer map"===t&&r.indexOf("Explorer Document")?"mapsgray":"service definition"===t||"shapefile"===t||"cad drawing"===t||"geojson"===t||"netcdf"===t||"administrative report"===t?"datafiles":"360 vr experience"===t?"360vr":"explorer add in"===t||"desktop add in"===t||"windows viewer add in"===t||"windows viewer configuration"===t?"appsgray":"arcgis pro add in"===t||"arcgis pro configuration"===t?"addindesktop":"pdf"===t?"pdf":"microsoft word"===t?"word":"microsoft excel"===t?"excel":"microsoft powerpoint"===t?"ppt":"rule package"===t||"file geodatabase"===t||"sqlite geodatabase"===t||"csv collection"===t||"kml collection"===t||"windows mobile package"===t||"map template"===t||"desktop application template"===t||"gml"===t||"arcpad package"===t||"code sample"===t||"document link"===t||"earth configuration"===t||"operations dashboard add in"===t||"rules package"===t||"workflow manager package"===t||"explorer map"===t&&r.includes("Explorer Mapping Application")||r.includes("Document")?"datafilesgray":"network analysis service"===t||"geoprocessing service"===t||"geodata service"===t||"geometry service"===t||"geoprocessing package"===t||"locator package"===t||"geoprocessing sample"===t||"workflow manager service"===t?"toolsgray":"layer"===t||"layer package"===t||"explorer layer"===t?"layersgray":"analysis model"===t?"analysismodel":"scene package"===t?"scenepackage":"3dtiles package"===t?"3dtileslayerpackage":"3dtiles service"===t?"3dtileslayer":"mobile scene package"===t?"mobilescenepackage":"tile package"===t||"compact tile package"===t?"tilepackage":"task file"===t?"taskfile":"report template"===t?"report-template":"statistical data collection"===t?"statisticaldatacollection":"insights workbook"===t?"workbook":"insights model"===t?"insightsmodel":"insights page"===t?"insightspage":"insights theme"===t?"insightstheme":"hub initiative"===t?"hubinitiative":"hub page"===t?"hubpage":"hub site application"===t?"hubsite":"hub event"===t?"hubevent":"hub project"===t?"hubproject":"relational database connection"===t?"relationaldatabaseconnection":"big data file share"===t?"datastorecollection":"image collection"===t?"imagecollection":"desktop style"===t?"desktopstyle":"style"===t?r.includes("Dictionary")?"dictionarystyle":"style":"dashboard"===t?"dashboard":"raster function template"===t?"rasterprocessingtemplate":"vector tile package"===t?"vectortilepackage":"ortho mapping project"===t?"orthomappingproject":"ortho mapping template"===t?"orthomappingtemplate":"solution"===t?"solutions":"geopackage"===t?"geopackage":"deep learning package"===t?"deeplearningpackage":"real time analytic"===t?"realtimeanalytics":"reality mapping project"===t?"realitymappingproject":"big data analytic"===t?"bigdataanalytics":"feed"===t?"feed":"excalibur imagery project"===t?"excaliburimageryproject":"notebook"===t?"notebook":"storymap"===t?"storymap":"survey123 add in"===t?"survey123addin":"mission"===t?"mission":"mission report"===t?"missionreport":"mission template"===t?"missiontemplate":"quickcapture project"===t?"quickcaptureproject":"pro report"===t?"proreport":"pro report template"===t?"proreporttemplate":"urban model"===t?"urbanmodel":"urban project"===t?"urbanproject":"web experience"===t?"experiencebuilder":"web experience template"===t?"webexperiencetemplate":"experience builder widget"===t?"experiencebuilderwidget":"experience builder widget package"===t?"experiencebuilderwidgetpackage":"workflow"===t?"workflow":"kernel gateway connection"===t?"kernelgatewayconnection":"insights script"===t?"insightsscript":"hub initiative template"===t?"hubinitiativetemplate":"storymap theme"===t?"storymaptheme":"knowledge graph"===t?"knowledgegraph":"knowledge graph layer"===t?"knowledgegraphlayer":"knowledge studio project"===t?"knowledgestudio":"native application"===t?"nativeapp":"native application installer"===t?"nativeappinstaller":"web link chart"===t?"linkchart":"knowledge graph web investigation"===t?"investigation":"ogcfeatureserver"===t?"features":"pro presentation"===t?"propresentation":"pro project"===t?"proproject":"insights workbook package"===t?"insightsworkbookpackage":"apache parquet"===t?"apacheparquet":"notebook code snippet library"===t?"notebookcodesnippets":"suitability model"===t?"suitabilitymodel":"esri classifier definition"===t?"classifierdefinition":"esri classification schema"===t?"classificationschema":"insights data engineering workbook"===t?"dataengineeringworkbook":"insights data engineering model"===t?"dataengineeringmodel":"deep learning studio project"===t?"deeplearningproject":"discussion"===t?"discussion":"allsource project"===t?"allsourceproject":"api key"===t?"apikey":"data pipeline"===t?"datapipelines":"group layer"===t?r.includes("Map")?"layergroup2d":"layergroup":"media layer"===t?"onlinemedialayer":"form"===t?r.includes("Survey123")?"survey":"datafilesgray":"csv"===t?"csv":"image"===t?"image":"maps",i?(0,a.s)("esri/images/portal/"+i+"16.png"):null}get isLayer(){return null!=this.type&&C.has(this.type)}get itemCdnUrl(){return(0,I.a)(this.itemUrl)}get itemPageUrl(){let t=this.portal?.itemPageUrl;return t&&this.id?`${t}?id=${this.id}`:null}get itemUrl(){let t=this.portal?.restUrl;return t&&this.id?`${t}/content/items/${this.id}`:null}get thumbnailUrl(){let t=this.itemUrl,r=this.thumbnail;return t&&r?this.portal?.normalizeUrl(`${t}/info/${r}?f=json`)??null:null}get userItemUrl(){let t=this.portal?.restUrl;if(!t)return null;let r=this.owner||this.portal?.user?.username;return r?`${t}/content/users/${this.ownerFolder?`${r}/${this.ownerFolder}`:r}/items/${this.id}`:null}load(t){let r=this.portal??(this.portal=v.A.getDefault()),i=r.load(t).then(()=>this.sourceJSON?this.sourceJSON:this.id&&this.itemUrl?r.request(this.itemUrl,{signal:null!=t?t.signal:null,query:{token:this.apiKey}}):{}).then(t=>{this.sourceJSON=t,this.read(t)});return this.addResolvingPromise(i),Promise.resolve(this)}async addRating(t){let r={method:"post",query:{}},i=t instanceof E?t.rating:t;return null==i||isNaN(i)||"number"!=typeof t||(r.query.rating=i),this.portal?(await this.portal.request(this.itemUrl+"/addRating",r),new E({rating:i,created:new Date})):null}clone(){let t={access:this.access,accessInformation:this.accessInformation,applicationProxies:(0,c.o8)(this.applicationProxies),avgRating:this.avgRating,categories:(0,c.o8)(this.categories),classification:(0,c.o8)(this.classification),created:(0,c.o8)(this.created),culture:this.culture,description:this.description,extent:(0,c.o8)(this.extent),groupCategories:(0,c.o8)(this.groupCategories),id:this.id,itemControl:this.itemControl,licenseInfo:this.licenseInfo,modified:(0,c.o8)(this.modified),name:this.name,numComments:this.numComments,numRatings:this.numRatings,numViews:this.numViews,owner:this.owner,ownerFolder:this.ownerFolder,portal:this.portal,screenshots:(0,c.o8)(this.screenshots),size:this.size,snippet:this.snippet,sourceUrl:this.sourceUrl,spatialReference:this.spatialReference,tags:(0,c.o8)(this.tags),thumbnail:this.thumbnail,title:this.title,type:this.type,typeKeywords:(0,c.o8)(this.typeKeywords),url:this.url};this.loaded&&(t.loadStatus="loaded");let r=new s({sourceJSON:this.sourceJSON}).set(t);return r._set("isOrgItem",this.isOrgItem),r}createPostQuery(){let t=this.toJSON();for(let r of["tags","typeKeywords","categories"])t[r]=t[r]?.join(", ");for(let r of["extent","classification"]){let i=t[r];i&&(t[r]=JSON.stringify(i))}return t}async deleteRating(){await this.portal.request(this.itemUrl+"/deleteRating",{method:"post"})}fetchData(t="json",r){return this.portal.request(this.itemUrl+"/data",{responseType:t,...r,query:{token:this.apiKey}})}async fetchRating(t){let r=await this.portal.request(this.itemUrl+"/rating",{query:{token:this.apiKey},...t});return null!=r.rating?(r.created=new Date(r.created),new E(r)):null}fetchRelatedItems(t,r){return this.portal.requestToTypedArray(this.itemUrl+"/relatedItems",{query:{...t,token:this.apiKey},...r},s)}getThumbnailUrl(t){let r=this.thumbnailUrl;return r&&t&&(r+=`&w=${t}`),r}reload(){return this.portal.request(this.itemUrl??"",{cacheBust:!0,query:{token:this.apiKey}}).then(t=>(this.applicationProxies&&!Object.hasOwn(t,"appProxies")&&(this.applicationProxies=null),this.sourceJSON=t,this.read(t),this))}update(t){return this.id?this.load().then(()=>this.portal.signIn()).then(()=>{let r=t?.data,i={method:"post"};for(let t in i.query=this.createPostQuery(),i.query)null===i.query[t]&&(i.query[t]="");return i.query.clearEmptyFields=!0,null!=r&&("string"==typeof r?i.query.text=r:"object"==typeof r&&(i.query.text=JSON.stringify(r))),this.portal.request(`${this.userItemUrl}/update`,i).then(()=>this.reload())}):Promise.reject(new u.A("portal:item-does-not-exist","The item does not exist yet and cannot be updated"))}async copy(t){if(!this.id)throw new u.A("portal:item-does-not-exist","The item does not exist yet");await this.load();let{portal:r,itemUrl:i}=this;await r.signIn();let{copyResources:o,folder:a,tags:d,title:c}=t||{},p={method:"post",query:{copyPrivateResources:"all"===o,folder:"string"==typeof a?a:a?.id,includeResources:!!o,tags:d?.join(","),title:c}},{itemId:h}=await r.request(`${i}/copy`,p);return new s({id:h,portal:r})}updateThumbnail(t){return this.id?this.load().then(()=>this.portal.signIn()).then(()=>{let r=t.thumbnail,i=t.filename,s={method:"post"};if("string"==typeof r)(0,h.DB)(r)?s.query={data:r}:s.query={url:(0,h.s2)(r)},null!=i&&(s.query.filename=i);else{let t=new FormData;null!=i?t.append("file",r,i):t.append("file",r),s.body=t}return this.portal.request(`${this.userItemUrl}/updateThumbnail`,s).then(()=>this.reload())}):Promise.reject(new u.A("portal:item-does-not-exist","The item does not exist yet and cannot be updated"))}async fetchResources(t={},r){let{fetchResources:s}=await i.e(8721).then(i.bind(i,58721));return s(this,t,r)}async addResource(t,r,s){let{addOrUpdateResources:o}=await i.e(8721).then(i.bind(i,58721));return t.portalItem=this,await o(this,[{resource:t,content:r,compress:s?.compress,access:s?.access}],"add",s),t}async removeResource(t,r){let{removeResource:s}=await i.e(8721).then(i.bind(i,58721));if(t.portalItem&&t.portalItem.itemUrl!==this.itemUrl)throw new u.A("removeresource:portal-item-mismatch","The portal item associated with the provided resource does not match the item");return s(this,t,r)}async removeAllResources(t){let{removeAllResources:r}=await i.e(8721).then(i.bind(i,58721));return r(this,t)}resourceFromPath(t){return new T({portalItem:this,path:t})}toJSON(){let t=this.extent,r={accessInformation:this.accessInformation,categories:(0,c.o8)(this.categories),classification:(0,c.o8)(this.classification),created:this.created?.getTime(),description:this.description,extent:t&&[[t.xmin,t.ymin],[t.xmax,t.ymax]],id:this.id,isOrgItem:this.isOrgItem,licenseInfo:this.licenseInfo,modified:this.modified?.getTime(),name:this.name,owner:this.owner,ownerFolder:this.ownerFolder,snippet:this.snippet,sourceUrl:this.sourceUrl,spatialReference:this.spatialReference,tags:(0,c.o8)(this.tags),thumbnail:this.thumbnail,title:this.title,type:this.type,typeKeywords:(0,c.o8)(this.typeKeywords),url:this.url};return(0,c.oy)(r)}static fromJSON(t){if(!t)return null;if(t.declaredClass)throw Error("JSON object is already hydrated");return new s({sourceJSON:t})}_getPostQuery(){let t=this.toJSON();for(let r in t)"tags"===r&&null!==t[r]&&(t[r]=t[r].join(", ")),"typeKeywords"===r&&null!==t[r]&&(t[r]=t[r].join(", ")),"extent"===r&&t[r]&&(t[r]=JSON.stringify(t[r]));return t}};(0,o._)([(0,f.MZ)({type:["private","shared","org","public"]})],O.prototype,"access",void 0),(0,o._)([(0,f.MZ)()],O.prototype,"accessInformation",void 0),(0,o._)([(0,f.MZ)({type:String})],O.prototype,"apiKey",void 0),(0,o._)([(0,f.MZ)({json:{read:{source:"appProxies"}}})],O.prototype,"applicationProxies",void 0),(0,o._)([(0,f.MZ)()],O.prototype,"avgRating",void 0),(0,o._)([(0,f.MZ)()],O.prototype,"categories",void 0),(0,o._)([(0,f.MZ)()],O.prototype,"classification",void 0),(0,o._)([(0,f.MZ)({type:Date})],O.prototype,"created",void 0),(0,o._)([(0,f.MZ)()],O.prototype,"culture",void 0),(0,o._)([(0,f.MZ)()],O.prototype,"description",void 0),(0,o._)([(0,f.MZ)({readOnly:!0})],O.prototype,"displayName",null),(0,o._)([(0,f.MZ)({type:_.A})],O.prototype,"extent",void 0),(0,o._)([(0,m.w)("extent")],O.prototype,"readExtent",null),(0,o._)([(0,f.MZ)()],O.prototype,"groupCategories",void 0),(0,o._)([(0,f.MZ)({readOnly:!0})],O.prototype,"iconUrl",null),(0,o._)([(0,f.MZ)()],O.prototype,"id",void 0),(0,o._)([(0,f.MZ)({readOnly:!0})],O.prototype,"isLayer",null),(0,o._)([(0,f.MZ)({type:Boolean,readOnly:!0})],O.prototype,"isOrgItem",void 0),(0,o._)([(0,f.MZ)()],O.prototype,"itemControl",void 0),(0,o._)([(0,f.MZ)({readOnly:!0})],O.prototype,"itemPageUrl",null),(0,o._)([(0,f.MZ)({readOnly:!0})],O.prototype,"itemUrl",null),(0,o._)([(0,f.MZ)()],O.prototype,"licenseInfo",void 0),(0,o._)([(0,f.MZ)({type:Date})],O.prototype,"modified",void 0),(0,o._)([(0,f.MZ)()],O.prototype,"name",void 0),(0,o._)([(0,f.MZ)()],O.prototype,"numComments",void 0),(0,o._)([(0,f.MZ)()],O.prototype,"numRatings",void 0),(0,o._)([(0,f.MZ)()],O.prototype,"numViews",void 0),(0,o._)([(0,f.MZ)()],O.prototype,"owner",void 0),(0,o._)([(0,f.MZ)()],O.prototype,"ownerFolder",void 0),(0,o._)([(0,f.MZ)({type:v.A})],O.prototype,"portal",void 0),(0,o._)([(0,f.MZ)()],O.prototype,"screenshots",void 0),(0,o._)([(0,f.MZ)()],O.prototype,"size",void 0),(0,o._)([(0,f.MZ)()],O.prototype,"snippet",void 0),(0,o._)([(0,f.MZ)()],O.prototype,"sourceJSON",void 0),(0,o._)([(0,f.MZ)({type:String})],O.prototype,"sourceUrl",void 0),(0,o._)([(0,f.MZ)({type:String})],O.prototype,"spatialReference",void 0),(0,o._)([(0,f.MZ)()],O.prototype,"tags",void 0),(0,o._)([(0,f.MZ)()],O.prototype,"thumbnail",void 0),(0,o._)([(0,f.MZ)({readOnly:!0})],O.prototype,"thumbnailUrl",null),(0,o._)([(0,f.MZ)()],O.prototype,"title",void 0),(0,o._)([(0,f.MZ)()],O.prototype,"type",void 0),(0,o._)([(0,f.MZ)()],O.prototype,"typeKeywords",void 0),(0,o._)([(0,f.MZ)({type:String,json:{read(t,r){if(R.has(r.type)){let r=this.portal?.restUrl;t||=r&&this.id?`${r}/content/items/${this.id}/data`:null}return t}}})],O.prototype,"url",void 0),(0,o._)([(0,f.MZ)({readOnly:!0})],O.prototype,"userItemUrl",null);let P=O=s=(0,o._)([(0,g.$)("esri.portal.PortalItem")],O)},28105:(t,r,i)=>{let s,o;i.d(r,{JK:()=>p,Ml:()=>g,Z0:()=>h,oQ:()=>y});var a=i(19158);let u=globalThis.esriConfig?.locale??globalThis.dojoConfig?.locale,d=globalThis.document?.documentElement;function c(){let t=d?.getAttribute("lang"),r=globalThis.navigator?.language;return u??t??r??"en"}function p(){return void 0===o&&(o=c()),o}function h(t=p()){let r=/^([a-zA-Z]{2,3})(?:[_-][a-zA-Z0-9]+)*$/.exec(t);return r?.[1].toLowerCase()}let f=[];function y(t){return f.push(t),(0,a.hA)(()=>f.splice(f.indexOf(t),1))}let m=[];function g(t){return m.push(t),(0,a.hA)(()=>m.splice(m.indexOf(t),1))}function _(){let t=s??c();o!==t&&([...m].forEach(r=>r(t)),o=t,[...f].forEach(r=>r(t)))}globalThis.addEventListener?.("languagechange",_),d&&new MutationObserver(()=>{_()}).observe(d,{attributeFilter:["lang"]})},28255:(t,r,i)=>{function s(t){}function o(t){return()=>t}function a(t){return t}i.d(r,{GB:()=>o,Xb:()=>s,zI:()=>a}),i(57845)},28312:(t,r,i)=>{i.d(r,{WF:()=>a,qy:()=>o.qy,S$:()=>d.S,s6:()=>o.s6,JW:()=>o.JW});var s=i(94958),o=i(77508);class a extends s.mN{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){let t=super.createRenderRoot();return this.renderOptions.renderBefore??=t.firstChild,t}update(t){let r=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(t),this._$Do=(0,o.XX)(r,this.renderRoot,this.renderOptions)}connectedCallback(){super.connectedCallback(),this._$Do?.setConnected(!0)}disconnectedCallback(){super.disconnectedCallback(),this._$Do?.setConnected(!1)}render(){return o.c0}}a._$litElement$=!0,a.finalized=!0,globalThis.litElementHydrateSupport?.({LitElement:a});let u=globalThis.litElementPolyfillSupport;u?.({LitElement:a}),(globalThis.litElementVersions??=[]).push("4.1.1");var d=i(29363)},28346:(t,r,i)=>{i.d(r,{UE:()=>c,Xi:()=>d,gz:()=>p});var s=i(40941),o=i(48271),a=i(29593);let u=["HH:mm:ss.SSS","HH:mm:ss","HH:mm","TT"];function d(t){if(!t||!(0,o.Kg)(t))return null;let r=a.c9.fromFormat(t,"yyyy-MM-dd");return r.isValid?r:null}function c(t){return t&&(0,o.Kg)(t)?(0,s.Pb)(u,r=>{let i=a.c9.fromFormat(t,r);return i.isValid?i:null})??null:null}function p(t){if(!t||!(0,o.Kg)(t))return null;let r=a.c9.fromISO(t);return r.isValid?r:null}},28444:(t,r,i)=>{i.d(r,{z:()=>a});var s=i(93446),o=i(15494);class a extends o.R{constructor(t,r){switch(super(),this.context=t,Object.assign(this,r),this.internalFormat){case s.H0.R16F:case s.H0.R16I:case s.H0.R16UI:case s.H0.R32F:case s.H0.R32I:case s.H0.R32UI:case s.H0.R8_SNORM:case s.H0.R8:case s.H0.R8I:case s.H0.R8UI:this.pixelFormat=s.Ab.RED}}static validate(t,r){return new a(t,r)}}},28544:(t,r,i)=>{i.d(r,{Ps:()=>c,Tv:()=>f,Zs:()=>a,cD:()=>h,d2:()=>p,fT:()=>o,lH:()=>m,mA:()=>u,n4:()=>y,xc:()=>d});var s=i(70152);let o=new s.A("cyan"),a=1,u=.25,d=new s.A("black"),c=.4,p=.2,h=.25,f="default",y="temporary",m=new s.A("yellow")},28580:(t,r,i)=>{i.d(r,{h:()=>s});function s(t,r,i=!1){let{hasM:o,hasZ:a}=t;Array.isArray(r)?4!==r.length||o||a?3===r.length&&i&&!o?(a=!0,o=!1):3===r.length&&o&&a&&(o=!1,a=!1):(o=!0,a=!0):(a=!a&&r.hasZ&&(!o||r.hasM),o=!o&&r.hasM&&(!a||r.hasZ)),t.hasZ=a,t.hasM=o}},28690:(t,r,i)=>{let s;i.d(r,{A:()=>Z});var o,a,u,d=i(24842),c=i(55434),p=i(61939),h=i(40941),f=i(25995),y=i(84588),m=i(63188),g=i(94401);i(57845);var _=i(33715),v=i(98570),w=i(25734),b=i(44151),M=i(62761),S=i(25765),A=i(6270);class T extends w.T{constructor(t,r){super(),this.propertyName=t,this.metadata=r,this.trackingTarget=new A.R(this),this.flags=0,this.flags=S.i.Dirty|(r.nonNullable?S.i.NonNullable:0)|(r.hasOwnProperty("value")?S.i.HasDefaultValue:0)|(void 0===r.get?S.i.DepTrackingInitialized:0)|(void 0===r.dependsOn?S.i.AutoTracked:0)}destroy(){this.flags&S.i.Dirty&&this.onCommitted(),super.destroy(),this.trackingTarget.destroy()}getComputed(t){let r;t.mutable&&(0,M.gc)(this);let i=t.store,s=this.propertyName,o=this.flags,a=i.get(s);if(o&S.i.Computing||~o&S.i.Dirty&&i.has(s))return a;this.flags|=S.i.Computing;let u=t.host;o&S.i.AutoTracked?r=(0,M.a)(this.trackingTarget,this.metadata.get,u):((0,M.Xr)(u,this),r=this.metadata.get.call(u)),this.flags|=S.i.DepTrackingInitialized,i.set(s,r,b.Gr.COMPUTED);let d=i.get(s);return d===a?this.flags&=~S.i.Dirty:(0,M.F_)(this.commit,this),this.flags&=~S.i.Computing,d}notifyChange(){this.onInvalidated(),this.onCommitted()}invalidate(){this.onInvalidated()}commit(){this.flags&=~S.i.Dirty,this.onCommitted()}onInvalidated(){~this.flags&S.i.Overridden&&(this.flags|=S.i.Dirty);let t=this._observers;if(t&&t.length>0)for(let r of t)r.onInvalidated()}onCommitted(){let t=this._observers;if(t&&t.length>0)for(let r of t.slice())r.onCommitted()}}class x{constructor(){this._values=new Map,this.multipleOriginsSupported=!1}clone(t){let r=new x;return this._values.forEach((i,s)=>{t&&t.has(s)||r.set(s,(0,_.o8)(i))}),r}get(t){return this._values.get(t)}originOf(){return b.Gr.USER}keys(){return[...this._values.keys()]}set(t,r){this._values.set(t,r)}delete(t){this._values.delete(t)}has(t){return this._values.has(t)}forEach(t){this._values.forEach(t)}}function E(t,r,i,s){return void 0!==t&&(!(null==i&&t.flags&S.i.NonNullable)||(s.lifecycle,m.v.INITIALIZING,!1))}class I{constructor(t){this.host=t,this.propertiesByName=new Map,this.ctorArgs=null,this.lifecycle=m.v.INITIALIZING,this.store=new x,this.mutable=!0,this._origin=b.Gr.USER;let r=this.host.constructor.__accessorMetadata__;for(let t in r){let i=new T(t,r[t]);this.propertiesByName.set(t,i)}this.metadata=r}initialize(){this.lifecycle=m.v.CONSTRUCTING}constructed(){this.lifecycle=m.v.CONSTRUCTED}destroy(){this.lifecycle=m.v.DESTROYED,this.propertiesByName.forEach(t=>t.destroy())}get initialized(){return this.lifecycle!==m.v.INITIALIZING}get(t){let r=this.propertiesByName.get(t);if(r.metadata.get)return r.getComputed(this);this.mutable&&(0,M.gc)(r);let i=this.store;return i.has(t)?i.get(t):r.metadata.value}originOf(t){let r=this.store.originOf(t);if(void 0===r){let r=this.propertiesByName.get(t);if(void 0!==r&&r.flags&S.i.HasDefaultValue)return"defaults"}return(0,b.OL)(r)}has(t){return this.propertiesByName.has(t)&&this.store.has(t)}keys(){return[...this.propertiesByName.keys()]}internalGet(t){let r=this.propertiesByName.get(t);if(void 0!==r)return this.store.has(t)?this.store.get(t):r.metadata.value}internalSet(t,r){let i=this.propertiesByName.get(t);void 0!==i&&this._internalSet(i,r)}getDependsInfo(t,r,i){let s=this.propertiesByName.get(r);if(void 0===s)return"";let o=new A.R,a=(0,M.a)(o,()=>s.metadata.get?.call(t)),u=`${i}${t.declaredClass.split(".").pop()}.${r}: ${a}
`,d=o.accessed??new Set;if(0===d.size)return u;for(let t of(i+="  ",d))t instanceof T&&(u+=`${i}${t.propertyName}: undefined
`);return u}setAtOrigin(t,r,i){let s=this.propertiesByName.get(t);if(void 0!==s)return this._setAtOrigin(s,r,i)}isOverridden(t){let r=this.propertiesByName.get(t);return void 0!==r&&!!(r.flags&S.i.Overridden)}clearOverride(t){let r=this.propertiesByName.get(t);r&&r.flags&S.i.Overridden&&(r.flags&=~S.i.Overridden,r.notifyChange())}override(t,r){let i=this.propertiesByName.get(t);if(!E(i,t,r,this))return;let s=i.metadata.cast;if(s){let t=this._cast(s,r),{valid:i,value:o}=t;if(R.release(t),!i)return;r=o}i.flags|=S.i.Overridden,this._internalSet(i,r)}set(t,r){let i=this.propertiesByName.get(t);if(!E(i,t,r,this))return;let s=i.metadata.cast;if(s){let t=this._cast(s,r),{valid:i,value:o}=t;if(R.release(t),!i)return;r=o}let o=i.metadata.set;o?o.call(this.host,r):this._internalSet(i,r)}setDefaultOrigin(t){this._origin=(0,b.aB)(t)}getDefaultOrigin(){return(0,b.OL)(this._origin)}notifyChange(t){let r=this.propertiesByName.get(t);void 0!==r&&r.notifyChange()}invalidate(t){let r=this.propertiesByName.get(t);void 0!==r&&r.invalidate()}commit(t){let r=this.propertiesByName.get(t);void 0!==r&&r.commit()}_internalSet(t,r){let i=this.lifecycle!==m.v.INITIALIZING?this._origin:b.Gr.DEFAULTS;this._setAtOrigin(t,r,i)}_setAtOrigin(t,r,i){let s=this.store,o=t.propertyName;s.has(o,i)&&(0,_.aI)(r,s.get(o))&&~t.flags&S.i.Overridden&&i===s.originOf(o)||(t.invalidate(),s.set(o,r,i),t.commit(),(0,M.fE)(this.host,t))}_cast(t,r){let i=R.acquire();return i.valid=!0,i.value=r,t&&(i.value=t.call(this.host,r,i)),i}}class C{constructor(){this.value=null,this.valid=!0}acquire(){this.valid=!0}release(){this.value=null}}let R=new v.A(C);var O=i(1360);!function(t){t[t.Ignore=0]="Ignore",t[t.Destroy=1]="Destroy",t[t.ThrowError=2]="ThrowError"}(o||(o={}));var P=i(41759),N=i(91838),k=i(12709);let L=Symbol("Accessor-Handles"),F=Symbol("Accessor-Initialized");class Z{static createSubclass(t={}){if(Array.isArray(t))throw Error("Multi-inheritance unsupported since 4.16");let{properties:r,declaredClass:i,constructor:s}=t;delete t.declaredClass,delete t.properties,delete t.constructor;let o=this;class a extends o{constructor(...t){super(...t),this.inherited=null,s&&s.apply(this,t)}}for(let r in(0,g.tD)(a.prototype),t){let i=t[r];a.prototype[r]="function"==typeof i?function(...t){let s,a=this.inherited;this.inherited=function(...t){if(o.prototype[r])return o.prototype[r].apply(this,t)};try{s=i.apply(this,t)}catch(t){throw this.inherited=a,t}return this.inherited=a,s}:t[r]}for(let t in r){let i=function(t){if(null==t)return{value:t};if(Array.isArray(t))return{type:[t[0]],value:null};switch(typeof t){case"object":return t.constructor?.__accessorMetadata__||t instanceof Date?{type:t.constructor,value:t}:t;case"boolean":return{type:Boolean,value:t};case"string":return{type:String,value:t};case"number":return{type:Number,value:t};case"function":return{type:t,value:null};default:return}}(r[t]);(0,N.MZ)(i)(a.prototype,t)}return(0,k.$)(i)(a)}static freeze(t){return t instanceof Z?t.__accessor__.mutable=!1:Object.freeze(t),t}static isFrozen(t){return t instanceof Z?!t.__accessor__.mutable:Object.isFrozen(t)}constructor(...t){if(this[a]=null,this[u]=!1,this.constructor===Z)throw Error("[accessor] cannot instantiate Accessor. This can be fixed by creating a subclass of Accessor");let r=new I(this);Object.defineProperty(this,"__accessor__",{enumerable:!1,value:r}),t.length>0&&(r.ctorArgs=this.normalizeCtorArgs?.apply(this,t)??t[0]),s?.onInstanceConstruct(this)}postscript(){let t=this.__accessor__,r=t.ctorArgs;t.initialize(),r&&(this.set(r),t.ctorArgs=null),t.constructed(),this.initialize(),this[F]=!0}initialize(){}[f.G](){this[L]=(0,h.pR)(this[L])}destroy(){this.destroyed||((0,P.iS)(this),this.__accessor__.destroy(),s?.onInstanceDestroy(this))}[Symbol.dispose](){this.destroy()}get constructed(){return this.__accessor__&&this.__accessor__.initialized||!1}get initialized(){return this[F]}get destroyed(){return this.__accessor__?.lifecycle===m.v.DESTROYED}commitProperty(t){(0,y.Jt)(this,t)}hasOwnProperty(t){return this.__accessor__?this.__accessor__.has(t):Object.prototype.hasOwnProperty.call(this,t)}keys(){return this.__accessor__?this.__accessor__.keys():[]}set(t,r){return(0,O.h)(this,t,r),this}watch(t,r,i){return(0,d.eO)(p.A.getLogger(this),"`watch` is deprecated in favor of reactiveUtils.watch",{replacement:"reactiveUtils.watch",version:"4.32",see:"https://developers.arcgis.com/javascript/latest/api-reference/esri-core-reactiveUtils.html#watch",warnOnce:!0}),(0,P.wB)(this,t,r,i)}addHandles(t,r){if(this.destroyed){for(let r of Array.isArray(t)?t:[t])r.remove();return}(this[L]??=new c.A).add(t,r)}removeHandles(t){this[L]?.remove(t)}removeAllHandles(){this[L]?.removeAll()}removeHandlesReference(t){this[L]?.removeReference(t)}hasHandles(t){return!0===this[L]?.has(t)}_override(t,r){void 0===r?this.__accessor__.clearOverride(t):this.__accessor__.override(t,r)}_clearOverride(t){return this.__accessor__.clearOverride(t)}_overrideIfSome(t,r){null==r?this.__accessor__.clearOverride(t):this.__accessor__.override(t,r)}_isOverridden(t){return this.__accessor__.isOverridden(t)}notifyChange(t){this.__accessor__.notifyChange(t)}_get(t){return this.__accessor__.internalGet(t)}_set(t,r){return this.__accessor__.internalSet(t,r),this}}a=L,u=F},28763:(t,r,i)=>{i.d(r,{A:()=>f});var s=i(81856),o=i(30781),a=i(92713),u=i(91838);i(57845),i(61939),i(33638);var d=i(12709),c=i(37996);let p=new o.J({simple:"simple",uniqueValue:"unique-value",classBreaks:"class-breaks",heatmap:"heatmap",dotDensity:"dot-density",dictionary:"dictionary",pieChart:"pie-chart"},{ignoreUnknown:!0}),h=class extends a.A{constructor(t){super(t),this.authoringInfo=null,this.type=null}async getRequiredFields(t){if(!this.collectRequiredFields)return[];let r=new Set;return await this.collectRequiredFields(r,t),Array.from(r).sort()}getSymbol(t,r){}async getSymbolAsync(t,r){}get symbols(){return[]}get arcadeRequired(){return!1}getAttributeHash(){return JSON.stringify(this)}getMeshHash(){return JSON.stringify(this)}};(0,s._)([(0,u.MZ)({type:c.A,json:{write:!0}})],h.prototype,"authoringInfo",void 0),(0,s._)([(0,u.MZ)({type:p.apiValues,readOnly:!0,json:{type:p.jsonValues,read:!1,write:{writer:p.write,ignoreOrigin:!0,isRequired:!0}}})],h.prototype,"type",void 0);let f=h=(0,s._)([(0,d.$)("esri.renderers.Renderer")],h)},28823:(t,r,i)=>{i.d(r,{A:()=>y});var s,o=i(81856),a=i(92713),u=i(33715),d=i(91838),c=i(86942),p=i(12709),h=i(7780);let f=s=class extends a.A{constructor(t){super(t),this.attachmentTypes=null,this.attachmentsWhere=null,this.cacheHint=void 0,this.keywords=null,this.globalIds=null,this.name=null,this.num=null,this.objectIds=null,this.orderByFields=null,this.returnMetadata=!1,this.size=null,this.start=null,this.where=null}writeStart(t,r){r.resultOffset=this.start,r.resultRecordCount=this.num||10}clone(){return new s((0,u.o8)({attachmentTypes:this.attachmentTypes,attachmentsWhere:this.attachmentsWhere,cacheHint:this.cacheHint,keywords:this.keywords,where:this.where,globalIds:this.globalIds,name:this.name,num:this.num,objectIds:this.objectIds,orderByFields:this.orderByFields,returnMetadata:this.returnMetadata,size:this.size,start:this.start}))}};(0,o._)([(0,d.MZ)({type:[String],json:{write:!0}})],f.prototype,"attachmentTypes",void 0),(0,o._)([(0,d.MZ)({type:String,json:{read:{source:"attachmentsDefinitionExpression"},write:{target:"attachmentsDefinitionExpression"}}})],f.prototype,"attachmentsWhere",void 0),(0,o._)([(0,d.MZ)({type:Boolean,json:{write:!0}})],f.prototype,"cacheHint",void 0),(0,o._)([(0,d.MZ)({type:[String],json:{write:!0}})],f.prototype,"keywords",void 0),(0,o._)([(0,d.MZ)({type:[String],json:{write:!0}})],f.prototype,"globalIds",void 0),(0,o._)([(0,d.MZ)({json:{write:!0}})],f.prototype,"name",void 0),(0,o._)([(0,d.MZ)({type:Number,json:{read:{source:"resultRecordCount"}}})],f.prototype,"num",void 0),(0,o._)([(0,d.MZ)({type:[Number],json:{write:!0}})],f.prototype,"objectIds",void 0),(0,o._)([(0,d.MZ)({type:[String],json:{write:!0}})],f.prototype,"orderByFields",void 0),(0,o._)([(0,d.MZ)({type:Boolean,json:{default:!1,write:!0}})],f.prototype,"returnMetadata",void 0),(0,o._)([(0,d.MZ)({type:[Number],json:{write:!0}})],f.prototype,"size",void 0),(0,o._)([(0,d.MZ)({type:Number,json:{read:{source:"resultOffset"}}})],f.prototype,"start",void 0),(0,o._)([(0,h.K)("start"),(0,h.K)("num")],f.prototype,"writeStart",null),(0,o._)([(0,d.MZ)({type:String,json:{read:{source:"definitionExpression"},write:{target:"definitionExpression"}}})],f.prototype,"where",void 0),(f=s=(0,o._)([(0,p.$)("esri.rest.support.AttachmentQuery")],f)).from=(0,c.dp)(f);let y=f},29201:(t,r,i)=>{i.d(r,{V:()=>a,X:()=>o});var s=i(31789);function o(t){return{geometryType:(0,s.$B)(t[0]),geometries:t.map(t=>t.toJSON())}}function a(t,r,i){let o=(0,s.xD)(r);return t.map(t=>{let r=o.fromJSON(t);return r.spatialReference=i,r})}},29363:(t,r,i)=>{i.d(r,{S:()=>s});let s=!1},29593:(t,r,i)=>{let s;i.d(r,{c9:()=>rH,mQ:()=>ea,oh:()=>q,bo:()=>U});class o extends Error{}class a extends o{constructor(t){super(`Invalid DateTime: ${t.toMessage()}`)}}class u extends o{constructor(t){super(`Invalid Interval: ${t.toMessage()}`)}}class d extends o{constructor(t){super(`Invalid Duration: ${t.toMessage()}`)}}class c extends o{}class p extends o{constructor(t){super(`Invalid unit ${t}`)}}class h extends o{}class f extends o{constructor(){super("Zone is an abstract class")}}let y="numeric",m="short",g="long",_={year:y,month:y,day:y},v={year:y,month:m,day:y},w={year:y,month:m,day:y,weekday:m},b={year:y,month:g,day:y},M={year:y,month:g,day:y,weekday:g},S={hour:y,minute:y},A={hour:y,minute:y,second:y},T={hour:y,minute:y,second:y,timeZoneName:m},x={hour:y,minute:y,second:y,timeZoneName:g},E={hour:y,minute:y,hourCycle:"h23"},I={hour:y,minute:y,second:y,hourCycle:"h23"},C={hour:y,minute:y,second:y,hourCycle:"h23",timeZoneName:m},R={hour:y,minute:y,second:y,hourCycle:"h23",timeZoneName:g},O={year:y,month:y,day:y,hour:y,minute:y},P={year:y,month:y,day:y,hour:y,minute:y,second:y},N={year:y,month:m,day:y,hour:y,minute:y},k={year:y,month:m,day:y,hour:y,minute:y,second:y},L={year:y,month:m,day:y,weekday:m,hour:y,minute:y},F={year:y,month:g,day:y,hour:y,minute:y,timeZoneName:m},Z={year:y,month:g,day:y,hour:y,minute:y,second:y,timeZoneName:m},D={year:y,month:g,day:y,weekday:g,hour:y,minute:y,timeZoneName:g},j={year:y,month:g,day:y,weekday:g,hour:y,minute:y,second:y,timeZoneName:g};class U{get type(){throw new f}get name(){throw new f}get ianaName(){return this.name}get isUniversal(){throw new f}offsetName(t,r){throw new f}formatOffset(t,r){throw new f}offset(t){throw new f}equals(t){throw new f}get isValid(){throw new f}}let V=null;class z extends U{static get instance(){return null===V&&(V=new z),V}get type(){return"system"}get name(){return new Intl.DateTimeFormat().resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(t,{format:r,locale:i}){return e5(t,r,i)}formatOffset(t,r){return e7(this.offset(t),r)}offset(t){return-new Date(t).getTimezoneOffset()}equals(t){return"system"===t.type}get isValid(){return!0}}let G={},$={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6},B={};class q extends U{static create(t){return B[t]||(B[t]=new q(t)),B[t]}static resetCache(){B={},G={}}static isValidSpecifier(t){return this.isValidZone(t)}static isValidZone(t){if(!t)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:t}).format(),!0}catch(t){return!1}}constructor(t){super(),this.zoneName=t,this.valid=q.isValidZone(t)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(t,{format:r,locale:i}){return e5(t,r,i,this.name)}formatOffset(t,r){return e7(this.offset(t),r)}offset(t){var r;let i=new Date(t);if(isNaN(i))return NaN;let s=(G[r=this.name]||(G[r]=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:r,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"})),G[r]),[o,a,u,d,c,p,h]=s.formatToParts?function(t,r){let i=t.formatToParts(r),s=[];for(let t=0;t<i.length;t++){let{type:r,value:o}=i[t],a=$[r];"era"===r?s[a]=o:eD(a)||(s[a]=parseInt(o,10))}return s}(s,i):function(t,r){let i=t.format(r).replace(/\u200E/g,""),[,s,o,a,u,d,c,p]=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(i);return[a,s,o,u,d,c,p]}(s,i);"BC"===d&&(o=-Math.abs(o)+1);let f=e1({year:o,month:a,day:u,hour:24===c?0:c,minute:p,second:h,millisecond:0}),y=+i,m=y%1e3;return(f-(y-=m>=0?m:1e3+m))/6e4}equals(t){return"iana"===t.type&&t.name===this.name}get isValid(){return this.valid}}let H={},W={};function J(t,r={}){let i=JSON.stringify([t,r]),s=W[i];return s||(s=new Intl.DateTimeFormat(t,r),W[i]=s),s}let K={},Y={},X=null,Q={};function ee(t,r,i,s){let o=t.listingMode();return"error"===o?null:"en"===o?i(r):s(r)}class et{constructor(t,r,i){this.padTo=i.padTo||0,this.floor=i.floor||!1;let{padTo:s,floor:o,...a}=i;if(!r||Object.keys(a).length>0){let r={useGrouping:!1,...i};i.padTo>0&&(r.minimumIntegerDigits=i.padTo),this.inf=function(t,r={}){let i=JSON.stringify([t,r]),s=K[i];return s||(s=new Intl.NumberFormat(t,r),K[i]=s),s}(t,r)}}format(t){if(!this.inf)return eH(this.floor?Math.floor(t):eY(t,3),this.padTo);{let r=this.floor?Math.floor(t):t;return this.inf.format(r)}}}class er{constructor(t,r,i){let s;if(this.opts=i,this.originalZone=void 0,this.opts.timeZone)this.dt=t;else if("fixed"===t.zone.type){let r=-1*(t.offset/60),i=r>=0?`Etc/GMT+${r}`:`Etc/GMT${r}`;0!==t.offset&&q.create(i).valid?(s=i,this.dt=t):(s="UTC",this.dt=0===t.offset?t:t.setZone("UTC").plus({minutes:t.offset}),this.originalZone=t.zone)}else"system"===t.zone.type?this.dt=t:"iana"===t.zone.type?(this.dt=t,s=t.zone.name):(s="UTC",this.dt=t.setZone("UTC").plus({minutes:t.offset}),this.originalZone=t.zone);let o={...this.opts};o.timeZone=o.timeZone||s,this.dtf=J(r,o)}format(){return this.originalZone?this.formatToParts().map(({value:t})=>t).join(""):this.dtf.format(this.dt.toJSDate())}formatToParts(){let t=this.dtf.formatToParts(this.dt.toJSDate());return this.originalZone?t.map(t=>{if("timeZoneName"!==t.type)return t;{let r=this.originalZone.offsetName(this.dt.ts,{locale:this.dt.locale,format:this.opts.timeZoneName});return{...t,value:r}}}):t}resolvedOptions(){return this.dtf.resolvedOptions()}}class ei{constructor(t,r,i){this.opts={style:"long",...i},!r&&eV()&&(this.rtf=function(t,r={}){let{base:i,...s}=r,o=JSON.stringify([t,s]),a=Y[o];return a||(a=new Intl.RelativeTimeFormat(t,r),Y[o]=a),a}(t,i))}format(t,r){return this.rtf?this.rtf.format(t,r):function(t,r,i="always",s=!1){let o={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},a=-1===["hours","minutes","seconds"].indexOf(t);if("auto"===i&&a){let i="days"===t;switch(r){case 1:return i?"tomorrow":`next ${o[t][0]}`;case -1:return i?"yesterday":`last ${o[t][0]}`;case 0:return i?"today":`this ${o[t][0]}`}}let u=Object.is(r,-0)||r<0,d=Math.abs(r),c=1===d,p=o[t],h=s?c?p[1]:p[2]||p[1]:c?o[t][0]:t;return u?`${d} ${h} ago`:`in ${d} ${h}`}(r,t,this.opts.numeric,"long"!==this.opts.style)}formatToParts(t,r){return this.rtf?this.rtf.formatToParts(t,r):[]}}let en={firstDay:1,minimalDays:4,weekend:[6,7]};class es{static fromOpts(t){return es.create(t.locale,t.numberingSystem,t.outputCalendar,t.weekSettings,t.defaultToEN)}static create(t,r,i,s,o=!1){let a=t||eS.defaultLocale,u=a||(o?"en-US":X||(X=new Intl.DateTimeFormat().resolvedOptions().locale)),d=r||eS.defaultNumberingSystem;return new es(u,d,i||eS.defaultOutputCalendar,eB(s)||eS.defaultWeekSettings,a)}static resetCache(){X=null,W={},K={},Y={}}static fromObject({locale:t,numberingSystem:r,outputCalendar:i,weekSettings:s}={}){return es.create(t,r,i,s)}constructor(t,r,i,s,o){let[a,u,d]=function(t){let r=t.indexOf("-x-");-1!==r&&(t=t.substring(0,r));let i=t.indexOf("-u-");if(-1===i)return[t];{let r,s;try{r=J(t).resolvedOptions(),s=t}catch(a){let o=t.substring(0,i);r=J(o).resolvedOptions(),s=o}let{numberingSystem:o,calendar:a}=r;return[s,o,a]}}(t);this.locale=a,this.numberingSystem=r||u||null,this.outputCalendar=i||d||null,this.weekSettings=s,this.intl=function(t,r,i){return(i||r)&&(t.includes("-u-")||(t+="-u"),i&&(t+=`-ca-${i}`),r&&(t+=`-nu-${r}`)),t}(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=o,this.fastNumbersCached=null}get fastNumbers(){return null==this.fastNumbersCached&&(this.fastNumbersCached=(!this.numberingSystem||"latn"===this.numberingSystem)&&("latn"===this.numberingSystem||!this.locale||this.locale.startsWith("en")||"latn"===new Intl.DateTimeFormat(this.intl).resolvedOptions().numberingSystem)),this.fastNumbersCached}listingMode(){let t=this.isEnglish(),r=(null===this.numberingSystem||"latn"===this.numberingSystem)&&(null===this.outputCalendar||"gregory"===this.outputCalendar);return t&&r?"en":"intl"}clone(t){return t&&0!==Object.getOwnPropertyNames(t).length?es.create(t.locale||this.specifiedLocale,t.numberingSystem||this.numberingSystem,t.outputCalendar||this.outputCalendar,eB(t.weekSettings)||this.weekSettings,t.defaultToEN||!1):this}redefaultToEN(t={}){return this.clone({...t,defaultToEN:!0})}redefaultToSystem(t={}){return this.clone({...t,defaultToEN:!1})}months(t,r=!1){return ee(this,t,tn,()=>{let i=r?{month:t,day:"numeric"}:{month:t},s=r?"format":"standalone";return this.monthsCache[s][t]||(this.monthsCache[s][t]=function(t){let r=[];for(let i=1;i<=12;i++){let s=rH.utc(2009,i,1);r.push(t(s))}return r}(t=>this.extract(t,i,"month"))),this.monthsCache[s][t]})}weekdays(t,r=!1){return ee(this,t,tl,()=>{let i=r?{weekday:t,year:"numeric",month:"long",day:"numeric"}:{weekday:t},s=r?"format":"standalone";return this.weekdaysCache[s][t]||(this.weekdaysCache[s][t]=function(t){let r=[];for(let i=1;i<=7;i++){let s=rH.utc(2016,11,13+i);r.push(t(s))}return r}(t=>this.extract(t,i,"weekday"))),this.weekdaysCache[s][t]})}meridiems(){return ee(this,void 0,()=>tu,()=>{if(!this.meridiemCache){let t={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[rH.utc(2016,11,13,9),rH.utc(2016,11,13,19)].map(r=>this.extract(r,t,"dayperiod"))}return this.meridiemCache})}eras(t){return ee(this,t,th,()=>{let r={era:t};return this.eraCache[t]||(this.eraCache[t]=[rH.utc(-40,1,1),rH.utc(2017,1,1)].map(t=>this.extract(t,r,"era"))),this.eraCache[t]})}extract(t,r,i){let s=this.dtFormatter(t,r).formatToParts().find(t=>t.type.toLowerCase()===i);return s?s.value:null}numberFormatter(t={}){return new et(this.intl,t.forceSimple||this.fastNumbers,t)}dtFormatter(t,r={}){return new er(t,this.intl,r)}relFormatter(t={}){return new ei(this.intl,this.isEnglish(),t)}listFormatter(t={}){return function(t,r={}){let i=JSON.stringify([t,r]),s=H[i];return s||(s=new Intl.ListFormat(t,r),H[i]=s),s}(this.intl,t)}isEnglish(){return"en"===this.locale||"en-us"===this.locale.toLowerCase()||new Intl.DateTimeFormat(this.intl).resolvedOptions().locale.startsWith("en-us")}getWeekSettings(){if(this.weekSettings)return this.weekSettings;if(!ez())return en;var t=this.locale;let r=Q[t];if(!r){let i=new Intl.Locale(t);r="getWeekInfo"in i?i.getWeekInfo():i.weekInfo,Q[t]=r}return r}getStartOfWeek(){return this.getWeekSettings().firstDay}getMinDaysInFirstWeek(){return this.getWeekSettings().minimalDays}getWeekendDays(){return this.getWeekSettings().weekend}equals(t){return this.locale===t.locale&&this.numberingSystem===t.numberingSystem&&this.outputCalendar===t.outputCalendar}toString(){return`Locale(${this.locale}, ${this.numberingSystem}, ${this.outputCalendar})`}}let eo=null;class ea extends U{static get utcInstance(){return null===eo&&(eo=new ea(0)),eo}static instance(t){return 0===t?ea.utcInstance:new ea(t)}static parseSpecifier(t){if(t){let r=t.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(r)return new ea(e9(r[1],r[2]))}return null}constructor(t){super(),this.fixed=t}get type(){return"fixed"}get name(){return 0===this.fixed?"UTC":`UTC${e7(this.fixed,"narrow")}`}get ianaName(){return 0===this.fixed?"Etc/UTC":`Etc/GMT${e7(-this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(t,r){return e7(this.fixed,r)}get isUniversal(){return!0}offset(){return this.fixed}equals(t){return"fixed"===t.type&&t.fixed===this.fixed}get isValid(){return!0}}class el extends U{constructor(t){super(),this.zoneName=t}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}}function eu(t,r){if(eD(t)||null===t)return r;if(t instanceof U)return t;if("string"==typeof t){let i=t.toLowerCase();return"default"===i?r:"local"===i||"system"===i?z.instance:"utc"===i||"gmt"===i?ea.utcInstance:ea.parseSpecifier(i)||q.create(t)}if(ej(t))return ea.instance(t);if("object"==typeof t&&"offset"in t&&"function"==typeof t.offset)return t;else return new el(t)}let ed={arab:"[-]",arabext:"[-]",bali:"[-]",beng:"[-]",deva:"[-]",fullwide:"[-]",gujr:"[-]",hanidec:"[|||||||||]",khmr:"[-]",knda:"[-]",laoo:"[-]",limb:"[-]",mlym:"[-]",mong:"[-]",mymr:"[-]",orya:"[-]",tamldec:"[-]",telu:"[-]",thai:"[-]",tibt:"[-]",latn:"\\d"},ec={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},ep=ed.hanidec.replace(/[\[|\]]/g,"").split(""),eh={};function ef({numberingSystem:t},r=""){let i=t||"latn";return eh[i]||(eh[i]={}),eh[i][r]||(eh[i][r]=RegExp(`${ed[i]}${r}`)),eh[i][r]}let ey=()=>Date.now(),em="system",eg=null,e_=null,ev=null,ew=60,eb,eM=null;class eS{static get now(){return ey}static set now(t){ey=t}static set defaultZone(t){em=t}static get defaultZone(){return eu(em,z.instance)}static get defaultLocale(){return eg}static set defaultLocale(t){eg=t}static get defaultNumberingSystem(){return e_}static set defaultNumberingSystem(t){e_=t}static get defaultOutputCalendar(){return ev}static set defaultOutputCalendar(t){ev=t}static get defaultWeekSettings(){return eM}static set defaultWeekSettings(t){eM=eB(t)}static get twoDigitCutoffYear(){return ew}static set twoDigitCutoffYear(t){ew=t%100}static get throwOnInvalid(){return eb}static set throwOnInvalid(t){eb=t}static resetCaches(){es.resetCache(),q.resetCache(),rH.resetCache(),eh={}}}class eA{constructor(t,r){this.reason=t,this.explanation=r}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}}let eT=[0,31,59,90,120,151,181,212,243,273,304,334],ex=[0,31,60,91,121,152,182,213,244,274,305,335];function eE(t,r){return new eA("unit out of range",`you specified ${r} (of type ${typeof r}) as a ${t}, which is invalid`)}function eI(t,r,i){let s=new Date(Date.UTC(t,r-1,i));t<100&&t>=0&&s.setUTCFullYear(s.getUTCFullYear()-1900);let o=s.getUTCDay();return 0===o?7:o}function eC(t,r){let i=eX(t)?ex:eT,s=i.findIndex(t=>t<r),o=r-i[s];return{month:s+1,day:o}}function eR(t,r){return(t-r+7)%7+1}function eO(t,r=4,i=1){let{year:s,month:o,day:a}=t,u=a+(eX(s)?ex:eT)[o-1],d=eR(eI(s,o,a),i),c=Math.floor((u-d+14-r)/7),p;return c<1?c=e3(p=s-1,r,i):c>e3(s,r,i)?(p=s+1,c=1):p=s,{weekYear:p,weekNumber:c,weekday:d,...te(t)}}function eP(t,r=4,i=1){let{weekYear:s,weekNumber:o,weekday:a}=t,u=eR(eI(s,1,r),i),d=eQ(s),c=7*o+a-u-7+r,p;c<1?c+=eQ(p=s-1):c>d?(p=s+1,c-=eQ(s)):p=s;let{month:h,day:f}=eC(p,c);return{year:p,month:h,day:f,...te(t)}}function eN(t){let{year:r,month:i,day:s}=t,o=s+(eX(r)?ex:eT)[i-1];return{year:r,ordinal:o,...te(t)}}function ek(t){let{year:r,ordinal:i}=t,{month:s,day:o}=eC(r,i);return{year:r,month:s,day:o,...te(t)}}function eL(t,r){if(!(!eD(t.localWeekday)||!eD(t.localWeekNumber)||!eD(t.localWeekYear)))return{minDaysInFirstWeek:4,startOfWeek:1};if(!eD(t.weekday)||!eD(t.weekNumber)||!eD(t.weekYear))throw new c("Cannot mix locale-based week fields with ISO-based week fields");return eD(t.localWeekday)||(t.weekday=t.localWeekday),eD(t.localWeekNumber)||(t.weekNumber=t.localWeekNumber),eD(t.localWeekYear)||(t.weekYear=t.localWeekYear),delete t.localWeekday,delete t.localWeekNumber,delete t.localWeekYear,{minDaysInFirstWeek:r.getMinDaysInFirstWeek(),startOfWeek:r.getStartOfWeek()}}function eF(t){let r=eU(t.year),i=eq(t.month,1,12),s=eq(t.day,1,e0(t.year,t.month));return r?i?!s&&eE("day",t.day):eE("month",t.month):eE("year",t.year)}function eZ(t){let{hour:r,minute:i,second:s,millisecond:o}=t,a=eq(r,0,23)||24===r&&0===i&&0===s&&0===o,u=eq(i,0,59),d=eq(s,0,59),c=eq(o,0,999);return a?u?d?!c&&eE("millisecond",o):eE("second",s):eE("minute",i):eE("hour",r)}function eD(t){return void 0===t}function ej(t){return"number"==typeof t}function eU(t){return"number"==typeof t&&t%1==0}function eV(){try{return"undefined"!=typeof Intl&&!!Intl.RelativeTimeFormat}catch(t){return!1}}function ez(){try{return"undefined"!=typeof Intl&&!!Intl.Locale&&("weekInfo"in Intl.Locale.prototype||"getWeekInfo"in Intl.Locale.prototype)}catch(t){return!1}}function eG(t,r,i){if(0!==t.length)return t.reduce((t,s)=>{let o=[r(s),s];return t&&i(t[0],o[0])===t[0]?t:o},null)[1]}function e$(t,r){return Object.prototype.hasOwnProperty.call(t,r)}function eB(t){if(null==t)return null;if("object"!=typeof t)throw new h("Week settings must be an object");if(!eq(t.firstDay,1,7)||!eq(t.minimalDays,1,7)||!Array.isArray(t.weekend)||t.weekend.some(t=>!eq(t,1,7)))throw new h("Invalid week settings");return{firstDay:t.firstDay,minimalDays:t.minimalDays,weekend:Array.from(t.weekend)}}function eq(t,r,i){return eU(t)&&t>=r&&t<=i}function eH(t,r=2){let i;return t<0?"-"+(""+-t).padStart(r,"0"):(""+t).padStart(r,"0")}function eW(t){if(!eD(t)&&null!==t&&""!==t)return parseInt(t,10)}function eJ(t){if(!eD(t)&&null!==t&&""!==t)return parseFloat(t)}function eK(t){if(!eD(t)&&null!==t&&""!==t)return Math.floor(1e3*parseFloat("0."+t))}function eY(t,r,i=!1){let s=10**r;return(i?Math.trunc:Math.round)(t*s)/s}function eX(t){return t%4==0&&(t%100!=0||t%400==0)}function eQ(t){return eX(t)?366:365}function e0(t,r){var i;let s=(i=r-1)-12*Math.floor(i/12)+1;return 2===s?eX(t+(r-s)/12)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][s-1]}function e1(t){let r=Date.UTC(t.year,t.month-1,t.day,t.hour,t.minute,t.second,t.millisecond);return t.year<100&&t.year>=0&&(r=new Date(r)).setUTCFullYear(t.year,t.month-1,t.day),+r}function e2(t,r,i){return-eR(eI(t,1,r),i)+r-1}function e3(t,r=4,i=1){let s=e2(t,r,i),o=e2(t+1,r,i);return(eQ(t)-s+o)/7}function e8(t){return t>99?t:t>eS.twoDigitCutoffYear?1900+t:2e3+t}function e5(t,r,i,s=null){let o=new Date(t),a={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};s&&(a.timeZone=s);let u={timeZoneName:r,...a},d=new Intl.DateTimeFormat(i,u).formatToParts(o).find(t=>"timezonename"===t.type.toLowerCase());return d?d.value:null}function e9(t,r){let i=parseInt(t,10);Number.isNaN(i)&&(i=0);let s=parseInt(r,10)||0,o=i<0||Object.is(i,-0)?-s:s;return 60*i+o}function e6(t){let r=Number(t);if("boolean"==typeof t||""===t||Number.isNaN(r))throw new h(`Invalid unit value ${t}`);return r}function e4(t,r){let i={};for(let s in t)if(e$(t,s)){let o=t[s];if(null==o)continue;i[r(s)]=e6(o)}return i}function e7(t,r){let i=Math.trunc(Math.abs(t/60)),s=Math.trunc(Math.abs(t%60)),o=t>=0?"+":"-";switch(r){case"short":return`${o}${eH(i,2)}:${eH(s,2)}`;case"narrow":return`${o}${i}${s>0?`:${s}`:""}`;case"techie":return`${o}${eH(i,2)}${eH(s,2)}`;default:throw RangeError(`Value format ${r} is out of range for property format`)}}function te(t){return["hour","minute","second","millisecond"].reduce((r,i)=>(r[i]=t[i],r),{})}let tt=["January","February","March","April","May","June","July","August","September","October","November","December"],tr=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],ti=["J","F","M","A","M","J","J","A","S","O","N","D"];function tn(t){switch(t){case"narrow":return[...ti];case"short":return[...tr];case"long":return[...tt];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}let ts=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],to=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],ta=["M","T","W","T","F","S","S"];function tl(t){switch(t){case"narrow":return[...ta];case"short":return[...to];case"long":return[...ts];case"numeric":return["1","2","3","4","5","6","7"];default:return null}}let tu=["AM","PM"],td=["Before Christ","Anno Domini"],tc=["BC","AD"],tp=["B","A"];function th(t){switch(t){case"narrow":return[...tp];case"short":return[...tc];case"long":return[...td];default:return null}}function tf(t,r){let i="";for(let s of t)s.literal?i+=s.val:i+=r(s.val);return i}let ty={D:_,DD:v,DDD:b,DDDD:M,t:S,tt:A,ttt:T,tttt:x,T:E,TT:I,TTT:C,TTTT:R,f:O,ff:N,fff:F,ffff:D,F:P,FF:k,FFF:Z,FFFF:j};class tm{static create(t,r={}){return new tm(t,r)}static parseFormat(t){let r=null,i="",s=!1,o=[];for(let a=0;a<t.length;a++){let u=t.charAt(a);"'"===u?(i.length>0&&o.push({literal:s||/^\s+$/.test(i),val:i}),r=null,i="",s=!s):s||u===r?i+=u:(i.length>0&&o.push({literal:/^\s+$/.test(i),val:i}),i=u,r=u)}return i.length>0&&o.push({literal:s||/^\s+$/.test(i),val:i}),o}static macroTokenToFormatOpts(t){return ty[t]}constructor(t,r){this.opts=r,this.loc=t,this.systemLoc=null}formatWithSystemDefault(t,r){return null===this.systemLoc&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(t,{...this.opts,...r}).format()}dtFormatter(t,r={}){return this.loc.dtFormatter(t,{...this.opts,...r})}formatDateTime(t,r){return this.dtFormatter(t,r).format()}formatDateTimeParts(t,r){return this.dtFormatter(t,r).formatToParts()}formatInterval(t,r){return this.dtFormatter(t.start,r).dtf.formatRange(t.start.toJSDate(),t.end.toJSDate())}resolvedOptions(t,r){return this.dtFormatter(t,r).resolvedOptions()}num(t,r=0){if(this.opts.forceSimple)return eH(t,r);let i={...this.opts};return r>0&&(i.padTo=r),this.loc.numberFormatter(i).format(t)}formatDateTimeFromString(t,r){let i="en"===this.loc.listingMode(),s=this.loc.outputCalendar&&"gregory"!==this.loc.outputCalendar,o=(r,i)=>this.loc.extract(t,r,i),a=r=>t.isOffsetFixed&&0===t.offset&&r.allowZ?"Z":t.isValid?t.zone.formatOffset(t.ts,r.format):"",u=()=>i?tu[t.hour<12?0:1]:o({hour:"numeric",hourCycle:"h12"},"dayperiod"),d=(r,s)=>i?tn(r)[t.month-1]:o(s?{month:r}:{month:r,day:"numeric"},"month"),c=(r,s)=>i?tl(r)[t.weekday-1]:o(s?{weekday:r}:{weekday:r,month:"long",day:"numeric"},"weekday"),p=r=>{let i=tm.macroTokenToFormatOpts(r);return i?this.formatWithSystemDefault(t,i):r},h=r=>i?th(r)[t.year<0?0:1]:o({era:r},"era");return tf(tm.parseFormat(r),r=>{switch(r){case"S":return this.num(t.millisecond);case"u":case"SSS":return this.num(t.millisecond,3);case"s":return this.num(t.second);case"ss":return this.num(t.second,2);case"uu":return this.num(Math.floor(t.millisecond/10),2);case"uuu":return this.num(Math.floor(t.millisecond/100));case"m":return this.num(t.minute);case"mm":return this.num(t.minute,2);case"h":return this.num(t.hour%12==0?12:t.hour%12);case"hh":return this.num(t.hour%12==0?12:t.hour%12,2);case"H":return this.num(t.hour);case"HH":return this.num(t.hour,2);case"Z":return a({format:"narrow",allowZ:this.opts.allowZ});case"ZZ":return a({format:"short",allowZ:this.opts.allowZ});case"ZZZ":return a({format:"techie",allowZ:this.opts.allowZ});case"ZZZZ":return t.zone.offsetName(t.ts,{format:"short",locale:this.loc.locale});case"ZZZZZ":return t.zone.offsetName(t.ts,{format:"long",locale:this.loc.locale});case"z":return t.zoneName;case"a":return u();case"d":return s?o({day:"numeric"},"day"):this.num(t.day);case"dd":return s?o({day:"2-digit"},"day"):this.num(t.day,2);case"c":case"E":return this.num(t.weekday);case"ccc":return c("short",!0);case"cccc":return c("long",!0);case"ccccc":return c("narrow",!0);case"EEE":return c("short",!1);case"EEEE":return c("long",!1);case"EEEEE":return c("narrow",!1);case"L":return s?o({month:"numeric",day:"numeric"},"month"):this.num(t.month);case"LL":return s?o({month:"2-digit",day:"numeric"},"month"):this.num(t.month,2);case"LLL":return d("short",!0);case"LLLL":return d("long",!0);case"LLLLL":return d("narrow",!0);case"M":return s?o({month:"numeric"},"month"):this.num(t.month);case"MM":return s?o({month:"2-digit"},"month"):this.num(t.month,2);case"MMM":return d("short",!1);case"MMMM":return d("long",!1);case"MMMMM":return d("narrow",!1);case"y":return s?o({year:"numeric"},"year"):this.num(t.year);case"yy":return s?o({year:"2-digit"},"year"):this.num(t.year.toString().slice(-2),2);case"yyyy":return s?o({year:"numeric"},"year"):this.num(t.year,4);case"yyyyyy":return s?o({year:"numeric"},"year"):this.num(t.year,6);case"G":return h("short");case"GG":return h("long");case"GGGGG":return h("narrow");case"kk":return this.num(t.weekYear.toString().slice(-2),2);case"kkkk":return this.num(t.weekYear,4);case"W":return this.num(t.weekNumber);case"WW":return this.num(t.weekNumber,2);case"n":return this.num(t.localWeekNumber);case"nn":return this.num(t.localWeekNumber,2);case"ii":return this.num(t.localWeekYear.toString().slice(-2),2);case"iiii":return this.num(t.localWeekYear,4);case"o":return this.num(t.ordinal);case"ooo":return this.num(t.ordinal,3);case"q":return this.num(t.quarter);case"qq":return this.num(t.quarter,2);case"X":return this.num(Math.floor(t.ts/1e3));case"x":return this.num(t.ts);default:return p(r)}})}formatDurationFromString(t,r){let i,s=t=>{switch(t[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"w":return"week";case"M":return"month";case"y":return"year";default:return null}},o=tm.parseFormat(r),a=o.reduce((t,{literal:r,val:i})=>r?t:t.concat(i),[]);return tf(o,(i=t.shiftTo(...a.map(s).filter(t=>t)),t=>{let r=s(t);return r?this.num(i.get(r),t.length):t}))}}let tg=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/;function t_(...t){let r=t.reduce((t,r)=>t+r.source,"");return RegExp(`^${r}$`)}function tv(...t){return r=>t.reduce(([t,i,s],o)=>{let[a,u,d]=o(r,s);return[{...t,...a},u||i,d]},[{},null,1]).slice(0,2)}function tw(t,...r){if(null==t)return[null,null];for(let[i,s]of r){let r=i.exec(t);if(r)return s(r)}return[null,null]}function tb(...t){return(r,i)=>{let s,o={};for(s=0;s<t.length;s++)o[t[s]]=eW(r[i+s]);return[o,null,i+s]}}let tM=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,tS=`(?:${tM.source}?(?:\\[(${tg.source})\\])?)?`,tA=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,tT=RegExp(`${tA.source}${tS}`),tx=RegExp(`(?:T${tT.source})?`),tE=tb("weekYear","weekNumber","weekDay"),tI=tb("year","ordinal"),tC=RegExp(`${tA.source} ?(?:${tM.source}|(${tg.source}))?`),tR=RegExp(`(?: ${tC.source})?`);function tO(t,r,i){let s=t[r];return eD(s)?i:eW(s)}function tP(t,r){return[{hours:tO(t,r,0),minutes:tO(t,r+1,0),seconds:tO(t,r+2,0),milliseconds:eK(t[r+3])},null,r+4]}function tN(t,r){let i=!t[r]&&!t[r+1],s=e9(t[r+1],t[r+2]);return[{},i?null:ea.instance(s),r+3]}function tk(t,r){return[{},t[r]?q.create(t[r]):null,r+1]}let tL=RegExp(`^T?${tA.source}$`),tF=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/;function tZ(t){let[r,i,s,o,a,u,d,c,p]=t,h="-"===r[0],f=c&&"-"===c[0],y=(t,r=!1)=>void 0!==t&&(r||t&&h)?-t:t;return[{years:y(eJ(i)),months:y(eJ(s)),weeks:y(eJ(o)),days:y(eJ(a)),hours:y(eJ(u)),minutes:y(eJ(d)),seconds:y(eJ(c),"-0"===c),milliseconds:y(eK(p),f)}]}let tD={GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function tj(t,r,i,s,o,a,u){let d={year:2===r.length?e8(eW(r)):eW(r),month:tr.indexOf(i)+1,day:eW(s),hour:eW(o),minute:eW(a)};return u&&(d.second=eW(u)),t&&(d.weekday=t.length>3?ts.indexOf(t)+1:to.indexOf(t)+1),d}let tU=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function tV(t){let r,[,i,s,o,a,u,d,c,p,h,f,y]=t;return[tj(i,a,o,s,u,d,c),new ea(p?tD[p]:h?0:e9(f,y))]}let tz=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,tG=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,t$=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function tB(t){let[,r,i,s,o,a,u,d]=t;return[tj(r,o,s,i,a,u,d),ea.utcInstance]}function tq(t){let[,r,i,s,o,a,u,d]=t;return[tj(r,d,i,s,o,a,u),ea.utcInstance]}let tH=t_(/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,tx),tW=t_(/(\d{4})-?W(\d\d)(?:-?(\d))?/,tx),tJ=t_(/(\d{4})-?(\d{3})/,tx),tK=t_(tT),tY=tv(function(t,r){return[{year:tO(t,r),month:tO(t,r+1,1),day:tO(t,r+2,1)},null,r+3]},tP,tN,tk),tX=tv(tE,tP,tN,tk),tQ=tv(tI,tP,tN,tk),t0=tv(tP,tN,tk),t1=tv(tP),t2=t_(/(\d{4})-(\d\d)-(\d\d)/,tR),t3=t_(tC),t8=tv(tP,tN,tk),t5="Invalid Duration",t9={weeks:{days:7,hours:168,minutes:10080,seconds:604800,milliseconds:6048e5},days:{hours:24,minutes:1440,seconds:86400,milliseconds:864e5},hours:{minutes:60,seconds:3600,milliseconds:36e5},minutes:{seconds:60,milliseconds:6e4},seconds:{milliseconds:1e3}},t6={years:{quarters:4,months:12,weeks:52,days:365,hours:8760,minutes:525600,seconds:31536e3,milliseconds:31536e6},quarters:{months:3,weeks:13,days:91,hours:2184,minutes:131040,seconds:7862400,milliseconds:78624e5},months:{weeks:4,days:30,hours:720,minutes:43200,seconds:2592e3,milliseconds:2592e6},...t9},t4={years:{quarters:4,months:12,weeks:52.1775,days:365.2425,hours:8765.82,minutes:525949.2,seconds:0x1e18558,milliseconds:31556952e3},quarters:{months:3,weeks:13.044375,days:91.310625,hours:2191.455,minutes:131487.3,seconds:7889238,milliseconds:7889238e3},months:{weeks:30.436875/7,days:30.436875,hours:730.485,minutes:43829.1,seconds:2629746,milliseconds:2629746e3},...t9},t7=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],re=t7.slice(0).reverse();function rt(t,r,i=!1){return new rn({values:i?r.values:{...t.values,...r.values||{}},loc:t.loc.clone(r.loc),conversionAccuracy:r.conversionAccuracy||t.conversionAccuracy,matrix:r.matrix||t.matrix})}function rr(t,r){let i=r.milliseconds??0;for(let s of re.slice(1))r[s]&&(i+=r[s]*t[s].milliseconds);return i}function ri(t,r){let i=0>rr(t,r)?-1:1;t7.reduceRight((s,o)=>{if(eD(r[o]))return s;if(s){let a=r[s]*i,u=t[o][s],d=Math.floor(a/u);r[o]+=d*i,r[s]-=d*u*i}return o},null),t7.reduce((i,s)=>{if(eD(r[s]))return i;if(i){let o=r[i]%1;r[i]-=o,r[s]+=o*t[i][s]}return s},null)}class rn{constructor(t){let r="longterm"===t.conversionAccuracy,i=r?t4:t6;t.matrix&&(i=t.matrix),this.values=t.values,this.loc=t.loc||es.create(),this.conversionAccuracy=r?"longterm":"casual",this.invalid=t.invalid||null,this.matrix=i,this.isLuxonDuration=!0}static fromMillis(t,r){return rn.fromObject({milliseconds:t},r)}static fromObject(t,r={}){if(null==t||"object"!=typeof t)throw new h(`Duration.fromObject: argument expected to be an object, got ${null===t?"null":typeof t}`);return new rn({values:e4(t,rn.normalizeUnit),loc:es.fromObject(r),conversionAccuracy:r.conversionAccuracy,matrix:r.matrix})}static fromDurationLike(t){if(ej(t))return rn.fromMillis(t);if(rn.isDuration(t))return t;if("object"==typeof t)return rn.fromObject(t);throw new h(`Unknown duration argument ${t} of type ${typeof t}`)}static fromISO(t,r){let[i]=tw(t,[tF,tZ]);return i?rn.fromObject(i,r):rn.invalid("unparsable",`the input "${t}" can't be parsed as ISO 8601`)}static fromISOTime(t,r){let[i]=tw(t,[tL,t1]);return i?rn.fromObject(i,r):rn.invalid("unparsable",`the input "${t}" can't be parsed as ISO 8601`)}static invalid(t,r=null){if(!t)throw new h("need to specify a reason the Duration is invalid");let i=t instanceof eA?t:new eA(t,r);if(!eS.throwOnInvalid)return new rn({invalid:i});throw new d(i)}static normalizeUnit(t){let r={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[t?t.toLowerCase():t];if(!r)throw new p(t);return r}static isDuration(t){return t&&t.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(t,r={}){let i={...r,floor:!1!==r.round&&!1!==r.floor};return this.isValid?tm.create(this.loc,i).formatDurationFromString(this,t):t5}toHuman(t={}){if(!this.isValid)return t5;let r=t7.map(r=>{let i=this.values[r];return eD(i)?null:this.loc.numberFormatter({style:"unit",unitDisplay:"long",...t,unit:r.slice(0,-1)}).format(i)}).filter(t=>t);return this.loc.listFormatter({type:"conjunction",style:t.listStyle||"narrow",...t}).format(r)}toObject(){return this.isValid?{...this.values}:{}}toISO(){if(!this.isValid)return null;let t="P";return 0!==this.years&&(t+=this.years+"Y"),(0!==this.months||0!==this.quarters)&&(t+=this.months+3*this.quarters+"M"),0!==this.weeks&&(t+=this.weeks+"W"),0!==this.days&&(t+=this.days+"D"),(0!==this.hours||0!==this.minutes||0!==this.seconds||0!==this.milliseconds)&&(t+="T"),0!==this.hours&&(t+=this.hours+"H"),0!==this.minutes&&(t+=this.minutes+"M"),(0!==this.seconds||0!==this.milliseconds)&&(t+=eY(this.seconds+this.milliseconds/1e3,3)+"S"),"P"===t&&(t+="T0S"),t}toISOTime(t={}){if(!this.isValid)return null;let r=this.toMillis();return r<0||r>=864e5?null:(t={suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended",...t,includeOffset:!1},rH.fromMillis(r,{zone:"UTC"}).toISOTime(t))}toJSON(){return this.toISO()}toString(){return this.toISO()}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Duration { values: ${JSON.stringify(this.values)} }`:`Duration { Invalid, reason: ${this.invalidReason} }`}toMillis(){return this.isValid?rr(this.matrix,this.values):NaN}valueOf(){return this.toMillis()}plus(t){if(!this.isValid)return this;let r=rn.fromDurationLike(t),i={};for(let t of t7)(e$(r.values,t)||e$(this.values,t))&&(i[t]=r.get(t)+this.get(t));return rt(this,{values:i},!0)}minus(t){if(!this.isValid)return this;let r=rn.fromDurationLike(t);return this.plus(r.negate())}mapUnits(t){if(!this.isValid)return this;let r={};for(let i of Object.keys(this.values))r[i]=e6(t(this.values[i],i));return rt(this,{values:r},!0)}get(t){return this[rn.normalizeUnit(t)]}set(t){return this.isValid?rt(this,{values:{...this.values,...e4(t,rn.normalizeUnit)}}):this}reconfigure({locale:t,numberingSystem:r,conversionAccuracy:i,matrix:s}={}){return rt(this,{loc:this.loc.clone({locale:t,numberingSystem:r}),matrix:s,conversionAccuracy:i})}as(t){return this.isValid?this.shiftTo(t).get(t):NaN}normalize(){if(!this.isValid)return this;let t=this.toObject();return ri(this.matrix,t),rt(this,{values:t},!0)}rescale(){return this.isValid?rt(this,{values:function(t){let r={};for(let[i,s]of Object.entries(t))0!==s&&(r[i]=s);return r}(this.normalize().shiftToAll().toObject())},!0):this}shiftTo(...t){let r;if(!this.isValid||0===t.length)return this;t=t.map(t=>rn.normalizeUnit(t));let i={},s={},o=this.toObject();for(let a of t7)if(t.indexOf(a)>=0){r=a;let t=0;for(let r in s)t+=this.matrix[r][a]*s[r],s[r]=0;ej(o[a])&&(t+=o[a]);let u=Math.trunc(t);i[a]=u,s[a]=(1e3*t-1e3*u)/1e3}else ej(o[a])&&(s[a]=o[a]);for(let t in s)0!==s[t]&&(i[r]+=t===r?s[t]:s[t]/this.matrix[r][t]);return ri(this.matrix,i),rt(this,{values:i},!0)}shiftToAll(){return this.isValid?this.shiftTo("years","months","weeks","days","hours","minutes","seconds","milliseconds"):this}negate(){if(!this.isValid)return this;let t={};for(let r of Object.keys(this.values))t[r]=0===this.values[r]?0:-this.values[r];return rt(this,{values:t},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return null===this.invalid}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(t){if(!this.isValid||!t.isValid||!this.loc.equals(t.loc))return!1;for(let s of t7){var r,i;if(r=this.values[s],i=t.values[s],void 0===r||0===r?void 0!==i&&0!==i:r!==i)return!1}return!0}}let rs="Invalid Interval";class ro{constructor(t){this.s=t.start,this.e=t.end,this.invalid=t.invalid||null,this.isLuxonInterval=!0}static invalid(t,r=null){if(!t)throw new h("need to specify a reason the Interval is invalid");let i=t instanceof eA?t:new eA(t,r);if(!eS.throwOnInvalid)return new ro({invalid:i});throw new u(i)}static fromDateTimes(t,r){var i,s;let o=rW(t),a=rW(r),u=(i=o,s=a,i&&i.isValid?s&&s.isValid?s<i?ro.invalid("end before start",`The end of an interval must be after its start, but you had start=${i.toISO()} and end=${s.toISO()}`):null:ro.invalid("missing or invalid end"):ro.invalid("missing or invalid start"));return null==u?new ro({start:o,end:a}):u}static after(t,r){let i=rn.fromDurationLike(r),s=rW(t);return ro.fromDateTimes(s,s.plus(i))}static before(t,r){let i=rn.fromDurationLike(r),s=rW(t);return ro.fromDateTimes(s.minus(i),s)}static fromISO(t,r){let[i,s]=(t||"").split("/",2);if(i&&s){let t,o,a,u;try{o=(t=rH.fromISO(i,r)).isValid}catch(t){o=!1}try{u=(a=rH.fromISO(s,r)).isValid}catch(t){u=!1}if(o&&u)return ro.fromDateTimes(t,a);if(o){let i=rn.fromISO(s,r);if(i.isValid)return ro.after(t,i)}else if(u){let t=rn.fromISO(i,r);if(t.isValid)return ro.before(a,t)}}return ro.invalid("unparsable",`the input "${t}" can't be parsed as ISO 8601`)}static isInterval(t){return t&&t.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get isValid(){return null===this.invalidReason}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(t="milliseconds"){return this.isValid?this.toDuration(t).get(t):NaN}count(t="milliseconds",r){let i;if(!this.isValid)return NaN;let s=this.start.startOf(t,r);return Math.floor((i=(i=r?.useLocaleWeeks?this.end.reconfigure({locale:s.locale}):this.end).startOf(t,r)).diff(s,t).get(t))+(i.valueOf()!==this.end.valueOf())}hasSame(t){return!!this.isValid&&(this.isEmpty()||this.e.minus(1).hasSame(this.s,t))}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(t){return!!this.isValid&&this.s>t}isBefore(t){return!!this.isValid&&this.e<=t}contains(t){return!!this.isValid&&this.s<=t&&this.e>t}set({start:t,end:r}={}){return this.isValid?ro.fromDateTimes(t||this.s,r||this.e):this}splitAt(...t){if(!this.isValid)return[];let r=t.map(rW).filter(t=>this.contains(t)).sort((t,r)=>t.toMillis()-r.toMillis()),i=[],{s}=this,o=0;for(;s<this.e;){let t=r[o]||this.e,a=+t>+this.e?this.e:t;i.push(ro.fromDateTimes(s,a)),s=a,o+=1}return i}splitBy(t){let r=rn.fromDurationLike(t);if(!this.isValid||!r.isValid||0===r.as("milliseconds"))return[];let{s:i}=this,s=1,o,a=[];for(;i<this.e;){let t=this.start.plus(r.mapUnits(t=>t*s));o=+t>+this.e?this.e:t,a.push(ro.fromDateTimes(i,o)),i=o,s+=1}return a}divideEqually(t){return this.isValid?this.splitBy(this.length()/t).slice(0,t):[]}overlaps(t){return this.e>t.s&&this.s<t.e}abutsStart(t){return!!this.isValid&&+this.e==+t.s}abutsEnd(t){return!!this.isValid&&+t.e==+this.s}engulfs(t){return!!this.isValid&&this.s<=t.s&&this.e>=t.e}equals(t){return!!this.isValid&&!!t.isValid&&this.s.equals(t.s)&&this.e.equals(t.e)}intersection(t){if(!this.isValid)return this;let r=this.s>t.s?this.s:t.s,i=this.e<t.e?this.e:t.e;return r>=i?null:ro.fromDateTimes(r,i)}union(t){if(!this.isValid)return this;let r=this.s<t.s?this.s:t.s,i=this.e>t.e?this.e:t.e;return ro.fromDateTimes(r,i)}static merge(t){let[r,i]=t.sort((t,r)=>t.s-r.s).reduce(([t,r],i)=>r?r.overlaps(i)||r.abutsStart(i)?[t,r.union(i)]:[t.concat([r]),i]:[t,i],[[],null]);return i&&r.push(i),r}static xor(t){let r=null,i=0,s=[],o=t.map(t=>[{time:t.s,type:"s"},{time:t.e,type:"e"}]);for(let t of Array.prototype.concat(...o).sort((t,r)=>t.time-r.time))1===(i+="s"===t.type?1:-1)?r=t.time:(r&&+r!=+t.time&&s.push(ro.fromDateTimes(r,t.time)),r=null);return ro.merge(s)}difference(...t){return ro.xor([this].concat(t)).map(t=>this.intersection(t)).filter(t=>t&&!t.isEmpty())}toString(){return this.isValid?`[${this.s.toISO()}  ${this.e.toISO()})`:rs}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Interval { start: ${this.s.toISO()}, end: ${this.e.toISO()} }`:`Interval { Invalid, reason: ${this.invalidReason} }`}toLocaleString(t=_,r={}){return this.isValid?tm.create(this.s.loc.clone(r),t).formatInterval(this):rs}toISO(t){return this.isValid?`${this.s.toISO(t)}/${this.e.toISO(t)}`:rs}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:rs}toISOTime(t){return this.isValid?`${this.s.toISOTime(t)}/${this.e.toISOTime(t)}`:rs}toFormat(t,{separator:r="  "}={}){return this.isValid?`${this.s.toFormat(t)}${r}${this.e.toFormat(t)}`:rs}toDuration(t,r){return this.isValid?this.e.diff(this.s,t,r):rn.invalid(this.invalidReason)}mapEndpoints(t){return ro.fromDateTimes(t(this.s),t(this.e))}}class ra{static hasDST(t=eS.defaultZone){let r=rH.now().setZone(t).set({month:12});return!t.isUniversal&&r.offset!==r.set({month:6}).offset}static isValidIANAZone(t){return q.isValidZone(t)}static normalizeZone(t){return eu(t,eS.defaultZone)}static getStartOfWeek({locale:t=null,locObj:r=null}={}){return(r||es.create(t)).getStartOfWeek()}static getMinimumDaysInFirstWeek({locale:t=null,locObj:r=null}={}){return(r||es.create(t)).getMinDaysInFirstWeek()}static getWeekendWeekdays({locale:t=null,locObj:r=null}={}){return(r||es.create(t)).getWeekendDays().slice()}static months(t="long",{locale:r=null,numberingSystem:i=null,locObj:s=null,outputCalendar:o="gregory"}={}){return(s||es.create(r,i,o)).months(t)}static monthsFormat(t="long",{locale:r=null,numberingSystem:i=null,locObj:s=null,outputCalendar:o="gregory"}={}){return(s||es.create(r,i,o)).months(t,!0)}static weekdays(t="long",{locale:r=null,numberingSystem:i=null,locObj:s=null}={}){return(s||es.create(r,i,null)).weekdays(t)}static weekdaysFormat(t="long",{locale:r=null,numberingSystem:i=null,locObj:s=null}={}){return(s||es.create(r,i,null)).weekdays(t,!0)}static meridiems({locale:t=null}={}){return es.create(t).meridiems()}static eras(t="short",{locale:r=null}={}){return es.create(r,null,"gregory").eras(t)}static features(){return{relative:eV(),localeWeek:ez()}}}function rl(t,r){let i=t=>t.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf(),s=i(r)-i(t);return Math.floor(rn.fromMillis(s).as("days"))}function ru(t,r=t=>t){return{regex:t,deser:([t])=>r(function(t){let r=parseInt(t,10);if(!isNaN(r))return r;r="";for(let i=0;i<t.length;i++){let s=t.charCodeAt(i);if(-1!==t[i].search(ed.hanidec))r+=ep.indexOf(t[i]);else for(let t in ec){let[i,o]=ec[t];s>=i&&s<=o&&(r+=s-i)}}return parseInt(r,10)}(t))}}let rd=String.fromCharCode(160),rc=`[ ${rd}]`,rp=RegExp(rc,"g");function rh(t){return t.replace(/\./g,"\\.?").replace(rp,rc)}function rf(t){return t.replace(/\./g,"").replace(rp," ").toLowerCase()}function ry(t,r){return null===t?null:{regex:RegExp(t.map(rh).join("|")),deser:([i])=>t.findIndex(t=>rf(i)===rf(t))+r}}function rm(t,r){return{regex:t,deser:([,t,r])=>e9(t,r),groups:r}}function rg(t){return{regex:t,deser:([t])=>t}}let r_={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour12:{numeric:"h","2-digit":"hh"},hour24:{numeric:"H","2-digit":"HH"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}},rv=null;function rw(t,r){return Array.prototype.concat(...t.map(t=>(function(t,r){if(t.literal)return t;let i=rS(tm.macroTokenToFormatOpts(t.val),r);return null==i||i.includes(void 0)?t:i})(t,r)))}class rb{constructor(t,r){if(this.locale=t,this.format=r,this.tokens=rw(tm.parseFormat(r),t),this.units=this.tokens.map(r=>(function(t,r){let i=ef(r),s=ef(r,"{2}"),o=ef(r,"{3}"),a=ef(r,"{4}"),u=ef(r,"{6}"),d=ef(r,"{1,2}"),c=ef(r,"{1,3}"),p=ef(r,"{1,6}"),h=ef(r,"{1,9}"),f=ef(r,"{2,4}"),y=ef(r,"{4,6}"),m=t=>({regex:RegExp(t.val.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")),deser:([t])=>t,literal:!0}),g=(g=>{if(t.literal)return m(g);switch(g.val){case"G":return ry(r.eras("short"),0);case"GG":return ry(r.eras("long"),0);case"y":return ru(p);case"yy":case"kk":return ru(f,e8);case"yyyy":case"kkkk":return ru(a);case"yyyyy":return ru(y);case"yyyyyy":return ru(u);case"M":case"L":case"d":case"H":case"h":case"m":case"q":case"s":case"W":return ru(d);case"MM":case"LL":case"dd":case"HH":case"hh":case"mm":case"qq":case"ss":case"WW":return ru(s);case"MMM":return ry(r.months("short",!0),1);case"MMMM":return ry(r.months("long",!0),1);case"LLL":return ry(r.months("short",!1),1);case"LLLL":return ry(r.months("long",!1),1);case"o":case"S":return ru(c);case"ooo":case"SSS":return ru(o);case"u":return rg(h);case"uu":return rg(d);case"uuu":case"E":case"c":return ru(i);case"a":return ry(r.meridiems(),0);case"EEE":return ry(r.weekdays("short",!1),1);case"EEEE":return ry(r.weekdays("long",!1),1);case"ccc":return ry(r.weekdays("short",!0),1);case"cccc":return ry(r.weekdays("long",!0),1);case"Z":case"ZZ":return rm(RegExp(`([+-]${d.source})(?::(${s.source}))?`),2);case"ZZZ":return rm(RegExp(`([+-]${d.source})(${s.source})?`),2);case"z":return rg(/[a-z_+-/]{1,256}?/i);case" ":return rg(/[^\S\n\r]/);default:return m(g)}})(t)||{invalidReason:"missing Intl.DateTimeFormat.formatToParts support"};return g.token=t,g})(r,t)),this.disqualifyingUnit=this.units.find(t=>t.invalidReason),!this.disqualifyingUnit){let[t,r]=function(t){let r=t.map(t=>t.regex).reduce((t,r)=>`${t}(${r.source})`,"");return[`^${r}$`,t]}(this.units);this.regex=RegExp(t,"i"),this.handlers=r}}explainFromTokens(t){if(!this.isValid)return{input:t,tokens:this.tokens,invalidReason:this.invalidReason};{let[r,i]=function(t,r,i){let s=t.match(r);if(!s)return[s,{}];{let t={},r=1;for(let o in i)if(e$(i,o)){let a=i[o],u=a.groups?a.groups+1:1;!a.literal&&a.token&&(t[a.token.val[0]]=a.deser(s.slice(r,r+u))),r+=u}return[s,t]}}(t,this.regex,this.handlers),[s,o,a]=i?function(t){let r,i=t=>{switch(t){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}},s=null;return eD(t.z)||(s=q.create(t.z)),eD(t.Z)||(s||(s=new ea(t.Z)),r=t.Z),eD(t.q)||(t.M=(t.q-1)*3+1),eD(t.h)||(t.h<12&&1===t.a?t.h+=12:12===t.h&&0===t.a&&(t.h=0)),0===t.G&&t.y&&(t.y=-t.y),eD(t.u)||(t.S=eK(t.u)),[Object.keys(t).reduce((r,s)=>{let o=i(s);return o&&(r[o]=t[s]),r},{}),s,r]}(i):[null,null,void 0];if(e$(i,"a")&&e$(i,"H"))throw new c("Can't include meridiem when specifying 24-hour format");return{input:t,tokens:this.tokens,regex:this.regex,rawMatches:r,matches:i,result:s,zone:o,specificOffset:a}}}get isValid(){return!this.disqualifyingUnit}get invalidReason(){return this.disqualifyingUnit?this.disqualifyingUnit.invalidReason:null}}function rM(t,r,i){return new rb(t,i).explainFromTokens(r)}function rS(t,r){if(!t)return null;let i=tm.create(r,t).dtFormatter((rv||(rv=rH.fromMillis(0x16a2e5618e3)),rv)),s=i.formatToParts(),o=i.resolvedOptions();return s.map(r=>(function(t,r,i){let{type:s,value:o}=t;if("literal"===s){let t=/^\s+$/.test(o);return{literal:!t,val:t?" ":o}}let a=r[s],u=s;"hour"===s&&(u=null!=r.hour12?r.hour12?"hour12":"hour24":null!=r.hourCycle?"h11"===r.hourCycle||"h12"===r.hourCycle?"hour12":"hour24":i.hour12?"hour12":"hour24");let d=r_[u];if("object"==typeof d&&(d=d[a]),d)return{literal:!1,val:d}})(r,t,o))}let rA="Invalid DateTime";function rT(t){return new eA("unsupported zone",`the zone "${t.name}" is not supported`)}function rx(t){return null===t.weekData&&(t.weekData=eO(t.c)),t.weekData}function rE(t){return null===t.localWeekData&&(t.localWeekData=eO(t.c,t.loc.getMinDaysInFirstWeek(),t.loc.getStartOfWeek())),t.localWeekData}function rI(t,r){let i={ts:t.ts,zone:t.zone,c:t.c,o:t.o,loc:t.loc,invalid:t.invalid};return new rH({...i,...r,old:i})}function rC(t,r,i){let s=t-60*r*1e3,o=i.offset(s);if(r===o)return[s,r];s-=(o-r)*6e4;let a=i.offset(s);return o===a?[s,o]:[t-60*Math.min(o,a)*1e3,Math.max(o,a)]}function rR(t,r){let i=new Date(t+=60*r*1e3);return{year:i.getUTCFullYear(),month:i.getUTCMonth()+1,day:i.getUTCDate(),hour:i.getUTCHours(),minute:i.getUTCMinutes(),second:i.getUTCSeconds(),millisecond:i.getUTCMilliseconds()}}function rO(t,r){let i=t.o,s=t.c.year+Math.trunc(r.years),o=t.c.month+Math.trunc(r.months)+3*Math.trunc(r.quarters),a={...t.c,year:s,month:o,day:Math.min(t.c.day,e0(s,o))+Math.trunc(r.days)+7*Math.trunc(r.weeks)},u=rn.fromObject({years:r.years-Math.trunc(r.years),quarters:r.quarters-Math.trunc(r.quarters),months:r.months-Math.trunc(r.months),weeks:r.weeks-Math.trunc(r.weeks),days:r.days-Math.trunc(r.days),hours:r.hours,minutes:r.minutes,seconds:r.seconds,milliseconds:r.milliseconds}).as("milliseconds"),[d,c]=rC(e1(a),i,t.zone);return 0!==u&&(d+=u,c=t.zone.offset(d)),{ts:d,o:c}}function rP(t,r,i,s,o,a){let{setZone:u,zone:d}=i;if((!t||0===Object.keys(t).length)&&!r)return rH.invalid(new eA("unparsable",`the input "${o}" can't be parsed as ${s}`));{let s=rH.fromObject(t,{...i,zone:r||d,specificOffset:a});return u?s:s.setZone(d)}}function rN(t,r,i=!0){return t.isValid?tm.create(es.create("en-US"),{allowZ:i,forceSimple:!0}).formatDateTimeFromString(t,r):null}function rk(t,r){let i=t.c.year>9999||t.c.year<0,s="";return i&&t.c.year>=0&&(s+="+"),s+=eH(t.c.year,i?6:4),r?(s+="-",s+=eH(t.c.month),s+="-"):s+=eH(t.c.month),s+=eH(t.c.day)}function rL(t,r,i,s,o,a){let u=eH(t.c.hour);return r?(u+=":",u+=eH(t.c.minute),0===t.c.millisecond&&0===t.c.second&&i||(u+=":")):u+=eH(t.c.minute),(0!==t.c.millisecond||0!==t.c.second||!i)&&(u+=eH(t.c.second),0===t.c.millisecond&&s||(u+=".",u+=eH(t.c.millisecond,3))),o&&(t.isOffsetFixed&&0===t.offset&&!a?u+="Z":t.o<0?(u+="-",u+=eH(Math.trunc(-t.o/60)),u+=":",u+=eH(Math.trunc(-t.o%60))):(u+="+",u+=eH(Math.trunc(t.o/60)),u+=":",u+=eH(Math.trunc(t.o%60)))),a&&(u+="["+t.zone.ianaName+"]"),u}let rF={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},rZ={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},rD={ordinal:1,hour:0,minute:0,second:0,millisecond:0},rj=["year","month","day","hour","minute","second","millisecond"],rU=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],rV=["year","ordinal","hour","minute","second","millisecond"];function rz(t){switch(t.toLowerCase()){case"localweekday":case"localweekdays":return"localWeekday";case"localweeknumber":case"localweeknumbers":return"localWeekNumber";case"localweekyear":case"localweekyears":return"localWeekYear";default:let r={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[t.toLowerCase()];if(!r)throw new p(t);return r}}function rG(t,r){let i,o,a=eu(r.zone,eS.defaultZone);if(!a.isValid)return rH.invalid(rT(a));let u=es.fromObject(r);if(eD(t.year))i=eS.now();else{for(let r of rj)eD(t[r])&&(t[r]=rF[r]);let r=eF(t)||eZ(t);if(r)return rH.invalid(r);let u=(rq[a]||(void 0===s&&(s=eS.now()),rq[a]=a.offset(s)),rq[a]);[i,o]=rC(e1(t),u,a)}return new rH({ts:i,zone:a,loc:u,o})}function r$(t,r,i){let s=!!eD(i.round)||i.round,o=(t,o)=>(t=eY(t,s||i.calendary?0:2,!0),r.loc.clone(i).relFormatter(i).format(t,o)),a=s=>i.calendary?r.hasSame(t,s)?0:r.startOf(s).diff(t.startOf(s),s).get(s):r.diff(t,s).get(s);if(i.unit)return o(a(i.unit),i.unit);for(let t of i.units){let r=a(t);if(Math.abs(r)>=1)return o(r,t)}return o(t>r?-0:0,i.units[i.units.length-1])}function rB(t){let r={},i;return t.length>0&&"object"==typeof t[t.length-1]?(r=t[t.length-1],i=Array.from(t).slice(0,t.length-1)):i=Array.from(t),[r,i]}let rq={};class rH{constructor(t){let r=t.zone||eS.defaultZone,i=t.invalid||(Number.isNaN(t.ts)?new eA("invalid input"):null)||(r.isValid?null:rT(r));this.ts=eD(t.ts)?eS.now():t.ts;let s=null,o=null;if(!i)if(t.old&&t.old.ts===this.ts&&t.old.zone.equals(r))[s,o]=[t.old.c,t.old.o];else{let a=ej(t.o)&&!t.old?t.o:r.offset(this.ts);s=(i=Number.isNaN((s=rR(this.ts,a)).year)?new eA("invalid input"):null)?null:s,o=i?null:a}this._zone=r,this.loc=t.loc||es.create(),this.invalid=i,this.weekData=null,this.localWeekData=null,this.c=s,this.o=o,this.isLuxonDateTime=!0}static now(){return new rH({})}static local(){let[t,r]=rB(arguments),[i,s,o,a,u,d,c]=r;return rG({year:i,month:s,day:o,hour:a,minute:u,second:d,millisecond:c},t)}static utc(){let[t,r]=rB(arguments),[i,s,o,a,u,d,c]=r;return t.zone=ea.utcInstance,rG({year:i,month:s,day:o,hour:a,minute:u,second:d,millisecond:c},t)}static fromJSDate(t,r={}){let i="[object Date]"===Object.prototype.toString.call(t)?t.valueOf():NaN;if(Number.isNaN(i))return rH.invalid("invalid input");let s=eu(r.zone,eS.defaultZone);return s.isValid?new rH({ts:i,zone:s,loc:es.fromObject(r)}):rH.invalid(rT(s))}static fromMillis(t,r={}){if(ej(t))if(t<-864e13||t>864e13)return rH.invalid("Timestamp out of range");else return new rH({ts:t,zone:eu(r.zone,eS.defaultZone),loc:es.fromObject(r)});throw new h(`fromMillis requires a numerical input, but received a ${typeof t} with value ${t}`)}static fromSeconds(t,r={}){if(ej(t))return new rH({ts:1e3*t,zone:eu(r.zone,eS.defaultZone),loc:es.fromObject(r)});throw new h("fromSeconds requires a numerical input")}static fromObject(t,r={}){var i;t=t||{};let s=eu(r.zone,eS.defaultZone);if(!s.isValid)return rH.invalid(rT(s));let o=es.fromObject(r),a=e4(t,rz),{minDaysInFirstWeek:u,startOfWeek:d}=eL(a,o),p=eS.now(),h=eD(r.specificOffset)?s.offset(p):r.specificOffset,f=!eD(a.ordinal),y=!eD(a.year),m=!eD(a.month)||!eD(a.day),g=y||m,_=a.weekYear||a.weekNumber;if((g||f)&&_)throw new c("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(m&&f)throw new c("Can't mix ordinal dates with month/day");let v=_||a.weekday&&!g,w,b,M=rR(p,h);v?(w=rU,b=rZ,M=eO(M,u,d)):f?(w=rV,b=rD,M=eN(M)):(w=rj,b=rF);let S=!1;for(let t of w)eD(a[t])?S?a[t]=b[t]:a[t]=M[t]:S=!0;let A=(v?function(t,r=4,i=1){let s=eU(t.weekYear),o=eq(t.weekNumber,1,e3(t.weekYear,r,i)),a=eq(t.weekday,1,7);return s?o?!a&&eE("weekday",t.weekday):eE("week",t.weekNumber):eE("weekYear",t.weekYear)}(a,u,d):f?function(t){let r=eU(t.year),i=eq(t.ordinal,1,eQ(t.year));return r?!i&&eE("ordinal",t.ordinal):eE("year",t.year)}(a):eF(a))||eZ(a);if(A)return rH.invalid(A);let[T,x]=(i=v?eP(a,u,d):f?ek(a):a,rC(e1(i),h,s)),E=new rH({ts:T,zone:s,o:x,loc:o});return a.weekday&&g&&t.weekday!==E.weekday?rH.invalid("mismatched weekday",`you can't specify both a weekday of ${a.weekday} and a date of ${E.toISO()}`):E.isValid?E:rH.invalid(E.invalid)}static fromISO(t,r={}){let[i,s]=tw(t,[tH,tY],[tW,tX],[tJ,tQ],[tK,t0]);return rP(i,s,r,"ISO 8601",t)}static fromRFC2822(t,r={}){let[i,s]=tw(t.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim(),[tU,tV]);return rP(i,s,r,"RFC 2822",t)}static fromHTTP(t,r={}){let[i,s]=tw(t,[tz,tB],[tG,tB],[t$,tq]);return rP(i,s,r,"HTTP",r)}static fromFormat(t,r,i={}){if(eD(t)||eD(r))throw new h("fromFormat requires an input string and a format");let{locale:s=null,numberingSystem:o=null}=i,[a,u,d,c]=function(t,r,i){let{result:s,zone:o,specificOffset:a,invalidReason:u}=rM(t,r,i);return[s,o,a,u]}(es.fromOpts({locale:s,numberingSystem:o,defaultToEN:!0}),t,r);return c?rH.invalid(c):rP(a,u,i,`format ${r}`,t,d)}static fromString(t,r,i={}){return rH.fromFormat(t,r,i)}static fromSQL(t,r={}){let[i,s]=tw(t,[t2,tY],[t3,t8]);return rP(i,s,r,"SQL",t)}static invalid(t,r=null){if(!t)throw new h("need to specify a reason the DateTime is invalid");let i=t instanceof eA?t:new eA(t,r);if(!eS.throwOnInvalid)return new rH({invalid:i});throw new a(i)}static isDateTime(t){return t&&t.isLuxonDateTime||!1}static parseFormatForOpts(t,r={}){let i=rS(t,es.fromObject(r));return i?i.map(t=>t?t.val:null).join(""):null}static expandFormat(t,r={}){return rw(tm.parseFormat(t),es.fromObject(r)).map(t=>t.val).join("")}static resetCache(){s=void 0,rq={}}get(t){return this[t]}get isValid(){return null===this.invalid}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?rx(this).weekYear:NaN}get weekNumber(){return this.isValid?rx(this).weekNumber:NaN}get weekday(){return this.isValid?rx(this).weekday:NaN}get isWeekend(){return this.isValid&&this.loc.getWeekendDays().includes(this.weekday)}get localWeekday(){return this.isValid?rE(this).weekday:NaN}get localWeekNumber(){return this.isValid?rE(this).weekNumber:NaN}get localWeekYear(){return this.isValid?rE(this).weekYear:NaN}get ordinal(){return this.isValid?eN(this.c).ordinal:NaN}get monthShort(){return this.isValid?ra.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?ra.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?ra.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?ra.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return!this.isOffsetFixed&&(this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset)}getPossibleOffsets(){if(!this.isValid||this.isOffsetFixed)return[this];let t=e1(this.c),r=this.zone.offset(t-864e5),i=this.zone.offset(t+864e5),s=this.zone.offset(t-6e4*r),o=this.zone.offset(t-6e4*i);if(s===o)return[this];let a=t-6e4*s,u=t-6e4*o,d=rR(a,s),c=rR(u,o);return d.hour===c.hour&&d.minute===c.minute&&d.second===c.second&&d.millisecond===c.millisecond?[rI(this,{ts:a}),rI(this,{ts:u})]:[this]}get isInLeapYear(){return eX(this.year)}get daysInMonth(){return e0(this.year,this.month)}get daysInYear(){return this.isValid?eQ(this.year):NaN}get weeksInWeekYear(){return this.isValid?e3(this.weekYear):NaN}get weeksInLocalWeekYear(){return this.isValid?e3(this.localWeekYear,this.loc.getMinDaysInFirstWeek(),this.loc.getStartOfWeek()):NaN}resolvedLocaleOptions(t={}){let{locale:r,numberingSystem:i,calendar:s}=tm.create(this.loc.clone(t),t).resolvedOptions(this);return{locale:r,numberingSystem:i,outputCalendar:s}}toUTC(t=0,r={}){return this.setZone(ea.instance(t),r)}toLocal(){return this.setZone(eS.defaultZone)}setZone(t,{keepLocalTime:r=!1,keepCalendarTime:i=!1}={}){if((t=eu(t,eS.defaultZone)).equals(this.zone))return this;{if(!t.isValid)return rH.invalid(rT(t));let o=this.ts;if(r||i){var s;let r=t.offset(this.ts),i=this.toObject();[o]=(s=t,rC(e1(i),r,s))}return rI(this,{ts:o,zone:t})}}reconfigure({locale:t,numberingSystem:r,outputCalendar:i}={}){return rI(this,{loc:this.loc.clone({locale:t,numberingSystem:r,outputCalendar:i})})}setLocale(t){return this.reconfigure({locale:t})}set(t){var r,i,s;let o;if(!this.isValid)return this;let a=e4(t,rz),{minDaysInFirstWeek:u,startOfWeek:d}=eL(a,this.loc),p=!eD(a.weekYear)||!eD(a.weekNumber)||!eD(a.weekday),h=!eD(a.ordinal),f=!eD(a.year),y=!eD(a.month)||!eD(a.day),m=a.weekYear||a.weekNumber;if((f||y||h)&&m)throw new c("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(y&&h)throw new c("Can't mix ordinal dates with month/day");p?o=eP({...eO(this.c,u,d),...a},u,d):eD(a.ordinal)?(o={...this.toObject(),...a},eD(a.day)&&(o.day=Math.min(e0(o.year,o.month),o.day))):o=ek({...eN(this.c),...a});let[g,_]=(r=o,i=this.o,s=this.zone,rC(e1(r),i,s));return rI(this,{ts:g,o:_})}plus(t){return this.isValid?rI(this,rO(this,rn.fromDurationLike(t))):this}minus(t){return this.isValid?rI(this,rO(this,rn.fromDurationLike(t).negate())):this}startOf(t,{useLocaleWeeks:r=!1}={}){if(!this.isValid)return this;let i={},s=rn.normalizeUnit(t);switch(s){case"years":i.month=1;case"quarters":case"months":i.day=1;case"weeks":case"days":i.hour=0;case"hours":i.minute=0;case"minutes":i.second=0;case"seconds":i.millisecond=0}if("weeks"===s)if(r){let t=this.loc.getStartOfWeek(),{weekday:r}=this;r<t&&(i.weekNumber=this.weekNumber-1),i.weekday=t}else i.weekday=1;return"quarters"===s&&(i.month=(Math.ceil(this.month/3)-1)*3+1),this.set(i)}endOf(t,r){return this.isValid?this.plus({[t]:1}).startOf(t,r).minus(1):this}toFormat(t,r={}){return this.isValid?tm.create(this.loc.redefaultToEN(r)).formatDateTimeFromString(this,t):rA}toLocaleString(t=_,r={}){return this.isValid?tm.create(this.loc.clone(r),t).formatDateTime(this):rA}toLocaleParts(t={}){return this.isValid?tm.create(this.loc.clone(t),t).formatDateTimeParts(this):[]}toISO({format:t="extended",suppressSeconds:r=!1,suppressMilliseconds:i=!1,includeOffset:s=!0,extendedZone:o=!1}={}){if(!this.isValid)return null;let a="extended"===t,u=rk(this,a);return u+="T",u+=rL(this,a,r,i,s,o)}toISODate({format:t="extended"}={}){return this.isValid?rk(this,"extended"===t):null}toISOWeekDate(){return rN(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:t=!1,suppressSeconds:r=!1,includeOffset:i=!0,includePrefix:s=!1,extendedZone:o=!1,format:a="extended"}={}){return this.isValid?(s?"T":"")+rL(this,"extended"===a,r,t,i,o):null}toRFC2822(){return rN(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return rN(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return this.isValid?rk(this,!0):null}toSQLTime({includeOffset:t=!0,includeZone:r=!1,includeOffsetSpace:i=!0}={}){let s="HH:mm:ss.SSS";return(r||t)&&(i&&(s+=" "),r?s+="z":t&&(s+="ZZ")),rN(this,s,!0)}toSQL(t={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(t)}`:null}toString(){return this.isValid?this.toISO():rA}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`DateTime { ts: ${this.toISO()}, zone: ${this.zone.name}, locale: ${this.locale} }`:`DateTime { Invalid, reason: ${this.invalidReason} }`}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1e3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(t={}){if(!this.isValid)return{};let r={...this.c};return t.includeConfig&&(r.outputCalendar=this.outputCalendar,r.numberingSystem=this.loc.numberingSystem,r.locale=this.loc.locale),r}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(t,r="milliseconds",i={}){if(!this.isValid||!t.isValid)return rn.invalid("created by diffing an invalid DateTime");let s={locale:this.locale,numberingSystem:this.numberingSystem,...i},o=(Array.isArray(r)?r:[r]).map(rn.normalizeUnit),a=t.valueOf()>this.valueOf(),u=function(t,r,i,s){let[o,a,u,d]=function(t,r,i){let s,o,a={},u=t;for(let[d,c]of[["years",(t,r)=>r.year-t.year],["quarters",(t,r)=>r.quarter-t.quarter+(r.year-t.year)*4],["months",(t,r)=>r.month-t.month+(r.year-t.year)*12],["weeks",(t,r)=>{let i=rl(t,r);return(i-i%7)/7}],["days",rl]])i.indexOf(d)>=0&&(s=d,a[d]=c(t,r),(o=u.plus(a))>r?(a[d]--,(t=u.plus(a))>r&&(o=t,a[d]--,t=u.plus(a))):t=o);return[t,a,o,s]}(t,r,i),c=r-o,p=i.filter(t=>["hours","minutes","seconds","milliseconds"].indexOf(t)>=0);0===p.length&&(u<r&&(u=o.plus({[d]:1})),u!==o&&(a[d]=(a[d]||0)+c/(u-o)));let h=rn.fromObject(a,s);return p.length>0?rn.fromMillis(c,s).shiftTo(...p).plus(h):h}(a?this:t,a?t:this,o,s);return a?u.negate():u}diffNow(t="milliseconds",r={}){return this.diff(rH.now(),t,r)}until(t){return this.isValid?ro.fromDateTimes(this,t):this}hasSame(t,r,i){if(!this.isValid)return!1;let s=t.valueOf(),o=this.setZone(t.zone,{keepLocalTime:!0});return o.startOf(r,i)<=s&&s<=o.endOf(r,i)}equals(t){return this.isValid&&t.isValid&&this.valueOf()===t.valueOf()&&this.zone.equals(t.zone)&&this.loc.equals(t.loc)}toRelative(t={}){if(!this.isValid)return null;let r=t.base||rH.fromObject({},{zone:this.zone}),i=t.padding?this<r?-t.padding:t.padding:0,s=["years","months","days","hours","minutes","seconds"],o=t.unit;return Array.isArray(t.unit)&&(s=t.unit,o=void 0),r$(r,this.plus(i),{...t,numeric:"always",units:s,unit:o})}toRelativeCalendar(t={}){return this.isValid?r$(t.base||rH.fromObject({},{zone:this.zone}),this,{...t,numeric:"auto",units:["years","months","days"],calendary:!0}):null}static min(...t){if(!t.every(rH.isDateTime))throw new h("min requires all arguments be DateTimes");return eG(t,t=>t.valueOf(),Math.min)}static max(...t){if(!t.every(rH.isDateTime))throw new h("max requires all arguments be DateTimes");return eG(t,t=>t.valueOf(),Math.max)}static fromFormatExplain(t,r,i={}){let{locale:s=null,numberingSystem:o=null}=i;return rM(es.fromOpts({locale:s,numberingSystem:o,defaultToEN:!0}),t,r)}static fromStringExplain(t,r,i={}){return rH.fromFormatExplain(t,r,i)}static buildFormatParser(t,r={}){let{locale:i=null,numberingSystem:s=null}=r;return new rb(es.fromOpts({locale:i,numberingSystem:s,defaultToEN:!0}),t)}static fromFormatParser(t,r,i={}){if(eD(t)||eD(r))throw new h("fromFormatParser requires an input string and a format parser");let{locale:s=null,numberingSystem:o=null}=i,a=es.fromOpts({locale:s,numberingSystem:o,defaultToEN:!0});if(!a.equals(r.locale))throw new h(`fromFormatParser called with a locale of ${a}, but the format parser was created for ${r.locale}`);let{result:u,zone:d,specificOffset:c,invalidReason:p}=r.explainFromTokens(t);return p?rH.invalid(p):rP(u,d,i,`format ${r.format}`,t,c)}static get DATE_SHORT(){return _}static get DATE_MED(){return v}static get DATE_MED_WITH_WEEKDAY(){return w}static get DATE_FULL(){return b}static get DATE_HUGE(){return M}static get TIME_SIMPLE(){return S}static get TIME_WITH_SECONDS(){return A}static get TIME_WITH_SHORT_OFFSET(){return T}static get TIME_WITH_LONG_OFFSET(){return x}static get TIME_24_SIMPLE(){return E}static get TIME_24_WITH_SECONDS(){return I}static get TIME_24_WITH_SHORT_OFFSET(){return C}static get TIME_24_WITH_LONG_OFFSET(){return R}static get DATETIME_SHORT(){return O}static get DATETIME_SHORT_WITH_SECONDS(){return P}static get DATETIME_MED(){return N}static get DATETIME_MED_WITH_SECONDS(){return k}static get DATETIME_MED_WITH_WEEKDAY(){return L}static get DATETIME_FULL(){return F}static get DATETIME_FULL_WITH_SECONDS(){return Z}static get DATETIME_HUGE(){return D}static get DATETIME_HUGE_WITH_SECONDS(){return j}}function rW(t){if(rH.isDateTime(t))return t;if(t&&t.valueOf&&ej(t.valueOf()))return rH.fromJSDate(t);if(t&&"object"==typeof t)return rH.fromObject(t);throw new h(`Unknown datetime argument: ${t}, of type ${typeof t}`)}},29597:(t,r,i)=>{i.d(r,{C:()=>h});var s=i(39166),o=i(86942),a=i(31789),u=i(86277),d=i(29201),c=i(74497);let p=(0,o.dp)(c.A);async function h(t,r,i){r=p(r);let o=(0,u.Dl)(t),c={...o.query,f:"json",...r.toJSON()},h=r.outSpatialReference,f=(0,a.$B)(r.geometries[0]),y=(0,u.jV)(c,i);return(0,s.A)(o.path+"/project",y).then(({data:{geometries:t}})=>(0,d.V)(t,f,h))}},29606:(t,r,i)=>{i.d(r,{X:()=>a,Z:()=>o});var s=i(59988);function o(t){return new s.A({getCollections:()=>[t.tables,t.layers],getChildrenFunction:t=>{let r=[];return"tables"in t&&r.push(t.tables),"layers"in t&&r.push(t.layers),r},itemFilterFunction:t=>{let r=t.parent;return!!r&&"tables"in r&&r.tables.includes(t)}})}function a(t){for(let r of t.values())r?.destroy();t.clear()}},30225:(t,r,i)=>{i.d(r,{AH:()=>p,h1:()=>d,oY:()=>a,qg:()=>f,yh:()=>u});var s=i(19158),o=i(33715);function a(t){return t.__accessor__??null}function u(t,r){return null!=t?.metadata?.[r]}function d(t,r,i){return i?c(t,r,{policy:i,path:""}):c(t,r,null)}function c(t,r,i){return r?Object.keys(r).reduce((t,s)=>{let a=null,u="merge";if(i&&(a=i.path?`${i.path}.${s}`:s,u=i.policy(a)),"replace"===u||"replace-arrays"===u&&Array.isArray(t[s]))return t[s]=r[s],t;if(void 0===t[s])return t[s]=(0,o.o8)(r[s]),t;let d=t[s],p=r[s];if(d===p)return t;if(Array.isArray(p)||Array.isArray(t))d=d?Array.isArray(d)?t[s]=d.slice():t[s]=[d]:t[s]=[],p&&(Array.isArray(p)||(p=[p]),p.forEach(t=>{d.includes(t)||d.push(t)}));else if(p&&"object"==typeof p)if(i){let r=i.path;i.path=a,t[s]=c(d,p,i),i.path=r}else t[s]=c(d,p,null);else t.hasOwnProperty(s)&&!r.hasOwnProperty(s)||(t[s]=p);return t},t||{}):t}function p(t){return Array.isArray(t)?t:t.split(".")}function h(t){return t.includes(",")?t.split(",").map(t=>t.trim()):[t.trim()]}function f(t,r,i,o){let a=function(t){if(Array.isArray(t)){let r=[];for(let i of t)r.push(...h(i));return r}return h(t)}(r);if(1!==a.length){let r=a.map(r=>o(t,r,i));return(0,s.vE)(r)}return o(t,a[0],i)}},30781:(t,r,i)=>{i.d(r,{J:()=>o,O:()=>u});var s=i(34184);class o{constructor(t,r={ignoreUnknown:!1,useNumericKeys:!1}){this._jsonToAPI=t,this._options=r,this.apiValues=[],this.jsonValues=[],this._apiToJSON=function(t){let r={};for(let i in t)r[t[i]]=i;return r}(t),this.apiValues=a(this._apiToJSON),this.jsonValues=a(this._jsonToAPI),this.read=t=>this.fromJSON(t),this.write=(t,r,i)=>{let o=this.toJSON(t);void 0!==o&&(0,s.sM)(i,o,r)},this.write.isJSONMapWriter=!0}toJSON(t){if(null==t)return null;if(this._apiToJSON.hasOwnProperty(t)){let r=this._apiToJSON[t];return this._options.useNumericKeys?+r:r}return this._options.ignoreUnknown?null:t}fromJSON(t){return null!=t&&this._jsonToAPI.hasOwnProperty(t)?this._jsonToAPI[t]:this._options.ignoreUnknown?void 0:t}}function a(t){let r=[];for(let i in t)r.push(i);return r.sort(),r}function u(){return function(t,r){return new o(t,{ignoreUnknown:!0,...r})}}},30799:(t,r,i)=>{i.d(r,{V:()=>p});var s=i(61939),o=i(34184),a=i(45714),u=i(59983),d=i(71538);let c=()=>s.A.getLogger("esri.intl.substitute");function p(t,r,i={}){let{format:s={}}=i;return(0,a.HC)(t,t=>(function(t,r,i){let s,a,p=t.indexOf(":");if(-1===p?s=t.trim():(s=t.slice(0,p).trim(),a=t.slice(p+1).trim()),!s)return"";let f=(0,o.wc)(s,r);if(null==f)return"";let y=(a?i?.[a]:null)??i?.[s];return y?function(t,r){switch(r.type){case"date":return(0,u.Yq)(t,r.intlOptions);case"number":return(0,d.ZV)(t,r.intlOptions);default:return c().warn("missing format descriptor for key {key}"),h(t)}}(f,y):a?function(t,r){switch(r.toLowerCase()){case"dateformat":return(0,u.Yq)(t);case"numberformat":return(0,d.ZV)(t);default:return c().warn(`inline format is unsupported since 4.12: ${r}`),/^(dateformat|datestring)/i.test(r)?(0,u.Yq)(t):/^numberformat/i.test(r)?(0,d.ZV)(t):h(t)}}(f,a):h(f)})(t,r,s))}function h(t){switch(typeof t){case"string":return t;case"number":return(0,d.ZV)(t);case"boolean":return""+t;default:return t instanceof Date?(0,u.Yq)(t):""}}},31312:(t,r,i)=>{i.d(r,{A:()=>E});var s,o=i(81856),a=i(55048),u=i(91838);i(57845),i(61939),i(33638);var d=i(33498),c=i(12709),p=i(70152),h=i(71017),f=i(92713),y=i(86942),m=i(31952);let g=class extends h.A.ClonableMixin(f.A){constructor(t){super(t),this.type="style",this.placement="begin-end",this.style="arrow",this.color=null}equals(t){return null!=t&&t.placement===this.placement&&t.style===this.style&&(null==this.color&&null==t.color||null!=this.color&&null!=t.color&&this.color.toJSON()===t.color.toJSON())}};(0,o._)([(0,u.MZ)({type:["style"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0,isRequired:!0}}})],g.prototype,"type",void 0),(0,o._)([(0,u.MZ)({type:m.x,json:{default:"begin-end",write:!0}})],g.prototype,"placement",void 0),(0,o._)([(0,u.MZ)({type:m.z,json:{default:"arrow",write:!0}})],g.prototype,"style",void 0),(0,o._)([(0,u.MZ)({type:p.A,json:{type:[y.jz],default:null,write:!0}})],g.prototype,"color",void 0);let _=g=(0,o._)([(0,c.$)("esri.symbols.LineStyleMarker3D")],g);var v=i(86629),w=i(56396),b=i(55390),M=i(3983),S=i(37211),A=i(93165),T=i(89834);let x=s=class extends v.A{constructor(t){super(t),this.material=null,this.type="line",this.join="miter",this.cap="butt",this.size=(0,a.PN)(1),this.pattern=null,this.marker=null}clone(){let t={enabled:this.enabled,material:null!=this.material?this.material.clone():null,size:this.size,join:this.join,cap:this.cap,pattern:null!=this.pattern?this.pattern.clone():null,marker:null!=this.marker?this.marker.clone():null};return new s(t)}static fromSimpleLineSymbol(t){let r={enabled:!0,size:t.width??(0,a.PN)(1),cap:t.cap||"butt",join:t.join||"miter",pattern:t.style?new w.A({style:t.style}):null,material:new A.N({color:(t.color||M.ON).clone()}),marker:t.marker?new _({placement:t.marker.placement,style:t.marker.style,color:t.marker.color?.clone()??null}):null};return new s(r)}};(0,o._)([(0,u.MZ)({type:A.N,json:{write:!0}})],x.prototype,"material",void 0),(0,o._)([(0,d.e)({Line:"line"},{readOnly:!0})],x.prototype,"type",void 0),(0,o._)([(0,u.MZ)({type:T.e,json:{write:!0,default:"miter"}})],x.prototype,"join",void 0),(0,o._)([(0,u.MZ)({type:T.M4,json:{write:!0,default:"butt"}})],x.prototype,"cap",void 0),(0,o._)([(0,u.MZ)({...S.p,json:{write:{isRequired:!0}}})],x.prototype,"size",void 0),(0,o._)([(0,u.MZ)(b.v)],x.prototype,"pattern",void 0),(0,o._)([(0,u.MZ)({types:{key:"type",base:_,typeMap:{style:_}},json:{write:!0}})],x.prototype,"marker",void 0);let E=x=s=(0,o._)([(0,c.$)("esri.symbols.LineSymbol3DLayer")],x)},31393:(t,r,i)=>{i.d(r,{A:()=>S});var s=i(57664),o=i(32391),a=i(46310),u=i(19158),d=i(40941),c=i(92753),p=i(59217);let h={statsWorker:()=>Promise.all([i.e(9368),i.e(4376)]).then(i.bind(i,72980)),geometryEngineWorker:()=>Promise.all([i.e(472),i.e(9349)]).then(i.bind(i,26122)),arcadeGeometryOperatorsWorker:()=>i.e(8774).then(i.bind(i,68774)),CSVSourceWorker:()=>Promise.all([i.e(7970),i.e(2140),i.e(9368),i.e(8560),i.e(8386)]).then(i.bind(i,28386)),EdgeProcessingWorker:()=>Promise.all([i.e(420),i.e(7129)]).then(i.bind(i,87129)),ElevationSamplerWorker:()=>i.e(662).then(i.bind(i,40662)),FeatureServiceSnappingSourceWorker:()=>Promise.all([i.e(7970),i.e(2140),i.e(9368),i.e(8560),i.e(4519)]).then(i.bind(i,54519)),GeoJSONSourceWorker:()=>Promise.all([i.e(7970),i.e(2140),i.e(9368),i.e(8560),i.e(9223)]).then(i.bind(i,9223)),LercWorker:()=>i.e(1650).then(i.bind(i,21650)),MemorySourceWorker:()=>Promise.all([i.e(7970),i.e(2140),i.e(9368),i.e(8560),i.e(8093)]).then(i.bind(i,68093)),PBFDecoderWorker:()=>i.e(2175).then(i.bind(i,2175)),FeaturePipelineWorker:()=>Promise.all([i.e(364),i.e(7970),i.e(9210),i.e(5886),i.e(2140),i.e(5989),i.e(9368),i.e(8560),i.e(2235),i.e(957),i.e(267),i.e(3144),i.e(5039)]).then(i.bind(i,2845)),PointCloudWorker:()=>Promise.all([i.e(3081),i.e(9653),i.e(2176)]).then(i.bind(i,92176)),RasterWorker:()=>Promise.all([i.e(6098),i.e(1543),i.e(1182),i.e(743)]).then(i.bind(i,70743)),SceneLayerSnappingSourceWorker:()=>Promise.all([i.e(420),i.e(859)]).then(i.bind(i,30859)),SceneLayerWorker:()=>Promise.all([i.e(3081),i.e(9653),i.e(2035),i.e(7202)]).then(i.bind(i,7202)),WFSSourceWorker:()=>Promise.all([i.e(7970),i.e(2140),i.e(9368),i.e(8560),i.e(7719),i.e(3646)]).then(i.bind(i,13646)),WorkerTileHandler:()=>Promise.all([i.e(9210),i.e(6840),i.e(4722)]).then(i.bind(i,45170)),Lyr3DWorker:()=>i.e(8765).then(i.bind(i,88765)),Feature3DPipelineWorker:()=>Promise.all([i.e(7970),i.e(2140),i.e(9368),i.e(8560),i.e(3081),i.e(420),i.e(7208),i.e(2243),i.e(5043),i.e(5171),i.e(333),i.e(7034)]).then(i.bind(i,15853)),TextureCompressionWorker:()=>i.e(1482).then(i.bind(i,81482))};var f=i(47256),y=i(95928);let{CLOSE:m,ABORT:g,INVOKE:_,RESPONSE:v,OPEN_PORT:w,ON:b}=f.Go;class M{constructor(t){this._invoke=t,this._timer=null,this._cancelledJobIds=new Set,this._invokeMessages=[],this._timer=null,this._process=this._process.bind(this)}push(t){t.type===f.Go.ABORT?this._cancelledJobIds.add(t.jobId):(this._invokeMessages.push(t),null===this._timer&&(this._timer=setTimeout(this._process,0)))}clear(){this._invokeMessages.length=0,this._cancelledJobIds.clear(),this._timer=null}_process(){for(let t of(this._timer=null,this._invokeMessages))this._cancelledJobIds.has(t.jobId)||this._invoke(t);this._cancelledJobIds.clear(),this._invokeMessages.length=0}}class S{static connect(t,r){let i,s=new MessageChannel;i="function"==typeof t?new t:"default"in t&&"function"==typeof t.default?new t.default:t;let o=new S(s.port1,{channel:s,client:i,schedule:r});return"object"==typeof i&&"remoteClient"in i&&(i.remoteClient=o),S.clients.set(o,i),s.port2}static loadWorker(t){let r=h[t];return r?r():Promise.resolve(null)}constructor(t,r,i){this._port=t,this._jobQueue=i,this._outJobs=new Map,this._inJobs=new Map,this._invokeQueue=new M(t=>this._onInvokeMessage(t)),this._client=r.client,this._onMessage=this._onMessage.bind(this),this._channel=r.channel,this._schedule=r.schedule,this._port.addEventListener("message",this._onMessage),this._port.start()}close(){this._post({type:m}),this._close()}isBusy(){return this._outJobs.size>0}invoke(t,r,i){return this.apply(t,[r],i)}apply(t,r,i){let s=i?.signal,a=i?.transferList;if(!this._port)return Promise.reject(new o.A(f.T,`Cannot call invoke('${t}'), port is closed`,{methodName:t,data:r}));let u=(0,f.Jc)();return new Promise((i,o)=>{if((0,c.G4)(s))return this._processWork(),void o((0,c.NK)());let p=(0,c.u7)(s,()=>{let t=this._outJobs.get(u);t&&(this._outJobs.delete(u),this._processWork(),(0,d.xt)(t.abortHandle),this._post({type:g,jobId:u}),o((0,c.NK)()))});this._outJobs.set(u,{resolve:i,reject:o,abortHandle:p,debugInfo:t}),this._post({type:_,jobId:u,methodName:t,abortable:null!=s},r,a)})}createInvokeProxy(t){return(0,p.L)(this,t)}on(t,r){let i=new MessageChannel;function s(t){r(t.data)}return this._port.postMessage({type:f.Go.ON,eventType:t,port:i.port2},[i.port2]),i.port1.addEventListener("message",s),i.port1.start(),(0,u.hA)(()=>{i.port1.postMessage({type:f.Go.CLOSE}),i.port1.close(),i.port1.removeEventListener("message",s)})}jobAdded(){this._processWork()}openPort(){let t=new MessageChannel;return this._post({type:w,port:t.port2}),t.port1}_processWork(){if(this._outJobs.size>=2)return;let t=this._jobQueue?.pop();if(!t)return;let{methodName:r,data:i,invokeOptions:s,resolver:o}=t;this.apply(r,i,s).then(t=>o.resolve(t)).catch(t=>o.reject(t))}_close(){this._channel&&(this._channel=void 0),this._port.removeEventListener("message",this._onMessage),this._port.close(),this._outJobs.forEach(t=>{(0,d.xt)(t.abortHandle),t.reject((0,c.NK)(`Worker closing, aborting job calling '${t.debugInfo}'`))}),this._inJobs.clear(),this._outJobs.clear(),this._invokeQueue.clear(),this._port=null,this._client=null,this._schedule=null}_onMessage(t){null!=this._schedule?this._schedule(()=>this._processMessage(t,!0)):this._processMessage(t,!1)}_processMessage(t,r){let i=(0,f.VI)(t);if(i)switch(i.type){case v:this._onResponseMessage(i);break;case _:r?this._onInvokeMessage(i):this._invokeQueue.push(i);break;case g:this._onAbortMessage(i);break;case m:this._onCloseMessage();break;case w:this._onOpenPortMessage(i);break;case b:this._onOnMessage(i)}}_onAbortMessage(t){let r=this._inJobs,i=t.jobId,s=r.get(i);this._invokeQueue.push(t),s&&(s.controller&&s.controller.abort(),r.delete(i))}_onCloseMessage(){let t=this._client;this._close(),t&&"destroy"in t&&S.clients.get(this)===t&&t.destroy(),S.clients.delete(this),t?.remoteClient&&(t.remoteClient=null)}_onInvokeMessage(t){let{methodName:r,jobId:i,data:s=[],abortable:o}=t,a=o?new AbortController:null,u=this._inJobs,d,p=this._client,h=p[r];try{if(!h&&r&&r.includes(".")){let t=r.split(".");for(let r=0;r<t.length-1;r++)h=(p=p[t[r]])[t[r+1]]}if("function"!=typeof h)throw TypeError(`${r} is not a function`);s.push({client:this,signal:a?a.signal:null}),d=h.apply(p,s)}catch(t){return void this._post({type:v,jobId:i,error:(0,f.mF)(t)})}(0,c.$X)(d)?(u.set(i,{controller:a,promise:d}),d.then(t=>{u.has(i)&&(u.delete(i),this._post({type:v,jobId:i},t))},t=>{u.has(i)&&(u.delete(i),(0,c.zf)(t)||this._post({type:v,jobId:i,error:(0,f.mF)(t||{message:`Error encountered at method ${r}`})}))})):this._post({type:v,jobId:i},d)}_onOpenPortMessage(t){new S(t.port,{client:this._client})}_onOnMessage(t){let{port:r}=t,i=this._client.on(t.eventType,t=>{r.postMessage(t)}),s=(0,a.on)(t.port,"message",t=>{let o=(0,f.VI)(t);o?.type===f.Go.CLOSE&&(s.remove(),i.remove(),r.close())})}_onResponseMessage(t){let{jobId:r,error:i,data:s}=t,a=this._outJobs;if(!a.has(r))return;let u=a.get(r);a.delete(r),this._processWork(),(0,d.xt)(u.abortHandle),i?u.reject(o.A.fromJSON(JSON.parse(i))):u.resolve(s)}_post(t,r,i){return(0,f.u1)(this._port,t,r,i)}}S.kernelInfo={buildDate:y.$,fullVersion:s.ol,revision:y.u},S.clients=new Map},31461:(t,r,i)=>{i.d(r,{$U:()=>d,Am:()=>c,BB:()=>b,He:()=>u,Ji:()=>a,Mo:()=>M,Ru:()=>x,TF:()=>T,Xj:()=>f,Xy:()=>_,aI:()=>p,iv:()=>h,k4:()=>A,mW:()=>w,qh:()=>g,tR:()=>E,vW:()=>y});var s=i(28255),o=i(33638);let a=1.5,u=.6666666666666666,d=.5;function c(t,r){return r?t.filter((t,i,s)=>s.findIndex(r.bind(null,t))===i):Array.from(new Set(t))}function p(t,r,i){if(null==t&&null==r)return!0;if(null==t||null==r||t.length!==r.length)return!1;if(i){for(let s=0;s<t.length;s++)if(!i(t[s],r[s]))return!1}else for(let i=0;i<t.length;i++)if(t[i]!==r[i])return!1;return!0}function h(t,r,i){let s,o;return i?(s=r.filter(r=>!t.some(t=>i(t,r))),o=t.filter(t=>!r.some(r=>i(r,t)))):(s=r.filter(r=>!t.includes(r)),o=t.filter(t=>!r.includes(t))),{added:s,removed:o}}function f(t){return t&&"number"==typeof t.length}class y{constructor(){this.last=0}}let m=new y;function g(t,r,i,s){let o=Math.max(0,(s=s||m).last-10);for(let a=o;a<i;++a)if(t[a]===r)return s.last=a,a;let a=Math.min(o,i);for(let i=0;i<a;++i)if(t[i]===r)return s.last=i,i;return -1}function _(t,r,i,o){let a=i??t.length,u=g(t,(0,s.zI)(r),a,o);if(-1!==u)return t[u]=t[a-1],null==i&&t.pop(),r}let v=new Set;function w(t,r,i=t.length,s=r.length,o,a){if(0===s||0===i)return i;v.clear();for(let t=0;t<s;++t)v.add(r[t]);let u=Math.max(0,(o=o||m).last-10);for(let r=u;r<i;++r)if(v.has(t[r])&&(a?.push(t[r]),v.delete(t[r]),t[r]=t[i-1],--i,--r,0===v.size||0===i))return v.clear(),i;for(let r=0;r<u&&(!v.has(t[r])||(a?.push(t[r]),v.delete(t[r]),t[r]=t[i-1],--i,--r,0!==v.size&&0!==i));++r);return v.clear(),i}function b(t,r,i){let s=t.length;if(r>=s)return t.slice();let o=M(i),a=new Set,u=[];for(;u.length<r;){let r=Math.floor(o()*s);a.has(r)||(a.add(r),u.push(t[r]))}return u}function M(t){return t?(S.seed=t,()=>S.getFloat()):Math.random}let S=new o.A;function A(t,r){let i=M(r);for(let r=t.length-1;r>0;r--){let s=Math.floor(i()*(r+1)),o=t[r];t[r]=t[s],t[s]=o}return t}function T(t,r){let i=t.indexOf(r);return -1!==i?(t.splice(i,1),r):null}function x(t,r){return null!=t}let E=[]},31551:(t,r,i)=>{i.d(r,{A:()=>g});var s=i(81856),o=i(32391),a=i(40941),u=i(5608),d=i(92753),c=i(58985),p=i(91838),h=i(12709);let f="loaded",y=t=>{let r=class extends t{constructor(...t){super(...t),this._loadController=null,this.loadError=null,this.loadStatus="not-loaded",this._set("loadWarnings",[]),this.addResolvingPromise(new Promise(t=>{let r=this.load.bind(this);this.load=i=>{let s=new Promise((t,r)=>{let s=(0,d.NY)(i,r);this.destroyed&&r(new o.A("load:instance-destroyed",`Instance of '${this.declaredClass||this.constructor.name}' is already destroyed`,{instance:this})),this.when(t,r).finally(()=>{s&&s.remove()})});return"not-loaded"===this.loadStatus&&(this._set("loadStatus","loading"),r({signal:(this._loadController=new AbortController).signal})),t(),s}})),this.when(()=>{this._set("loadStatus",f),this._loadController=null},t=>{this._set("loadStatus","failed"),this._set("loadError",t),this._loadController=null})}destroy(){this._loadController&&(this._loadController=(0,a.DC)(this._loadController),this._promiseProps.abort()),this._set("loadError",null),this._set("loadWarnings",[])}get loaded(){return this.loadStatus===f}get loadWarnings(){return this._get("loadWarnings")}load(){return null}cancelLoad(){return this.isFulfilled()||(this._set("loadError",new o.A("load:cancelled","Cancelled")),this._loadController?.abort(),this._promiseProps.abort()),this}};return(0,s._)([(0,p.MZ)({readOnly:!0})],r.prototype,"loaded",null),(0,s._)([(0,p.MZ)({readOnly:!0})],r.prototype,"loadError",void 0),(0,s._)([(0,p.MZ)({clonable:!1})],r.prototype,"loadStatus",void 0),(0,s._)([(0,p.MZ)({type:[c.A],readOnly:!0})],r.prototype,"loadWarnings",null),r=(0,s._)([(0,h.$)("esri.core.Loadable")],r)},m=class extends y(u.A){};!function(t){t.LoadableMixin=y,t.isLoadable=function(t){return!(!t||!t.load)}}((m=(0,s._)([(0,h.$)("esri.core.Loadable")],m))||(m={}));let g=m},31642:(t,r,i)=>{i.d(r,{K:()=>o});let s=t=>t.includes("Brush");class o{constructor(){this._names=new Map}begin(t){this._names.has(t)||(this._names.set(t,!1),s(t)&&this.record("Esri.FirstDraw"),performance.mark(`Esri.${t}.Start`))}end(t){this._names.has(t)&&!this._names.get(t)&&(this._names.set(t,!0),performance.mark(`Esri.${t}.End`))}record(t){this._names.has(t)||(this._names.set(t,!0),performance.mark(`Esri.${t}`))}}},31788:(t,r,i)=>{i.d(r,{T:()=>u});var s=i(92753),o=i(22303),a=i(97303);class u{constructor(){this._tasks=[],this._runningTasks=(0,o.v)(0)}get length(){return this._tasks.length}get running(){return this._runningTasks.value>0}destroy(){this.cancelAll()}runTask(t){if(0===this.length)return a.G;for(;!t.done&&this._process(t);)t.madeProgress()}push(t,r,i){return++this._runningTasks.value,new Promise((s,o)=>this._tasks.push(new d(s,o,t,r,i))).finally(()=>--this._runningTasks.value)}unshift(t,r,i){return++this._runningTasks.value,new Promise((s,o)=>this._tasks.unshift(new d(s,o,t,r,i))).finally(()=>--this._runningTasks.value)}_process(t){if(0===this._tasks.length)return!1;let r=this._tasks.shift();try{let i=(0,s.G4)(r.signal);if(i&&!r.abortCallback)r.reject((0,s.NK)());else{let o=i?r.abortCallback?.((0,s.NK)()):r.callback(t);(0,s.$X)(o)?o.then(r.resolve,r.reject):r.resolve(o)}}catch(t){r.reject(t)}return!0}cancelAll(){let t=(0,s.NK)();for(let r of this._tasks)if(r.abortCallback){let i=r.abortCallback(t);r.resolve(i)}else r.reject(t);this._tasks.length=0}}class d{constructor(t,r,i,s,o){this.resolve=t,this.reject=r,this.callback=i,this.signal=s,this.abortCallback=o}}},31789:(t,r,i)=>{i.d(r,{$B:()=>_,Bi:()=>m,Rg:()=>y,U9:()=>h,ZC:()=>p,fT:()=>f,rS:()=>g,xD:()=>w});var s=i(61414),o=i(88070),a=i(147),u=i(39960),d=i(87960),c=i(65442);function p(t){return void 0!==t.xmin&&void 0!==t.ymin&&void 0!==t.xmax&&void 0!==t.ymax}function h(t){return void 0!==t.points}function f(t){return void 0!==t.x&&void 0!==t.y}function y(t){return void 0!==t.paths||void 0!==t.curvePaths}function m(t){return void 0!==t.rings||void 0!==t.curveRings}function g(t){return null==t?null:t instanceof o.A?t:f(t)?u.A.fromJSON(t):y(t)?c.A.fromJSON(t):m(t)?d.A.fromJSON(t):h(t)?a.A.fromJSON(t):p(t)?s.A.fromJSON(t):null}function _(t){return t?f(t)?"esriGeometryPoint":y(t)?"esriGeometryPolyline":m(t)?"esriGeometryPolygon":p(t)?"esriGeometryEnvelope":h(t)?"esriGeometryMultipoint":null:null}let v={esriGeometryPoint:u.A,esriGeometryPolyline:c.A,esriGeometryPolygon:d.A,esriGeometryEnvelope:s.A,esriGeometryMultipoint:a.A,esriGeometryMultiPatch:d.A};function w(t){return t&&v[t]||null}},31952:(t,r,i)=>{i.d(r,{x:()=>s,z:()=>o});let s=["begin","end","begin-end"],o=["arrow","circle","square","diamond","cross","x"]},32104:(t,r,i)=>{i.d(r,{r:()=>o});var s=i(6270);class o extends s.R{constructor(t){super(new a(t)),this._observer&&u.register(this,new WeakRef(this._observer),this)}destroy(){this._observer&&u.unregister(this._observer),this.accessed?.clear(),this.clear(),this._observer?.destroy()}}class a{constructor(t){this._notify=t,this._invalidCount=0,this.destroyed=!1}onInvalidated(){this._invalidCount++}onCommitted(){if(this.destroyed)return;let t=this._invalidCount;if(1===t)return this._invalidCount=0,void this._notify();this._invalidCount=t>0?t-1:0}destroy(){this.destroyed=!0,this._notify=d}}let u=new FinalizationRegistry(t=>{t.deref()?.destroy()});function d(){}},32391:(t,r,i)=>{i.d(r,{A:()=>u});var s=i(33715),o=i(61939),a=i(1766);class u extends a.A{constructor(t,r,i){super(t,r,i)}toJSON(){if(null!=this.details)try{return{name:this.name,message:this.message,details:JSON.parse(JSON.stringify(this.details,(t,r)=>{if(r&&"object"==typeof r&&"function"==typeof r.toJSON)return r;try{return(0,s.o8)(r)}catch(t){return"[object]"}}))}}catch(t){throw o.A.getLogger("esri.core.Error").error(t),t}return{name:this.name,message:this.message,details:this.details}}static fromJSON(t){return new u(t.name,t.message,t.details)}}u.prototype.type="error"},32392:(t,r,i)=>{i.d(r,{A:()=>v});var s,o=i(81856),a=i(30781),u=i(92713),d=i(33715),c=i(91838);i(57845),i(61939);var p=i(12709),h=i(59879),f=i(86099),y=i(47840);let m=new a.J({esriSpatialRelIntersects:"intersects",esriSpatialRelContains:"contains",esriSpatialRelCrosses:"crosses",esriSpatialRelDisjoint:"disjoint",esriSpatialRelEnvelopeIntersects:"envelope-intersects",esriSpatialRelIndexIntersects:"index-intersects",esriSpatialRelOverlaps:"overlaps",esriSpatialRelTouches:"touches",esriSpatialRelWithin:"within",esriSpatialRelRelation:"relation"}),g=new a.J({esriSRUnit_Meter:"meters",esriSRUnit_Kilometer:"kilometers",esriSRUnit_Foot:"feet",esriSRUnit_StatuteMile:"miles",esriSRUnit_NauticalMile:"nautical-miles",esriSRUnit_USNauticalMile:"us-nautical-miles"}),_=s=class extends u.A{constructor(t){super(t),this.where=null,this.geometry=null,this.spatialRelationship="intersects",this.distance=void 0,this.objectIds=null,this.units=null,this.timeExtent=null}createQuery(t={}){let{where:r,geometry:i,spatialRelationship:s,timeExtent:o,objectIds:a,units:u,distance:c}=this;return new f.A({geometry:(0,d.o8)(i),objectIds:(0,d.o8)(a),spatialRelationship:s,timeExtent:(0,d.o8)(o),where:r,units:u,distance:c,...t})}clone(){let{where:t,geometry:r,spatialRelationship:i,timeExtent:o,objectIds:a,units:u,distance:c}=this;return new s({geometry:(0,d.o8)(r),objectIds:(0,d.o8)(a),spatialRelationship:i,timeExtent:(0,d.o8)(o),where:t,units:u,distance:c})}};(0,o._)([(0,c.MZ)({type:String,json:{write:!0}})],_.prototype,"where",void 0),(0,o._)([(0,c.MZ)({types:h.yR,json:{write:!0}})],_.prototype,"geometry",void 0),(0,o._)([(0,c.MZ)({type:m.apiValues,json:{name:"spatialRel",read:{reader:m.read},write:{allowNull:!1,writer:m.write,overridePolicy(){return{enabled:null!=this.geometry}}}}})],_.prototype,"spatialRelationship",void 0),(0,o._)([(0,c.MZ)({type:Number,json:{write:{overridePolicy(t){return{enabled:null!=t&&null!=this.geometry}}}}})],_.prototype,"distance",void 0),(0,o._)([(0,c.MZ)({type:[Number],json:{write:!0}})],_.prototype,"objectIds",void 0),(0,o._)([(0,c.MZ)({type:g.apiValues,json:{read:g.read,write:{writer:g.write,overridePolicy(t){return{enabled:null!=t&&null!=this.geometry}}}}})],_.prototype,"units",void 0),(0,o._)([(0,c.MZ)({type:y.A,json:{write:!0}})],_.prototype,"timeExtent",void 0);let v=_=s=(0,o._)([(0,p.$)("esri.layers.support.FeatureFilter")],_)},32523:(t,r,i)=>{i.d(r,{L:()=>L});var s,o,a,u,d,c=i(81856),p=i(30781),h=i(92713),f=i(91838),y=i(16352),m=i(33498),g=i(53480),_=i(12709),v=i(86942),w=i(22301),b=i(80824),M=i(8832);i(57845),i(61939),i(33638);var S=i(91463),A=i(59879);let T=s=class extends h.A{constructor(t){super(t),this.type="query-table"}clone(){let{workspaceId:t,query:r,oidFields:i,spatialReference:o,geometryType:a}=this,u={workspaceId:t,query:r,oidFields:i,spatialReference:o?.clone()??void 0,geometryType:a};return new s(u)}};(0,c._)([(0,m.e)({queryTable:"query-table"}),(0,f.MZ)({json:{write:{isRequired:!0}}})],T.prototype,"type",void 0),(0,c._)([(0,f.MZ)({type:String,json:{write:!0}})],T.prototype,"workspaceId",void 0),(0,c._)([(0,f.MZ)({type:String,json:{write:!0}})],T.prototype,"query",void 0),(0,c._)([(0,f.MZ)({type:String,json:{write:!0}})],T.prototype,"oidFields",void 0),(0,c._)([(0,f.MZ)({type:S.A,json:{write:!0}})],T.prototype,"spatialReference",void 0),(0,c._)([(0,m.e)(A.gy)],T.prototype,"geometryType",void 0),T=s=(0,c._)([(0,_.$)("esri.layers.support.source.QueryTableDataSource")],T);let x=o=class extends h.A{constructor(t){super(t),this.type="raster"}clone(){let{workspaceId:t,dataSourceName:r}=this;return new o({workspaceId:t,dataSourceName:r})}};(0,c._)([(0,m.e)({raster:"raster"}),(0,f.MZ)({json:{write:{isRequired:!0}}})],x.prototype,"type",void 0),(0,c._)([(0,f.MZ)({type:String,json:{write:!0}})],x.prototype,"dataSourceName",void 0),(0,c._)([(0,f.MZ)({type:String,json:{write:!0}})],x.prototype,"workspaceId",void 0),x=o=(0,c._)([(0,_.$)("esri.layers.support.source.RasterDataSource")],x);let E=a=class extends h.A{constructor(t){super(t),this.type="table"}clone(){let{workspaceId:t,gdbVersion:r,dataSourceName:i}=this;return new a({workspaceId:t,gdbVersion:r,dataSourceName:i})}};(0,c._)([(0,m.e)({table:"table"}),(0,f.MZ)({json:{write:{isRequired:!0}}})],E.prototype,"type",void 0),(0,c._)([(0,f.MZ)({type:String,json:{write:!0}})],E.prototype,"workspaceId",void 0),(0,c._)([(0,f.MZ)({type:String,json:{write:!0}})],E.prototype,"gdbVersion",void 0),(0,c._)([(0,f.MZ)({type:String,json:{write:!0}})],E.prototype,"dataSourceName",void 0),E=a=(0,c._)([(0,_.$)("esri.layers.support.source.TableDataSource")],E);let I=(0,p.O)()({esriLeftInnerJoin:"left-inner-join",esriLeftOuterJoin:"left-outer-join"}),C=u=class extends h.A{constructor(t){super(t),this.type="join-table"}readLeftTableSource(t,r,i){return O()(t,r,i)}castLeftTableSource(t){return(0,v.aq)(N(),t)}readRightTableSource(t,r,i){return O()(t,r,i)}castRightTableSource(t){return(0,v.aq)(N(),t)}clone(){let{leftTableKey:t,rightTableKey:r,leftTableSource:i,rightTableSource:s,joinType:o}=this,a={leftTableKey:t,rightTableKey:r,leftTableSource:i?.clone()??void 0,rightTableSource:s?.clone()??void 0,joinType:o};return new u(a)}};(0,c._)([(0,m.e)({joinTable:"join-table"}),(0,f.MZ)({json:{write:{isRequired:!0}}})],C.prototype,"type",void 0),(0,c._)([(0,f.MZ)({type:String,json:{write:!0}})],C.prototype,"leftTableKey",void 0),(0,c._)([(0,f.MZ)({type:String,json:{write:!0}})],C.prototype,"rightTableKey",void 0),(0,c._)([(0,f.MZ)({json:{write:!0}})],C.prototype,"leftTableSource",void 0),(0,c._)([(0,g.w)("leftTableSource")],C.prototype,"readLeftTableSource",null),(0,c._)([(0,y.w)("leftTableSource")],C.prototype,"castLeftTableSource",null),(0,c._)([(0,f.MZ)({json:{write:!0}})],C.prototype,"rightTableSource",void 0),(0,c._)([(0,g.w)("rightTableSource")],C.prototype,"readRightTableSource",null),(0,c._)([(0,y.w)("rightTableSource")],C.prototype,"castRightTableSource",null),(0,c._)([(0,m.e)(I)],C.prototype,"joinType",void 0);let R=null;function O(){return R||(R=(0,w.C)({types:N()})),R}let P=null;function N(){return P||(P={key:"type",base:null,typeMap:{"data-layer":L,"map-layer":M.f}}),P}let k={key:"type",base:null,typeMap:{"join-table":C=u=(0,c._)([(0,_.$)("esri.layers.support.source.JoinTableDataSource")],C),"query-table":T,raster:x,table:E}},L=d=class extends h.A{constructor(t){super(t),this.type="data-layer"}clone(){let{fields:t,dataSource:r}=this;return new d({fields:t,dataSource:r})}};(0,c._)([(0,m.e)({dataLayer:"data-layer"}),(0,f.MZ)({json:{write:{isRequired:!0}}})],L.prototype,"type",void 0),(0,c._)([(0,f.MZ)({type:[b.A],json:{write:!0}})],L.prototype,"fields",void 0),(0,c._)([(0,f.MZ)({types:k,json:{write:!0}})],L.prototype,"dataSource",void 0),(L=d=(0,c._)([(0,_.$)("esri.layers.support.source.DataLayerSource")],L)).from=(0,v.dp)(L)},32593:(t,r,i)=>{i.d(r,{A:()=>y});var s=i(81856),o=i(71017),a=i(92713),u=i(91838),d=i(86942);i(57845),i(33638);var c=i(33498),p=i(12709),h=i(59983);let f=class extends o.A.ClonableMixin(a.A){constructor(t){super(t),this.dateFormat=null,this.digitSeparator=!1,this.places=null}};(0,s._)([(0,c.e)(h._v)],f.prototype,"dateFormat",void 0),(0,s._)([(0,u.MZ)({type:Boolean,json:{write:!0}})],f.prototype,"digitSeparator",void 0),(0,s._)([(0,u.MZ)({type:d.jz,json:{write:!0}})],f.prototype,"places",void 0);let y=f=(0,s._)([(0,p.$)("esri.popup.support.FieldInfoFormat")],f)},33165:(t,r,i)=>{i.d(r,{A:()=>b});var s,o=i(81856),a=i(33715),u=i(91838);i(57845),i(61939);var d=i(53480),c=i(12709),p=i(7780),h=i(86289),f=i(24626),y=i(5741),m=i(85908),g=i(66802),_=i(75378),v=i(81933);let w=s=class extends y.A{constructor(t){super(t),this.activeMediaInfoIndex=null,this.attributes=null,this.description=null,this.mediaInfos=null,this.title=null,this.type="media"}readMediaInfos(t){return t&&t.map(t=>"image"===t.type?m.A.fromJSON(t):"barchart"===t.type?h.A.fromJSON(t):"columnchart"===t.type?f.A.fromJSON(t):"linechart"===t.type?g.A.fromJSON(t):"piechart"===t.type?_.A.fromJSON(t):void 0).filter(Boolean)}writeMediaInfos(t,r){r.mediaInfos=t&&t.map(t=>t.toJSON())}clone(){return new s((0,a.o8)({activeMediaInfoIndex:this.activeMediaInfoIndex,attributes:this.attributes,description:this.description,mediaInfos:this.mediaInfos,title:this.title}))}};(0,o._)([(0,u.MZ)()],w.prototype,"activeMediaInfoIndex",void 0),(0,o._)([(0,u.MZ)({type:Object,json:{write:!0}})],w.prototype,"attributes",void 0),(0,o._)([(0,u.MZ)({type:String,json:{write:!0}})],w.prototype,"description",void 0),(0,o._)([(0,u.MZ)({types:[v.g]})],w.prototype,"mediaInfos",void 0),(0,o._)([(0,d.w)("mediaInfos")],w.prototype,"readMediaInfos",null),(0,o._)([(0,p.K)("mediaInfos")],w.prototype,"writeMediaInfos",null),(0,o._)([(0,u.MZ)({type:String,json:{write:!0}})],w.prototype,"title",void 0),(0,o._)([(0,u.MZ)({type:["media"],readOnly:!0,json:{read:!1,write:{isRequired:!0}}})],w.prototype,"type",void 0);let b=w=s=(0,o._)([(0,c.$)("esri.popup.content.MediaContent")],w)},33237:(t,r,i)=>{i.d(r,{TA:()=>o,We:()=>d,Z3:()=>a,ZJ:()=>c,w5:()=>p});var s=i(39166);let o=(0,i(11568).vD)(),a=new Map,u=new Map;async function d(t,r,i){if(!t||!i)return!1;if(!r)return!0;let o=new URL(t).host,u=a.get(o);if(!u){let r=t.replace(/\/FeatureServer/i,"/VersionManagementServer").replace(/\/\d*$/,"");u=(await (0,s.A)(r,{responseType:"json",query:{f:"json"}})).data.defaultVersionName}return u===r}async function c(t,r,s=!1){if(!t||!r)return!0;let a=t.replace(/\/FeatureServer/i,"/VersionManagementServer").replace(/\/\d*$/,""),d=u.get(a)?.entries();if(d){for(let[t,u]of d)if(u.name===r){let r=!u.stack?.hasForwardEdits();if(!r&&s){let[{deleteForwardEdits:r},{default:s}]=await Promise.all([i.e(9775).then(i.bind(i,99775)),i.e(307).then(i.bind(i,40307))]),d=await r(a,t,new s({sessionId:o,moment:u.moment}));return d.success&&u.stack?.clearForwardEdits(),d.success}return r}}return!0}function p(t,r){if(!t)return!1;let i=t.replace(/\/FeatureServer/i,"/VersionManagementServer").replace(/\/\d*$/,""),s=u.get(i)?.entries();if(s){for(let[t,i]of s)if(i.name===r)return"edit"===i.lockType}return!1}},33498:(t,r,i)=>{i.d(r,{e:()=>a});var s=i(30781),o=i(91838);function a(t,r={}){let i=t instanceof s.J?t:new s.J(t,r),{alwaysWriteDefaults:u,default:d,ignoreUnknown:c=!0,name:p,nonNullable:h,readOnly:f=!1}=r;return(0,o.MZ)({type:c?i.apiValues:String,json:{type:i.jsonValues,default:d,name:p,read:!f&&{reader:i.read},write:{writer:i.write,alwaysWriteDefaults:u}},nonNullable:h,readOnly:f})}},33638:(t,r,i)=>{i.d(r,{A:()=>s});class s{constructor(t=1){this._seed=t}set seed(t){this._seed=t??Math.random()*s._m}getInt(){return this._seed=(s._a*this._seed+s._c)%s._m,this._seed}getFloat(){return this.getInt()/(s._m-1)}getIntRange(t,r){return Math.round(this.getFloatRange(t,r))}getFloatRange(t,r){return t+this.getInt()/s._m*(r-t)}}s._m=0x7fffffff,s._a=48271,s._c=0},33701:(t,r,i)=>{i.d(r,{A:()=>Y});var s,o,a,u=i(81856),d=i(90550),c=i(70152),p=i(54335),h=i(61096),f=i(28255),y=i(32391),m=i(92713),g=i(33715),_=i(31551),v=i(43650),w=i(61939),b=i(40941),M=i(92753),S=i(91838),A=i(86942),T=i(12709),x=i(7780);i(57845),i(33638);var E=i(33498);let I=s=class extends m.A{constructor(t){super(t),this.type="none"}clone(){return new s({type:this.type})}};(0,u._)([(0,E.e)({none:"none",stayAbove:"stay-above"}),(0,S.MZ)({json:{write:{isRequired:!0}}})],I.prototype,"type",void 0),I=s=(0,u._)([(0,T.$)("esri.ground.NavigationConstraint")],I);let C=Symbol("GroundInstance");var R=i(24860);let O=a=class extends m.A.JSONSupportMixin(_.A){constructor(t){super(t),this[o]=!0,this.opacity=1,this.surfaceColor=null,this.navigationConstraint=null,this.layers=new p.A;let r=t=>{t.parent&&t.parent!==this&&"remove"in t.parent&&t.parent.remove(t),t.parent=this,"elevation"!==t.type&&"base-elevation"!==t.type&&w.A.getLogger(this).error(`Layer '${t.title}, id:${t.id}' of type '${t.type}' is not supported as a ground layer and will therefore be ignored. Only layers of type 'elevation' are supported.`)},i=t=>{t.parent=null};this.addHandles([this.layers.on("after-add",t=>r(t.item)),this.layers.on("after-remove",t=>i(t.item))])}initialize(){this.when().catch(t=>{(0,M.zf)(t)||w.A.getLogger(this).error("#load()","Failed to load ground",t)}),this.resourceInfo&&this.read(this.resourceInfo.data,this.resourceInfo.context)}destroy(){for(let t of this.layers.removeAll())(0,b.pR)(t);this.layers.destroy()}normalizeCtorArgs(t){return t&&"resourceInfo"in t&&(this._set("resourceInfo",t.resourceInfo),delete(t={...t}).resourceInfo),t}get layers(){return this._get("layers")}set layers(t){this._set("layers",(0,h.V)(t,this._get("layers")))}writeLayers(t,r,i,s){let o=[];t&&(s={...s,layerContainerType:"ground"},t.forEach(t=>{if("write"in t){let r={};(0,f.GB)(t)().write(r,s)&&o.push(r)}else s?.messages&&s.messages.push(new y.A("layer:unsupported",`Layers (${t.title}, ${t.id}) of type '${t.declaredClass}' cannot be persisted in the ground`,{layer:t}))})),r.layers=o}load(t){return this.addResolvingPromise(this._loadFromSource(t)),Promise.resolve(this)}loadAll(){return(0,v.g)(this,t=>{t(this.layers)})}async queryElevation(t,r){await this.load({signal:r?.signal});let{ElevationQuery:s}=await i.e(5794).then(i.bind(i,5794));(0,M.Te)(r);let o=new s,a=this.layers.filter(P).toArray();return o.queryAll(a,t,r)}async createElevationSampler(t,r){await this.load({signal:r?.signal});let{ElevationQuery:s}=await i.e(5794).then(i.bind(i,5794));(0,M.Te)(r);let o=new s,a=this.layers.filter(P).toArray();return o.createSamplerAll(a,t,r)}clone(){let t={opacity:this.opacity,surfaceColor:(0,g.o8)(this.surfaceColor),navigationConstraint:(0,g.o8)(this.navigationConstraint),layers:this.layers.slice()};return this.loaded&&(t.loadStatus="loaded"),new a({resourceInfo:this.resourceInfo}).set(t)}read(t,r){this.resourceInfo||this._set("resourceInfo",{data:t,context:r}),super.read(t,r)}_loadFromSource(t){let r=this.resourceInfo;return r?this._loadLayersFromJSON(r.data,r.context,t):Promise.resolve()}async _loadLayersFromJSON(t,r,s){let o=r?.origin||"web-scene",a=r?.portal||null,u=r?.url||null,{populateOperationalLayers:d}=await i.e(2652).then(i.bind(i,92652));(0,M.Te)(s);let c=[];t.layers&&Array.isArray(t.layers)&&c.push(d(this.layers,t.layers,{context:{origin:o,url:u,portal:a,layerContainerType:"ground"},defaultLayerType:"ArcGISTiledElevationServiceLayer"})),await Promise.allSettled(c)}};function P(t){return"elevation"===t.type||t&&"createElevationSampler"in t}o=C,(0,u._)([(0,S.MZ)({json:{read:!1,write:{isRequired:!0}}})],O.prototype,"layers",null),(0,u._)([(0,x.K)("layers")],O.prototype,"writeLayers",null),(0,u._)([(0,S.MZ)({readOnly:!0})],O.prototype,"resourceInfo",void 0),(0,u._)([(0,S.MZ)({type:Number,nonNullable:!0,range:{min:0,max:1},json:{type:A.jz,read:{reader:R.D,source:"transparency"},write:{writer:(t,r)=>{r.transparency=(0,R.p)(t)},target:"transparency"}}})],O.prototype,"opacity",void 0),(0,u._)([(0,S.MZ)({type:c.A,json:{type:[A.jz],write:(t,r)=>{r.surfaceColor=t.toJSON().slice(0,3)}}})],O.prototype,"surfaceColor",void 0),(0,u._)([(0,S.MZ)({type:I,json:{write:!0}})],O.prototype,"navigationConstraint",void 0);let N=O=a=(0,u._)([(0,T.$)("esri.Ground")],O);var k=i(28690),L=i(59988),F=i(74652),Z=i(16352),D=i(19158),j=i(45257);let U=new WeakMap;var V=i(71086);function z(t){return!(!("object"==typeof t&&null!=t&&"loaded"in t&&!0===t.loaded&&"type"in t)||!(0,V.BR)(t)?.operations?.supportsEditing||"editingEnabled"in t&&!(0,V.tk)(t)||function t(r){return!r.destroyed&&(U.has(r)||r.addHandles([(0,j.wB)(()=>{let i=r.parent;return!(!i||!("type"in i))&&("catalog-dynamic-group"===i.type||t(i))},t=>U.set(r,t),j.pc),(0,D.hA)(()=>U.delete(r))]),U.get(r))}(t))}var G=i(48767),$=i(12340);i(12723);let B=()=>w.A.getLogger("esri.support.basemapUtils");var q=i(29606);let H={"world-elevation":{id:"worldElevation",url:"//elevation3d.arcgis.com/arcgis/rest/services/WorldElevation3D/Terrain3D/ImageServer",layerType:"ArcGISTiledElevationServiceLayer"},"world-topobathymetry":{id:"worldTopoBathymetry",url:"//elevation3d.arcgis.com/arcgis/rest/services/WorldElevation3D/TopoBathy3D/ImageServer",layerType:"ArcGISTiledElevationServiceLayer"}};var W=i(88088),J=i(42733);let K=class extends(0,J.l)((0,W.Q)(F.A.EventedMixin(k.A))){constructor(t){super(t),this.allLayers=new L.A({getCollections:()=>[this.basemap?.baseLayers,this.ground?.layers,this.layers,this.basemap?.referenceLayers],getChildrenFunction:t=>"layers"in t?t.layers:null}),this.allTables=(0,q.Z)(this),this.basemap=null,this.editableLayers=new L.A({getCollections:()=>[this.allLayers],itemFilterFunction:z}),this.ground=new N,this._basemapCache={}}destroy(){(function(t){for(let r in t){let i=t[r];(0,b.pR)(i),delete t[r]}})(this._basemapCache),this._basemapCache=null,this.allLayers.destroy(),this.allTables.destroy(),this.editableLayers.destroy(),this.basemap=(0,b.pR)(this.basemap),(0,b.pR)(this.ground),this._set("ground",null)}castBasemap(t){return function(t,r){let i;if("string"==typeof t){let s=t in $.H,o=!s&&t.includes("/");if(!s&&!o){if(G.A.apiKey)B().warn(`Unable to find basemap definition for: ${t}. See available styles at https://developers.arcgis.com/rest/basemap-styles/`);else{let r=Object.entries($.H).filter(([t,r])=>r.classic||r.is3d).map(([t])=>`"${t}"`).sort().join(", ");B().warn(`Unable to find basemap definition for: ${t}. Try one of these: ${r}`)}return null}r&&(i=r[t]),i||(i=s?d.default.fromId(t):new d.default({style:{id:t}}),r&&(r[t]=i))}else i=(0,A.dp)(d.default,t);return i?.destroyed&&(B().warn("The provided basemap is already destroyed",{basemap:i}),i=null),i}(t,this._basemapCache)}castGround(t){let r;return r=null,"string"==typeof t?t in H?r=new N({resourceInfo:{data:{layers:[H[t]]}}}):w.A.getLogger("esri.support.groundUtils").warn(`Unable to find ground definition for: ${t}. Try "world-elevation"`):r=(0,A.dp)(N,t),r??this._get("ground")}findLayerById(t){return this.allLayers.find(r=>r.id===t)}findTableById(t){return this.allTables.find(r=>r.id===t)}};(0,u._)([(0,S.MZ)({readOnly:!0,dependsOn:[]})],K.prototype,"allLayers",void 0),(0,u._)([(0,S.MZ)({readOnly:!0})],K.prototype,"allTables",void 0),(0,u._)([(0,S.MZ)({type:d.default,json:{read:{source:"baseMap"},write:{target:"baseMap"}}})],K.prototype,"basemap",void 0),(0,u._)([(0,Z.w)("basemap")],K.prototype,"castBasemap",null),(0,u._)([(0,S.MZ)({readOnly:!0})],K.prototype,"editableLayers",void 0),(0,u._)([(0,S.MZ)({type:N,nonNullable:!0})],K.prototype,"ground",void 0),(0,u._)([(0,Z.w)("ground")],K.prototype,"castGround",null),(0,u._)([(0,S.MZ)()],K.prototype,"undoRedo",void 0);let Y=K=(0,u._)([(0,T.$)("esri.Map")],K)},33715:(t,r,i)=>{i.d(r,{Nb:()=>u,TU:()=>function t(r){if(!r||"object"!=typeof r||"function"==typeof r||"HTMLElement"in globalThis&&r instanceof HTMLElement)return r;let i=h(r);if(null!=i)return i;if(d(r)){let i=!0,s=r.map(r=>{let s=t(r);return null!=r&&null==s&&(i=!1),s});return i?s:null}if(u(r))return r.clone();if(r instanceof File||r instanceof Blob)return r;if(c(r))return null;let s=new(0,Object.getPrototypeOf(r).constructor);for(let i of Object.getOwnPropertyNames(r)){let o=r[i],a=t(o);if(null!=o&&null==a)return null;s[i]=a}return s},aI:()=>f,gh:()=>y,o8:()=>a,oy:()=>function t(r,i){let s;if(i)for(s in r)r.hasOwnProperty(s)&&(void 0===r[s]?delete r[s]:r[s]instanceof Object&&t(r[s],!0));else for(s in r)r.hasOwnProperty(s)&&void 0===r[s]&&delete r[s];return r}});var s=i(31461),o=i(48678);function a(t){if(!t||"object"!=typeof t||"function"==typeof t)return t;let r=h(t);if(null!=r)return r;if(u(t))return t.clone();if(d(t))return t.map(a);if(c(t))throw Error("Trying to clone an unclonable Accessor instance");let i={};for(let r of Object.getOwnPropertyNames(t))i[r]=a(t[r]);return i}function u(t){return"function"==typeof t.clone}function d(t){return"function"==typeof t.map&&"function"==typeof t.forEach}function c(t){return"function"==typeof t.notifyChange&&"function"==typeof t.watch}function p(t){if("[object Object]"!==Object.prototype.toString.call(t))return!1;let r=Object.getPrototypeOf(t);return null===r||r===Object.prototype}function h(t){if((0,o.dz)(t)||(0,o.mg)(t)||(0,o.UR)(t)||(0,o.IY)(t)||(0,o.jq)(t)||(0,o._G)(t)||(0,o.XJ)(t)||(0,o.vZ)(t)||(0,o.aI)(t))return t.slice();if(t instanceof Date)return new Date(t.getTime());if(t instanceof ArrayBuffer)return t.slice(0,t.byteLength);if(t instanceof Map){let r=new Map;for(let[i,s]of t)r.set(i,a(s));return r}if(t instanceof Set){let r=new Set;for(let i of t)r.add(a(i));return r}return null}function f(t,r){return t===r||"number"==typeof t&&isNaN(t)&&"number"==typeof r&&isNaN(r)||"function"==typeof t?.getTime&&"function"==typeof r?.getTime&&t.getTime()===r.getTime()||!1}function y(t,r){return t===r||(null==t||"string"==typeof t?t===r:"number"==typeof t?t===r||"number"==typeof r&&isNaN(t)&&isNaN(r):t instanceof Date?r instanceof Date&&t.getTime()===r.getTime():Array.isArray(t)?Array.isArray(r)&&(0,s.aI)(t,r):t instanceof Set?r instanceof Set&&function(t,r){if(t.size!==r.size)return!1;for(let i of t)if(!r.has(i))return!1;return!0}(t,r):t instanceof Map?r instanceof Map&&function(t,r){if(t.size!==r.size)return!1;for(let[i,s]of t){let t=r.get(i);if(t!==s||void 0===t&&!r.has(i))return!1}return!0}(t,r):!!p(t)&&p(r)&&function(t,r){if(null===t||null===r)return!1;let i=Object.keys(t);if(null===r||Object.keys(r).length!==i.length)return!1;for(let s of i)if(t[s]!==r[s]||!Object.prototype.hasOwnProperty.call(r,s))return!1;return!0}(t,r))}},33768:(t,r,i)=>{i.d(r,{A:()=>T});var s,o=i(81856),a=i(30781),u=i(92713),d=i(8922),c=i(91838),p=i(86942);i(57845),i(33638);var h=i(53480),f=i(12709),y=i(7780),m=i(39960),g=i(91463),_=i(84766),v=i(71760),w=i(6322),b=i(49667),M=i(99047);let S=new a.J({PNG:"png",PNG8:"png8",PNG24:"png24",PNG32:"png32",JPEG:"jpg",JPG:"jpg",DIB:"dib",TIFF:"tiff",EMF:"emf",PS:"ps",PDF:"pdf",GIF:"gif",SVG:"svg",SVGZ:"svgz",Mixed:"mixed",MIXED:"mixed",LERC:"lerc",LERC2D:"lerc2d",RAW:"raw",pbf:"pbf"}),A=s=class extends u.A{static create(t={}){let{resolutionFactor:r=1,scales:i,size:o=256,spatialReference:a=g.A.WebMercator,numLODs:u=24}=t;if(!(0,v.fn)(a)){let t=[];if(i)for(let r=0;r<i.length;r++){let s=i[r];t.push(new b.A({level:r,scale:s,resolution:s}))}else{let r=5e-4;for(let i=u-1;i>=0;i--)t.unshift(new b.A({level:i,scale:r,resolution:r})),r*=2}return new s({dpi:96,lods:t,origin:new m.A(0,0,a),size:[o,o],spatialReference:a})}let c=(0,v.Vp)(a),p=new m.A(t.origin?{x:t.origin.x,y:t.origin.y,spatialReference:a}:c?{x:c.origin[0],y:c.origin[1],spatialReference:a}:{x:0,y:0,spatialReference:a}),h=1/(39.37*(0,d.GA)(a)*96),f=[];if(i)for(let t=0;t<i.length;t++){let r=i[t],s=r*h;f.push(new b.A({level:t,scale:r,resolution:s}))}else{let t=(0,v.EA)(a)?512/o*591657527.5917094:256/o*591657527.591555,i=Math.ceil(u/r);f.push(new b.A({level:0,scale:t,resolution:t*h}));for(let s=1;s<i;s++){let i=t/2**r,o=i*h;f.push(new b.A({level:s,scale:i,resolution:o})),t=i}}return new s({dpi:96,lods:f,origin:p,size:[o,o],spatialReference:a})}constructor(t){super(t),this.dpi=96,this.format=null,this.origin=null,this.size=null,this.spatialReference=null}get isWrappable(){let{spatialReference:t,origin:r}=this;if(t&&r){let i=(0,v.Vp)(t);return t.isWrappable&&!!i&&Math.abs(i.origin[0]-r.x)<=i.dx}return!1}readOrigin(t,r){return m.A.fromJSON({spatialReference:r.spatialReference,...t})}set lods(t){let r=0,i=0,s=[],o=this._levelToLOD={};t&&(r=-1/0,i=1/0,t.forEach(t=>{s.push(t.scale),r=t.scale>r?t.scale:r,i=t.scale<i?t.scale:i,o[t.level]=t})),this._set("scales",s),this._set("lods",t),this._initializeUpsampleLevels()}readSize(t,r){return[r.cols,r.rows]}writeSize(t,r){r.cols=t[0],r.rows=t[1]}zoomToScale(t){let r=this.scales;if(t<=0)return r[0];if(t>=r.length-1)return r[r.length-1];let i=Math.floor(t);return r[i]/(r[i]/r[i+1])**(t-i)}scaleToZoom(t){let r=this.scales,i=r.length-1,s=0;for(;s<i;s++){let i=r[s],o=r[s+1];if(i<=t)break;if(o===t)return s+1;if(i>t&&o<t)return s+Math.log(i/t)/Math.log(i/o)}return s}tileAt(t,r,i,s){let o,a,u=this.lodAt(t);if(!u)return null;if("number"==typeof r)o=r,a=i;else if((0,v.aI)(r.spatialReference,this.spatialReference))o=r.x,a=r.y,s=i;else{let t=(0,w.Cv)(r,this.spatialReference);if(null==t)return null;o=t.x,a=t.y,s=i}let d=u.resolution*this.size[0],c=u.resolution*this.size[1];return s||(s=new M.U(null,0,0,0,(0,_.vt)())),s.level=t,s.row=Math.floor((this.origin.y-a)/c+.001),s.col=Math.floor((o-this.origin.x)/d+.001),this.updateTileInfo(s),s}updateTileInfo(t,r=s.ExtrapolateOptions.NONE){let i=this.lodAt(t.level);if(!i&&r===s.ExtrapolateOptions.POWER_OF_TWO){let r=this.lods[this.lods.length-1];r.level<t.level&&(i=r)}if(!i)return;let o=t.level-i.level,a=i.resolution*this.size[0]/2**o,u=i.resolution*this.size[1]/2**o;t.id=`${t.level}/${t.row}/${t.col}`,t.extent||(t.extent=(0,_.vt)()),t.extent[0]=this.origin.x+t.col*a,t.extent[1]=this.origin.y-(t.row+1)*u,t.extent[2]=t.extent[0]+a,t.extent[3]=t.extent[1]+u}upsampleTile(t){let r=this._upsampleLevels[t.level];return!(!r||-1===r.parentLevel)&&(t.level=r.parentLevel,t.row=Math.floor(t.row/r.factor+.001),t.col=Math.floor(t.col/r.factor+.001),this.updateTileInfo(t),!0)}getTileBounds(t,r){let i=this.lodAt(r.level);if(null==i)return null;let{resolution:s}=i,o=s*this.size[0],a=s*this.size[1];return t[0]=this.origin.x+r.col*o,t[1]=this.origin.y-(r.row+1)*a,t[2]=t[0]+o,t[3]=t[1]+a,t}lodAt(t){return this._levelToLOD?.[t]??null}clone(){return s.fromJSON(this.write({}))}getCompatibleForVTL(t){if(this.size[0]!==this.size[1]||256===this.size[0]&&512===t)return null;let r=(512===this.size[0]&&256===t?-1:0)+ +!!this.spatialReference.isGeographic;if(this.size[0]===t&&0===r)return this;let i=[],o=this.lods.length-r;for(let t=0;t<o;t++){let s=t+r,{scale:o,resolution:a}=s>=0?this.lods[s]:{scale:2*this.lods[0].scale,resolution:2*this.lods[0].resolution};i.push(new b.A({level:t,scale:o,resolution:a}))}return new s({size:[t,t],dpi:this.dpi,format:this.format,compressionQuality:this.compressionQuality,origin:this.origin,spatialReference:this.spatialReference,lods:i})}_initializeUpsampleLevels(){let t=this.lods;this._upsampleLevels=[];let r=null;for(let i=0;i<t.length;i++){let s=t[i];this._upsampleLevels[s.level]={parentLevel:r?r.level:-1,factor:r?r.resolution/s.resolution:0},r=s}}};(0,o._)([(0,c.MZ)({type:Number,json:{write:!0}})],A.prototype,"compressionQuality",void 0),(0,o._)([(0,c.MZ)({type:Number,json:{write:!0}})],A.prototype,"dpi",void 0),(0,o._)([(0,c.MZ)({type:String,json:{read:S.read,write:S.write,origins:{"web-scene":{read:!1,write:!1}}}})],A.prototype,"format",void 0),(0,o._)([(0,c.MZ)({readOnly:!0})],A.prototype,"isWrappable",null),(0,o._)([(0,c.MZ)({type:m.A,json:{write:!0}})],A.prototype,"origin",void 0),(0,o._)([(0,h.w)("origin")],A.prototype,"readOrigin",null),(0,o._)([(0,c.MZ)({type:[b.A],value:null,json:{write:!0}})],A.prototype,"lods",null),(0,o._)([(0,c.MZ)({readOnly:!0})],A.prototype,"scales",void 0),(0,o._)([(0,c.MZ)({cast:t=>Array.isArray(t)?t:"number"==typeof t?[t,t]:[256,256]})],A.prototype,"size",void 0),(0,o._)([(0,h.w)("size",["rows","cols"])],A.prototype,"readSize",null),(0,o._)([(0,y.K)("size",{cols:{type:p.jz},rows:{type:p.jz}})],A.prototype,"writeSize",null),(0,o._)([(0,c.MZ)({type:g.A,json:{write:!0}})],A.prototype,"spatialReference",void 0),function(t){var r;(r=t.ExtrapolateOptions||(t.ExtrapolateOptions={}))[r.NONE=0]="NONE",r[r.POWER_OF_TWO=1]="POWER_OF_TWO"}((A=s=(0,o._)([(0,f.$)("esri.layers.support.TileInfo")],A))||(A={}));let T=A},34184:(t,r,i)=>{i.d(r,{$N:()=>o,i8:()=>function t(r,i){if(null==r&&null==i)return!1;if(null==r||null==i)return!0;if("object"==typeof r){if(Array.isArray(r)){if(r.length!==i.length)return!0;for(let s=0;s<r.length;s++)if(t(r[s],i[s]))return!0;return!1}if(Object.keys(r).length!==Object.keys(i).length)return!0;for(let s in r)if(t(r[s],i[s]))return!0;return!1}return r!==i},sM:()=>u,wc:()=>a});var s=i(33715);function o(t,r,i=!1){return function t(r,i,o){return i?Object.keys(i).reduce((r,a)=>{let u=r[a],d=i[a];return u===d||(void 0===u?r[a]=(0,s.o8)(d):Array.isArray(d)||Array.isArray(r)?(u=u?Array.isArray(u)?r[a]=u.slice():r[a]=[u]:r[a]=[],d&&(Array.isArray(d)||(d=[d]),o?d.forEach(t=>{u.includes(t)||u.push(t)}):r[a]=d.slice())):d&&"object"==typeof d?r[a]=t(u,d,o):r.hasOwnProperty(a)&&!i.hasOwnProperty(a)||(r[a]=d)),r},r||{}):r}(t,r,i)}function a(t,r){if(null!=r)return r[t]||d(t.split("."),!1,r)}function u(t,r,i){let s=t.split("."),o=s.pop(),a=d(s,!0,i);a&&o&&(a[o]=r)}function d(t,r,i){let s=i;for(let i of t){if(null==s)return;if(!(i in s)){if(!r)return;s[i]={}}s=s[i]}return s}},34271:(t,r,i)=>{i.r(r),i.d(r,{completeUserSettings:()=>a,createEmptyImageData:()=>o.xR,encode:()=>d,encodeData:()=>c,getFormatAndQuality:()=>m,getMaximumResolutionScale:()=>g,resampleHermite:()=>_,screenshotSuperSampleSettings:()=>v,toDataUrl:()=>y,toRenderSettings:()=>u}),i(57845);var s=i(20538),o=i(56121);function a(t,r){let{format:i,quality:o,rotation:a,disableDecorations:u}=t||{},d=w(t,r.padding),c=function(t,r){let i={x:0,y:0,width:r.width,height:r.height};if(t?.area){null!=t.area.x&&(i.x=Math.floor(t.area.x)),null!=t.area.y&&(i.y=Math.floor(t.area.y));let s=null!=t.area.width?Math.floor(t.area.width):null,o=null!=t.area.height?Math.floor(t.area.height):null;if(i.width=r.width-i.x,i.height=r.height-i.y,null!=s&&null!=o)i.width=Math.min(i.width,s),i.height=Math.min(i.height,o);else if(null==s&&null!=o){let t=Math.min(i.width,s);i.height=t/i.width*i.height,i.width=t}else if(null!=s&&null==o){let t=Math.min(i.height,o);i.width=t/i.height*i.width,i.height=t}}return function(t,r){let i=Math.floor(Math.max(t.x,0)),s=Math.floor(Math.max(t.y,0)),o={x:i,y:s,width:Math.floor(Math.min(t.width,r.width-i)),height:Math.floor(Math.min(t.height,r.height-s))},a=o.width/o.height,u=t.width/t.height;if(u===a)return o;if(u>a){let t=Math.floor(o.width/u),r=o.height-t;return{x:o.x,y:Math.floor(o.y+r/2),width:o.width,height:t}}let d=Math.floor(o.height*u),c=o.width-d;return{x:Math.floor(o.x+c/2),y:o.y,width:d,height:o.height}}(function(t,r){if(null==r?.width||null==r.height)return t;let i=r.width/r.height,s=t.width/t.height;if(s===i)return t;if(s<i){let r=Math.floor(t.height*i);return t.x-=(r-t.width)/2,t.width=r,t}let o=Math.floor(t.width/i);return t.y-=(o-t.height)/2,t.height=o,t}(i,t),r)}(t,{width:r.width-d.left-d.right,height:r.height-d.top-d.bottom}),{width:p,height:h}=function(t,r){if(!t)return r;let i=t.width,s=t.height;if(null!=i&&null!=s)return{width:Math.floor(i),height:Math.floor(s)};if(null==i&&null==s)return r;let o=r.width/r.height;return null==s?{width:Math.floor(i),height:Math.floor(i/o)}:{width:Math.floor(s*o),height:Math.floor(s)}}(t,c),f=b(i),y=A[f];return{format:f,quality:(0,s.qE)(null!=o?o:y,0,100),area:c,width:p,height:h,rotation:a,disableDecorations:!!u,ignoreBackground:!!t?.ignoreBackground,ignorePadding:!!t?.ignorePadding}}function u(t,r){let i=a(t,r),s=i.area,o=i.width/s.width,u=w(i,r.padding),d=u.left+u.right,c=u.top+u.bottom,p=r.width-d,h=r.height-c,f=Math.floor(p*o+d),y=Math.floor(h*o+c),m=t?.layers??[],g=i.ignoreBackground,_=i.ignorePadding;return{framebufferWidth:f,framebufferHeight:y,region:{x:Math.floor(s.x*o)+u.left,y:Math.floor(s.y*o)+u.top,width:i.width,height:i.height},format:i.format,quality:i.quality,rotation:i.rotation,pixelRatio:o,layers:m,disableDecorations:i.disableDecorations,ignoreBackground:g,ignorePadding:_,objectAndLayerIdColor:!1}}function d(t,r,i){let{ctx:s,canvas:o}=p(t,i),a=s.getImageData(0,0,t.width,t.height),u=y(o,r);return h(o),{dataUrl:u,data:a}}function c(t,r){let{ctx:i,canvas:s}=p(t,r),o=i.getImageData(0,0,t.width,t.height);return h(s),o}function p(t,r){var i;let s=(null==f&&(f=document.createElement("canvas")),f);r.premultipliedAlpha&&function(t){let r=t.data,i=r.length;for(let t=0;t<i;t+=4){let i=r[t+3];if(255!==i&&i>0){let s=255/i;r[t]=r[t]*s,r[t+1]=r[t+1]*s,r[t+2]=r[t+2]*s}}}(t),s.width=t.width,s.height=t.height;let o=s.getContext("2d",{willReadFrequently:!0});return o.putImageData(t,0,0),r.flipY&&((i=o).save(),i.globalCompositeOperation="copy",i.scale(1,-1),i.translate(0,-i.canvas.height),i.drawImage(i.canvas,0,0),i.restore()),{ctx:o,canvas:s}}function h(t){t.width=0,t.height=0}let f=null;function y(t,r){let i=M[r.format],s=r.quality/100;return t.toDataURL(i,s)}function m(t,r){let i=b(t),o=A[i];return{format:i,quality:(0,s.qE)(null!=r?r:o,0,100)}}function g(t,r){return r/Math.max(t[0],t[1])}function _(t,r,i,s=0,o=0,a=t.width-s,u=t.height-o,d=!1){let{data:c}=t,{width:p,height:h,data:f}=r,y=a/p,m=u/h,g=Math.ceil(y/2),v=Math.ceil(m/2),w=t.width;for(let t=0;t<h;t++)for(let r=0;r<p;r++){let a=4*(r+(d?h-t-1:t)*p),u=0,_=0,b=0,M=0,S=0,A=0,T=(t+.5)*m;for(let a=Math.floor(t*m);a<(t+1)*m;a++){let t=Math.abs(T-(a+.5))/v,d=(r+.5)*y,p=t*t;for(let t=Math.floor(r*y);t<(r+1)*y;t++){let r=Math.abs(d-(t+.5))/g,h=Math.sqrt(p+r*r);if(h>=1)continue;let f=2*h*h*h-3*h*h+1,y=4*(s+t+(o+a)*w);A+=f*c[y+3],_+=f,!i&&c[y+3]<255&&(f=f*c[y+3]/255),b+=f*c[y],M+=f*c[y+1],S+=f*c[y+2],u+=f}}f[a]=b/u,f[a+1]=M/u,f[a+2]=S/u,f[a+3]=A/_}return r}function v(t,r,i){if(!r)return t;let{framebufferWidth:s,framebufferHeight:o,pixelRatio:a,region:u}=t,d=w(t,i),c=d.left+d.right,p=d.top+d.bottom,h=s-c,f=o-p,y=Math.min(8,Math.min((2048-c)/h,(2048-p)/f));return y<1.5?t:{...t,framebufferWidth:Math.round(h*y)+c,framebufferHeight:Math.round(f*y)+p,pixelRatio:a*y,resample:{region:{x:Math.round((u.x-d.left)*y)+d.left,y:Math.round((u.y-d.top)*y)+d.top,width:Math.round(u.width*y),height:Math.round(u.height*y)},width:s,height:o}}}function w(t,r){return!r||t?.ignorePadding?T:r}function b(t){switch(t){case"png":case"jpg":case"jpeg":return t;default:return S}}let M={png:"image/png",jpg:"image/jpeg",jpeg:"image/jpeg"},S="png",A={png:100,jpg:98,jpeg:98},T={top:0,right:0,bottom:0,left:0}},34361:(t,r,i)=>{i.d(r,{A:()=>m});var s,o=i(81856),a=i(30781),u=i(92713),d=i(33715),c=i(91838);i(57845),i(61939);var p=i(12709),h=i(61414);let f=new a.J({upperLeft:"upper-left",lowerLeft:"lower-left"}),y=s=class extends u.A{constructor(t){super(t),this.extent=null,this.mode="view",this.originPosition="upper-left",this.tolerance=1}clone(){return new s((0,d.o8)({extent:this.extent,mode:this.mode,originPosition:this.originPosition,tolerance:this.tolerance}))}};(0,o._)([(0,c.MZ)({type:h.A,json:{write:{overridePolicy(){return{enabled:"view"===this.mode}}}}})],y.prototype,"extent",void 0),(0,o._)([(0,c.MZ)({type:["view","edit"],json:{write:!0}})],y.prototype,"mode",void 0),(0,o._)([(0,c.MZ)({type:String,json:{read:f.read,write:f.write}})],y.prototype,"originPosition",void 0),(0,o._)([(0,c.MZ)({type:Number,json:{write:{overridePolicy(){return{enabled:"view"===this.mode}}}}})],y.prototype,"tolerance",void 0);let m=y=s=(0,o._)([(0,p.$)("esri.rest.support.QuantizationParameters")],y)},34603:(t,r,i)=>{i.d(r,{p:()=>o});var s=i(19158);let o=function(t){return{setTimeout:(r,i)=>{let o=t.setTimeout(r,i);return(0,s.hA)(()=>t.clearTimeout(o))}}}(globalThis)},34929:(t,r,i)=>{i.d(r,{p:()=>c});var s=i(57845),o=i(61939),a=i(80824),u=i(47823),d=i(39265);function c(){return{fields:{type:[a.A],value:null,set:function(t){if(t&&(0,s.A)("big-integer-warning-enabled")){let r=t.filter(t=>"big-integer"===t.type||"oid"===t.type&&(t.length||0)>=8);if(r.length){let t=r.map(t=>`'${t.name}'`).join(", ");o.A.getLogger(this).warn("#fields",`Layer (title: '${this.title??"no title"}', id: '${this.id??"no id"}') references big-integer field(s): ${t}, support for which is experimental. Only integers less than ${Number.MAX_SAFE_INTEGER} (Number.MAX_SAFE_INTEGER) are supported.`)}}this._set("fields",t)}},fieldsIndex:{readOnly:!0,get(){return u.A.fromLayer(this)}},outFields:{type:[String],json:{read:!1},set:function(t){this._userOutFields=t,this.notifyChange("outFields")},get:function(){let t=this._userOutFields;if(!t?.length)return null;if(t.includes("*"))return["*"];if(!this.fields)return t;for(let r of t)this.fieldsIndex?.has(r)||o.A.getLogger("esri.layers.support.fieldProperties").error("field-attributes-layer:invalid-field",`Invalid field ${r} found in outFields`,{layer:this,outFields:t});return(0,d.DB)(this.fieldsIndex,t)}}}}},35430:(t,r,i)=>{function s(){return[0,0]}function o(t){return[t[0],t[1]]}function a(t,r){return[t,r]}function u(t,r=s()){let i=Math.min(2,t.length);for(let s=0;s<i;++s)r[s]=t[s];return r}function d(){return s()}function c(){return a(1,1)}function p(){return a(1,0)}function h(){return a(0,1)}i.d(r,{Cw:()=>m,JP:()=>g,Un:()=>y,ci:()=>u,fA:()=>a,o8:()=>o,uY:()=>f,vt:()=>s});let f=d(),y=c(),m=p(),g=h();Object.freeze(Object.defineProperty({__proto__:null,ONES:y,UNIT_X:m,UNIT_Y:g,ZEROS:f,clone:o,create:s,createView:function(t,r){return new Float64Array(t,r,2)},freeze:function(t,r){return[t,r]},fromArray:u,fromValues:a,ones:c,unitX:p,unitY:h,zeros:d},Symbol.toStringTag,{value:"Module"}))},35665:(t,r,i)=>{i.d(r,{A:()=>en});var s,o,a,u,d,c,p,h,f,y,m,g=i(81856),_=i(91838);i(57845),i(61939),i(33638);var v=i(12709),w=i(91766),b=i(92713);let M=class extends b.A{constructor(t){super(t),this.type=null}};(0,g._)([(0,_.MZ)()],M.prototype,"type",void 0);let S=M=(0,g._)([(0,v.$)("esri.form.elements.inputs.Input")],M),A=class extends S{constructor(t){super(t),this.maxLength=null,this.minLength=0}};(0,g._)([(0,_.MZ)({type:Number,json:{write:!0}})],A.prototype,"maxLength",void 0),(0,g._)([(0,_.MZ)({type:Number,json:{write:!0}})],A.prototype,"minLength",void 0);let T=A=(0,g._)([(0,v.$)("esri.form.elements.inputs.TextInput")],A),x=s=class extends T{constructor(t){super(t),this.type="barcode-scanner"}clone(){return new s({maxLength:this.maxLength,minLength:this.minLength})}};(0,g._)([(0,_.MZ)({type:["barcode-scanner"],json:{read:!1,write:!0}})],x.prototype,"type",void 0);let E=x=s=(0,g._)([(0,v.$)("esri.form.elements.inputs.BarcodeScannerInput")],x),I=o=class extends S{constructor(t){super(t),this.noValueOptionLabel=null,this.showNoValueOption=!0,this.type="combo-box"}clone(){return new o({showNoValueOption:this.showNoValueOption,noValueOptionLabel:this.noValueOptionLabel})}};(0,g._)([(0,_.MZ)({type:String,json:{write:!0}})],I.prototype,"noValueOptionLabel",void 0),(0,g._)([(0,_.MZ)({type:Boolean,json:{write:!0}})],I.prototype,"showNoValueOption",void 0),(0,g._)([(0,_.MZ)({type:["combo-box"],json:{read:!1,write:!0}})],I.prototype,"type",void 0);let C=I=o=(0,g._)([(0,v.$)("esri.form.elements.inputs.ComboBoxInput")],I);var R=i(53480),O=i(7780);function P(t){return null!=t?t:null}function N(t){return null!=t?t:null}let k=a=class extends S{constructor(t){super(t),this.max=null,this.min=null,this.type="date-picker"}readMax(t,r){return P(r.max)}writeMax(t,r){r.max=N(t)}readMin(t,r){return P(r.min)}writeMin(t,r){r.min=N(t)}clone(){return new a({max:this.max,min:this.min})}};(0,g._)([(0,_.MZ)({type:String,json:{type:String,write:!0}})],k.prototype,"max",void 0),(0,g._)([(0,R.w)("max")],k.prototype,"readMax",null),(0,g._)([(0,O.K)("max")],k.prototype,"writeMax",null),(0,g._)([(0,_.MZ)({type:String,json:{type:String,write:!0}})],k.prototype,"min",void 0),(0,g._)([(0,R.w)("min")],k.prototype,"readMin",null),(0,g._)([(0,O.K)("min")],k.prototype,"writeMin",null),(0,g._)([(0,_.MZ)({type:["date-picker"],json:{read:!1,write:!0}})],k.prototype,"type",void 0);let L=k=a=(0,g._)([(0,v.$)("esri.form.elements.inputs.DatePickerInput")],k);function F(t){return null!=t?t:null}function Z(t){return null!=t?t:null}let D=u=class extends S{constructor(t){super(t),this.includeTimeOffset=!0,this.max=null,this.min=null,this.timeResolution="minutes",this.type="datetimeoffset-picker"}readMax(t,r){return F(r.max)}writeMax(t,r){r.max=Z(t)}readMin(t,r){return F(r.min)}writeMin(t,r){r.min=Z(t)}readTimeResolution(t,r){return F(r.timeResolution)}writeTimeResolution(t,r){r.timeResolution=Z(t)}clone(){return new u({includeTimeOffset:this.includeTimeOffset,max:this.max,min:this.min,timeResolution:this.timeResolution})}};(0,g._)([(0,_.MZ)({type:Boolean,json:{write:!0}})],D.prototype,"includeTimeOffset",void 0),(0,g._)([(0,_.MZ)({type:String,json:{type:String,write:!0}})],D.prototype,"max",void 0),(0,g._)([(0,R.w)("max")],D.prototype,"readMax",null),(0,g._)([(0,O.K)("max")],D.prototype,"writeMax",null),(0,g._)([(0,_.MZ)({type:String,json:{type:String,write:!0}})],D.prototype,"min",void 0),(0,g._)([(0,R.w)("min")],D.prototype,"readMin",null),(0,g._)([(0,O.K)("min")],D.prototype,"writeMin",null),(0,g._)([(0,_.MZ)({type:String,json:{type:String,write:!0}})],D.prototype,"timeResolution",void 0),(0,g._)([(0,R.w)("timeResolution")],D.prototype,"readTimeResolution",null),(0,g._)([(0,O.K)("timeResolution")],D.prototype,"writeTimeResolution",null),(0,g._)([(0,_.MZ)({type:["datetimeoffset-picker"],json:{read:!1,write:!0}})],D.prototype,"type",void 0);let j=D=u=(0,g._)([(0,v.$)("esri.form.elements.inputs.DateTimeOffsetPickerInput")],D);function U(t){return null!=t?new Date(t):null}function V(t){return t?t.getTime():null}let z=d=class extends S{constructor(t){super(t),this.includeTime=!1,this.max=null,this.min=null,this.type="datetime-picker"}readMax(t,r){return U(r.max)}writeMax(t,r){r.max=V(t)}readMin(t,r){return U(r.min)}writeMin(t,r){r.min=V(t)}clone(){return new d({includeTime:this.includeTime,max:this.max,min:this.min})}};(0,g._)([(0,_.MZ)({type:Boolean,json:{write:!0}})],z.prototype,"includeTime",void 0),(0,g._)([(0,_.MZ)({type:Date,json:{type:Number,write:!0}})],z.prototype,"max",void 0),(0,g._)([(0,R.w)("max")],z.prototype,"readMax",null),(0,g._)([(0,O.K)("max")],z.prototype,"writeMax",null),(0,g._)([(0,_.MZ)({type:Date,json:{type:Number,write:!0}})],z.prototype,"min",void 0),(0,g._)([(0,R.w)("min")],z.prototype,"readMin",null),(0,g._)([(0,O.K)("min")],z.prototype,"writeMin",null),(0,g._)([(0,_.MZ)({type:["datetime-picker"],json:{read:!1,write:!0}})],z.prototype,"type",void 0);let G=z=d=(0,g._)([(0,v.$)("esri.form.elements.inputs.DateTimePickerInput")],z),$=c=class extends S{constructor(t){super(t),this.noValueOptionLabel=null,this.showNoValueOption=!0,this.type="radio-buttons"}clone(){return new c({noValueOptionLabel:this.noValueOptionLabel,showNoValueOption:this.showNoValueOption})}};(0,g._)([(0,_.MZ)({type:String,json:{write:!0}})],$.prototype,"noValueOptionLabel",void 0),(0,g._)([(0,_.MZ)({type:Boolean,json:{write:!0}})],$.prototype,"showNoValueOption",void 0),(0,g._)([(0,_.MZ)({type:["radio-buttons"],json:{read:!1,write:!0}})],$.prototype,"type",void 0);let B=$=c=(0,g._)([(0,v.$)("esri.form.elements.inputs.RadioButtonsInput")],$),q=p=class extends S{constructor(t){super(t),this.offValue=null,this.onValue=null,this.type="switch"}clone(){return new p({offValue:this.offValue,onValue:this.onValue})}};(0,g._)([(0,_.MZ)({type:[String,Number],json:{write:!0}})],q.prototype,"offValue",void 0),(0,g._)([(0,_.MZ)({type:[String,Number],json:{write:!0}})],q.prototype,"onValue",void 0),(0,g._)([(0,_.MZ)({type:["switch"],json:{read:!1,write:!0}})],q.prototype,"type",void 0);let H=q=p=(0,g._)([(0,v.$)("esri.form.elements.inputs.SwitchInput")],q),W=h=class extends T{constructor(t){super(t),this.type="text-area"}clone(){return new h({maxLength:this.maxLength,minLength:this.minLength})}};(0,g._)([(0,_.MZ)({type:["text-area"],json:{read:!1,write:!0}})],W.prototype,"type",void 0);let J=W=h=(0,g._)([(0,v.$)("esri.form.elements.inputs.TextAreaInput")],W),K=f=class extends T{constructor(t){super(t),this.type="text-box"}clone(){return new f({maxLength:this.maxLength,minLength:this.minLength})}};(0,g._)([(0,_.MZ)({type:["text-box"],json:{read:!1,write:!0}})],K.prototype,"type",void 0);let Y=K=f=(0,g._)([(0,v.$)("esri.form.elements.inputs.TextBoxInput")],K);function X(t){return null!=t?t:null}function Q(t){return null!=t?t:null}let ee=y=class extends S{constructor(t){super(t),this.max=null,this.min=null,this.timeResolution="minutes",this.type="time-picker"}readMax(t,r){return X(r.max)}writeMax(t,r){r.max=Q(t)}readMin(t,r){return X(r.min)}writeMin(t,r){r.min=Q(t)}readTimeResolution(t,r){return X(r.timeResolution)}writeTimeResolution(t,r){r.timeResolution=Q(t)}clone(){return new y({max:this.max,min:this.min,timeResolution:this.timeResolution})}};(0,g._)([(0,_.MZ)({type:String,json:{type:String,write:!0}})],ee.prototype,"max",void 0),(0,g._)([(0,R.w)("max")],ee.prototype,"readMax",null),(0,g._)([(0,O.K)("max")],ee.prototype,"writeMax",null),(0,g._)([(0,_.MZ)({type:String,json:{type:String,write:!0}})],ee.prototype,"min",void 0),(0,g._)([(0,R.w)("min")],ee.prototype,"readMin",null),(0,g._)([(0,O.K)("min")],ee.prototype,"writeMin",null),(0,g._)([(0,_.MZ)({type:String,json:{type:String,write:!0}})],ee.prototype,"timeResolution",void 0),(0,g._)([(0,R.w)("timeResolution")],ee.prototype,"readTimeResolution",null),(0,g._)([(0,O.K)("timeResolution")],ee.prototype,"writeTimeResolution",null),(0,g._)([(0,_.MZ)({type:["time-picker"],json:{read:!1,write:!0}})],ee.prototype,"type",void 0);let et=ee=y=(0,g._)([(0,v.$)("esri.form.elements.inputs.TimePickerInput")],ee);var er=i(66389);let ei=m=class extends w.A{constructor(t){super(t),this.domain=null,this.editable=null,this.editableExpression=null,this.fieldName=null,this.hint=null,this.input=null,this.requiredExpression=null,this.type="field",this.valueExpression=null}clone(){return new m({description:this.description,domain:this.domain,editable:this.editable,editableExpression:this.editableExpression,fieldName:this.fieldName,hint:this.hint,input:this.input,label:this.label,requiredExpression:this.requiredExpression,valueExpression:this.valueExpression,visibilityExpression:this.visibilityExpression})}};(0,g._)([(0,_.MZ)({types:er.gK,json:{read:{reader:er.rS},write:!0}})],ei.prototype,"domain",void 0),(0,g._)([(0,_.MZ)({type:Boolean,json:{write:!0}})],ei.prototype,"editable",void 0),(0,g._)([(0,_.MZ)({type:String,json:{write:!0}})],ei.prototype,"editableExpression",void 0),(0,g._)([(0,_.MZ)({type:String,json:{write:!0}})],ei.prototype,"fieldName",void 0),(0,g._)([(0,_.MZ)({type:String,json:{write:!0}})],ei.prototype,"hint",void 0),(0,g._)([(0,_.MZ)({types:{base:S,key:"type",typeMap:{"barcode-scanner":E,"combo-box":C,"date-picker":L,"datetime-picker":G,"datetimeoffset-picker":j,"radio-buttons":B,switch:H,"text-area":J,"text-box":Y,"time-picker":et}},json:{read:{source:"inputType"},write:{target:"inputType"}}})],ei.prototype,"input",void 0),(0,g._)([(0,_.MZ)({type:String,json:{write:!0}})],ei.prototype,"requiredExpression",void 0),(0,g._)([(0,_.MZ)({type:String,json:{read:!1,write:!0}})],ei.prototype,"type",void 0),(0,g._)([(0,_.MZ)({type:String,json:{write:!0}})],ei.prototype,"valueExpression",void 0);let en=ei=m=(0,g._)([(0,v.$)("esri.form.elements.FieldElement")],ei)},35705:(t,r,i)=>{i.d(r,{N:()=>s});function s(t,{timeZone:r,timeExtent:i}){return{$view:{scale:t,timeZone:r,timeProperties:{currentStart:i?.start,currentEnd:i?.end}}}}},35759:(t,r,i)=>{i.d(r,{l:()=>o}),i(57845),i(61939);class s{constructor(t,r=[]){this.eventType=t,this.keyModifiers=r}matches(t){if(t.type!==this.eventType)return!1;if(0===this.keyModifiers.length)return!0;let r=t.modifiers;for(let t of this.keyModifiers)if(!r.has(t))return!1;return!0}}class o{constructor(t){this._manager=null,this._incoming={},this._outgoing={},this._incomingEventMatches=null,this._incomingEventTypes=null,this._outgoingEventTypes=null,this._hasSideEffects=t}get incomingEventMatches(){if(!this._incomingEventMatches)for(let t in this._incomingEventMatches=[],this._incoming)for(let r of this._incoming[t])this._incomingEventMatches.push(r.match);return this._incomingEventMatches}get incomingEventTypes(){return this._incomingEventTypes||(this._incomingEventTypes=this.incomingEventMatches.map(t=>t.eventType)),this._incomingEventTypes}get outgoingEventTypes(){return this._outgoingEventTypes||(this._outgoingEventTypes=Object.keys(this._outgoing)),this._outgoingEventTypes}get hasSideEffects(){return this._hasSideEffects}get hasPendingInputs(){return!1}onInstall(t){this._manager||(t.setEventCallback(t=>this._handleEvent(t)),t.setUninstallCallback(()=>this._onUninstall()),this._manager=t)}onUninstall(){}registerIncoming(t,r,i){let o;"function"==typeof r?(i=r,o=[]):o=r||[];let u="string"==typeof t?new s(t,o):t,d=()=>{this._incomingEventTypes=null,this._incomingEventMatches=null},c=t=>{let r=this._incoming[t.match.eventType];if(r){let i=r.indexOf(t);r.splice(i,1),d(),this._manager&&this._manager.updateDependencies()}},p=new a(u,i,{onPause:c,onRemove:c,onResume:t=>{let r=this._incoming[t.match.eventType];r&&!r.includes(t)&&(r.push(t),d(),this._manager&&this._manager.updateDependencies())}}),h=this._incoming[u.eventType];return h||(h=[],this._incoming[u.eventType]=h),h.push(p),d(),this._manager&&this._manager.updateDependencies(),p}registerOutgoing(t){if(this._outgoing[t])throw Error("There is already a callback registered for this outgoing InputEvent: "+t);let r=new u(t,{onEmit:(t,r,i,s)=>{this._manager?.emit(t.eventType,r,i,s)},onRemove:t=>{delete this._outgoing[t.eventType],this._manager?.updateDependencies()}});return this._outgoing[t]=r,this._outgoingEventTypes=null,this._manager&&this._manager.updateDependencies(),r}startCapturingPointer(t){this._manager?.setPointerCapture(t,!0)}stopCapturingPointer(t){this._manager?.setPointerCapture(t,!1)}refreshHasPendingInputs(){this._manager?.refreshHasPendingInputs()}_onUninstall(){this._manager&&(this.onUninstall(),this._manager=null)}_handleEvent(t){let r=this._incoming[t.type];if(r){for(let i of r)if(i.match.matches(t)&&(i.callback?.(t),t.shouldStopPropagation()))break}}}class a{constructor(t,r,i){this.match=t,this._callback=r,this._handler=i}pause(){this._handler.onPause(this)}resume(){this._handler.onResume(this)}remove(){this._handler.onRemove(this)}get callback(){return this._callback}}class u{constructor(t,r){this.eventType=t,this._removed=!1,this._handler=r}emit(t,r,i){this._removed||this._handler.onEmit(this,t,r,i)}remove(){this._removed=!0,this._handler.onRemove(this)}}},36577:(t,r,i)=>{i.d(r,{A:()=>p});var s,o=i(81856),a=i(92713),u=i(91838);i(57845),i(61939),i(33638);var d=i(12709);let c=s=class extends a.A{constructor(t){super(t),this.field=null,this.order=null}clone(){return new s({field:this.field,order:this.order})}};(0,o._)([(0,u.MZ)({type:String,json:{write:!0}})],c.prototype,"field",void 0),(0,o._)([(0,u.MZ)({type:["asc","desc"],json:{write:!0}})],c.prototype,"order",void 0);let p=c=s=(0,o._)([(0,d.$)("esri.popup.support.RelatedRecordsInfoFieldOrder")],c)},37211:(t,r,i)=>{i.d(r,{E:()=>p,p:()=>h});var s=i(70152),o=i(55048),a=i(86942),u=i(24860);function d(t,r){let i=null!=r.transparency?(0,u.D)(r.transparency):1,o=r.color;return o&&Array.isArray(o)?new s.A([o[0]||0,o[1]||0,o[2]||0,i]):null}function c(t,r){r.color=t.toJSON().slice(0,3);let i=(0,u.p)(t.a);0!==i&&(r.transparency=i)}function p(t){return{type:s.A,nonNullable:t?.nonNullable,json:{type:[a.jz],default:null,read:{source:["color","transparency"],reader:d},write:{target:{color:{type:[a.jz],isRequired:t?.colorRequiredOnWrite},transparency:{type:a.jz}},writer:c}}}}let h={type:Number,cast:o.cr,json:{write:!0}}},37261:(t,r,i)=>{i.d(r,{U:()=>s});let s=(0,i(30781).O)()({barchart:"bar-chart",columnchart:"column-chart",linechart:"line-chart",piechart:"pie-chart"})},37360:(t,r,i)=>{i.d(r,{A:()=>m});var s,o=i(81856),a=i(32391),u=i(92713),d=i(91838);i(57845),i(61939),i(33638);var c=i(12709);let p=class extends u.A{constructor(t){super(t),this.created=null,this.id=null,this.portal=null,this.title=null,this.username=null}get url(){let t=this.portal?.restUrl;return t?`${t}/content/users/${this.username}/${this.id}`:null}toJSON(){throw new a.A("internal:not-yet-implemented","PortalFolder.toJSON is not yet implemented")}};(0,o._)([(0,d.MZ)({type:Date})],p.prototype,"created",void 0),(0,o._)([(0,d.MZ)()],p.prototype,"id",void 0),(0,o._)([(0,d.MZ)()],p.prototype,"portal",void 0),(0,o._)([(0,d.MZ)()],p.prototype,"title",void 0),(0,o._)([(0,d.MZ)({readOnly:!0})],p.prototype,"url",null),(0,o._)([(0,d.MZ)()],p.prototype,"username",void 0);let h=p=(0,o._)([(0,c.$)("esri.portal.PortalFolder")],p);var f=i(87085);let y=s=class extends u.A{constructor(t){super(t),this.access=null,this.created=null,this.culture=null,this.description=null,this.email=null,this.fullName=null,this.modified=null,this.orgId=null,this.portal=null,this.preferredView=null,this.privileges=null,this.region=null,this.role=null,this.roleId=null,this.sourceJSON=null,this.units=null,this.username=null,this.userLicenseTypeId=null,this.userType=null}get thumbnailUrl(){let t=this.url,r=this.thumbnail;return t&&r?this.portal.normalizeUrl(`${t}/info/${r}?f=json`):null}get userContentUrl(){let t=this.portal?.restUrl;return t?`${t}/content/users/${this.username}`:null}get url(){let t=this.portal?.restUrl;return t?`${t}/community/users/${this.username}`:null}addItem(t){let r=t&&t.item,i=t?.data,s=t?.folder,o={method:"post"};r&&(o.query=r.createPostQuery(),null!=i&&("string"==typeof i?o.query.text=i:"object"==typeof i&&(o.query.text=JSON.stringify(i))));let a=this.userContentUrl;return s&&(a+="/"+("string"==typeof s?s:s.id)),this.portal.request(a+"/addItem",o).then(t=>(r.id=t.id,r.portal=this.portal,r.loaded?r.reload():r.load()))}async deleteItem(t,r=!1){let i=this.userContentUrl;t.ownerFolder&&(i+="/"+t.ownerFolder),await this.portal.request(i+`/items/${t.id}/delete`,{method:"post",query:r?{permanentDelete:!0}:{}}),t.id=null,t.portal=null}async deleteItems(t,r=!1){t=t.slice();let i=this.userContentUrl+"/deleteItems",s=[],o=t.map(t=>t.id);if(o.length){let u={method:"post",query:{items:o.join(","),permanentDelete:r}};for(let r of(await this.portal.request(i,u)).results){let i=t.find(t=>r.itemId===t.id),o=r.success,u=null;o?(i.id=null,i.portal=null):r.error&&(u=new a.A("portal:delete-item-failed",r.error.message,r.error)),s.push({item:i,success:o,error:u})}}return s}fetchFolders(){return this.portal.request(this.userContentUrl??"",{query:{num:1}}).then(t=>t&&t.folders?t.folders.map(t=>{let r=h.fromJSON(t);return r.portal=this.portal,r}):[])}fetchGroups(){return this.portal.request(this.url??"").then(t=>t&&t.groups?t.groups.map(t=>{let r=f.A.fromJSON(t);return r.portal=this.portal,r}):[])}async fetchItems(t){let r;t??={};let s=this.userContentUrl??"";t.folder&&(s+="/"+t.folder.id);let{default:o}=await Promise.resolve().then(i.bind(i,28015)),a={folders:!1,inRecycleBin:!!t.inRecycleBin||null,foldersContent:!(t.folder||!t.includeSubfolderItems)||null,num:t.num||10,start:t.start||1,sortField:t.sortField||"created",sortOrder:t.sortOrder||"asc"},u=await this.portal.request(s,{query:a});return u?.items?(r=u.items.map(t=>{let r=o.fromJSON(t);return r.portal=this.portal,r}),await Promise.all(r.map(t=>t.load())),{items:r,nextStart:u.nextStart,total:u.total}):{items:[],nextStart:-1,total:0}}fetchTags(){return this.portal.request(this.url+"/tags").then(t=>t.tags)}getThumbnailUrl(t){let r=this.thumbnailUrl;return r&&t&&(r+=`&w=${t}`),r}queryFavorites(t){return this.favGroupId?(this._favGroup||(this._favGroup=new f.A({id:this.favGroupId,portal:this.portal})),this._favGroup.queryItems(t)):Promise.reject(new a.A("internal:unknown","Unknown internal error",{internalError:"Unknown favGroupId"}))}async restoreItem(t,r){let i=this.userContentUrl,s=r?{folderID:"string"==typeof r?r:r.id}:null;await this.portal.request(i+`/items/${t.id}/restore`,{method:"post",query:s})}toJSON(){throw new a.A("internal:not-yet-implemented","PortalUser.toJSON is not yet implemented")}static fromJSON(t){if(!t)return null;if(t.declaredClass)throw Error("JSON object is already hydrated");let r=new s({sourceJSON:t});return r.read(t),r}};(0,o._)([(0,d.MZ)()],y.prototype,"access",void 0),(0,o._)([(0,d.MZ)({type:Date})],y.prototype,"created",void 0),(0,o._)([(0,d.MZ)()],y.prototype,"culture",void 0),(0,o._)([(0,d.MZ)()],y.prototype,"description",void 0),(0,o._)([(0,d.MZ)()],y.prototype,"email",void 0),(0,o._)([(0,d.MZ)()],y.prototype,"favGroupId",void 0),(0,o._)([(0,d.MZ)()],y.prototype,"fullName",void 0),(0,o._)([(0,d.MZ)({type:Date})],y.prototype,"modified",void 0),(0,o._)([(0,d.MZ)()],y.prototype,"orgId",void 0),(0,o._)([(0,d.MZ)()],y.prototype,"portal",void 0),(0,o._)([(0,d.MZ)()],y.prototype,"preferredView",void 0),(0,o._)([(0,d.MZ)()],y.prototype,"privileges",void 0),(0,o._)([(0,d.MZ)()],y.prototype,"region",void 0),(0,o._)([(0,d.MZ)()],y.prototype,"role",void 0),(0,o._)([(0,d.MZ)()],y.prototype,"roleId",void 0),(0,o._)([(0,d.MZ)()],y.prototype,"sourceJSON",void 0),(0,o._)([(0,d.MZ)()],y.prototype,"thumbnail",void 0),(0,o._)([(0,d.MZ)({readOnly:!0})],y.prototype,"thumbnailUrl",null),(0,o._)([(0,d.MZ)()],y.prototype,"units",void 0),(0,o._)([(0,d.MZ)({readOnly:!0})],y.prototype,"userContentUrl",null),(0,o._)([(0,d.MZ)({readOnly:!0})],y.prototype,"url",null),(0,o._)([(0,d.MZ)()],y.prototype,"username",void 0),(0,o._)([(0,d.MZ)()],y.prototype,"userLicenseTypeId",void 0),(0,o._)([(0,d.MZ)()],y.prototype,"userType",void 0);let m=y=s=(0,o._)([(0,c.$)("esri.portal.PortalUser")],y)},37914:(t,r,i)=>{function s(t){let r=[];return function*(){for(let i of(yield*r,t))r.push(i),yield i}}function o(t,r){for(let i of t)if(null!=i&&r(i))return i}function a(t){return null!=t&&"function"==typeof t[Symbol.iterator]}i.d(r,{I6:()=>o,PP:()=>s,xZ:()=>a})},37996:(t,r,i)=>{i.d(r,{A:()=>D});var s,o,a,u,d,c=i(81856),p=i(30781),h=i(92713),f=i(33715),y=i(91838),m=i(86942),g=i(53480),_=i(12709);i(57845),i(61939),i(33638);let v=s=class extends h.A{constructor(t){super(t),this.minValue=0,this.maxValue=0}clone(){return new s({minValue:this.minValue,maxValue:this.maxValue})}};(0,c._)([(0,y.MZ)({type:Number,json:{write:!0}})],v.prototype,"minValue",void 0),(0,c._)([(0,y.MZ)({type:Number,json:{write:!0}})],v.prototype,"maxValue",void 0),v=s=(0,c._)([(0,_.$)("esri.renderers.support.AuthoringInfoClassBreakInfo")],v);let w=o=class extends h.A{constructor(t){super(t),this.field="",this.normalizationField="",this.label="",this.classBreakInfos=[]}clone(){return new o({field:this.field,normalizationField:this.normalizationField,label:this.label,classBreakInfos:(0,f.o8)(this.classBreakInfos)})}};(0,c._)([(0,y.MZ)({type:String,json:{write:!0}})],w.prototype,"field",void 0),(0,c._)([(0,y.MZ)({type:String,json:{write:!0}})],w.prototype,"normalizationField",void 0),(0,c._)([(0,y.MZ)({type:String,json:{write:!0}})],w.prototype,"label",void 0),(0,c._)([(0,y.MZ)({type:[v],json:{write:!0}})],w.prototype,"classBreakInfos",void 0),w=o=(0,c._)([(0,_.$)("esri.renderers.support.AuthoringInfoFieldInfo")],w);var b=i(16352);let M=a=class extends h.A{constructor(t){super(t),this.label=null,this.size=null,this.value=null}clone(){return new a({label:this.label,value:this.value,size:this.size})}};(0,c._)([(0,y.MZ)({type:String,json:{write:!0}})],M.prototype,"label",void 0),(0,c._)([(0,y.MZ)({type:Number,json:{write:!0}})],M.prototype,"size",void 0),(0,c._)([(0,y.MZ)({type:Number,json:{write:!0}})],M.prototype,"value",void 0);let S=M=a=(0,c._)([(0,_.$)("esri.renderers.support.AuthoringInfoSizeStop")],M),A=new p.J({percentTotal:"percent-of-total",ratio:"ratio",percent:"percent"}),T=new p.J({sizeInfo:"size",colorInfo:"color",transparencyInfo:"opacity",rotationInfo:"rotation"}),x={key:t=>"number"==typeof t?"number":"string",typeMap:{number:Number,string:String},base:null},E=["high-to-low","above-and-below","centered-on","extremes"],I=[...new Set(["high-to-low","above-and-below","centered-on","extremes","above","below","high-to-low","above-and-below","above","below","reference-size"])],C=["seconds","minutes","hours","days","months","years"],R=u=class extends h.A{constructor(t){super(t),this.endTime=null,this.field=null,this.maxSliderValue=null,this.minSliderValue=null,this.startTime=null,this.type=null,this.units=null}castEndTime(t){return"string"==typeof t||"number"==typeof t?t:null}get normalizationField(){return"reference-size"===this.theme?this._get("normalizationField"):null}set normalizationField(t){this._set("normalizationField",t)}get referenceSizeScale(){return"reference-size"===this.theme?this._get("referenceSizeScale"):null}set referenceSizeScale(t){this._set("referenceSizeScale",t)}get referenceSizeSymbolStyle(){return"reference-size"===this.theme?this._get("referenceSizeSymbolStyle"):null}set referenceSizeSymbolStyle(t){this._set("referenceSizeSymbolStyle",t)}castStartTime(t){return"string"==typeof t||"number"==typeof t?t:null}get sizeStops(){return"reference-size"===this.theme?this._get("sizeStops"):null}set sizeStops(t){this._set("sizeStops",t)}get style(){return"color"===this.type?this._get("style"):null}set style(t){this._set("style",t)}get theme(){return"color"===this.type||"size"===this.type?this._get("theme")||"high-to-low":null}set theme(t){this._set("theme",t)}clone(){return new u({endTime:this.endTime,field:this.field,maxSliderValue:this.maxSliderValue,minSliderValue:this.minSliderValue,normalizationField:this.normalizationField,referenceSizeScale:this.referenceSizeScale,referenceSizeSymbolStyle:this.referenceSizeSymbolStyle,sizeStops:(0,f.o8)(this.sizeStops),startTime:this.startTime,style:this.style,theme:this.theme,type:this.type,units:this.units})}};(0,c._)([(0,y.MZ)({types:x,json:{write:!0}})],R.prototype,"endTime",void 0),(0,c._)([(0,b.w)("endTime")],R.prototype,"castEndTime",null),(0,c._)([(0,y.MZ)({type:String,json:{write:!0}})],R.prototype,"field",void 0),(0,c._)([(0,y.MZ)({type:Number,json:{write:!0}})],R.prototype,"maxSliderValue",void 0),(0,c._)([(0,y.MZ)({type:Number,json:{write:!0}})],R.prototype,"minSliderValue",void 0),(0,c._)([(0,y.MZ)({type:String,json:{origins:{"web-scene":{write:!1}},write:!0}})],R.prototype,"normalizationField",null),(0,c._)([(0,y.MZ)({type:Number,value:null,json:{origins:{"web-scene":{write:!1}},write:!0}})],R.prototype,"referenceSizeScale",null),(0,c._)([(0,y.MZ)({type:["circle","diamond","hexagon-flat","hexagon-pointy","square"],value:null,json:{origins:{"web-scene":{write:!1}},write:!0}})],R.prototype,"referenceSizeSymbolStyle",null),(0,c._)([(0,y.MZ)({types:x,json:{write:!0}})],R.prototype,"startTime",void 0),(0,c._)([(0,b.w)("startTime")],R.prototype,"castStartTime",null),(0,c._)([(0,y.MZ)({type:[S],json:{origins:{"web-scene":{write:!1}},write:!0}})],R.prototype,"sizeStops",null),(0,c._)([(0,y.MZ)({type:A.apiValues,value:null,json:{type:A.jsonValues,read:A.read,write:A.write}})],R.prototype,"style",null),(0,c._)([(0,y.MZ)({type:I,value:null,json:{type:I,origins:{"web-scene":{type:E,write:{writer:(t,r)=>{E.includes(t)&&(r.theme=t)}}}},write:!0}})],R.prototype,"theme",null),(0,c._)([(0,y.MZ)({type:T.apiValues,json:{type:T.jsonValues,read:T.read,write:T.write}})],R.prototype,"type",void 0),(0,c._)([(0,y.MZ)({type:C,json:{type:C,write:!0}})],R.prototype,"units",void 0);let O=R=u=(0,c._)([(0,_.$)("esri.renderers.support.AuthoringInfoVisualVariable")],R);var P=i(3640);let N=new p.J({esriClassifyDefinedInterval:"defined-interval",esriClassifyEqualInterval:"equal-interval",esriClassifyManual:"manual",esriClassifyNaturalBreaks:"natural-breaks",esriClassifyQuantile:"quantile",esriClassifyStandardDeviation:"standard-deviation"}),k=new p.J({classedSize:"class-breaks-size",classedColor:"class-breaks-color",univariateColorSize:"univariate-color-size",relationship:"relationship",predominance:"predominance",dotDensity:"dot-density",flow:"flow"}),L=new p.J({classedSize:"class-breaks-size",classedColor:"class-breaks-color",univariateColorSize:"univariate-color-size",relationship:"relationship",predominance:"predominance",dotDensity:"dot-density"}),F=["inches","feet","yards","miles","nautical-miles","millimeters","centimeters","decimeters","meters","kilometers"],Z=d=class extends h.A{constructor(t){super(t),this.colorRamp=null,this.fadeRatio=null,this.isAutoGenerated=!1,this.lengthUnit=null,this.maxSliderValue=null,this.minSliderValue=null,this.visualVariables=null}get classificationMethod(){let t=this._get("classificationMethod"),r=this.type;return r&&"relationship"!==r?"class-breaks-size"===r||"class-breaks-color"===r?t||"manual":null:t}set classificationMethod(t){this._set("classificationMethod",t)}readColorRamp(t){return t?(0,P.r)(t):void 0}get fields(){return this.type&&"predominance"!==this.type?null:this._get("fields")}set fields(t){this._set("fields",t)}get field1(){return this.type&&"relationship"!==this.type?null:this._get("field1")}set field1(t){this._set("field1",t)}get field2(){return this.type&&"relationship"!==this.type?null:this._get("field2")}set field2(t){this._set("field2",t)}get flowTheme(){return"flow"===this.type?this._get("flowTheme"):null}set flowTheme(t){this._set("flowTheme",t)}get focus(){return this.type&&"relationship"!==this.type?null:this._get("focus")}set focus(t){this._set("focus",t)}get numClasses(){return this.type&&"relationship"!==this.type?null:this._get("numClasses")}set numClasses(t){this._set("numClasses",t)}get statistics(){return"univariate-color-size"===this.type&&"above-and-below"===this.univariateTheme?this._get("statistics"):null}set statistics(t){this._set("statistics",t)}get standardDeviationInterval(){let t=this.type;return t&&"relationship"!==t&&"class-breaks-size"!==t&&"class-breaks-color"!==t||this.classificationMethod&&"standard-deviation"!==this.classificationMethod?null:this._get("standardDeviationInterval")}set standardDeviationInterval(t){this._set("standardDeviationInterval",t)}get type(){return this._get("type")}set type(t){let r=t;"classed-size"===t?r="class-breaks-size":"classed-color"===t&&(r="class-breaks-color"),this._set("type",r)}get univariateSymbolStyle(){return"univariate-color-size"===this.type&&"above-and-below"===this.univariateTheme?this._get("univariateSymbolStyle"):null}set univariateSymbolStyle(t){this._set("univariateSymbolStyle",t)}get univariateTheme(){return"univariate-color-size"===this.type?this._get("univariateTheme"):null}set univariateTheme(t){this._set("univariateTheme",t)}clone(){return new d({classificationMethod:this.classificationMethod,colorRamp:(0,f.o8)(this.colorRamp),fadeRatio:(0,f.o8)(this.fadeRatio),fields:this.fields?.slice(),field1:(0,f.o8)(this.field1),field2:(0,f.o8)(this.field2),isAutoGenerated:this.isAutoGenerated,focus:this.focus,numClasses:this.numClasses,maxSliderValue:this.maxSliderValue,minSliderValue:this.minSliderValue,lengthUnit:this.lengthUnit,statistics:this.statistics,standardDeviationInterval:this.standardDeviationInterval,type:this.type,visualVariables:this.visualVariables&&this.visualVariables.map(t=>t.clone()),univariateSymbolStyle:this.univariateSymbolStyle,univariateTheme:this.univariateTheme,flowTheme:this.flowTheme})}};(0,c._)([(0,y.MZ)({type:N.apiValues,value:null,json:{type:N.jsonValues,read:N.read,write:N.write,origins:{"web-document":{default:"manual",type:N.jsonValues,read:N.read,write:N.write}}}})],Z.prototype,"classificationMethod",null),(0,c._)([(0,y.MZ)({types:P.g,json:{write:!0}})],Z.prototype,"colorRamp",void 0),(0,c._)([(0,g.w)("colorRamp")],Z.prototype,"readColorRamp",null),(0,c._)([(0,y.MZ)({json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],Z.prototype,"fadeRatio",void 0),(0,c._)([(0,y.MZ)({type:[String],value:null,json:{write:!0}})],Z.prototype,"fields",null),(0,c._)([(0,y.MZ)({type:w,value:null,json:{write:!0}})],Z.prototype,"field1",null),(0,c._)([(0,y.MZ)({type:w,value:null,json:{write:!0}})],Z.prototype,"field2",null),(0,c._)([(0,y.MZ)({type:["flow-line","wave-front"],value:null,json:{write:!0,origins:{"web-scene":{write:!1}}}})],Z.prototype,"flowTheme",null),(0,c._)([(0,y.MZ)({type:["HH","HL","LH","LL"],value:null,json:{write:!0}})],Z.prototype,"focus",null),(0,c._)([(0,y.MZ)({type:Boolean,json:{write:!0,default:!1,origins:{"web-scene":{write:!1}}}})],Z.prototype,"isAutoGenerated",void 0),(0,c._)([(0,y.MZ)({type:Number,value:null,json:{type:m.jz,write:!0}})],Z.prototype,"numClasses",null),(0,c._)([(0,y.MZ)({type:F,json:{type:F,read:!1,write:!1,origins:{"web-scene":{read:!0,write:!0}}}})],Z.prototype,"lengthUnit",void 0),(0,c._)([(0,y.MZ)({type:Number,json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],Z.prototype,"maxSliderValue",void 0),(0,c._)([(0,y.MZ)({type:Number,json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],Z.prototype,"minSliderValue",void 0),(0,c._)([(0,y.MZ)({type:Object,value:null,json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],Z.prototype,"statistics",null),(0,c._)([(0,y.MZ)({type:[.25,.33,.5,1],value:null,json:{type:[.25,.33,.5,1],write:!0}})],Z.prototype,"standardDeviationInterval",null),(0,c._)([(0,y.MZ)({type:k.apiValues,value:null,json:{type:k.jsonValues,read:k.read,write:k.write,origins:{"web-scene":{type:L.jsonValues,write:{writer:L.write,overridePolicy:t=>({enabled:"flow"!==t})}}}}})],Z.prototype,"type",null),(0,c._)([(0,y.MZ)({type:[O],json:{write:!0}})],Z.prototype,"visualVariables",void 0),(0,c._)([(0,y.MZ)({type:["caret","circle-caret","arrow","circle-arrow","plus-minus","circle-plus-minus","square","circle","triangle","happy-sad","thumb","custom"],value:null,json:{write:!0,origins:{"web-scene":{write:!1}}}})],Z.prototype,"univariateSymbolStyle",null),(0,c._)([(0,y.MZ)({type:["high-to-low","above-and-below","above","below"],value:null,json:{write:!0,origins:{"web-scene":{write:!1}}}})],Z.prototype,"univariateTheme",null);let D=Z=d=(0,c._)([(0,_.$)("esri.renderers.support.AuthoringInfo")],Z)},38992:(t,r,i)=>{i.d(r,{a:()=>a,o:()=>u});var s=i(54335),o=i(65588);function a(t){if(!t.highlights)return null;let r=t.highlights.findIndex(t=>"default"===t.name);return -1===r?null:t.highlights.items[r]}function u(t,r){if(!t.highlights){if(!r)return;t.highlights=new s.A([new o.A])}let i=t.highlights.findIndex(t=>"default"===t.name);r?t.highlights.items[i].assignFrom(r):(t.highlights.removeAt(i),0===t.highlights.length&&(t.highlights=null))}},39137:(t,r,i)=>{i.d(r,{A:()=>a});var s=i(98570),o=i(79378);class a{constructor(){this.spans=[]}acquire(t){this.lodInfo=t}release(){this.lodInfo=null,this.spans.length=0}*keys(){let t=this.lodInfo;for(let{row:r,colFrom:i,colTo:s}of this.spans)for(let a=i;a<=s;a++){let i=t.getWorldForColumn(a);yield new o.A(t.level,r,t.normalizeCol(a),i)}}forEach(t,r){let{spans:i,lodInfo:s}=this,{level:o}=s;if(0!==i.length)for(let{row:a,colFrom:u,colTo:d}of i)for(let i=u;i<=d;i++)t.call(r,o,a,s.normalizeCol(i),s.getWorldForColumn(i))}}a.pool=new s.A(a)},39166:(t,r,i)=>{let s;i.d(r,{A:()=>v});var o=i(48767),a=i(57664),u=i(32391),d=i(57845),c=i(33715),p=i(90304),h=i(92753),f=i(90525),y=i(21371),m=i(47326),g=i(75683),_=i(48671);async function v(t,r){t instanceof URL&&(t=t.toString()),r?.query instanceof URLSearchParams&&(r.query=(0,f.zf)(r.query.toString().replaceAll("+"," ")));let i=(0,f.DB)(t),o=(0,f.w8)(t);o||i||(t=(0,f.S8)(t));let a={url:t,requestOptions:{...r}},u=t=>({data:t,getAllHeaders:T,getHeader:T,httpStatus:200,requestOptions:a.requestOptions,url:a.url}),c=(0,f.sC)(t,w.internalInterceptors);if(c){let t=await k(c,a);if(null!=t)return u(t)}let p=(0,f.sC)(t);if(p){let t=await k(p,a);if(null!=t)return u(t);p.after||p.error||(p=null)}if(t=a.url,"image"===(r=a.requestOptions).responseType&&((0,d.A)("host-webworker")||(0,d.A)("host-node")))throw I("request:invalid-parameters",Error("responseType 'image' is not supported in Web Workers or Node environment"),a);if("head"===r.method){if(r.body)throw I("request:invalid-parameters",Error("body parameter cannot be set when method is 'head'"),a);if(i||o)throw I("request:invalid-parameters",Error("data and blob URLs are not supported for method 'head'"),a)}if(await C(),s)return s.execute(t,r);let y=new AbortController,m=(0,h.u7)(r,()=>y.abort()),g={controller:y,credential:void 0,credentialToken:void 0,fetchOptions:void 0,hasToken:!1,interceptor:p,params:a,redoRequest:!1,useIdentity:w.useIdentity,useProxy:!1,useSSL:!1,withCredentials:!1},_=r.useRequestQueue?Z(g):D(g),v=await _.finally(()=>m?.remove());return p?.after?.(v),v}let w=o.A.request,b="FormData"in globalThis,M=new Set([499,498,403,401]),S=new Set(["COM_0056","COM_0057","SB_0008"]),A=[/\/arcgis\/tokens/i,/\/sharing(\/rest)?\/generatetoken/i,/\/rest\/info/i],T=()=>null,x=Symbol();function E(t){let r=(0,f.$z)(t);return!r||r.endsWith(".arcgis.com")||v._corsServers.includes(r)||(0,f.FL)(r)}function I(t,r,i,s){let o="Error",a={url:i.url,requestOptions:i.requestOptions,getAllHeaders:T,getHeader:T,ssl:!1};if(r instanceof u.A)return r.details?(r.details=(0,c.o8)(r.details),r.details.url=i.url,r.details.requestOptions=i.requestOptions):r.details=a,r;if(r){let t=s&&(()=>Array.from(s.headers)),i=s&&(t=>s.headers.get(t)),u=s?.status,d=r.message;d&&(o=d),t&&i&&(a.getAllHeaders=t,a.getHeader=i),a.httpStatus=(null!=r.httpCode?r.httpCode:r.code)||u||0,a.subCode=r.subcode,a.messageCode=r.messageCode,"string"==typeof r.details?a.messages=[r.details]:a.messages=r.details,a.raw=x in r?r[x]:r}return(0,h.zf)(r)?(0,h.NK)():new u.A(t,o,a)}async function C(){(0,d.A)("host-webworker")&&!s&&(s=await i.e(1204).then(i.bind(i,41204)))}async function R(){a.id||await i.e(1742).then(i.bind(i,1742))}async function O(t){let r=t.params.url,i=t.params.requestOptions,s=t.controller.signal,u=i.body,d=null,c=null;if(b&&"HTMLFormElement"in globalThis&&(u instanceof FormData?d=u:u instanceof HTMLFormElement&&(d=new FormData(u))),"string"==typeof u&&(c=u),t.fetchOptions={cache:i.cacheBust?"no-cache":"default",credentials:"same-origin",headers:i.headers||{},method:"head"===i.method?"HEAD":"GET",mode:"cors",priority:w.priority,redirect:"follow",signal:s},(d||c)&&(t.fetchOptions.body=d||c),"anonymous"===i.authMode&&(t.useIdentity=!1),t.hasToken=!!(/token=/i.test(r)||i.query?.token||d?.get("token")),!t.hasToken&&(0,g.Jn)(r)&&(i.query||(i.query={}),i.query.token=o.A.apiKey,t.hasToken=!0),t.useIdentity&&!t.hasToken&&!t.credentialToken&&!P(r)&&!(0,h.G4)(s)){let o;"immediate"===i.authMode?(await R(),t.credential=o=await a.id.getCredential(r,{signal:s})):"no-prompt"===i.authMode?(await R(),t.credential=o=await a.id.getCredential(r,{prompt:!1,signal:s}).catch(()=>{})):a.id&&(o=a.id.findCredential(r)),o&&(t.credentialToken=o.token,t.useSSL=!!o.ssl)}}function P(t){return A.some(r=>r.test(t))}async function N(t){let r=t.params.url,i=t.params.requestOptions,s=t.fetchOptions??{},o=(0,f.w8)(r)||(0,f.DB)(r),u=i.responseType||"json",c=o?0:null!=i.timeout?i.timeout:w.timeout,p=!1;if(!o){let o;t.useSSL&&(r=(0,f.lM)(r));let u={...i.query};t.credentialToken&&(u.token=t.credentialToken);let c=(0,f.x0)(u);(0,d.A)("esri-url-encodes-apostrophe")&&(c=c.replaceAll("'","%27"));let h=r.length+1+c.length;p="delete"===i.method||"post"===i.method||"put"===i.method||!!i.body||h>w.maxUrlLength;let y=i.useProxy||!!(0,f.zs)(r);if(y){let t=(0,f.s_)(r);o=t.path,!p&&o.length+1+h>w.maxUrlLength&&(p=!0),t.query&&(u={...t.query,...u})}if("HEAD"===s.method&&(p||y)){if(p){if(h>w.maxUrlLength)throw I("request:invalid-parameters",Error("URL exceeds maximum length"),t.params);throw I("request:invalid-parameters",Error("cannot use POST request when method is 'head'"),t.params)}if(y)throw I("request:invalid-parameters",Error("cannot use proxy when method is 'head'"),t.params)}if(p?(s.method="delete"===i.method?"DELETE":"put"===i.method?"PUT":"POST",i.body?r=(0,f.a6)(r,u):(s.body=(0,f.x0)(u),s.headers||(s.headers={}),s.headers["Content-Type"]="application/x-www-form-urlencoded")):r=(0,f.a6)(r,u),y&&(t.useProxy=!0,r=`${o}?${r}`),u.token&&b&&s.body instanceof FormData&&!(0,m.$E)(r)&&s.body.set("token",u.token),i.hasOwnProperty("withCredentials"))t.withCredentials=i.withCredentials;else if(!(0,f.FX)(r,(0,f.Xq)())){if((0,f.FL)(r))t.withCredentials=!0;else if(a.id){let i=a.id.findServerInfo(r);i?.webTierAuth&&(t.withCredentials=!0)}}t.withCredentials&&(s.credentials="include",(0,_.xW)(r)&&await (0,_.m3)(p?(0,f.a6)(r,u):r))}let y,g,M=0,S=!1;c>0&&(M=setTimeout(()=>{S=!0,t.controller.abort()},c));try{if("native-request-init"===i.responseType)(g=s).url=r,i.signal?g.signal=i.signal:delete g.signal;else if("image"!==i.responseType||"default"!==s.cache||"GET"!==s.method||p||function(t){if(t){for(let r of Object.getOwnPropertyNames(t))if(t[r])return!0}return!1}(i.headers)||!o&&!t.useProxy&&w.proxyUrl&&!E(r)){if(v._beforeFetch&&await v._beforeFetch(r,s),y=await fetch(r,s),v._afterFetch&&await v._afterFetch(y),t.useProxy||function(t){let r=(0,f.$z)(t);r&&!v._corsServers.includes(r)&&v._corsServers.push(r)}(r),"native"===i.responseType)g=y;else if("HEAD"!==s.method)if(y.ok){switch(u){case"array-buffer":g=await y.arrayBuffer();break;case"blob":case"image":g=await y.blob();break;default:g=await y.text()}if(M&&(clearTimeout(M),M=0),"json"===u||"xml"===u||"document"===u)if(g)switch(u){case"json":g=JSON.parse(g);break;case"xml":g=L(g,"application/xml");break;case"document":g=L(g,"text/html")}else g=null;if(g){if("array-buffer"===u||"blob"===u){let t=y.headers.get("Content-Type");if(t&&/application\/json|text\/plain/i.test(t)&&g["blob"===u?"size":"byteLength"]<=750)try{let t=await new Response(g).json();t.error&&(g=t)}catch{}}"image"===u&&g instanceof Blob&&(g=await U(URL.createObjectURL(g),t,!0))}}else{g=await y.text();try{g=JSON.parse(g)}catch{}}}else g=await U(r,t)}catch(s){if("AbortError"===s.name){if(S)throw(0,_.ql)();throw(0,h.NK)("Request canceled")}if(!(!y&&s instanceof TypeError&&w.proxyUrl)||i.body||"delete"===i.method||"head"===i.method||"post"===i.method||"put"===i.method||t.useProxy||E(r))throw s;t.redoRequest=!0,(0,f.oy)({proxyUrl:w.proxyUrl,urlPrefix:(0,f.$z)(r)??""})}finally{M&&clearTimeout(M)}return[y,g]}async function k(t,r){if(null!=t.responseData)return t.responseData;if(t.headers&&(r.requestOptions.headers={...r.requestOptions.headers,...t.headers}),t.query&&(r.requestOptions.query={...r.requestOptions.query,...t.query}),t.before){let i,s;try{s=await t.before(r)}catch(t){i=I("request:interceptor",t,r)}if((s instanceof Error||s instanceof u.A)&&(i=I("request:interceptor",s,r)),i)throw t.error&&t.error(i),i;return s}}function L(t,r){let i;try{i=(new DOMParser).parseFromString(t,r)}catch{}if(!i||i.getElementsByTagName("parsererror").length)throw SyntaxError("XML Parse error");return i}v._corsServers=["https://server.arcgisonline.com","https://services.arcgisonline.com"],v._beforeFetch=void 0,v._afterFetch=void 0;let F=new Map;async function Z(t){var r;let s,o,a=("string"==typeof(r=t.params.url)?(s=(0,f.$z)(r,!0),o=(0,y.Wo)(r)):(s=r.origin,o=(0,y.Wo)(r.toString())),null==s?null:{origin:s,isHosted:o});if(!a)return D(t);let{QueueProcessor:u}=await i.e(1590).then(i.bind(i,61590));return(0,p.tE)(F,a.origin,()=>new u({concurrency:a.isHosted?(0,d.A)("request-queue-concurrency-hosted"):(0,d.A)("request-queue-concurrency-non-hosted"),process:t=>{if((0,h.G4)(t.params.requestOptions))throw I("",(0,h.NK)("Request canceled"),t.params);return D(t)}})).push(t)}async function D(t){let r,i;await O(t);try{do[r,i]=await N(t);while(!await j(t,r,i))}catch(s){let i=I("request:server",s,t.params,r);throw i.details.ssl=t.useSSL,t.interceptor?.error&&t.interceptor.error(i),i}let s=t.params.url;if(i&&/\/sharing\/rest\/(accounts|portals)\/self/i.test(s)){if(!t.hasToken&&!t.credentialToken&&i.user?.username&&!(0,f.FL)(s)){let t=(0,f.$z)(s,!0);t&&w.trustedServers.push(t)}Array.isArray(i.authorizedCrossOriginNoCorsDomains)&&(0,_.tz)(i.authorizedCrossOriginNoCorsDomains)}let o=t.credential;if(o&&a.id){let t=a.id.findServerInfo(o.server),r=t?.owningSystemUrl;if(r){r=r.replace(/\/?$/,"/sharing");let t=a.id.findCredential(r,o.userId);t&&-1===a.id._getIdenticalSvcIdx(r,t)&&t.resources.unshift(r)}}return{data:i,getAllHeaders:r?()=>Array.from(r.headers):T,getHeader:r?t=>r.headers.get(t):T,httpStatus:r?.status??200,requestOptions:t.params.requestOptions,ssl:t.useSSL,url:t.params.url}}async function j(t,r,i){let s,o;if(t.redoRequest)return t.redoRequest=!1,!1;let u=t.params.requestOptions;if(!r||"native"===u.responseType||"native-request-init"===u.responseType)return!0;if(i&&(i.error&&"object"==typeof i.error?s=i.error:"error"===i.status&&Array.isArray(i.messages)&&((s={...i})[x]=i,s.details=i.messages)),!s&&!r.ok)throw(s=Error(`Unable to load ${r.url} status: ${r.status}`))[x]=i,s;let d,c=null;s&&(o=Number(s.code),c=s.hasOwnProperty("subcode")?Number(s.subcode):null,d=s.messageCode,d=d?.toUpperCase());let p=u.authMode;if(403===o&&(4===c||s.message?.toLowerCase().includes("ssl")&&!s.message.toLowerCase().includes("permission"))){if(!t.useSSL)return t.useSSL=!0,!1}else if(!t.hasToken&&t.useIdentity&&("no-prompt"!==p||498===o)&&void 0!==o&&M.has(o)&&!P(t.params.url)&&(403!==o||(!d||!S.has(d))&&(null==c||2===c&&t.credentialToken))){await R();try{let r=await a.id.getCredential(t.params.url,{error:I("request:server",s,t.params),prompt:"no-prompt"!==p,signal:t.controller.signal,token:t.credentialToken});return t.credential=r,t.credentialToken=r.token,t.useSSL=t.useSSL||r.ssl,!1}catch(r){if("no-prompt"===p)return t.credential=void 0,t.credentialToken=void 0,!1;s=r}}if(s)throw s;return!0}function U(t,r,i=!1){let s=r.controller.signal,o=new Image;return r.withCredentials?o.crossOrigin="use-credentials":o.crossOrigin="anonymous",o.alt="",o.fetchPriority=w.priority,o.src=t,(0,_.Sx)(o,t,i,s)}},39265:(t,r,i)=>{i.d(r,{A6:()=>z,Ah:()=>ey,Bz:()=>J,CJ:()=>eb,DB:()=>T,Dx:()=>R,Im:()=>K,JL:()=>eR,Kl:()=>eC,NO:()=>k,OG:()=>ev,OH:()=>em,R$:()=>W,R3:()=>ed,RP:()=>L,WA:()=>ec,WX:()=>ew,Xz:()=>e_,_b:()=>Q,_w:()=>x,d:()=>F,eX:()=>V,f:()=>j,hL:()=>I,hW:()=>C,lD:()=>X,mB:()=>P,nw:()=>eO,o:()=>D,rS:()=>_,rq:()=>E,sv:()=>S,te:()=>eg,uo:()=>eI,vE:()=>eh,yM:()=>ep,yp:()=>b,zD:()=>ef});var s,o,a=i(32391),u=i(34184),d=i(82558),c=i(97409),p=i(54961),h=i(8064),f=i(20703),y=i(48271);let m=/^([0-9_])/,g=/[^a-z0-9_\u0080-\uffff]+/gi;function _(t){return null==t?null:t.trim().replaceAll(g,"_").replace(m,"F$1")||null}let v=["field","field2","field3","normalizationField","rotationInfo.field","proportionalSymbolInfo.field","proportionalSymbolInfo.normalizationField","colorInfo.field","colorInfo.normalizationField"],w=["field","normalizationField"];function b(t,r){if(null!=t&&null!=r){for(let i of Array.isArray(t)?t:[t])if(M(v,i,r),"visualVariables"in i&&i.visualVariables)for(let t of i.visualVariables)M(w,t,r)}}function M(t,r,i){if(t)for(let s of t){let t=(0,u.wc)(s,r),o=t&&"function"!=typeof t&&i.get(t);o&&(0,u.sM)(s,o.name,r)}}function S(t,r){if(null!=t&&r?.fields?.length)if("startField"in t){let i=r.get(t.startField),s=r.get(t.endField);t.startField=i?.name??null,t.endField=s?.name??null}else{let i=r.get(t.startTimeField),s=r.get(t.endTimeField);t.startTimeField=i?.name??null,t.endTimeField=s?.name??null}}let A=new Set;function T(t,r){return t&&r?(A.clear(),x(A,t,r),Array.from(A).sort()):[]}function x(t,r,i){if(i)if(r?.fields?.length)if(i.includes("*"))for(let{name:i}of r.fields)t.add(i);else for(let s of i)E(t,r,s);else{if(i.includes("*"))return t.clear(),void t.add("*");for(let r of i)null!=r&&t.add(r)}}function E(t,r,i){if("string"==typeof i)if(r){let s=r.get(i);s&&t.add(s.name)}else t.add(i)}function I(t,r){return null==r||null==t?[]:r.includes("*")?(t.fields??[]).map(t=>t.name):r}function C(t,r,i=1){if(!r||!t)return[];if(r.includes("*"))return["*"];let s=T(t,r);return s.length/t.fields.length>=i?["*"]:s}async function R(t,r,i){let s;if(!i)return;let o=(0,h.o)(i);if(o)s=[o];else{let{arcadeUtils:t}=await (0,f.lw)();s=t.extractFieldNames(i,r?.fields?.map(t=>t.name))}for(let i of s)E(t,r,i)}async function O(t,r,i){if(i&&"1=1"!==i){let s=await (0,c.GP)(i,r);if(!s.isStandardized)throw new a.A("fieldUtils:collectFilterFields","Where clause is not standardized",{where:i});x(t,r,s.fieldNames)}}function P({displayField:t,fields:r}){return t||(r?.length?N(r,"name-or-title")||N(r,"unique-identifier")||N(r,"type-or-category")||function(t){for(let r of t){if(!r?.name)continue;let t=r.name.toLowerCase();if(t.includes("name")||t.includes("title"))return r.name}return null}(r):null)}function N(t,r){for(let i of t)if(i?.valueType&&i.valueType===r)return i.name;return null}async function k(t,r){if(!r)return;let i=r.elevationInfo?.featureExpressionInfo;return i?i.collectRequiredFields(t,r.fieldsIndex):void 0}async function L(t,r,i){if(!r||!i||!("fields"in i))return;let s=[];s.push(Z(t,r,i.popupTemplate)),i.fields&&s.push(...i.fields.map(async i=>{var s;return s=r.fieldsIndex,void(i.onStatisticExpression?R(t,s,i.onStatisticExpression.expression):t.add(i.onStatisticField))})),await Promise.all(s)}async function F(t,r){let{fieldsIndex:i,trackInfo:s}=r;if(!r||!s||!i)return;let o=[s.latestObservations.renderer?.collectRequiredFields(t,i),s.previousObservations.renderer?.collectRequiredFields(t,i),s.trackLines.renderer?.collectRequiredFields(t,i)];for(let a of(s.popupTemplate&&o.push(Z(t,r,s.popupTemplate)),[s.latestObservations.labelingInfo,s.previousObservations.labelingInfo,s.trackLines.labelingInfo]))if(a)for(let r of a)o.push(Y(t,i,r));await Promise.all(o)}async function Z(t,r,i){let s=[];i?.expressionInfos&&s.push(...i.expressionInfos.map(i=>R(t,r.fieldsIndex,i.expression)));let o=i?.content;if(Array.isArray(o))for(let i of o)"expression"===i.type&&i.expressionInfo&&s.push(R(t,r.fieldsIndex,i.expressionInfo.expression));await Promise.all(s)}async function D(t,r,i){r&&(r.timeInfo&&i?.timeExtent&&x(t,r.fieldsIndex,[r.timeInfo.startField,r.timeInfo.endField]),r.floorInfo&&x(t,r.fieldsIndex,[r.floorInfo.floorField]),null!=i?.where&&await O(t,r.fieldsIndex,i.where))}async function j(t,r,i){r&&i&&await Promise.all(i.map(i=>U(t,r,i)))}async function U(t,r,i){r&&i&&(i.valueExpression?await R(t,r.fieldsIndex,i.valueExpression):i.field&&E(t,r.fieldsIndex,i.field))}function V(t){return t?T(t.fieldsIndex,q(t)):[]}async function z(t,r,i){if(!r||!i)return;let s=r.fieldsIndex;await Promise.all(i.filters.map(r=>O(t,s,r.where)))}let G=new Set(["oid","global-id","guid"]),$=new Set(["oid","global-id"]),B=[/^fnode_$/i,/^tnode_$/i,/^lpoly_$/i,/^rpoly_$/i,/^poly_$/i,/^shape$/i,/^shape_$/i,/^subclass$/i,/^subclass_$/i,/^rings_ok$/i,/^rings_nok$/i,/perimeter/i,/objectid/i,/_i$/i];function q(t){if(!t)return[];let r="editFieldsInfo"in t&&t.editFieldsInfo;if(!r)return[];let{creationDateField:i,creatorField:s,editDateField:o,editorField:a}=r;return[i,s,o,a].filter(Boolean)}function H(t){return q(t).map(t=>t.toLowerCase())}function W(t,r){return t.editable&&!G.has(t.type)&&!H(r).includes(t.name?.toLowerCase()??"")}function J(t,r){let i=t.name?.toLowerCase()??"";return!(null!=r?.objectIdField&&i===r.objectIdField.toLowerCase()||null!=r?.globalIdField&&i===r.globalIdField.toLowerCase()||(function(t){let r=new Set;H(t).forEach(t=>r.add(t)),(function(t){if(!t)return[];let r=t.geometryFieldsInfo;return r?T(t.fieldsIndex,[r.shapeAreaField,r.shapeLengthField]):[]})(t).forEach(t=>r.add(t.toLowerCase()));let i=t&&"infoFor3D"in t?t.infoFor3D:void 0;return i&&(Object.values(i.assetMapFieldRoles).forEach(t=>r.add(t.toLowerCase())),Object.values(i.transformFieldRoles).forEach(t=>r.add(t.toLowerCase()))),Array.from(r)})(r).includes(i)||$.has(t.type)||B.some(t=>t.test(i)))}async function K(t,r){let{labelingInfo:i,fieldsIndex:s}=r;i?.length&&await Promise.all(i.map(r=>Y(t,s,r)))}async function Y(t,r,i){if(!i)return;let s=i.getLabelExpression(),o=i.where;if("arcade"===s.type)await R(t,r,s.expression);else{let i=s.expression.match(/{[^}]*}/g);i&&i.forEach(i=>{E(t,r,i.slice(1,-1))})}await O(t,r,o)}function X(t){let r=t.defaultValue;return void 0!==r&&en(t,r)?r:t.nullable?null:void 0}function Q(t){let r="string"==typeof t?{type:t}:t;return ep(r)?255:"esriFieldTypeDate"===r.type||"date"===r.type?8:void 0}function ee(t){return"number"==typeof t&&!isNaN(t)&&isFinite(t)}function et(t){return null===t||ee(t)}function er(t){return null===t||Number.isInteger(t)}function ei(){return!0}function en(t,r){let i;switch(t.type){case"date":case"integer":case"long":case"small-integer":case"big-integer":case"esriFieldTypeDate":case"esriFieldTypeInteger":case"esriFieldTypeLong":case"esriFieldTypeSmallInteger":case"esriFieldTypeBigInteger":i=t.nullable?er:Number.isInteger;break;case"double":case"single":case"esriFieldTypeSingle":case"esriFieldTypeDouble":i=t.nullable?et:ee;break;case"string":case"esriFieldTypeString":i=t.nullable?y.CO:y.Kg;break;default:i=ei}return 1==arguments.length?i:i(r)}let es=["integer","small-integer","big-integer"],eo=["single","double"],ea=([...es,...eo],new Set([...es,"esriFieldTypeInteger","esriFieldTypeSmallInteger","esriFieldTypeBigInteger"])),el=new Set([...eo,"esriFieldTypeSingle","esriFieldTypeDouble"]),eu=(0,d.KC)(ea,el);function ed(t){return null!=t&&ea.has(t.type)}function ec(t){return null!=t&&eu.has(t.type)}function ep(t){return null!=t&&("string"===t.type||"esriFieldTypeString"===t.type)}function eh(t){return null!=t&&("date"===t.type||"esriFieldTypeDate"===t.type)}function ef(t){return null!=t&&("date-only"===t.type||"esriFieldTypeDateOnly"===t.type)}function ey(t){return null!=t&&("timestamp-offset"===t.type||"esriFieldTypeTimestampOffset"===t.type)}function em(t){return null!=t&&("time-only"===t.type||"esriFieldTypeTimeOnly"===t.type)}function eg(t){return null!=t&&("oid"===t.type||"esriFieldTypeOID"===t.type)}function e_(t){return null!=t&&("global-id"===t.type||"esriFieldTypeGlobalID"===t.type)}function ev(t,r){return null===eb(t,r)}function ew(t){return null==t||"number"==typeof t&&isNaN(t)?null:t}function eb(t,r){return null==t||t.nullable&&null===r?null:en(t,r)?ec(t)&&!function(t,r){let i="string"==typeof t?eM(t):t;if(!i)return!1;let s=i.min,o=i.max;return i.isInteger?Number.isInteger(r)&&r>=s&&r<=o:r>=s&&r<=o}(t.type,Number(r))?s.OUT_OF_RANGE:null:o.INVALID_TYPE}function eM(t){switch(t){case"esriFieldTypeSmallInteger":case"small-integer":return eS;case"esriFieldTypeInteger":case"integer":return eA;case"esriFieldTypeBigInteger":case"big-integer":return eT;case"esriFieldTypeSingle":case"single":return ex;case"esriFieldTypeDouble":case"double":return eE}}(s||(s={})).OUT_OF_RANGE="numeric-range-validation-error::out-of-range",(o||(o={})).INVALID_TYPE="type-validation-error::invalid-type";let eS={min:-32768,max:32767,isInteger:!0,rawMin:-32768,rawMax:32767},eA={min:-0x80000000,max:0x7fffffff,isInteger:!0,rawMin:-0x80000000,rawMax:0x7fffffff},eT={min:-Number.MAX_SAFE_INTEGER,max:Number.MAX_SAFE_INTEGER,isInteger:!0,rawMin:-Number.MAX_SAFE_INTEGER,rawMax:Number.MAX_SAFE_INTEGER},ex={min:-34e37,max:12e37,isInteger:!1,rawMin:-34e37,rawMax:12e37},eE={min:-Number.MAX_VALUE,max:Number.MAX_VALUE,isInteger:!1,rawMin:-Number.MAX_VALUE,rawMax:Number.MAX_VALUE};function eI(t,r,i){switch(t){case p.Mh.INVALID_CODED_VALUE:return`Value ${i} is not in the coded domain - field: ${r.name}, domain: ${JSON.stringify(r.domain)}`;case p.Mh.VALUE_OUT_OF_RANGE:return`Value ${i} is out of the range of valid values - field: ${r.name}, domain: ${JSON.stringify(r.domain)}`;case o.INVALID_TYPE:return`Value ${i} is not a valid value for the field type - field: ${r.name}, type: ${r.type}, nullable: ${r.nullable}`;case s.OUT_OF_RANGE:{let{min:t,max:s}=eM(r.type);return`Value ${i} is out of range for the number type - field: ${r.name}, type: ${r.type}, value range is ${t} to ${s}`}}}function eC(t,r){return!function(t,r,i){if(!r?.attributes||!t){!1;return!0}let s=new Set(Object.keys(r.attributes)),o=!1;for(let r of t)if(!s.has(r)){if(o=!0,null==i)break;i.add(r)}return o}(t,r,null)}function eR(t){return!!t&&["raster.itempixelvalue","raster.servicepixelvalue"].some(r=>t.toLowerCase().startsWith(r))}function eO(t){let r=t?.match(/{[^}]+}/g);return r?r.map(t=>t.slice(1,-1).split(":")[0].trim()):[]}},39267:(t,r,i)=>{i.d(r,{A:()=>Y});var s,o,a=i(81856),u=i(71017),d=i(54335),c=i(92713),p=i(33715),h=i(61939),f=i(92753),y=i(91838),m=i(16352),g=i(53480),_=i(12709),v=i(7780),w=i(86942),b=i(39265),M=i(12319),S=i(5741),A=i(52420),T=i(90707),x=i(17954),E=i(33165),I=i(84451),C=i(60236),R=i(21283);let O={base:null,key:"type",typeMap:{attachment:M.A,media:E.A,text:C.A,expression:T.A,field:x.A,relationship:I.A,utilityNetworkAssociations:R.A}},P={base:null,key:"type",typeMap:{attachment:M.A,media:E.A,text:C.A,expression:T.A,field:x.A,relationship:I.A}};var N=i(25868),k=i(78766);i(57845),i(33638);let L=s=class extends c.A{constructor(t){super(t),this.returnTopmostRaster=null,this.showNoDataRecords=null}clone(){return new s({showNoDataRecords:this.showNoDataRecords,returnTopmostRaster:this.returnTopmostRaster})}};(0,a._)([(0,y.MZ)({type:Boolean,json:{write:!0}})],L.prototype,"returnTopmostRaster",void 0),(0,a._)([(0,y.MZ)({type:Boolean,json:{write:!0}})],L.prototype,"showNoDataRecords",void 0);let F=L=s=(0,a._)([(0,_.$)("esri.popup.LayerOptions")],L);var Z=i(36577);let D=o=class extends c.A{constructor(t){super(t),this.showRelatedRecords=null,this.orderByFields=null}clone(){return new o({showRelatedRecords:this.showRelatedRecords,orderByFields:this.orderByFields?(0,p.o8)(this.orderByFields):null})}};(0,a._)([(0,y.MZ)({type:Boolean,json:{write:!0}})],D.prototype,"showRelatedRecords",void 0),(0,a._)([(0,y.MZ)({type:[Z.A],json:{write:!0}})],D.prototype,"orderByFields",void 0);let j=D=o=(0,a._)([(0,_.$)("esri.popup.RelatedRecordsInfo")],D);var U=i(81933),V=i(55630),z=i(42643),G=i(51663);let $="relationships/",B="expression/",q=d.A.ofType({key:"type",defaultKeyValue:"button",base:V.A,typeMap:{button:z.A,toggle:G.A}}),H={base:S.A,key:"type",typeMap:{media:E.A,custom:A.A,text:C.A,attachments:M.A,fields:x.A,expression:T.A,relationship:I.A,utilityNetworkAssociations:R.A}},W=new Set(["attachments","fields","media","text","expression","relationship"]),J=new Set([...W,"utility-network-associations"]),K=class extends u.A.ClonableMixin(c.A){constructor(){super(...arguments),this.actions=null,this.content="",this.expressionInfos=null,this.fieldInfos=null,this.layerOptions=null,this.lastEditInfoEnabled=!0,this.outFields=null,this.overwriteActions=!1,this.returnGeometry=!1,this.title=""}castContent(t){return Array.isArray(t)?t.map(t=>(0,w.aq)(H,t)):"string"==typeof t||"function"==typeof t||t instanceof HTMLElement||(0,f.$X)(t)?t:(h.A.getLogger(this).error("content error","unsupported content value",{value:t}),null)}readContent(t,r){let{popupElements:i}=r;return Array.isArray(i)&&i.length>0?this._readPopupInfoElements(r.description,r.mediaInfos,i):this._readPopupInfo(r)}writeWebSceneContent(t,r,i,s){this._writePopupTemplateContent(t,r,s)}writeWebMapContent(t,r,i,s){this._writePopupTemplateContent(t,r,s)}writeFieldInfos(t,r,i,s){let{content:o}=this,a=Array.isArray(o)?o:null;if(t){let i=a?a.filter(t=>"fields"===t.type):[],o=i.length&&i.every(t=>t.fieldInfos?.length);r.fieldInfos=t.filter(Boolean).map(t=>{let r=t.toJSON(s);return o&&(r.visible=!1),r})}if(a)for(let t of a)"fields"===t.type&&this._writeFieldsContent(t,r)}writeLayerOptions(t,r,i,s){r[i]=t&&(null!==t.showNoDataRecords||null!==t.returnTopmostRaster)?t.toJSON(s):null}writeTitle(t,r){r.title=t||""}async collectRequiredFields(t,r){let i=this.expressionInfos||[];await this._collectExpressionInfoFields(t,r,[...i,...this._getContentExpressionInfos(this.content,i)]),(0,b._w)(t,r,[...this.outFields||[],...this._getActionsFields(this.actions),...this._getTitleFields(this.title),...this._getContentFields(this.content)])}async getRequiredFields(t){let r=new Set;return await this.collectRequiredFields(r,t),[...r].sort()}_writePopupTemplateContent(t,r,i){"string"!=typeof t?Array.isArray(t)&&(r.popupElements=t.filter(t=>"web-scene"===i?.origin?W.has(t.type):J.has(t.type)).map(t=>t?.toJSON(i)),r.popupElements.forEach(t=>{"attachments"===t.type?this._writeAttachmentContent(r):"media"===t.type?this._writeMediaContent(t,r):"text"===t.type?this._writeTextContent(t,r):"relationship"===t.type&&this._writeRelationshipContent(t,r)})):r.description=t}_writeFieldsContent(t,r){if(!Array.isArray(t.fieldInfos)||!t.fieldInfos.length)return;let i=(0,p.o8)(t.fieldInfos);Array.isArray(r.fieldInfos)?i.forEach(t=>{let i=r.fieldInfos.find(r=>r.fieldName?.toLowerCase()===t.fieldName?.toLowerCase());i?i.visible=!0:r.fieldInfos.push(t)}):r.fieldInfos=i}_writeAttachmentContent(t){t.showAttachments||(t.showAttachments=!0)}_writeRelationshipContent(t,r){let i=t.orderByFields?.map(r=>this._toFieldOrderJSON(r,t.relationshipId))||[],s=[...r.relatedRecordsInfo?.orderByFields||[],...i];r.relatedRecordsInfo={showRelatedRecords:!0,...s?.length&&{orderByFields:s}}}_writeTextContent(t,r){!r.description&&t.text&&(r.description=t.text)}_writeMediaContent(t,r){if(!Array.isArray(t.mediaInfos)||!t.mediaInfos.length)return;let i=(0,p.o8)(t.mediaInfos);Array.isArray(r.mediaInfos)?r.mediaInfos=[...r.mediaInfos,...i]:r.mediaInfos=i}_readPopupInfoElements(t,r,i){let s={description:!1,mediaInfos:!1};return i.map(i=>"media"===i.type?(i.mediaInfos||!r||s.mediaInfos||(i.mediaInfos=r,s.mediaInfos=!0),E.A.fromJSON(i)):"text"===i.type?(i.text||!t||s.description||(i.text=t,s.description=!0),C.A.fromJSON(i)):"attachments"===i.type?M.A.fromJSON(i):"fields"===i.type?x.A.fromJSON(i):"expression"===i.type?T.A.fromJSON(i):"relationship"===i.type?I.A.fromJSON(i):"utilityNetworkAssociations"===i.type?R.A.fromJSON(i):void 0).filter(Boolean)}_toRelationshipContent(t){let{field:r,order:i}=t;if(!r?.startsWith($))return null;let s=r.replace($,"").split("/");if(2!==s.length)return null;let o=parseInt(s[0],10),a=s[1];return!Number.isNaN(o)&&a?I.A.fromJSON({relationshipId:o,orderByFields:[{field:a,order:i}]}):null}_toFieldOrderJSON(t,r){let{order:i,field:s}=t;return{field:`${$}${r}/${s}`,order:i}}_readPopupInfo({description:t,mediaInfos:r,showAttachments:i,relatedRecordsInfo:s={showRelatedRecords:!1}}){let o=[];t?o.push(new C.A({text:t})):o.push(new x.A),Array.isArray(r)&&r.length&&o.push(E.A.fromJSON({mediaInfos:r})),i&&o.push(M.A.fromJSON({displayType:"auto"}));let{showRelatedRecords:a,orderByFields:u}=s;return a&&u?.length&&u.forEach(t=>{let r=this._toRelationshipContent(t);r&&o.push(r)}),o.length?o:t}_getContentElementFields(t){let r=t?.type;if("attachments"===r)return[...this._extractFieldNames(t.title),...this._extractFieldNames(t.description)];if("custom"===r)return t.outFields||[];if("fields"===r)return[...this._extractFieldNames(t.title),...this._extractFieldNames(t.description),...this._getFieldInfoFields(t.fieldInfos??this.fieldInfos)];if("media"===r){let r=t.mediaInfos||[];return[...this._extractFieldNames(t.title),...this._extractFieldNames(t.description),...r.reduce((t,r)=>[...t,...this._getMediaInfoFields(r)],[])]}return"text"===r?this._extractFieldNames(t.text):"relationship"===r||"utility-network-associations"===r?[...this._extractFieldNames(t.title),...this._extractFieldNames(t.description)]:[]}_getMediaInfoFields(t){let{caption:r,title:i,value:s}=t,{fields:o,normalizeField:a,tooltipField:u,sourceURL:d,linkURL:c}=s||{},p=[...this._extractFieldNames(i),...this._extractFieldNames(r),...this._extractFieldNames(d),...this._extractFieldNames(c),...o??[]];return a&&p.push(a),u&&p.push(u),p}_getContentExpressionInfos(t,r){return Array.isArray(t)?t.reduce((t,r)=>[...t,..."expression"===r.type&&r.expressionInfo?[r.expressionInfo]:[]],r):[]}_getContentFields(t){return"string"==typeof t?this._extractFieldNames(t):Array.isArray(t)?t.reduce((t,r)=>[...t,...this._getContentElementFields(r)],[]):[]}async _collectExpressionInfoFields(t,r,i){i&&await Promise.all(i.map(i=>(0,b.Dx)(t,r,i.expression)))}_getFieldInfoFields(t){return t?t.filter(({fieldName:t,visible:r})=>!(void 0!==r&&!r||!t||t.startsWith($)||t.startsWith(B))).map(t=>t.fieldName):[]}_getActionsFields(t){return t?t.toArray().reduce((t,r)=>[...t,...this._getActionFields(r)],[]):[]}_getActionFields(t){let{className:r,title:i,type:s}=t,o="button"===s||"toggle"===s?t.image:"";return[...this._extractFieldNames(i),...this._extractFieldNames(r),...this._extractFieldNames(o)]}_getTitleFields(t){return"string"==typeof t?this._extractFieldNames(t):[]}_extractFieldNames(t){return(0,b.nw)(t).filter(t=>0!==t.indexOf($)&&0!==t.indexOf(B))}};(0,a._)([(0,y.MZ)({type:q})],K.prototype,"actions",void 0),(0,a._)([(0,y.MZ)()],K.prototype,"content",void 0),(0,a._)([(0,m.w)("content")],K.prototype,"castContent",null),(0,a._)([(0,g.w)("content",["description","fieldInfos","popupElements","mediaInfos","showAttachments","relatedRecordsInfo"])],K.prototype,"readContent",null),(0,a._)([(0,v.K)("web-scene","content",{popupElements:{type:d.A.ofType(P)},showAttachments:{type:Boolean},mediaInfos:{type:d.A.ofType(U.g)},description:{type:String},relatedRecordsInfo:{type:j}})],K.prototype,"writeWebSceneContent",null),(0,a._)([(0,v.K)("content",{popupElements:{type:d.A.ofType(O)},showAttachments:{type:Boolean},mediaInfos:{type:d.A.ofType(U.g)},description:{type:String},relatedRecordsInfo:{type:j}})],K.prototype,"writeWebMapContent",null),(0,a._)([(0,y.MZ)({type:[N.A],json:{write:!0}})],K.prototype,"expressionInfos",void 0),(0,a._)([(0,y.MZ)({type:[k.A]})],K.prototype,"fieldInfos",void 0),(0,a._)([(0,v.K)("fieldInfos")],K.prototype,"writeFieldInfos",null),(0,a._)([(0,y.MZ)({type:F})],K.prototype,"layerOptions",void 0),(0,a._)([(0,v.K)("layerOptions")],K.prototype,"writeLayerOptions",null),(0,a._)([(0,y.MZ)({type:Boolean,json:{read:{source:"showLastEditInfo"},write:{target:"showLastEditInfo"},default:!0}})],K.prototype,"lastEditInfoEnabled",void 0),(0,a._)([(0,y.MZ)()],K.prototype,"outFields",void 0),(0,a._)([(0,y.MZ)()],K.prototype,"overwriteActions",void 0),(0,a._)([(0,y.MZ)()],K.prototype,"returnGeometry",void 0),(0,a._)([(0,y.MZ)({json:{type:String}})],K.prototype,"title",void 0),(0,a._)([(0,v.K)("title")],K.prototype,"writeTitle",null);let Y=K=(0,a._)([(0,_.$)("esri.PopupTemplate")],K)},39399:(t,r,i)=>{i.d(r,{i:()=>s,p:()=>a});let s=(0,i(57845).A)("mac")?"Meta":"Control",o=new Set(["Alt","Control","Meta","Shift","Ctrl","Primary"]),a=t=>o.has(t)},39577:(t,r,i)=>{i.d(r,{m:()=>u,v:()=>a});var s=i(90525),o=i(14307);function a(t,r){return{...d(t,r),readResourcePaths:[]}}function u(t,r,i){let o=(0,s.An)(t.itemUrl);return{...d(t,r),messages:[],writtenProperties:[],blockedRelativeUrls:[],verifyItemRelativeUrls:o?{rootPath:o.path,writtenUrls:[]}:null,resources:i?{toAdd:[],toUpdate:[],toKeep:[],pendingOperations:[]}:null}}function d(t,r){return{origin:r,url:(0,s.An)(t.itemUrl),portal:t.portal||o.A.getDefault(),portalItem:t}}},39960:(t,r,i)=>{i.d(r,{A:()=>A});var s,o=i(81856),a=i(28690),u=i(61939),d=i(91838),c=i(16352);i(57845),i(33638);var p=i(53480),h=i(12709),f=i(7780),y=i(86942),m=i(88070),g=i(91463),_=i(88937),v=i(71760),w=i(6322);let b=[0,0];function M(t){return t&&("esri.geometry.SpatialReference"===t.declaredClass||null!=t.wkid)}let S=s=class extends m.A{static copy(t,r){r._set("x",t._get("x")),r._set("y",t._get("y")),r._set("z",t._get("z")),r._set("m",t._get("m"));let i=t._get("spatialReference");r._set("spatialReference",a.A.isFrozen(i)?i:i.clone())}constructor(...t){super(...t),this.x=0,this.y=0,this.z=void 0,this.m=void 0,this.type="point"}normalizeCtorArgs(t,r,i,s,o){let a;if(Array.isArray(t))a=t,o=r,t=a[0],r=a[1],i=a[2],s=a[3];else if(t&&"object"==typeof t){if(t=null!=(a=t).x?a.x:a.longitude,r=null!=a.y?a.y:a.latitude,i=a.z,s=a.m,(o=a.spatialReference)&&"esri.geometry.SpatialReference"!==o.declaredClass&&(o=new g.A(o)),null!=a.longitude||null!=a.latitude){if(null==a.longitude)u.A.getLogger(this).warn(".longitude=","Latitude was defined without longitude");else if(null==a.latitude)u.A.getLogger(this).warn(".latitude=","Longitude was defined without latitude");else if(!a.declaredClass&&o?.isWebMercator){let i=(0,w.je)(a.longitude,a.latitude,b);t=i[0],r=i[1]}}}else M(i)?(o=i,i=null):M(s)&&(o=s,s=null);let d={x:t,y:r};return null==d.x&&null!=d.y?u.A.getLogger(this).warn(".y=","Y coordinate was defined without an X coordinate"):null==d.y&&null!=d.x&&u.A.getLogger(this).warn(".x=","X coordinate was defined without a Y coordinate"),null!=o&&(d.spatialReference=o),null!=i&&(d.z=i),null!=s&&(d.m=s),d}get cache(){return this.commitProperty("x"),this.commitProperty("y"),this.commitProperty("z"),this.commitProperty("m"),this.commitProperty("spatialReference"),{}}get hasM(){return void 0!==this.m}set hasM(t){t!==(void 0!==this._get("m"))&&(this._set("m",t?0:void 0),this._set("hasM",t))}get hasZ(){return void 0!==this.z}set hasZ(t){t!==(void 0!==this._get("z"))&&(this._set("z",t?0:void 0),this._set("hasZ",t))}get latitude(){return(0,_.T0)(this)}set latitude(t){let{spatialReference:r,x:i}=this;null!=t&&r&&(r.isWebMercator?this._set("y",(0,w.je)(i,t,b)[1]):r.isGeographic&&this._set("y",t),this._set("latitude",t))}get longitude(){return(0,_.EZ)(this)}set longitude(t){let{y:r,spatialReference:i}=this;null!=t&&i&&(i.isWebMercator?this._set("x",(0,w.je)(t,r,b)[0]):i.isGeographic&&this._set("x",t),this._set("longitude",t))}writeX(t,r,i){r[i]=isNaN(t)?"NaN":t}readX(t){return"string"==typeof t?NaN:t}clone(){let t=new s;return t.x=this.x,t.y=this.y,t.z=this.z,t.m=this.m,t.spatialReference=this.spatialReference,t}copy(t){return s.copy(t,this),this}equals(t){if(null==t)return!1;let{x:r,y:i,z:s,m:o,spatialReference:a}=this,{z:u,m:d}=t,{x:c,y:p,spatialReference:h}=t;if(!a.equals(h))if(a.isWebMercator&&h.isWGS84)[c,p]=(0,w.je)(c,p),h=a;else{if(!a.isWGS84||!h.isWebMercator)return!1;[c,p]=(0,w.tD)(c,p),h=a}return r===c&&i===p&&s===u&&o===d&&a.wkid===h.wkid}offset(t,r,i){return this.x+=t,this.y+=r,null!=i&&(this.z=(this.z??0)+i),this}normalize(){let t;if(!this.spatialReference)return this;let r=(0,v.Vp)(this.spatialReference);if(!r)return this;let i=this.x,[s,o]=r.valid,a=2*o;return i>o?(t=Math.ceil(Math.abs(i-o)/a),i-=t*a):i<s&&(t=Math.ceil(Math.abs(i-s)/a),i+=t*a),this._set("x",i),this}distance(t){return(0,_.Io)(this,t)}toArray(){let t=this.hasZ,r=this.hasM;return t&&r?[this.x,this.y,this.z,this.m]:t?[this.x,this.y,this.z]:r?[this.x,this.y,this.m]:[this.x,this.y]}toJSON(t){return this.write({},t)}};(0,o._)([(0,d.MZ)({readOnly:!0})],S.prototype,"cache",null),(0,o._)([(0,d.MZ)({type:Boolean,json:{read:!1,write:{enabled:!1,overridePolicy:null}}})],S.prototype,"hasM",null),(0,o._)([(0,d.MZ)({type:Boolean,json:{read:!1,write:{enabled:!1,overridePolicy:null}}})],S.prototype,"hasZ",null),(0,o._)([(0,d.MZ)({type:Number})],S.prototype,"latitude",null),(0,o._)([(0,d.MZ)({type:Number})],S.prototype,"longitude",null),(0,o._)([(0,d.MZ)({type:Number,json:{type:[Number,String],write:{isRequired:!0,allowNull:!0}}}),(0,c.w)(t=>isNaN(t)?t:(0,y.GB)(t))],S.prototype,"x",void 0),(0,o._)([(0,f.K)("x")],S.prototype,"writeX",null),(0,o._)([(0,p.w)("x")],S.prototype,"readX",null),(0,o._)([(0,d.MZ)({type:Number,json:{write:!0}})],S.prototype,"y",void 0),(0,o._)([(0,d.MZ)({type:Number,json:{write:{overridePolicy(){return{enabled:this.hasZ}}}}})],S.prototype,"z",void 0),(0,o._)([(0,d.MZ)({type:Number,json:{write:{overridePolicy(){return{enabled:this.hasM}}}}})],S.prototype,"m",void 0),(S=s=(0,o._)([(0,h.$)("esri.geometry.Point")],S)).prototype.toJSON.isDefaultToJSON=!0;let A=S},40200:(t,r,i)=>{i.d(r,{jh:()=>o,l5:()=>u,xm:()=>a});var s=i(48678);function o(t,r=!1){return t<=s.y9?r?Array(t).fill(0):Array(t):new Float64Array(t)}function a(t){return((0,s.iu)(t)?t.byteLength/8:t.length)<=s.y9?Array.from(t):new Float64Array(t)}function u(t,r,i){return Array.isArray(t)?t.slice(r,r+i):t.subarray(r,r+i)}},40211:(t,r,i)=>{i.d(r,{C:()=>p,X:()=>c});var s=i(81856),o=i(54335),a=i(61096);i(57845),i(61939);var u=i(91838);i(33638);var d=i(12709);let c=class extends o.A{constructor(t){super(t),this.addHandles([this.on("before-add",t=>{null==t.item&&t.preventDefault()}),this.on("after-add",t=>this._own(t.item)),this.on("after-remove",t=>this._release(t.item))])}get owner(){return this._get("owner")}set owner(t){t!==this._get("owner")&&(this._releaseAll(),this._set("owner",t),this._ownAll())}_ownAll(){for(let t of this.items)this._own(t)}_releaseAll(){for(let t of this.items)this._release(t)}_createNewInstance(t){return this.itemType?new(o.A.ofType(this.itemType.Type))(t):new o.A(t)}};function p(t,r){return{type:t,cast:a.H,set(i){let s=(0,a.V)(i,this._get(r),t);s.owner=this,this._set(r,s)}}}(0,s._)([(0,u.MZ)()],c.prototype,"owner",null),c=(0,s._)([(0,d.$)("esri.core.support.OwningCollection")],c)},40357:(t,r,i)=>{i.d(r,{NM:()=>d,Tb:()=>c,_R:()=>u,h9:()=>a,rM:()=>p,x0:()=>h,y7:()=>f});var s=i(20538),o=i(86942);let a=["none","underline","line-through"],u=["normal","italic","oblique"],d=["normal","lighter","bold","bolder"],c={type:Number,cast:t=>{let r=(0,o.GB)(t);return 0===r?1:(0,s.qE)(r,.1,4)},nonNullable:!0},p={type:["left","right","center"],nonNullable:!0},h={type:["baseline","top","middle","bottom"],nonNullable:!0},f=8},40941:(t,r,i)=>{function s(t,r){if(null==t)throw Error(r??"value is None")}function o(t){return t?.destroy(),null}function a(t){return t?.dispose(),null}function u(t){return t?.remove(),null}function d(t){return t?.abort(),null}function c(t){return t?.release(),null}function p(t,r,i){return null!=t&&null!=r?null!=i?i(t,r):t.equals(r):t===r}function h(t,r){let i;return t.some((t,s)=>null!=(i=r(t,s))),i??void 0}i.d(r,{CM:()=>p,DC:()=>d,Gz:()=>c,Lw:()=>s,Pb:()=>h,WD:()=>a,pR:()=>o,xt:()=>u})},40970:(t,r,i)=>{i(59983),i(71538),i(30799),i(28105);var s=i(97915),o=i(39166),a=i(32391);async function u(t,r,i,o){let u,c=r.exec(i);if(!c)throw new a.A("esri-intl:invalid-bundle",`Bundle id "${i}" is not compatible with the pattern "${r}"`);let p=c[1]?`${c[1]}/`:"",h=c[2],f=(0,s.xO)(o),y=`${p}${h}.json`,m=f?`${p}${h}_${f}.json`:y;try{u=await d(t(m))}catch(r){if(m===y)throw new a.A("intl:unknown-bundle",`Bundle "${i}" cannot be loaded`,{error:r});try{u=await d(t(y))}catch(t){throw new a.A("intl:unknown-bundle",`Bundle "${i}" cannot be loaded`,{error:t})}}return u}async function d(t){return null!=p.fetchBundleAsset?p.fetchBundleAsset(t):JSON.parse((await (0,o.A)(t,{responseType:"text"})).data)}class c{constructor({base:t="",pattern:r,location:i=new URL(window.location.href)}){let s;s="string"==typeof i?t=>new URL(t,new URL(i,window.location.href)).href:i instanceof URL?t=>new URL(t,i).href:i,this.pattern="string"==typeof r?RegExp(`^${r}`):r,this.getAssetUrl=s,t=t?t.endsWith("/")?t:t+"/":"",this.matcher=RegExp(`^${t}(?:(.*)\\/)?(.*)$`)}fetchMessageBundle(t,r){return u(this.getAssetUrl,this.matcher,t,r)}}let p={};var h=i(81048);(0,s.ao)(new c({pattern:"esri/",location:h.s}))},40998:(t,r,i)=>{i.d(r,{$0:()=>S,$h:()=>k,B8:()=>h,C:()=>a,CV:()=>M,D_:()=>d,I0:()=>N,IL:()=>C,N9:()=>T,O7:()=>P,Qr:()=>w,Qw:()=>p,Tl:()=>y,Z8:()=>v,aI:()=>j,e$:()=>g,eL:()=>_,hM:()=>A,hZ:()=>u,hs:()=>m,kN:()=>b,l:()=>R,lw:()=>f,mg:()=>c,o1:()=>O,sC:()=>I,t2:()=>D,t5:()=>F,tZ:()=>V,ut:()=>U,v3:()=>L});var s=i(56911),o=i(19461);function a(t,r){return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],t[9]=r[9],t[10]=r[10],t[11]=r[11],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15],t}function u(t,r,i,s,o,a,u,d,c,p,h,f,y,m,g,_,v){return t[0]=r,t[1]=i,t[2]=s,t[3]=o,t[4]=a,t[5]=u,t[6]=d,t[7]=c,t[8]=p,t[9]=h,t[10]=f,t[11]=y,t[12]=m,t[13]=g,t[14]=_,t[15]=v,t}function d(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function c(t,r){if(t===r){let i=r[1],s=r[2],o=r[3],a=r[6],u=r[7],d=r[11];t[1]=r[4],t[2]=r[8],t[3]=r[12],t[4]=i,t[6]=r[9],t[7]=r[13],t[8]=s,t[9]=a,t[11]=r[14],t[12]=o,t[13]=u,t[14]=d}else t[0]=r[0],t[1]=r[4],t[2]=r[8],t[3]=r[12],t[4]=r[1],t[5]=r[5],t[6]=r[9],t[7]=r[13],t[8]=r[2],t[9]=r[6],t[10]=r[10],t[11]=r[14],t[12]=r[3],t[13]=r[7],t[14]=r[11],t[15]=r[15];return t}function p(t,r){return h(t,r)||d(t),t}function h(t,r){let i=r[0],s=r[1],o=r[2],a=r[3],u=r[4],d=r[5],c=r[6],p=r[7],h=r[8],f=r[9],y=r[10],m=r[11],g=r[12],_=r[13],v=r[14],w=r[15],b=i*d-s*u,M=i*c-o*u,S=i*p-a*u,A=s*c-o*d,T=s*p-a*d,x=o*p-a*c,E=h*_-f*g,I=h*v-y*g,C=h*w-m*g,R=f*v-y*_,O=f*w-m*_,P=y*w-m*v,N=b*P-M*O+S*R+A*C-T*I+x*E;return N?(N=1/N,t[0]=(d*P-c*O+p*R)*N,t[1]=(o*O-s*P-a*R)*N,t[2]=(_*x-v*T+w*A)*N,t[3]=(y*T-f*x-m*A)*N,t[4]=(c*C-u*P-p*I)*N,t[5]=(i*P-o*C+a*I)*N,t[6]=(v*S-g*x-w*M)*N,t[7]=(h*x-y*S+m*M)*N,t[8]=(u*O-d*C+p*E)*N,t[9]=(s*C-i*O-a*E)*N,t[10]=(g*T-_*S+w*b)*N,t[11]=(f*S-h*T-m*b)*N,t[12]=(d*I-u*R-c*E)*N,t[13]=(i*R-s*I+o*E)*N,t[14]=(_*M-g*A-v*b)*N,t[15]=(h*A-f*M+y*b)*N,t):null}function f(t,r,i){let s=r[0],o=r[1],a=r[2],u=r[3],d=r[4],c=r[5],p=r[6],h=r[7],f=r[8],y=r[9],m=r[10],g=r[11],_=r[12],v=r[13],w=r[14],b=r[15],M=i[0],S=i[1],A=i[2],T=i[3];return t[0]=M*s+S*d+A*f+T*_,t[1]=M*o+S*c+A*y+T*v,t[2]=M*a+S*p+A*m+T*w,t[3]=M*u+S*h+A*g+T*b,M=i[4],S=i[5],A=i[6],T=i[7],t[4]=M*s+S*d+A*f+T*_,t[5]=M*o+S*c+A*y+T*v,t[6]=M*a+S*p+A*m+T*w,t[7]=M*u+S*h+A*g+T*b,M=i[8],S=i[9],A=i[10],T=i[11],t[8]=M*s+S*d+A*f+T*_,t[9]=M*o+S*c+A*y+T*v,t[10]=M*a+S*p+A*m+T*w,t[11]=M*u+S*h+A*g+T*b,M=i[12],S=i[13],A=i[14],T=i[15],t[12]=M*s+S*d+A*f+T*_,t[13]=M*o+S*c+A*y+T*v,t[14]=M*a+S*p+A*m+T*w,t[15]=M*u+S*h+A*g+T*b,t}function y(t,r,i){let s=i[0],o=i[1],a=i[2];if(r===t)t[12]=r[0]*s+r[4]*o+r[8]*a+r[12],t[13]=r[1]*s+r[5]*o+r[9]*a+r[13],t[14]=r[2]*s+r[6]*o+r[10]*a+r[14],t[15]=r[3]*s+r[7]*o+r[11]*a+r[15];else{let i=r[0],u=r[1],d=r[2],c=r[3],p=r[4],h=r[5],f=r[6],y=r[7],m=r[8],g=r[9],_=r[10],v=r[11];t[0]=i,t[1]=u,t[2]=d,t[3]=c,t[4]=p,t[5]=h,t[6]=f,t[7]=y,t[8]=m,t[9]=g,t[10]=_,t[11]=v,t[12]=i*s+p*o+m*a+r[12],t[13]=u*s+h*o+g*a+r[13],t[14]=d*s+f*o+_*a+r[14],t[15]=c*s+y*o+v*a+r[15]}return t}function m(t,r,i){let s=i[0],o=i[1],a=i[2];return t[0]=r[0]*s,t[1]=r[1]*s,t[2]=r[2]*s,t[3]=r[3]*s,t[4]=r[4]*o,t[5]=r[5]*o,t[6]=r[6]*o,t[7]=r[7]*o,t[8]=r[8]*a,t[9]=r[9]*a,t[10]=r[10]*a,t[11]=r[11]*a,t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15],t}function g(t,r,i,s){let u=s[0],d=s[1],c=s[2],p=Math.sqrt(u*u+d*d+c*c);if(p<=(0,o.FD)())return void a(t,r);u*=p=1/p,d*=p,c*=p;let h=Math.sin(i),f=Math.cos(i),y=1-f,m=r[0],g=r[1],_=r[2],v=r[3],w=r[4],b=r[5],M=r[6],S=r[7],A=r[8],T=r[9],x=r[10],E=r[11],I=u*u*y+f,C=d*u*y+c*h,R=c*u*y-d*h,O=u*d*y-c*h,P=d*d*y+f,N=c*d*y+u*h,k=u*c*y+d*h,L=d*c*y-u*h,F=c*c*y+f;t[0]=m*I+w*C+A*R,t[1]=g*I+b*C+T*R,t[2]=_*I+M*C+x*R,t[3]=v*I+S*C+E*R,t[4]=m*O+w*P+A*N,t[5]=g*O+b*P+T*N,t[6]=_*O+M*P+x*N,t[7]=v*O+S*P+E*N,t[8]=m*k+w*L+A*F,t[9]=g*k+b*L+T*F,t[10]=_*k+M*L+x*F,t[11]=v*k+S*L+E*F,r!==t&&(t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15])}function _(t,r,i){let s=Math.sin(i),o=Math.cos(i),a=r[4],u=r[5],d=r[6],c=r[7],p=r[8],h=r[9],f=r[10],y=r[11];return r!==t&&(t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15]),t[4]=a*o+p*s,t[5]=u*o+h*s,t[6]=d*o+f*s,t[7]=c*o+y*s,t[8]=p*o-a*s,t[9]=h*o-u*s,t[10]=f*o-d*s,t[11]=y*o-c*s,t}function v(t,r,i){let s=Math.sin(i),o=Math.cos(i),a=r[0],u=r[1],d=r[2],c=r[3],p=r[8],h=r[9],f=r[10],y=r[11];return r!==t&&(t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15]),t[0]=a*o-p*s,t[1]=u*o-h*s,t[2]=d*o-f*s,t[3]=c*o-y*s,t[8]=a*s+p*o,t[9]=u*s+h*o,t[10]=d*s+f*o,t[11]=c*s+y*o,t}function w(t,r,i){let s=Math.sin(i),o=Math.cos(i),a=r[0],u=r[1],d=r[2],c=r[3],p=r[4],h=r[5],f=r[6],y=r[7];return r!==t&&(t[8]=r[8],t[9]=r[9],t[10]=r[10],t[11]=r[11],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15]),t[0]=a*o+p*s,t[1]=u*o+h*s,t[2]=d*o+f*s,t[3]=c*o+y*s,t[4]=p*o-a*s,t[5]=h*o-u*s,t[6]=f*o-d*s,t[7]=y*o-c*s,t}function b(t,r){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=r[0],t[13]=r[1],t[14]=r[2],t[15]=1,t}function M(t,r){return t[0]=r[0],t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=r[1],t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=r[2],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function S(t,r,i){if(0===r)return d(t);let s=i[0],a=i[1],u=i[2],c=Math.sqrt(s*s+a*a+u*u);if(c<=(0,o.FD)())return null;s*=c=1/c,a*=c,u*=c;let p=Math.sin(r),h=Math.cos(r),f=1-h;return t[0]=s*s*f+h,t[1]=a*s*f+u*p,t[2]=u*s*f-a*p,t[3]=0,t[4]=s*a*f-u*p,t[5]=a*a*f+h,t[6]=u*a*f+s*p,t[7]=0,t[8]=s*u*f+a*p,t[9]=a*u*f-s*p,t[10]=u*u*f+h,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function A(t,r){let i=Math.sin(r),s=Math.cos(r);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=s,t[6]=i,t[7]=0,t[8]=0,t[9]=-i,t[10]=s,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function T(t,r){let i=Math.sin(r),s=Math.cos(r);return t[0]=s,t[1]=i,t[2]=0,t[3]=0,t[4]=-i,t[5]=s,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function x(t,r,i){let s=r[0],o=r[1],a=r[2],u=r[3],d=s+s,c=o+o,p=a+a,h=s*d,f=s*c,y=s*p,m=o*c,g=o*p,_=a*p,v=u*d,w=u*c,b=u*p;return t[0]=1-(m+_),t[1]=f+b,t[2]=y-w,t[3]=0,t[4]=f-b,t[5]=1-(h+_),t[6]=g+v,t[7]=0,t[8]=y+w,t[9]=g-v,t[10]=1-(h+m),t[11]=0,t[12]=i[0],t[13]=i[1],t[14]=i[2],t[15]=1,t}let E=(0,s.vt)();function I(t,r){return t[0]=r[12],t[1]=r[13],t[2]=r[14],t}function C(t,r){let i=r[0],s=r[1],o=r[2],a=r[4],u=r[5],d=r[6],c=r[8],p=r[9],h=r[10];return t[0]=Math.sqrt(i*i+s*s+o*o),t[1]=Math.sqrt(a*a+u*u+d*d),t[2]=Math.sqrt(c*c+p*p+h*h),t}function R(t,r){let i=r[0]+r[5]+r[10],s=0;return i>0?(s=2*Math.sqrt(i+1),t[3]=.25*s,t[0]=(r[6]-r[9])/s,t[1]=(r[8]-r[2])/s,t[2]=(r[1]-r[4])/s):r[0]>r[5]&&r[0]>r[10]?(s=2*Math.sqrt(1+r[0]-r[5]-r[10]),t[3]=(r[6]-r[9])/s,t[0]=.25*s,t[1]=(r[1]+r[4])/s,t[2]=(r[8]+r[2])/s):r[5]>r[10]?(s=2*Math.sqrt(1+r[5]-r[0]-r[10]),t[3]=(r[8]-r[2])/s,t[0]=(r[1]+r[4])/s,t[1]=.25*s,t[2]=(r[6]+r[9])/s):(s=2*Math.sqrt(1+r[10]-r[0]-r[5]),t[3]=(r[1]-r[4])/s,t[0]=(r[8]+r[2])/s,t[1]=(r[6]+r[9])/s,t[2]=.25*s),t}function O(t,r,i,s){let o=r[0],a=r[1],u=r[2],d=r[3],c=o+o,p=a+a,h=u+u,f=o*c,y=o*p,m=o*h,g=a*p,_=a*h,v=u*h,w=d*c,b=d*p,M=d*h,S=s[0],A=s[1],T=s[2];return t[0]=(1-(g+v))*S,t[1]=(y+M)*S,t[2]=(m-b)*S,t[3]=0,t[4]=(y-M)*A,t[5]=(1-(f+v))*A,t[6]=(_+w)*A,t[7]=0,t[8]=(m+b)*T,t[9]=(_-w)*T,t[10]=(1-(f+g))*T,t[11]=0,t[12]=i[0],t[13]=i[1],t[14]=i[2],t[15]=1,t}function P(t,r,i,s,o){let a=r[0],u=r[1],d=r[2],c=r[3],p=a+a,h=u+u,f=d+d,y=a*p,m=a*h,g=a*f,_=u*h,v=u*f,w=d*f,b=c*p,M=c*h,S=c*f,A=s[0],T=s[1],x=s[2],E=o[0],I=o[1],C=o[2],R=(1-(_+w))*A,O=(m+S)*A,P=(g-M)*A,N=(m-S)*T,k=(1-(y+w))*T,L=(v+b)*T,F=(g+M)*x,Z=(v-b)*x,D=(1-(y+_))*x;return t[0]=R,t[1]=O,t[2]=P,t[3]=0,t[4]=N,t[5]=k,t[6]=L,t[7]=0,t[8]=F,t[9]=Z,t[10]=D,t[11]=0,t[12]=i[0]+E-(R*E+N*I+F*C),t[13]=i[1]+I-(O*E+k*I+Z*C),t[14]=i[2]+C-(P*E+L*I+D*C),t[15]=1,t}function N(t,r){let i=r[0],s=r[1],o=r[2],a=r[3],u=i+i,d=s+s,c=o+o,p=i*u,h=s*u,f=s*d,y=o*u,m=o*d,g=o*c,_=a*u,v=a*d,w=a*c;return t[0]=1-f-g,t[1]=h+w,t[2]=y-v,t[3]=0,t[4]=h-w,t[5]=1-p-g,t[6]=m+_,t[7]=0,t[8]=y+v,t[9]=m-_,t[10]=1-p-f,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function k(t,r,i,s,o,a,u){let d=1/(i-r),c=1/(o-s),p=1/(a-u);return t[0]=2*a*d,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=2*a*c,t[6]=0,t[7]=0,t[8]=(i+r)*d,t[9]=(o+s)*c,t[10]=(u+a)*p,t[11]=-1,t[12]=0,t[13]=0,t[14]=u*a*2*p,t[15]=0,t}function L(t,r,i,s,o,a,u){let d=1/(r-i),c=1/(s-o),p=1/(a-u);return t[0]=-2*d,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*c,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*p,t[11]=0,t[12]=(r+i)*d,t[13]=(o+s)*c,t[14]=(u+a)*p,t[15]=1,t}function F(t,r,i,s){let a=r[0],u=r[1],c=r[2],p=a-i[0],h=u-i[1],f=c-i[2],y=(0,o.FD)();if(Math.abs(p)<y&&Math.abs(h)<y&&Math.abs(f)<y)return void d(t);let m=1/Math.sqrt(p*p+h*h+f*f);p*=m,h*=m,f*=m;let g=s[0],_=s[1],v=s[2],w=_*f-v*h,b=v*p-g*f,M=g*h-_*p;(m=Math.sqrt(w*w+b*b+M*M))?(w*=m=1/m,b*=m,M*=m):(w=0,b=0,M=0);let S=h*M-f*b,A=f*w-p*M,T=p*b-h*w;(m=Math.sqrt(S*S+A*A+T*T))?(S*=m=1/m,A*=m,T*=m):(S=0,A=0,T=0),t[0]=w,t[1]=S,t[2]=p,t[3]=0,t[4]=b,t[5]=A,t[6]=h,t[7]=0,t[8]=M,t[9]=T,t[10]=f,t[11]=0,t[12]=-(w*a+b*u+M*c),t[13]=-(S*a+A*u+T*c),t[14]=-(p*a+h*u+f*c),t[15]=1}function Z(t,r,i){return t[0]=r[0]-i[0],t[1]=r[1]-i[1],t[2]=r[2]-i[2],t[3]=r[3]-i[3],t[4]=r[4]-i[4],t[5]=r[5]-i[5],t[6]=r[6]-i[6],t[7]=r[7]-i[7],t[8]=r[8]-i[8],t[9]=r[9]-i[9],t[10]=r[10]-i[10],t[11]=r[11]-i[11],t[12]=r[12]-i[12],t[13]=r[13]-i[13],t[14]=r[14]-i[14],t[15]=r[15]-i[15],t}function D(t,r){return t[0]===r[0]&&t[1]===r[1]&&t[2]===r[2]&&t[3]===r[3]&&t[4]===r[4]&&t[5]===r[5]&&t[6]===r[6]&&t[7]===r[7]&&t[8]===r[8]&&t[9]===r[9]&&t[10]===r[10]&&t[11]===r[11]&&t[12]===r[12]&&t[13]===r[13]&&t[14]===r[14]&&t[15]===r[15]}function j(t,r){if(t===r)return!0;let i=t[0],s=t[1],a=t[2],u=t[3],d=t[4],c=t[5],p=t[6],h=t[7],f=t[8],y=t[9],m=t[10],g=t[11],_=t[12],v=t[13],w=t[14],b=t[15],M=r[0],S=r[1],A=r[2],T=r[3],x=r[4],E=r[5],I=r[6],C=r[7],R=r[8],O=r[9],P=r[10],N=r[11],k=r[12],L=r[13],F=r[14],Z=r[15],D=(0,o.FD)();return Math.abs(i-M)<=D*Math.max(1,Math.abs(i),Math.abs(M))&&Math.abs(s-S)<=D*Math.max(1,Math.abs(s),Math.abs(S))&&Math.abs(a-A)<=D*Math.max(1,Math.abs(a),Math.abs(A))&&Math.abs(u-T)<=D*Math.max(1,Math.abs(u),Math.abs(T))&&Math.abs(d-x)<=D*Math.max(1,Math.abs(d),Math.abs(x))&&Math.abs(c-E)<=D*Math.max(1,Math.abs(c),Math.abs(E))&&Math.abs(p-I)<=D*Math.max(1,Math.abs(p),Math.abs(I))&&Math.abs(h-C)<=D*Math.max(1,Math.abs(h),Math.abs(C))&&Math.abs(f-R)<=D*Math.max(1,Math.abs(f),Math.abs(R))&&Math.abs(y-O)<=D*Math.max(1,Math.abs(y),Math.abs(O))&&Math.abs(m-P)<=D*Math.max(1,Math.abs(m),Math.abs(P))&&Math.abs(g-N)<=D*Math.max(1,Math.abs(g),Math.abs(N))&&Math.abs(_-k)<=D*Math.max(1,Math.abs(_),Math.abs(k))&&Math.abs(v-L)<=D*Math.max(1,Math.abs(v),Math.abs(L))&&Math.abs(w-F)<=D*Math.max(1,Math.abs(w),Math.abs(F))&&Math.abs(b-Z)<=D*Math.max(1,Math.abs(b),Math.abs(Z))}function U(t){let r=(0,o.FD)(),i=t[0],s=t[1],a=t[2],u=t[4],d=t[5],c=t[6],p=t[8],h=t[9],f=t[10];return Math.abs(1-(i*i+u*u+p*p))<=r&&Math.abs(1-(s*s+d*d+h*h))<=r&&Math.abs(1-(a*a+c*c+f*f))<=r}function V(t){return 1===t[0]&&0===t[1]&&0===t[2]&&0===t[4]&&1===t[5]&&0===t[6]&&0===t[8]&&0===t[9]&&1===t[10]}Object.freeze(Object.defineProperty({__proto__:null,add:function(t,r,i){return t[0]=r[0]+i[0],t[1]=r[1]+i[1],t[2]=r[2]+i[2],t[3]=r[3]+i[3],t[4]=r[4]+i[4],t[5]=r[5]+i[5],t[6]=r[6]+i[6],t[7]=r[7]+i[7],t[8]=r[8]+i[8],t[9]=r[9]+i[9],t[10]=r[10]+i[10],t[11]=r[11]+i[11],t[12]=r[12]+i[12],t[13]=r[13]+i[13],t[14]=r[14]+i[14],t[15]=r[15]+i[15],t},adjoint:function(t,r){let i=r[0],s=r[1],o=r[2],a=r[3],u=r[4],d=r[5],c=r[6],p=r[7],h=r[8],f=r[9],y=r[10],m=r[11],g=r[12],_=r[13],v=r[14],w=r[15];return t[0]=d*(y*w-m*v)-f*(c*w-p*v)+_*(c*m-p*y),t[1]=-(s*(y*w-m*v)-f*(o*w-a*v)+_*(o*m-a*y)),t[2]=s*(c*w-p*v)-d*(o*w-a*v)+_*(o*p-a*c),t[3]=-(s*(c*m-p*y)-d*(o*m-a*y)+f*(o*p-a*c)),t[4]=-(u*(y*w-m*v)-h*(c*w-p*v)+g*(c*m-p*y)),t[5]=i*(y*w-m*v)-h*(o*w-a*v)+g*(o*m-a*y),t[6]=-(i*(c*w-p*v)-u*(o*w-a*v)+g*(o*p-a*c)),t[7]=i*(c*m-p*y)-u*(o*m-a*y)+h*(o*p-a*c),t[8]=u*(f*w-m*_)-h*(d*w-p*_)+g*(d*m-p*f),t[9]=-(i*(f*w-m*_)-h*(s*w-a*_)+g*(s*m-a*f)),t[10]=i*(d*w-p*_)-u*(s*w-a*_)+g*(s*p-a*d),t[11]=-(i*(d*m-p*f)-u*(s*m-a*f)+h*(s*p-a*d)),t[12]=-(u*(f*v-y*_)-h*(d*v-c*_)+g*(d*y-c*f)),t[13]=i*(f*v-y*_)-h*(s*v-o*_)+g*(s*y-o*f),t[14]=-(i*(d*v-c*_)-u*(s*v-o*_)+g*(s*c-o*d)),t[15]=i*(d*y-c*f)-u*(s*y-o*f)+h*(s*c-o*d),t},copy:a,determinant:function(t){let r=t[0],i=t[1],s=t[2],o=t[3],a=t[4],u=t[5],d=t[6],c=t[7],p=t[8],h=t[9],f=t[10],y=t[11],m=t[12],g=t[13],_=t[14],v=t[15];return(r*u-i*a)*(f*v-y*_)-(r*d-s*a)*(h*v-y*g)+(r*c-o*a)*(h*_-f*g)+(i*d-s*u)*(p*v-y*m)-(i*c-o*u)*(p*_-f*m)+(s*c-o*d)*(p*g-h*m)},equals:j,exactEquals:D,frob:function(t){return Math.sqrt(t[0]**2+t[1]**2+t[2]**2+t[3]**2+t[4]**2+t[5]**2+t[6]**2+t[7]**2+t[8]**2+t[9]**2+t[10]**2+t[11]**2+t[12]**2+t[13]**2+t[14]**2+t[15]**2)},fromQuat:N,fromQuat2:function(t,r){let i=-r[0],s=-r[1],o=-r[2],a=r[3],u=r[4],d=r[5],c=r[6],p=r[7],h=i*i+s*s+o*o+a*a;return h>0?(E[0]=2*(u*a+p*i+d*o-c*s)/h,E[1]=2*(d*a+p*s+c*i-u*o)/h,E[2]=2*(c*a+p*o+u*s-d*i)/h):(E[0]=2*(u*a+p*i+d*o-c*s),E[1]=2*(d*a+p*s+c*i-u*o),E[2]=2*(c*a+p*o+u*s-d*i)),x(t,r,E),t},fromRotation:S,fromRotationTranslation:x,fromRotationTranslationScale:O,fromRotationTranslationScaleOrigin:P,fromScaling:M,fromTranslation:b,fromXRotation:A,fromYRotation:function(t,r){let i=Math.sin(r),s=Math.cos(r);return t[0]=s,t[1]=0,t[2]=-i,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=i,t[9]=0,t[10]=s,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},fromZRotation:T,frustum:k,getRotation:R,getScaling:C,getTranslation:I,hasIdentityRotation:V,identity:d,invert:h,invertOrIdentity:p,isOrthoNormal:U,lookAt:F,mul:f,multiply:f,multiplyScalar:function(t,r,i){return t[0]=r[0]*i,t[1]=r[1]*i,t[2]=r[2]*i,t[3]=r[3]*i,t[4]=r[4]*i,t[5]=r[5]*i,t[6]=r[6]*i,t[7]=r[7]*i,t[8]=r[8]*i,t[9]=r[9]*i,t[10]=r[10]*i,t[11]=r[11]*i,t[12]=r[12]*i,t[13]=r[13]*i,t[14]=r[14]*i,t[15]=r[15]*i,t},multiplyScalarAndAdd:function(t,r,i,s){return t[0]=r[0]+i[0]*s,t[1]=r[1]+i[1]*s,t[2]=r[2]+i[2]*s,t[3]=r[3]+i[3]*s,t[4]=r[4]+i[4]*s,t[5]=r[5]+i[5]*s,t[6]=r[6]+i[6]*s,t[7]=r[7]+i[7]*s,t[8]=r[8]+i[8]*s,t[9]=r[9]+i[9]*s,t[10]=r[10]+i[10]*s,t[11]=r[11]+i[11]*s,t[12]=r[12]+i[12]*s,t[13]=r[13]+i[13]*s,t[14]=r[14]+i[14]*s,t[15]=r[15]+i[15]*s,t},ortho:L,perspective:function(t,r,i,s,o){let a,u=1/Math.tan(r/2);return t[0]=u/i,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=u,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,null!=o&&o!==1/0?(a=1/(s-o),t[10]=(o+s)*a,t[14]=2*o*s*a):(t[10]=-1,t[14]=-2*s),t},perspectiveFromFieldOfView:function(t,r,i,s){let o=Math.tan(r.upDegrees*Math.PI/180),a=Math.tan(r.downDegrees*Math.PI/180),u=Math.tan(r.leftDegrees*Math.PI/180),d=Math.tan(r.rightDegrees*Math.PI/180),c=2/(u+d),p=2/(o+a);return t[0]=c,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=p,t[6]=0,t[7]=0,t[8]=-(u-d)*c*.5,t[9]=(o-a)*p*.5,t[10]=s/(i-s),t[11]=-1,t[12]=0,t[13]=0,t[14]=s*i/(i-s),t[15]=0,t},rotate:g,rotateX:_,rotateY:v,rotateZ:w,scale:m,set:u,str:function(t){return"mat4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+", "+t[9]+", "+t[10]+", "+t[11]+", "+t[12]+", "+t[13]+", "+t[14]+", "+t[15]+")"},sub:Z,subtract:Z,targetTo:function(t,r,i,s){let o=r[0],a=r[1],u=r[2],d=s[0],c=s[1],p=s[2],h=o-i[0],f=a-i[1],y=u-i[2],m=h*h+f*f+y*y;m>0&&(h*=m=1/Math.sqrt(m),f*=m,y*=m);let g=c*y-p*f,_=p*h-d*y,v=d*f-c*h;return(m=g*g+_*_+v*v)>0&&(g*=m=1/Math.sqrt(m),_*=m,v*=m),t[0]=g,t[1]=_,t[2]=v,t[3]=0,t[4]=f*v-y*_,t[5]=y*g-h*v,t[6]=h*_-f*g,t[7]=0,t[8]=h,t[9]=f,t[10]=y,t[11]=0,t[12]=o,t[13]=a,t[14]=u,t[15]=1,t},translate:y,transpose:c},Symbol.toStringTag,{value:"Module"}))},41270:(t,r,i)=>{i.d(r,{AH:()=>p,Rf:()=>h,sk:()=>f});let s=globalThis,o=s.ShadowRoot&&(void 0===s.ShadyCSS||s.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,a=Symbol(),u=new WeakMap;class d{constructor(t,r,i){if(this._$cssResult$=!0,i!==a)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=t,this.t=r}get styleSheet(){let t=this.o,r=this.t;if(o&&void 0===t){let i=void 0!==r&&1===r.length;i&&(t=u.get(r)),void 0===t&&((this.o=t=new CSSStyleSheet).replaceSync(this.cssText),i&&u.set(r,t))}return t}toString(){return this.cssText}}let c=t=>new d("string"==typeof t?t:t+"",void 0,a),p=(t,...r)=>new d(1===t.length?t[0]:r.reduce((r,i,s)=>r+(t=>{if(!0===t._$cssResult$)return t.cssText;if("number"==typeof t)return t;throw Error("Value passed to 'css' function must be a 'css' function result: "+t+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(i)+t[s+1],t[0]),t,a),h=(t,r)=>{if(o)t.adoptedStyleSheets=r.map(t=>t instanceof CSSStyleSheet?t:t.styleSheet);else for(let i of r){let r=document.createElement("style"),o=s.litNonce;void 0!==o&&r.setAttribute("nonce",o),r.textContent=i.cssText,t.appendChild(r)}},f=o?t=>t:t=>t instanceof CSSStyleSheet?(t=>{let r="";for(let i of t.cssRules)r+=i.cssText;return c(r)})(t):t},41390:(t,r,i)=>{i.d(r,{Ly:()=>es,N_:()=>ea,OU:()=>ep,V8:()=>eo,W5:()=>ec,Z6:()=>eh,cA:()=>el});var s=function(){return(s=Object.assign||function(t){for(var r,i=1,s=arguments.length;i<s;i++)for(var o in r=arguments[i])Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o]);return t}).apply(this,arguments)},o={exports:{}},a={},u={exports:{}},d={};function c(){var t={};return t["align-content"]=!1,t["align-items"]=!1,t["align-self"]=!1,t["alignment-adjust"]=!1,t["alignment-baseline"]=!1,t.all=!1,t["anchor-point"]=!1,t.animation=!1,t["animation-delay"]=!1,t["animation-direction"]=!1,t["animation-duration"]=!1,t["animation-fill-mode"]=!1,t["animation-iteration-count"]=!1,t["animation-name"]=!1,t["animation-play-state"]=!1,t["animation-timing-function"]=!1,t.azimuth=!1,t["backface-visibility"]=!1,t.background=!0,t["background-attachment"]=!0,t["background-clip"]=!0,t["background-color"]=!0,t["background-image"]=!0,t["background-origin"]=!0,t["background-position"]=!0,t["background-repeat"]=!0,t["background-size"]=!0,t["baseline-shift"]=!1,t.binding=!1,t.bleed=!1,t["bookmark-label"]=!1,t["bookmark-level"]=!1,t["bookmark-state"]=!1,t.border=!0,t["border-bottom"]=!0,t["border-bottom-color"]=!0,t["border-bottom-left-radius"]=!0,t["border-bottom-right-radius"]=!0,t["border-bottom-style"]=!0,t["border-bottom-width"]=!0,t["border-collapse"]=!0,t["border-color"]=!0,t["border-image"]=!0,t["border-image-outset"]=!0,t["border-image-repeat"]=!0,t["border-image-slice"]=!0,t["border-image-source"]=!0,t["border-image-width"]=!0,t["border-left"]=!0,t["border-left-color"]=!0,t["border-left-style"]=!0,t["border-left-width"]=!0,t["border-radius"]=!0,t["border-right"]=!0,t["border-right-color"]=!0,t["border-right-style"]=!0,t["border-right-width"]=!0,t["border-spacing"]=!0,t["border-style"]=!0,t["border-top"]=!0,t["border-top-color"]=!0,t["border-top-left-radius"]=!0,t["border-top-right-radius"]=!0,t["border-top-style"]=!0,t["border-top-width"]=!0,t["border-width"]=!0,t.bottom=!1,t["box-decoration-break"]=!0,t["box-shadow"]=!0,t["box-sizing"]=!0,t["box-snap"]=!0,t["box-suppress"]=!0,t["break-after"]=!0,t["break-before"]=!0,t["break-inside"]=!0,t["caption-side"]=!1,t.chains=!1,t.clear=!0,t.clip=!1,t["clip-path"]=!1,t["clip-rule"]=!1,t.color=!0,t["color-interpolation-filters"]=!0,t["column-count"]=!1,t["column-fill"]=!1,t["column-gap"]=!1,t["column-rule"]=!1,t["column-rule-color"]=!1,t["column-rule-style"]=!1,t["column-rule-width"]=!1,t["column-span"]=!1,t["column-width"]=!1,t.columns=!1,t.contain=!1,t.content=!1,t["counter-increment"]=!1,t["counter-reset"]=!1,t["counter-set"]=!1,t.crop=!1,t.cue=!1,t["cue-after"]=!1,t["cue-before"]=!1,t.cursor=!1,t.direction=!1,t.display=!0,t["display-inside"]=!0,t["display-list"]=!0,t["display-outside"]=!0,t["dominant-baseline"]=!1,t.elevation=!1,t["empty-cells"]=!1,t.filter=!1,t.flex=!1,t["flex-basis"]=!1,t["flex-direction"]=!1,t["flex-flow"]=!1,t["flex-grow"]=!1,t["flex-shrink"]=!1,t["flex-wrap"]=!1,t.float=!1,t["float-offset"]=!1,t["flood-color"]=!1,t["flood-opacity"]=!1,t["flow-from"]=!1,t["flow-into"]=!1,t.font=!0,t["font-family"]=!0,t["font-feature-settings"]=!0,t["font-kerning"]=!0,t["font-language-override"]=!0,t["font-size"]=!0,t["font-size-adjust"]=!0,t["font-stretch"]=!0,t["font-style"]=!0,t["font-synthesis"]=!0,t["font-variant"]=!0,t["font-variant-alternates"]=!0,t["font-variant-caps"]=!0,t["font-variant-east-asian"]=!0,t["font-variant-ligatures"]=!0,t["font-variant-numeric"]=!0,t["font-variant-position"]=!0,t["font-weight"]=!0,t.grid=!1,t["grid-area"]=!1,t["grid-auto-columns"]=!1,t["grid-auto-flow"]=!1,t["grid-auto-rows"]=!1,t["grid-column"]=!1,t["grid-column-end"]=!1,t["grid-column-start"]=!1,t["grid-row"]=!1,t["grid-row-end"]=!1,t["grid-row-start"]=!1,t["grid-template"]=!1,t["grid-template-areas"]=!1,t["grid-template-columns"]=!1,t["grid-template-rows"]=!1,t["hanging-punctuation"]=!1,t.height=!0,t.hyphens=!1,t.icon=!1,t["image-orientation"]=!1,t["image-resolution"]=!1,t["ime-mode"]=!1,t["initial-letters"]=!1,t["inline-box-align"]=!1,t["justify-content"]=!1,t["justify-items"]=!1,t["justify-self"]=!1,t.left=!1,t["letter-spacing"]=!0,t["lighting-color"]=!0,t["line-box-contain"]=!1,t["line-break"]=!1,t["line-grid"]=!1,t["line-height"]=!1,t["line-snap"]=!1,t["line-stacking"]=!1,t["line-stacking-ruby"]=!1,t["line-stacking-shift"]=!1,t["line-stacking-strategy"]=!1,t["list-style"]=!0,t["list-style-image"]=!0,t["list-style-position"]=!0,t["list-style-type"]=!0,t.margin=!0,t["margin-bottom"]=!0,t["margin-left"]=!0,t["margin-right"]=!0,t["margin-top"]=!0,t["marker-offset"]=!1,t["marker-side"]=!1,t.marks=!1,t.mask=!1,t["mask-box"]=!1,t["mask-box-outset"]=!1,t["mask-box-repeat"]=!1,t["mask-box-slice"]=!1,t["mask-box-source"]=!1,t["mask-box-width"]=!1,t["mask-clip"]=!1,t["mask-image"]=!1,t["mask-origin"]=!1,t["mask-position"]=!1,t["mask-repeat"]=!1,t["mask-size"]=!1,t["mask-source-type"]=!1,t["mask-type"]=!1,t["max-height"]=!0,t["max-lines"]=!1,t["max-width"]=!0,t["min-height"]=!0,t["min-width"]=!0,t["move-to"]=!1,t["nav-down"]=!1,t["nav-index"]=!1,t["nav-left"]=!1,t["nav-right"]=!1,t["nav-up"]=!1,t["object-fit"]=!1,t["object-position"]=!1,t.opacity=!1,t.order=!1,t.orphans=!1,t.outline=!1,t["outline-color"]=!1,t["outline-offset"]=!1,t["outline-style"]=!1,t["outline-width"]=!1,t.overflow=!1,t["overflow-wrap"]=!1,t["overflow-x"]=!1,t["overflow-y"]=!1,t.padding=!0,t["padding-bottom"]=!0,t["padding-left"]=!0,t["padding-right"]=!0,t["padding-top"]=!0,t.page=!1,t["page-break-after"]=!1,t["page-break-before"]=!1,t["page-break-inside"]=!1,t["page-policy"]=!1,t.pause=!1,t["pause-after"]=!1,t["pause-before"]=!1,t.perspective=!1,t["perspective-origin"]=!1,t.pitch=!1,t["pitch-range"]=!1,t["play-during"]=!1,t.position=!1,t["presentation-level"]=!1,t.quotes=!1,t["region-fragment"]=!1,t.resize=!1,t.rest=!1,t["rest-after"]=!1,t["rest-before"]=!1,t.richness=!1,t.right=!1,t.rotation=!1,t["rotation-point"]=!1,t["ruby-align"]=!1,t["ruby-merge"]=!1,t["ruby-position"]=!1,t["shape-image-threshold"]=!1,t["shape-outside"]=!1,t["shape-margin"]=!1,t.size=!1,t.speak=!1,t["speak-as"]=!1,t["speak-header"]=!1,t["speak-numeral"]=!1,t["speak-punctuation"]=!1,t["speech-rate"]=!1,t.stress=!1,t["string-set"]=!1,t["tab-size"]=!1,t["table-layout"]=!1,t["text-align"]=!0,t["text-align-last"]=!0,t["text-combine-upright"]=!0,t["text-decoration"]=!0,t["text-decoration-color"]=!0,t["text-decoration-line"]=!0,t["text-decoration-skip"]=!0,t["text-decoration-style"]=!0,t["text-emphasis"]=!0,t["text-emphasis-color"]=!0,t["text-emphasis-position"]=!0,t["text-emphasis-style"]=!0,t["text-height"]=!0,t["text-indent"]=!0,t["text-justify"]=!0,t["text-orientation"]=!0,t["text-overflow"]=!0,t["text-shadow"]=!0,t["text-space-collapse"]=!0,t["text-transform"]=!0,t["text-underline-position"]=!0,t["text-wrap"]=!0,t.top=!1,t.transform=!1,t["transform-origin"]=!1,t["transform-style"]=!1,t.transition=!1,t["transition-delay"]=!1,t["transition-duration"]=!1,t["transition-property"]=!1,t["transition-timing-function"]=!1,t["unicode-bidi"]=!1,t["vertical-align"]=!1,t.visibility=!1,t["voice-balance"]=!1,t["voice-duration"]=!1,t["voice-family"]=!1,t["voice-pitch"]=!1,t["voice-range"]=!1,t["voice-rate"]=!1,t["voice-stress"]=!1,t["voice-volume"]=!1,t.volume=!1,t["white-space"]=!1,t.widows=!1,t.width=!0,t["will-change"]=!1,t["word-break"]=!0,t["word-spacing"]=!0,t["word-wrap"]=!0,t["wrap-flow"]=!1,t["wrap-through"]=!1,t["writing-mode"]=!1,t["z-index"]=!1,t}var p=/javascript\s*\:/img;d.whiteList=c(),d.getDefaultWhiteList=c,d.onAttr=function(t,r,i){},d.onIgnoreAttr=function(t,r,i){},d.safeAttrValue=function(t,r){return p.test(r)?"":r};var h={trim:function(t){return String.prototype.trim?t.trim():t.replace(/(^\s*)|(\s*$)/g,"")},trimRight:function(t){return String.prototype.trimRight?t.trimRight():t.replace(/(\s*$)/g,"")}},f=function(t,r){";"!==(t=h.trimRight(t))[t.length-1]&&(t+=";");var i=t.length,s=!1,o=0,a=0,u="";function d(){if(!s){var i=h.trim(t.slice(o,a)),d=i.indexOf(":");if(-1!==d){var c=h.trim(i.slice(0,d)),p=h.trim(i.slice(d+1));if(c){var f=r(o,u.length,c,p,i);f&&(u+=f+"; ")}}}o=a+1}for(;a<i;a++){var c=t[a];if("/"===c&&"*"===t[a+1]){var p=t.indexOf("*/",a+2);if(-1===p)break;o=(a=p+1)+1,s=!1}else"("===c?s=!0:")"===c?s=!1:";"===c?s||d():"\n"===c&&d()}return h.trim(u)};function y(t){(t=function(t){var r={};for(var i in t)r[i]=t[i];return r}(t||{})).whiteList=t.whiteList||d.whiteList,t.onAttr=t.onAttr||d.onAttr,t.onIgnoreAttr=t.onIgnoreAttr||d.onIgnoreAttr,t.safeAttrValue=t.safeAttrValue||d.safeAttrValue,this.options=t}y.prototype.process=function(t){if(!(t=(t=t||"").toString()))return"";var r=this.options,i=r.whiteList,s=r.onAttr,o=r.onIgnoreAttr,a=r.safeAttrValue;return f(t,function(t,r,u,d,c){var p=i[u],h=!1;if(!0===p?h=p:"function"==typeof p?h=p(d):p instanceof RegExp&&(h=p.test(d)),!0!==h&&(h=!1),d=a(u,d)){var f={position:r,sourcePosition:t,source:c,isWhite:h};if(h){var y,m=s(u,d,f);return null==m?u+":"+d:m}var g,m=o(u,d,f);if(null!=m)return m}})},!function(t,r){for(var i in(r=t.exports=function(t,r){return new y(r).process(t)}).FilterCSS=y,d)r[i]=d[i]}(u,u.exports);var m=u.exports,g={indexOf:function(t,r){var i,s;if(Array.prototype.indexOf)return t.indexOf(r);for(i=0,s=t.length;i<s;i++)if(t[i]===r)return i;return -1},forEach:function(t,r,i){var s,o;if(Array.prototype.forEach)return t.forEach(r,i);for(s=0,o=t.length;s<o;s++)r.call(i,t[s],s,t)},trim:function(t){return String.prototype.trim?t.trim():t.replace(/(^\s*)|(\s*$)/g,"")},spaceIndex:function(t){var r=/\s|\n|\t/.exec(t);return r?r.index:-1}},_=m.FilterCSS,v=m.getDefaultWhiteList;function w(){return{a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","crossorigin","loop","muted","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],figcaption:[],figure:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height"],ins:["datetime"],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],summary:[],sup:[],strong:[],strike:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:["autoplay","controls","crossorigin","loop","muted","playsinline","poster","preload","src","height","width"]}}var b=new _;function M(t){return t.replace(S,"&lt;").replace(A,"&gt;")}var S=/</g,A=/>/g,T=/"/g,x=/&quot;/g,E=/&#([a-zA-Z0-9]*);?/gim,I=/&colon;?/gim,C=/&newline;?/gim,R=/((j\s*a\s*v\s*a|v\s*b|l\s*i\s*v\s*e)\s*s\s*c\s*r\s*i\s*p\s*t\s*|m\s*o\s*c\s*h\s*a):/gi,O=/e\s*x\s*p\s*r\s*e\s*s\s*s\s*i\s*o\s*n\s*\(.*/gi,P=/u\s*r\s*l\s*\(.*/gi;function N(t){return t.replace(T,"&quot;")}function k(t){return t.replace(x,'"')}function L(t){return t.replace(E,function(t,r){return"x"===r[0]||"X"===r[0]?String.fromCharCode(parseInt(r.substr(1),16)):String.fromCharCode(parseInt(r,10))})}function F(t){return t.replace(I,":").replace(C," ")}function Z(t){for(var r="",i=0,s=t.length;i<s;i++)r+=32>t.charCodeAt(i)?" ":t.charAt(i);return g.trim(r)}function D(t){return t=Z(t=F(t=L(t=k(t))))}function j(t){return t=M(t=N(t))}a.whiteList=w(),a.getDefaultWhiteList=w,a.onTag=function(t,r,i){},a.onIgnoreTag=function(t,r,i){},a.onTagAttr=function(t,r,i){},a.onIgnoreTagAttr=function(t,r,i){},a.safeAttrValue=function(t,r,i,s){if(i=D(i),"href"===r||"src"===r){if("#"===(i=g.trim(i)))return"#";if("http://"!==i.substr(0,7)&&"https://"!==i.substr(0,8)&&"mailto:"!==i.substr(0,7)&&"tel:"!==i.substr(0,4)&&"data:image/"!==i.substr(0,11)&&"ftp://"!==i.substr(0,6)&&"./"!==i.substr(0,2)&&"../"!==i.substr(0,3)&&"#"!==i[0]&&"/"!==i[0])return""}else if("background"===r){if(R.lastIndex=0,R.test(i))return""}else if("style"===r){if(O.lastIndex=0,O.test(i)||(P.lastIndex=0,P.test(i)&&(R.lastIndex=0,R.test(i))))return"";!1!==s&&(i=(s=s||b).process(i))}return i=j(i)},a.escapeHtml=M,a.escapeQuote=N,a.unescapeQuote=k,a.escapeHtmlEntities=L,a.escapeDangerHtml5Entities=F,a.clearNonPrintableCharacter=Z,a.friendlyAttrValue=D,a.escapeAttrValue=j,a.onIgnoreTagStripAll=function(){return""},a.StripTagBody=function(t,r){"function"!=typeof r&&(r=function(){});var i=!Array.isArray(t),s=[],o=!1;return{onIgnoreTag:function(a,u,d){if(i?0:-1===g.indexOf(t,a))return r(a,u,d);if(!d.isClosing)return o||(o=d.position),"[removed]";var c="[/removed]",p=d.position+c.length;return s.push([!1!==o?o:d.position,p]),o=!1,c},remove:function(t){var r="",i=0;return g.forEach(s,function(s){r+=t.slice(i,s[0]),i=s[1]}),r+=t.slice(i)}}},a.stripCommentTag=function(t){for(var r="",i=0;i<t.length;){var s=t.indexOf("\x3c!--",i);if(-1===s){r+=t.slice(i);break}r+=t.slice(i,s);var o=t.indexOf("--\x3e",s);if(-1===o)break;i=o+3}return r},a.stripBlankChar=function(t){var r=t.split("");return(r=r.filter(function(t){var r=t.charCodeAt(0);return 127!==r&&(!(r<=31)||10===r||13===r)})).join("")},a.cssFilter=b,a.getDefaultCSSWhiteList=v;var U={},V=/[^a-zA-Z0-9\\_:.-]/gim;function z(t){return'"'===t[0]&&'"'===t[t.length-1]||"'"===t[0]&&"'"===t[t.length-1]?t.substr(1,t.length-2):t}U.parseTag=function(t,r,i){var s="",o=0,a=!1,u=!1,d=0,c=t.length,p="",h="";e:for(d=0;d<c;d++){var f=t.charAt(d);if(!1===a){if("<"===f){a=d;continue}}else if(!1===u){if("<"===f){s+=i(t.slice(o,d)),a=d,o=d;continue}if(">"===f){s+=i(t.slice(o,a)),p=function(t){var r,i=g.spaceIndex(t);return r=-1===i?t.slice(1,-1):t.slice(1,i+1),"/"===(r=g.trim(r).toLowerCase()).slice(0,1)&&(r=r.slice(1)),"/"===r.slice(-1)&&(r=r.slice(0,-1)),r}(h=t.slice(a,d+1)),s+=r(a,s.length,p,h,"</"===h.slice(0,2)),o=d+1,a=!1;continue}if('"'===f||"'"===f)for(var y=1,m=t.charAt(d-y);""===m.trim()||"="===m;){if("="===m){u=f;continue e}m=t.charAt(d-++y)}}else if(f===u){u=!1;continue}}return o<t.length&&(s+=i(t.substr(o))),s},U.parseAttr=function(t,r){var i=0,s=0,o=[],a=!1,u=t.length;function d(t,i){if(!((t=(t=g.trim(t)).replace(V,"").toLowerCase()).length<1)){var s=r(t,i||"");s&&o.push(s)}}for(var c=0;c<u;c++){var p,h,f=t.charAt(c);if(!1===a&&"="===f){a=t.slice(i,c),i=c+1,s='"'===t.charAt(i)||"'"===t.charAt(i)?i:function(t,r){for(;r<t.length;r++){var i=t[r];if(" "!==i){if("'"===i||'"'===i)return r;return -1}}}(t,c+1);continue}if(!1!==a&&c===s){if(-1===(h=t.indexOf(f,c+1)))break;d(a,g.trim(t.slice(s+1,h))),a=!1,i=(c=h)+1;continue}if(/\s|\n|\t/.test(f)){if(t=t.replace(/\s|\n|\t/g," "),!1===a){if(-1===(h=function(t,r){for(;r<t.length;r++){var i=t[r];if(" "!==i){if("="===i)return r;return -1}}}(t,c))){d(g.trim(t.slice(i,c))),a=!1,i=c+1;continue}c=h-1;continue}if(-1!==(h=function(t,r){for(;r>0;r--){var i=t[r];if(" "!==i){if("="===i)return r;return -1}}}(t,c-1)))continue;d(a,z(g.trim(t.slice(i,c)))),a=!1,i=c+1;continue}}return i<t.length&&(!1===a?d(t.slice(i)):d(a,z(g.trim(t.slice(i))))),g.trim(o.join(" "))};var G=m.FilterCSS,$=U.parseTag,B=U.parseAttr;function q(t){(t=function(t){var r={};for(var i in t)r[i]=t[i];return r}(t||{})).stripIgnoreTag&&(t.onIgnoreTag&&console.error('Notes: cannot use these two options "stripIgnoreTag" and "onIgnoreTag" at the same time'),t.onIgnoreTag=a.onIgnoreTagStripAll),t.whiteList||t.allowList?t.whiteList=function(t){var r={};for(var i in t)Array.isArray(t[i])?r[i.toLowerCase()]=t[i].map(function(t){return t.toLowerCase()}):r[i.toLowerCase()]=t[i];return r}(t.whiteList||t.allowList):t.whiteList=a.whiteList,t.onTag=t.onTag||a.onTag,t.onTagAttr=t.onTagAttr||a.onTagAttr,t.onIgnoreTag=t.onIgnoreTag||a.onIgnoreTag,t.onIgnoreTagAttr=t.onIgnoreTagAttr||a.onIgnoreTagAttr,t.safeAttrValue=t.safeAttrValue||a.safeAttrValue,t.escapeHtml=t.escapeHtml||a.escapeHtml,this.options=t,!1===t.css?this.cssFilter=!1:(t.css=t.css||{},this.cssFilter=new G(t.css))}q.prototype.process=function(t){if(!(t=(t=t||"").toString()))return"";var r=this.options,i=r.whiteList,s=r.onTag,o=r.onIgnoreTag,u=r.onTagAttr,d=r.onIgnoreTagAttr,c=r.safeAttrValue,p=r.escapeHtml,h=this.cssFilter;r.stripBlankChar&&(t=a.stripBlankChar(t)),r.allowCommentTag||(t=a.stripCommentTag(t));var f=!1;r.stripIgnoreTagBody&&(o=(f=a.StripTagBody(r.stripIgnoreTagBody,o)).onIgnoreTag);var y=$(t,function(t,r,a,f,y){var m,_,v={sourcePosition:t,position:r,isClosing:y,isWhite:Object.prototype.hasOwnProperty.call(i,a)},w=s(a,f,v);if(null!=w)return w;if(v.isWhite){if(v.isClosing)return"</"+a+">";var b=function(t){var r=g.spaceIndex(t);if(-1===r)return{html:"",closing:"/"===t[t.length-2]};var i="/"===(t=g.trim(t.slice(r+1,-1)))[t.length-1];return i&&(t=g.trim(t.slice(0,-1))),{html:t,closing:i}}(f),M=i[a],S=B(b.html,function(t,r){var i,s,o=-1!==g.indexOf(M,t),p=u(a,t,r,o);return null!=p?p:o?(r=c(a,t,r,h))?t+'="'+r+'"':t:null!=(p=d(a,t,r,o))?p:void 0});return f="<"+a,S&&(f+=" "+S),b.closing&&(f+=" /"),f+=">"}return null!=(w=o(a,f,v))?w:p(f)},p);return f&&(y=f.remove(y)),y},!function(t,r){function i(t,r){return new q(r).process(t)}for(var s in(r=t.exports=i).filterXSS=i,r.FilterXSS=q,a)r[s]=a[s];for(var o in U)r[o]=U[o];"undefined"!=typeof self&&"undefined"!=typeof DedicatedWorkerGlobalScope&&self instanceof DedicatedWorkerGlobalScope&&(self.filterXSS=t.exports)}(o,o.exports);var H=o.exports,W=function(t){if("object"!=typeof t||null===t||"[object Object]"!==Object.prototype.toString.call(t))return!1;var r=Object.getPrototypeOf(t);if(null===r)return!0;for(;null!==Object.getPrototypeOf(r);)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(t)===r},J=function(){function t(t,r){var i,o=this;this.arcgisWhiteList={a:["href","style","target"],abbr:["title"],article:["style"],aside:["style"],audio:["autoplay","controls","loop","muted","preload"],b:[],blockquote:["style"],br:[],code:["style"],dd:["style"],del:["style"],details:["open","style"],div:["align","aria-hidden","aria-label","style"],dl:["style"],dt:["style"],em:[],figcaption:["style"],figure:["style"],font:["color","face","size","style"],footer:["style"],h1:["style"],h2:["style"],h3:["style"],h4:["style"],h5:["style"],h6:["style"],header:["style"],hr:[],i:[],img:["alt","border","height","src","style","width"],li:[],main:["style"],mark:["style"],nav:["style"],ol:[],p:["style"],pre:["style"],section:["style"],source:["media","src","type"],span:["aria-hidden","aria-label","style"],strong:[],sub:["style"],summary:["style"],sup:["style"],table:["border","cellpadding","cellspacing","height","style","width"],tbody:[],tr:["align","height","style","valign"],td:["align","colspan","height","nowrap","rowspan","style","valign","width"],th:["align","colspan","height","nowrap","rowspan","style","valign","width"],time:["style"],u:[],ul:[],video:["autoplay","controls","height","loop","muted","poster","preload","width"]},this.arcgisCSSWhiteList=s(s({},H.getDefaultCSSWhiteList()),{"align-items":!0,"align-self":!0,flex:!0,"flex-basis":!0,"flex-direction":!0,"flex-flow":!0,"flex-grow":!0,"flex-shrink":!0,"flex-wrap":!0,float:!0,gap:!0,grid:!0,"grid-area":!0,"grid-auto-columns":!0,"grid-auto-flow":!0,"grid-auto-rows":!0,"grid-column":!0,"grid-column-end":!0,"grid-column-start":!0,"grid-row":!0,"grid-row-end":!0,"grid-row-start":!0,"grid-template":!0,"grid-template-areas":!0,"grid-template-columns":!0,"grid-template-rows":!0,"justify-content":!0,"justify-items":!0,"justify-self":!0,"line-height":!0,overflow:!0}),this.allowedProtocols=["http","https","mailto","iform","tel","flow","lfmobile","arcgis-navigator","arcgis-appstudio-player","arcgis-survey123","arcgis-collector","arcgis-workforce","arcgis-explorer","arcgis-trek2there","arcgis-quickcapture","mspbi","comgooglemaps","pdfefile","pdfehttp","pdfehttps","boxapp","boxemm","awb","awbs","gropen","radarscope"],this.arcgisFilterOptions={allowCommentTag:!0,safeAttrValue:function(t,r,i,s){return"a"===t&&"href"===r||("img"===t||"source"===t)&&"src"===r?o.sanitizeUrl(i):H.safeAttrValue(t,r,i,s)}},this._entityMap={"&":"&#x38;","<":"&#x3C;",">":"&#x3E;",'"':"&#x22;","'":"&#x27;","/":"&#x2F;"},t&&!r?i=t:t&&r?((i=Object.create(this.arcgisFilterOptions)).css={whiteList:this.arcgisCSSWhiteList},Object.keys(t).forEach(function(r){if("whiteList"===r)i.whiteList=o._extendObjectOfArrays([o.arcgisWhiteList,t.whiteList||{}]);else if("css"===r){var s=t.css.whiteList;null!=s&&t.css instanceof Object&&Object.keys(s).forEach(function(t){return i.css.whiteList[t]=s[t]})}else i[r]=t[r]})):((i=Object.create(this.arcgisFilterOptions)).whiteList=this.arcgisWhiteList,i.css={whiteList:this.arcgisCSSWhiteList}),this.xssFilterOptions=i,this._xssFilter=new H.FilterXSS(i)}return t.prototype.sanitize=function(t,r){switch(void 0===r&&(r={}),typeof t){case"number":if(isNaN(t)||!isFinite(t))return null;return t;case"boolean":return t;case"string":return this._xssFilter.process(t);case"object":return this._iterateOverObject(t,r);default:if(r.allowUndefined&&void 0===t)return;return null}},t.prototype.sanitizeUrl=function(t,r){var i=(null!=r?r:{}).isProtocolRequired,s=this._trim(t.substring(0,t.indexOf(":"))),o="/"===t,a=/^#/.test(t),u=s&&this.allowedProtocols.indexOf(s.toLowerCase())>-1;return o||a||u?H.escapeAttrValue(t):s||void 0===i||i?"":H.escapeAttrValue("https://".concat(t))},t.prototype.sanitizeHTMLAttribute=function(t,r,i,s){return"function"==typeof this.xssFilterOptions.safeAttrValue?this.xssFilterOptions.safeAttrValue(t,r,i,s):H.safeAttrValue(t,r,i,s)},t.prototype.validate=function(t,r){void 0===r&&(r={});var i=this.sanitize(t,r);return{isValid:t===i,sanitized:i}},t.prototype.encodeHTML=function(t){var r=this;return String(t).replace(/[&<>"'\/]/g,function(t){return r._entityMap[t]})},t.prototype.encodeAttrValue=function(t){var r=/^[a-zA-Z0-9]$/;return String(t).replace(/[\x00-\xFF]/g,function(i,s){return r.test(i)?i:"&#x".concat(Number(t.charCodeAt(s)).toString(16),";")})},t.prototype._extendObjectOfArrays=function(t){var r={};return t.forEach(function(t){Object.keys(t).forEach(function(i){Array.isArray(t[i])&&Array.isArray(r[i])?r[i]=r[i].concat(t[i]):r[i]=t[i]})}),r},t.prototype._iterateOverObject=function(t,r){var i=this;void 0===r&&(r={});try{var s=!1,o=void 0;if(Array.isArray(t))o=t.reduce(function(t,o){var a=i.validate(o,r);return a.isValid?t.concat([o]):(s=!0,t.concat([a.sanitized]))},[]);else if(W(t))o=Object.keys(t).reduce(function(o,a){var u=t[a],d=i.validate(u,r);return d.isValid?o[a]=u:(s=!0,o[a]=d.sanitized),o},{});else{if(r.allowUndefined&&void 0===t)return;return null}if(s)return o;return t}catch(t){return null}},t.prototype._trim=function(t){return String.prototype.trim?t.trim():t.replace(/(^\s*)|(\s*$)/g,"")},t}(),K=i(74422),Y=i(19158);i(57845),i(61939);var X,Q,ee=i(92753),et=i(45257),er=i(77089),ei=i(86903),en=function(t){if("WebkitTransition"in t.style)X="webkitTransitionEnd";else{if(!("transition"in t.style))throw Error("Your browser is not supported!");X="transitionend"}};function es(...t){let r=K.A.acquire();for(let i=0;i<t.length;i++){let s=t[i],o=typeof s;if("string"===o)r.push(s);else if(Array.isArray(s))r.push.apply(r,s);else if("object"===o)for(let t in s)s[t]&&r.push(t)}let i=r.join(" ");return K.A.release(r),i}function eo(t){let r=t?.closest("[dir]");return null!==r&&r instanceof HTMLElement&&"rtl"===r.dir||"rtl"===document.dir}function ea(t){this[t.getAttribute("data-node-ref")]=null}function el(t){this[t.getAttribute("data-node-ref")]=t}(()=>{let t=new Map,r=new ResizeObserver(r=>{for(let i of((0,ei.Sh)(),r))t.get(i.target)?.(i)}),i=(i,s,o)=>(t.set(i,s),r.observe(i,o),(0,Y.hA)(()=>{r.unobserve(i),t.delete(i)}));return(t,r,s)=>{let o=null;return(0,Y.vE)([(0,et.wB)(()=>"function"==typeof t?t():t,t=>{o?.remove(),t&&(o=i(t,r,s))},et.pc),(0,Y.hA)(()=>o?.remove())])}})();let eu=["dd","dl","dt","h1","h2","h3","h4","h5","h6","sub","sup","animate","animatetransform","circle","clippath","defs","ellipse","g","image","line","lineargradient","marker","mask","path","pattern","polygon","polyline","radialgradient","rect","stop","svg","switch","symbol","text","textpath","tspan","use"].reduce((t,r)=>(t[r]=[],t),{}),ed=["align","alink","alt","bgcolor","border","cellpadding","cellspacing","class","color","cols","colspan","coords","d","dir","face","height","hspace","ismap","lang","marginheight","marginwidth","multiple","nohref","noresize","noshade","nowrap","ref","rel","rev","rows","rowspan","scrolling","shape","span","summary","tabindex","title","usemap","valign","value","vlink","vspace","width"],ec=new J({whiteList:eu,onTagAttr:(t,r,i)=>{let s=`${r}="${i}"`;if(ed.includes(r))return s},stripIgnoreTag:!0,stripIgnoreTagBody:["script","style"]},!0);function ep(t){return"Enter"===t||" "===t}async function eh(t,r){await (0,er.$m)((0,ee.Mq)(r));let i="function"==typeof t?t():t;i&&("setFocus"in i&&"function"==typeof i.setFocus?await i.setFocus():i instanceof HTMLElement&&i.focus())}},41438:(t,r,i)=>{function s(t){return"string"==typeof t?document.getElementById(t):t??null}function o(t,r){for(;;){let i=t.firstChild;if(!i)break;r.appendChild(i)}}i.d(r,{$:()=>s,y:()=>o})},41759:(t,r,i)=>{let s;i.d(r,{Cn:()=>I,Gs:()=>C,iS:()=>S,rs:()=>x,wB:()=>E});var o,a=i(74422),u=i(19158),d=i(33715),c=i(25045),p=i(77089),h=i(82558),f=i(54635),y=i(84588),m=i(63188),g=i(17058),_=i(30225);!function(t){t[t.Untracked=0]="Untracked",t[t.Tracked=1]="Tracked"}(o||(o={}));class v{constructor(){this.uid=(0,f.c)(),this.removed=!1,this.type=null,this.oldValue=null,this.callback=null,this.getValue=null,this.target=null,this.path=null,this.equals=null}static acquireUntracked(t,r,i,s,a){return this.pool.acquire(o.Untracked,t,r,i,s,a,d.aI)}static acquireTracked(t,r,i,s){return this.pool.acquire(o.Tracked,t,r,i,null,null,s)}notify(t,r){this.type===o.Untracked?this.callback.call(this.target,t,r,this.path,this.target):this.callback.call(null,t,r,void 0,void 0)}acquire(t,r,i,s,o,a,u){this.uid=(0,f.c)(),this.removed=!1,this.type=t,this.oldValue=r,this.callback=i,this.getValue=s,this.target=o,this.path=a,this.equals=u}release(){this.target=this.path=this.oldValue=this.callback=this.getValue=null,this.uid=(0,f.c)(),this.removed=!0}}v.pool=new c.P(v);let w=new a.A,b=new Set;function M(t){b.delete(t),b.add(t),s||(s=(0,p._)(A))}function S(t){for(let r of b.values())r.target===t&&(r.removed=!0)}function A(){let t=10;for(;s&&t--;){s=null;let t=function(){let t=w.acquire();t.length=b.size;let r=0;for(let i of b)t[r]=i,++r;return b.clear(),t}(),r=w.acquire();for(let i of t){let t=i.uid;(function(t){if(t.removed)return;let r=t.oldValue,i=t.getValue();t.equals(r,i)||(t.oldValue=i,t.notify(i,r))})(i),t===i.uid&&i.removed&&r.push(i)}for(let t of b)t.removed&&(r.push(t),b.delete(t));for(let t of r)v.pool.release(t);w.release(r),w.release(t),T.forEach(t=>t())}}let T=new Set;function x(t){return T.add(t),(0,u.hA)(()=>T.delete(t))}function E(t,r,i,s=!1){let o;return t.__accessor__&&t.__accessor__.lifecycle!==m.v.DESTROYED?s?function(t,r,i){let s=(0,_.qg)(t,r,i,(t,r,i)=>{let o=!1;return(0,g.mJ)(()=>(0,y.RP)(t,r),(a,u)=>{t.__accessor__.lifecycle!==m.v.DESTROYED?o||(o=!0,(0,d.aI)(u,a)||i.call(t,a,u,r,t),o=!1):s.remove()})});return s}(t,r,i):o=(0,_.qg)(t,r,i,(t,r,i)=>{let s,a,d=(0,g.Df)(()=>(0,y.RP)(t,r),(u,d)=>{t.__accessor__?.lifecycle===m.v.DESTROYED||s&&s.uid!==a?o.remove():(s||(a=(s=v.acquireUntracked(u,i,d,t,r)).uid),M(s))});return(0,u.hA)(()=>{d.remove(),s&&(s.uid!==a||s.removed||(s.removed=!0,M(s)),s=null),o=d=null})}):(0,u.hA)()}function I(t,r,i=!1,s=d.gh){let o,a,c,p;return i?(o=!1,(0,g.mJ)(t,(t,i)=>{o||(o=!0,s(i,t)||r(t,i),o=!1)})):(p=(0,g.Df)(t,(t,i)=>{a&&a.uid!==c?p.remove():(a||(c=(a=v.acquireTracked(t,r,i,s)).uid),M(a))}),(0,u.hA)(()=>{p.remove(),a&&(a.uid!==c||a.removed||(a.removed=!0,M(a)),a=null),p=null}))}function C(t){return(0,h.bw)(b,r=>r.oldValue===t)}},41846:(t,r,i)=>{i.d(r,{A:()=>c});var s=i(81856),o=i(92713),a=i(91838);i(57845),i(61939),i(33638);var u=i(12709);let d=class extends o.A{constructor(t){super(t),this.type="style"}clone(){throw Error("Subclasses of Pattern3D should implement their own clone method.")}};(0,s._)([(0,a.MZ)({type:["style"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],d.prototype,"type",void 0);let c=d=(0,s._)([(0,u.$)("esri.symbols.patterns.Pattern3D")],d)},41989:(t,r,i)=>{i.d(r,{A:()=>g});var s,o=i(81856),a=i(33715),u=i(55048),d=i(91838);i(57845),i(61939);var c=i(33498),p=i(53480),h=i(12709),f=i(1681),y=i(73845);let m=s=class extends f.A{constructor(...t){super(...t),this.color=null,this.type="picture-marker",this.url=null,this.source=null,this.height=12,this.width=12,this.size=null}normalizeCtorArgs(t,r,i){if(t&&"string"!=typeof t&&null==t.imageData)return t;let s={};return t&&(s.url=t),null!=r&&(s.width=(0,u.cr)(r)),null!=i&&(s.height=(0,u.cr)(i)),s}readHeight(t,r){return r.size||t}readWidth(t,r){return r.size||t}clone(){let t=new s({angle:this.angle,height:this.height,url:this.url,width:this.width,xoffset:this.xoffset,yoffset:this.yoffset});return t._set("source",(0,a.o8)(this.source)),t}hash(){return`${super.hash()}.${this.height}.${this.url}.${this.width}`}};(0,o._)([(0,d.MZ)({json:{write:!1}})],m.prototype,"color",void 0),(0,o._)([(0,c.e)({esriPMS:"picture-marker"},{readOnly:!0})],m.prototype,"type",void 0),(0,o._)([(0,d.MZ)(y.ku)],m.prototype,"url",void 0),(0,o._)([(0,d.MZ)(y.k7)],m.prototype,"source",void 0),(0,o._)([(0,d.MZ)({type:Number,cast:u.cr,json:{write:!0}})],m.prototype,"height",void 0),(0,o._)([(0,p.w)("height",["height","size"])],m.prototype,"readHeight",null),(0,o._)([(0,d.MZ)({type:Number,cast:u.cr,json:{write:!0}})],m.prototype,"width",void 0),(0,o._)([(0,d.MZ)({json:{write:!1}})],m.prototype,"size",void 0);let g=m=s=(0,o._)([(0,h.$)("esri.symbols.PictureMarkerSymbol")],m)},42108:(t,r,i)=>{i.d(r,{k:()=>o});var s=i(44151);function o(t,r,i){r.keys().forEach(t=>{i.set(t,r.get(t),s.Gr.DEFAULTS)}),Object.keys(t.metadata).forEach(r=>{t.internalGet(r)&&i.set(r,t.internalGet(r),s.Gr.DEFAULTS)})}},42643:(t,r,i)=>{i.d(r,{A:()=>p});var s,o=i(81856),a=i(91838);i(57845),i(61939),i(33638);var u=i(12709),d=i(55630);let c=s=class extends d.A{constructor(t){super(t),this.image=null,this.type="button"}clone(){return new s({active:this.active,className:this.className,disabled:this.disabled,icon:this.icon,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible,image:this.image})}};(0,o._)([(0,a.MZ)()],c.prototype,"image",void 0);let p=c=s=(0,o._)([(0,u.$)("esri.support.actions.ActionButton")],c)},42733:(t,r,i)=>{i.d(r,{l:()=>f});var s=i(81856),o=i(54335),a=i(61096),u=i(61939),d=i(91838);i(57845),i(33638);var c=i(12709);let p=new Set(["feature","subtype-group"]);function h(t,r,i){if(t)for(let s=0,o=t.length;s<o;s++){let o=t.at(s);if(o[r]===i)return o;if("group"===o?.type){let t=h(o.tables,r,i);if(t)return t}}}let f=t=>{let r=class extends t{constructor(...t){super(...t),this.tables=new o.A,this.addHandles([this.tables.on("after-add",t=>{let r=t.item;r.parent&&r.parent!==this&&"tables"in r.parent&&r.parent.tables.remove(r),r.parent=this,p.has(r.type)||u.A.getLogger(this).error(`Layer 'title:${r.title}, id:${r.id}' of type '${r.type}' is not supported as a table and will therefore be ignored.`)}),this.tables.on("after-remove",t=>{t.item.parent=null})])}destroy(){for(let t of this.tables.toArray())t.destroy();this.tables.destroy()}set tables(t){this._set("tables",(0,a.V)(t,this._get("tables")))}findTableById(t){return h(this.tables,"id",t)}findTableByUid(t){return h(this.tables,"uid",t)}};return(0,s._)([(0,d.MZ)()],r.prototype,"tables",null),r=(0,s._)([(0,c.$)("esri.support.TablesMixin")],r)}},42845:(t,r,i)=>{i.d(r,{BI:()=>D,DC:()=>m,ES:()=>F,Ej:()=>x,Hq:()=>_,Ie:()=>L,Jf:()=>v,Jt:()=>Z,KG:()=>I,Ne:()=>P,RF:()=>y,Rz:()=>p,Uc:()=>E,VL:()=>b,_F:()=>A,aI:()=>V,cY:()=>C,fA:()=>d,fT:()=>U,gE:()=>h,gX:()=>T,hZ:()=>k,hs:()=>R,iT:()=>g,is:()=>j,pg:()=>O,qv:()=>z,uJ:()=>S,vI:()=>N,vQ:()=>w,vY:()=>c,v_:()=>G,vt:()=>u,w1:()=>f,yr:()=>M});var s=i(61414),o=i(84766),a=i(40200);function u(t=G){return[t[0],t[1],t[2],t[3],t[4],t[5]]}function d(t,r,i,s,o,a,c=u()){return c[0]=t,c[1]=r,c[2]=i,c[3]=s,c[4]=o,c[5]=a,c}function c(t,r=u()){return p(t,0,t.length/3,r)}function p(t,r,i,s=u()){return k(s,z),_(s,t,r,i),s}function h(t,r=(0,a.jh)(24)){let[i,s,o,u,d,c]=t;return r[0]=i,r[1]=s,r[2]=o,r[3]=i,r[4]=s,r[5]=c,r[6]=i,r[7]=d,r[8]=o,r[9]=i,r[10]=d,r[11]=c,r[12]=u,r[13]=s,r[14]=o,r[15]=u,r[16]=s,r[17]=c,r[18]=u,r[19]=d,r[20]=o,r[21]=u,r[22]=d,r[23]=c,r}function f(t,r){let i=isFinite(t[2])||isFinite(t[5]);return new s.A(i?{xmin:t[0],xmax:t[3],ymin:t[1],ymax:t[4],zmin:t[2],zmax:t[5],spatialReference:r}:{xmin:t[0],xmax:t[3],ymin:t[1],ymax:t[4],spatialReference:r})}function y(t,r){t[0]=Math.min(t[0],r[0]),t[1]=Math.min(t[1],r[1]),t[2]=Math.min(t[2],r[2]),t[3]=Math.max(t[3],r[3]),t[4]=Math.max(t[4],r[4]),t[5]=Math.max(t[5],r[5])}function m(t,r){t[0]=Math.min(t[0],r[0]),t[1]=Math.min(t[1],r[1]),t[3]=Math.max(t[3],r[2]),t[4]=Math.max(t[4],r[3])}function g(t,r){t[0]=Math.min(t[0],r[0]),t[1]=Math.min(t[1],r[1]),t[2]=Math.min(t[2],r[2]),t[3]=Math.max(t[3],r[0]),t[4]=Math.max(t[4],r[1]),t[5]=Math.max(t[5],r[2])}function _(t,r,i=0,s=r.length/3){let o=t[0],a=t[1],u=t[2],d=t[3],c=t[4],p=t[5];for(let t=0;t<s;t++)o=Math.min(o,r[i+3*t]),a=Math.min(a,r[i+3*t+1]),u=Math.min(u,r[i+3*t+2]),d=Math.max(d,r[i+3*t]),c=Math.max(c,r[i+3*t+1]),p=Math.max(p,r[i+3*t+2]);t[0]=o,t[1]=a,t[2]=u,t[3]=d,t[4]=c,t[5]=p}function v(t,r,i){let s=r.length,o=t[0],a=t[1],u=t[2],d=t[3],c=t[4],p=t[5];if(i)for(let t=0;t<s;t++){let i=r[t];o=Math.min(o,i[0]),a=Math.min(a,i[1]),u=Math.min(u,i[2]),d=Math.max(d,i[0]),c=Math.max(c,i[1]),p=Math.max(p,i[2])}else for(let t=0;t<s;t++){let i=r[t];o=Math.min(o,i[0]),a=Math.min(a,i[1]),d=Math.max(d,i[0]),c=Math.max(c,i[1])}t[0]=o,t[1]=a,t[2]=u,t[3]=d,t[4]=c,t[5]=p}function w(t){for(let r=0;r<6;r++)if(!isFinite(t[r]))return!1;return!0}function b(t){return t[0]>=t[3]?0:t[3]-t[0]}function M(t){return t[1]>=t[4]?0:t[4]-t[1]}function S(t){return t[2]>=t[5]?0:t[5]-t[2]}function A(t){let r=b(t),i=S(t),s=M(t);return Math.sqrt(r*r+i*i+s*s)}function T(t,r=[0,0,0]){return r[0]=t[0]+b(t)/2,r[1]=t[1]+M(t)/2,r[2]=t[2]+S(t)/2,r}function x(t,r=[0,0,0]){return r[0]=b(t),r[1]=M(t),r[2]=S(t),r}function E(t,r){return r[0]>=t[0]&&r[1]>=t[1]&&r[2]>=t[2]&&r[0]<=t[3]&&r[1]<=t[4]&&r[2]<=t[5]}function I(t,r){return null==r||Math.max(r[0],t[0])<=Math.min(r[3],t[3])&&Math.max(r[1],t[1])<=Math.min(r[4],t[4])&&Math.max(r[2],t[2])<=Math.min(r[5],t[5])}function C(t,r,i,s,o=t){return o[0]=t[0]+r,o[1]=t[1]+i,o[2]=t[2]+s,o[3]=t[3]+r,o[4]=t[4]+i,o[5]=t[5]+s,o}function R(t,r,i=t){let s=t[0]+b(t)/2,o=t[1]+M(t)/2,a=t[2]+S(t)/2;return i[0]=s+(t[0]-s)*r,i[1]=o+(t[1]-o)*r,i[2]=a+(t[2]-a)*r,i[3]=s+(t[3]-s)*r,i[4]=o+(t[4]-o)*r,i[5]=a+(t[5]-a)*r,i}function O(t,r){return r[0]=t[0],r[1]=t[1],r[2]=t[2],r}function P(t,r,i=t){return i[0]=r[0],i[1]=r[1],i[2]=r[2],i!==t&&(i[3]=t[3],i[4]=t[4],i[5]=t[5]),i}function N(t,r,i=t){return i[3]=r[0],i[4]=r[1],i[5]=r[2],i!==t&&(i[0]=t[0],i[1]=t[1],i[2]=t[2]),t}function k(t,r){return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t}function L(t){return t?k(t,z):u(z)}function F(t,r){return r||(r=(0,o.vt)()),r[0]=t[0],r[1]=t[1],r[2]=t[3],r[3]=t[4],r}function Z(t,r){return t[0]=r[0],t[1]=r[1],t[2]=Number.NEGATIVE_INFINITY,t[3]=r[2],t[4]=r[3],t[5]=Number.POSITIVE_INFINITY,t}function D(t,r,i,s,o){return t[0]=r,t[1]=i,t[2]=Number.NEGATIVE_INFINITY,t[3]=s,t[4]=o,t[5]=Number.POSITIVE_INFINITY,t}function j(t){return 6===t.length}function U(t){return 0===b(t)&&0===M(t)&&0===S(t)}function V(t,r,i){if(null==t||null==r)return t===r;if(!j(t)||!j(r))return!1;if(i){for(let s=0;s<t.length;s++)if(!i(t[s],r[s]))return!1}else for(let i=0;i<t.length;i++)if(t[i]!==r[i])return!1;return!0}let z=[1/0,1/0,1/0,-1/0,-1/0,-1/0],G=[0,0,0,0,0,0];u()},42906:(t,r,i)=>{var s;i.d(r,{w:()=>s}),function(t){t[t.Left=0]="Left",t[t.Middle=1]="Middle",t[t.Right=2]="Right"}(s||(s={}))},43359:(t,r,i)=>{i.d(r,{CG:()=>f,U2:()=>_,dp:()=>v,jt:()=>h,oo:()=>y,rS:()=>g,sb:()=>m});var s=i(86942),o=i(59491),a=i(91766),u=i(35665),d=i(10416),c=i(20243),p=i(83072);let h=t=>"field"===t.type,f=t=>"group"===t.type,y=t=>"text"===t.type;function m(t){return{typesWithGroup:{base:a.A,key:"type",typeMap:{attachment:o.A,field:u.A,group:t,relationship:d.A,text:c.A,utilityNetworkAssociations:p.A}},typesWithoutGroup:{base:a.A,key:"type",typeMap:{attachment:o.A,field:u.A,relationship:d.A,text:c.A,utilityNetworkAssociations:p.A}}}}function g(t,r,i=!0){if(!t)return null;let s=i?r.typesWithGroup.typeMap:r.typesWithoutGroup.typeMap;return t.filter(t=>s[t.type]).map(t=>s[t.type].fromJSON(t))}function _(t,r,i=!0){if(!t)return null;let s=i?r.typesWithGroup.typeMap:r.typesWithoutGroup.typeMap;return t.filter(t=>s[t.type]).map(t=>t.toJSON())}function v(t,r,i=!0){return t?t.map(t=>(0,s.aq)(i?r.typesWithGroup:r.typesWithoutGroup,t)):null}},43602:(t,r,i)=>{function s(t){let r=t?.fieldsIndex,i="fromnetworksourceid",s="fromglobalid",o="fromterminalid",a="tonetworksourceid",u="toglobalid",d="toterminalid",c="status",p="associationtype",h="iscontentvisible",f="percentalong",y="globalid";return{fromNetworkSourceId:r?.get(i)?.name??i,fromGlobalId:r?.get(s)?.name??s,fromTerminalId:r?.get(o)?.name??o,toNetworkSourceId:r?.get(a)?.name??a,toGlobalId:r?.get(u)?.name??u,toTerminalId:r?.get(d)?.name??d,status:r?.get(c)?.name??c,associationType:r?.get(p)?.name??p,isContentVisible:r?.get(h)?.name??h,percentAlong:r?.get(f)?.name??f,globalId:r?.get(t?.globalIdField??y)?.name??y}}function o(t,r){if("feature"!==r.type&&"subtype-group"!==r.type||!r.url)return[];for(let i of"utilityNetworks"in t.map?t.map.utilityNetworks??[]:[])if(i.isUtilityLayer(r)){let t=r.fieldsIndex.get("assetgroup"),i=r.fieldsIndex.get("assettype");return[t?.name,i?.name].filter(t=>null!=t)}return[]}i.d(r,{E:()=>s,_:()=>o})},43650:(t,r,i)=>{i.d(r,{L:()=>d,g:()=>u});var s=i(83610),o=i(54335),a=i(31551);async function u(t,r){return await t.load(),d(t,r)}async function d(t,r){let i=[],u=(...t)=>{for(let r of t)null!=r&&(Array.isArray(r)?u(...r):o.A.isCollection(r)?r.forEach(t=>u(t)):a.A.isLoadable(r)&&i.push(r))};r(u);let d=null;if(await (0,s.Tj)(i,async t=>{var r;let i=await (0,s.Ke)("loadAll"in(r=t)&&"function"==typeof r.loadAll?t.loadAll():t.load());!1!==i.ok||d||(d=i)}),d)throw d.error;return t}},43778:(t,r,i)=>{i.r(r),i.d(r,{default:()=>eU});var s=i(81856),o=i(39267),a=i(39166),u=i(71017),d=i(54335),c=i(32391),p=i(33715),h=i(61939),f=i(40941),y=i(21892),m=i(34184),g=i(92753),_=i(97409),v=i(90525),w=i(91838),b=i(16352),M=i(53480),S=i(12709),A=i(7780),T=i(89800),x=i(9401),E=i(91463),I=i(64171),C=i(97135),R=i(57845),O=i(31551),P=i(5608),N=i(6675),k=i(86942);i(33638);var L=i(59106),F=i(61414),Z=i(87960),D=i(59879),j=i(95373),U=i(9723),V=i(49570);let z=0,G=class extends O.A.LoadableMixin(P.A.EsriPromiseMixin(d.A)){constructor(t){super(t),this._idToClientGraphic=null,this.type="memory"}load(t){let r=null!=t?t.signal:null;return this.addResolvingPromise(this._startWorker(r)),Promise.resolve(this)}destroy(){this._connection?.close(),this._connection=null}get _workerGeometryType(){let t=this.layer?.geometryType;return t?this._geometryTypeRequiresClientGraphicMapping(t)?"polygon":t:null}applyEdits(t){return this.load().then(()=>this._applyEdits(t))}openPorts(){return this.load().then(()=>this._connection.openPorts())}async queryFeatures(t,r={}){await this.load(r);let i=await this._connection.invoke("queryFeatures",t?t.toJSON():null,r);(0,U.q)(t,this.layer.spatialReference,i);let s=V.A.fromJSON(i);if(!this._requiresClientGraphicMapping())return s;let o=this.layer.objectIdField;for(let t of s.features){let r=t.attributes[o],i=this._idToClientGraphic.get(r);i&&(t.geometry=i.geometry)}return s.geometryType=this.layer.geometryType,s}async queryFeaturesJSON(t,r={}){if(this._requiresClientGraphicMapping())throw new c.A("query-features-json:unsupported","Cannot query in JSON format for client only geometry types (mesh and extent)");await this.load(r);let i=await this._connection.invoke("queryFeatures",t?t.toJSON():null,r);return(0,U.q)(t,this.layer.spatialReference,i),i}queryFeatureCount(t,r={}){return this.load(r).then(()=>this._connection.invoke("queryFeatureCount",t?t.toJSON():null,r))}queryObjectIds(t,r={}){return this.load(r).then(()=>this._connection.invoke("queryObjectIds",t?t.toJSON():null,r))}queryExtent(t,r={}){return this.load(r).then(()=>this._connection.invoke("queryExtent",t?t.toJSON():null,r)).then(t=>({count:t.count,extent:F.A.fromJSON(t.extent)}))}querySnapping(t,r={}){return this.load(r).then(()=>this._connection.invoke("querySnapping",t,r))}async queryAttributeBins(t,r={}){return await this.load(),this._connection.invoke("queryAttributeBins",t?.toJSON(),r)}async _applyEdits(t){if(!this._connection)throw new c.A("feature-layer-source:edit-failure","Memory source not loaded");let r=this.layer.objectIdField,i=null,s=[],o=[];await Promise.all([this._prepareClientMapping(t.addFeatures,null),this._prepareClientMapping(t.updateFeatures,null)]);let a=t=>"objectId"in t&&null!=t.objectId?t.objectId:"attributes"in t&&null!=t.attributes[r]?t.attributes[r]:null;if(t.addFeatures&&(i=this._prepareAddFeatures(t.addFeatures)),t.deleteFeatures)for(let r of t.deleteFeatures){let t=a(r);null!=t&&s.push(t)}let u=t.updateFeatures&&this._idToClientGraphic?new Map:null;if(t.updateFeatures){for(let r of t.updateFeatures)if(o.push(this._serializeFeature(r)),u){let t=a(r);null!=t&&u.set(t,r)}}(0,j.u)(i?i.features:null,o,this.layer.spatialReference);let{fullExtent:d,featureEditResults:p}=await this._connection.invoke("applyEdits",{adds:i?i.features:[],updates:o,deletes:s});return this.fullExtent=d,i&&i.finish(p.uidToObjectId),this._updateClientGraphicIds(u,p),this._createEditsResult(p)}async _prepareClientMapping(t,r){if("mesh"!==this._layerOrSourceGeometryType||null==t)return;let i=[];for(let{geometry:s}of t)null==s||"mesh"!==s.type||s.hasExtent||s.loaded||i.push(s.load({signal:r}));i.length&&await Promise.all(i)}_updateClientGraphicIds(t,r){if(this._idToClientGraphic){if(t)for(let i of r.updateResults){if(!i.success)continue;let r=t.get(i.objectId);null!=r&&this._addIdToClientGraphic(r)}for(let t of r.deleteResults)t.success&&this._idToClientGraphic.delete(t.objectId)}}_createEditsResult(t){return{addFeatureResults:t.addResults?t.addResults.map(this._createFeatureEditResult,this):[],updateFeatureResults:t.updateResults?t.updateResults.map(this._createFeatureEditResult,this):[],deleteFeatureResults:t.deleteResults?t.deleteResults.map(this._createFeatureEditResult,this):[],addAttachmentResults:[],updateAttachmentResults:[],deleteAttachmentResults:[]}}_createFeatureEditResult(t){let r=!0===t.success?null:t.error||{code:void 0,description:void 0};return{objectId:t.objectId,globalId:t.globalId,error:r?new c.A("feature-layer-source:edit-failure",r.description,{code:r.code}):null}}_prepareAddFeatures(t){let r=new Map,i=Array(t.length),s=null;for(let o=0;o<t.length;o++){let a=t[o],u=this._serializeFeature(a);s||null==a.geometry||(s=a.geometry.type),i[o]=u,r.set(`${u.uid}`,a)}let o=this;return{features:i,inferredGeometryType:s,finish(t){let i=o.sourceJSON.objectIdField;for(let s in t){let a=t[s],u=r.get(s);u&&(u.attributes||(u.attributes={}),-1===a?delete u.attributes[i]:u.attributes[i]=a,o._addIdToClientGraphic(u))}}}}_addIdToClientGraphic(t){if(!this._idToClientGraphic)return;let r=this.sourceJSON.objectIdField,i=t.attributes?.[r];null!=i&&this._idToClientGraphic.set(i,t)}get _layerOrSourceGeometryType(){return this.layer?.geometryType??this.sourceJSON?.geometryType}_requiresClientGraphicMapping(){return this._geometryTypeRequiresClientGraphicMapping(this._layerOrSourceGeometryType)}_geometryRequiresClientGraphicMapping(t){return this._geometryTypeRequiresClientGraphicMapping(t.type)}_geometryTypeRequiresClientGraphicMapping(t){return"mesh"===t||"multipatch"===t||"extent"===t}_serializeFeature(t){let{attributes:r}=t,i=this._geometryForSerialization(t),s=(z++).toString();return i?{uid:s,geometry:i.toJSON(),attributes:r}:{uid:s,attributes:r}}_geometryForSerialization(t){let{geometry:r}=t;return null==r?null:this._geometryRequiresClientGraphicMapping(r)?r.extent?Z.A.fromExtent(r.extent):null:r}async _startWorker(t){this._connection=await (0,N.ho)("MemorySourceWorker",{strategy:(0,R.A)("feature-layers-workers")?"dedicated":"local",signal:t,registryTarget:this});let{fields:r,spatialReference:i,objectIdField:s,hasM:o,hasZ:a,timeInfo:u,dateFieldsTimeZone:d}=this.layer,c="defaults"===this.layer.originOf("spatialReference");await this._prepareClientMapping(this.items,t);let p=this._prepareAddFeatures(this.items);this.addHandles(this.on("before-changes",t=>{h.A.getLogger(this).error("Source modifications will not propagate after layer has been loaded. Please use .applyEdits() instead"),t.preventDefault()}));let f={features:p.features,fields:r?.map(t=>t.toJSON()),geometryType:D.Ye.toJSON(this._workerGeometryType),hasM:"mesh"!==this._layerOrSourceGeometryType&&o,hasZ:"mesh"===this._layerOrSourceGeometryType||a,objectIdField:s,spatialReference:c?null:i&&i.toJSON(),timeInfo:u?.toJSON()??null,dateFieldsTimeZone:d},y=await this._connection.invoke("load",f,{signal:t});for(let t of y.warnings)h.A.getLogger(this.layer).warn("#load()",`${t.message} (title: '${this.layer.title||"no title"}', id: '${this.layer.id??"no id"}')`,{warning:t});y.featureErrors.length&&h.A.getLogger(this.layer).warn("#load()",`Encountered ${y.featureErrors.length} validation errors while loading features. (title: '${this.layer.title||"no title"}', id: '${this.layer.id??"no id"}')`,{errors:y.featureErrors});let m=y.layerDefinition;this._geometryTypeRequiresClientGraphicMapping(p.inferredGeometryType)&&(m.geometryType=D.Ye.toJSON(p.inferredGeometryType)),this.sourceJSON=m,this._requiresClientGraphicMapping()&&(this._idToClientGraphic=new Map),p.finish(y.assignedObjectIds)}};(0,s._)([(0,L.u)({Type:C.A,ensureType:(0,k.dp)(C.A)})],G.prototype,"itemType",void 0),(0,s._)([(0,w.MZ)()],G.prototype,"type",void 0),(0,s._)([(0,w.MZ)({constructOnly:!0})],G.prototype,"layer",void 0),(0,s._)([(0,w.MZ)({readOnly:!0})],G.prototype,"_workerGeometryType",null),(0,s._)([(0,w.MZ)()],G.prototype,"sourceJSON",void 0),G=(0,s._)([(0,S.$)("esri.layers.graphics.sources.MemorySource")],G);var $=i(14925),B=i(81877),q=i(24743),H=i(60349),W=i(9263),J=i(55016),K=i(54843),Y=i(7885),X=i(57248),Q=i(2043),ee=i(16217),et=i(54882),er=i(28690);let ei=class extends er.A{constructor(){super(...arguments),this.updating=!1,this.status="unknown"}};(0,s._)([(0,w.MZ)()],ei.prototype,"updating",void 0),(0,s._)([(0,w.MZ)()],ei.prototype,"status",void 0);let en=ei=(0,s._)([(0,S.$)("esri.layers.support.PublishingInfo")],ei),es=Symbol(),eo=t=>{var r;let i=class extends t{constructor(){super(...arguments),this[r]=!0}get publishingInfo(){if(this.destroyed)return null;let t=this._get("publishingInfo");if(t)return t;let r=new en;return this._checkPublishingStatus(r),r}_checkPublishingStatus(t){let r=0,i=async o=>{let a;t.updating=!0;try{a=await this.fetchPublishingStatus()}catch(t){a="unavailable"}"published"!==a&&"unavailable"!==a||("publishing"===t.status&&this.refresh(),s.remove()),t.status=a,t.updating=!1,s.removed||(r=setTimeout(i,o,o+125))},s={removed:!1,remove(){this.removed=!0,clearTimeout(r)}};this.when().catch(()=>s.remove()),i(250),this.addHandles(s)}};return r=es,(0,s._)([(0,w.MZ)({readOnly:!0,clonable:!1})],i.prototype,"publishingInfo",null),i=(0,s._)([(0,S.$)("esri.layers.mixins.PublishableLayer")],i)};var ea=i(6255),el=i(23281),eu=i(70442),ed=i(69720),ec=i(21371),ep=i(76572),eh=i(11604),ef=i(848),ey=i(59274),em=i(34929),eg=i(39265),e_=i(21798),ev=i(68266),ew=i(56547),eb=i(18845),eM=i(76594),eS=i(63145),eA=i(32523),eT=i(73723),ex=i(4534),eE=i(73358),eI=i(86099),eC=i(48271),eR=i(52438),eO=i(76558),eP=i(84090),eN=i(24860);let ek="FeatureLayer";function eL(t,r){return new c.A("layer:unsupported",`Layer (${t.title}, ${t.id}) of type '${t.declaredClass}' ${r}`,{layer:t})}function eF(t){return t&&t instanceof d.A}let eZ=(0,em.p)();function eD(t,r,i){let s=!!i?.writeLayerSchema;return{enabled:s,ignoreOrigin:s}}let ej=class extends(0,Y.j)((0,X.J)((0,K.F)(eo((0,J.w6)((0,W.FJ)((0,q.dM)((0,ee.fY)((0,eu.e)((0,ed.d)((0,el.j)((0,ea.J)((0,B.b)((0,Q.q)((0,et.A)((0,y.P)((0,H.d)((0,$.p)(u.A.ClonableMixin(I.A))))))))))))))))))){constructor(...t){super(...t),this.attributeTableTemplate=null,this.charts=null,this.copyright=null,this.displayField=null,this.dynamicDataSource=null,this.fields=null,this.fieldsIndex=null,this.formTemplate=null,this.fullExtent=null,this.geometryType=null,this.hasM=void 0,this.hasZ=void 0,this.infoFor3D=null,this.isTable=!1,this.labelsVisible=!0,this.labelingInfo=null,this.legendEnabled=!0,this.objectIdField=null,this.operationalLayerType="ArcGISFeatureLayer",this.outFields=null,this.path=null,this.popupEnabled=!0,this.popupTemplate=null,this.resourceInfo=null,this.screenSizePerspectiveEnabled=!0,this.spatialReference=E.A.WGS84,this.subtypeCode=null,this.supportedSourceTypes=new Set(["Feature Layer","Oriented Imagery Layer","Table","Catalog Layer"]),this.templates=null,this.timeInfo=null,this.title=null,this.sublayerTitleMode="item-title",this.type="feature",this.typeIdField=null,this.types=null,this.visible=!0,this._debouncedSaveOperations=(0,g.sg)(async(t,r,s)=>{let{save:o,saveAs:a}=await i.e(3922).then(i.bind(i,13922));switch(t){case eP.X.SAVE:return o(this,r);case eP.X.SAVE_AS:return a(this,s,r)}})}destroy(){this.source?.destroy()}normalizeCtorArgs(t,r){return"string"==typeof t?{url:t,...r}:t}load(t){let r=null!=t?t.signal:null;if(this.portalItem?.loaded&&this.source)return this.addResolvingPromise(this.createGraphicsSource(r).then(t=>this.initLayerProperties(t))),Promise.resolve(this);let i=this.loadFromPortal({supportedTypes:["Feature Service","Feature Collection","Scene Service"]},t).catch(g.QP).then(async()=>{if(this.url&&null==this.layerId&&/FeatureServer|MapServer\/*$/i.test(this.url)){let t=await this._fetchFirstValidLayerId(r);null!=t&&(this.layerId=t)}if(!this.url&&!this._hasMemorySource())throw new c.A("feature-layer:missing-url-or-source","Feature layer must be created with either a url or a source");return this.initLayerProperties(await this.createGraphicsSource(r))}).then(()=>(0,eh.VA)(this,"load",t));return this.addResolvingPromise(i),Promise.resolve(this)}get _titleCreator(){let t=this._get("_titleCreator");return(0,f.pR)(t),new eM.A({fieldsIndex:this.fieldsIndex,objectIdField:this.objectIdField,fields:this.fields,displayField:this.displayField,effectivePopupTemplate:this.popupTemplate??this.defaultPopupTemplate})}readCapabilities(t,r){return r=r.layerDefinition||r,(0,ew.S)(r,this.url)}get createQueryVersion(){return this.commitProperty("definitionExpression"),this.commitProperty("dynamicDataSource"),this.commitProperty("timeExtent"),this.commitProperty("timeOffset"),this.commitProperty("geometryType"),this.commitProperty("gdbVersion"),this.commitProperty("historicMoment"),this.commitProperty("returnZ"),this.commitProperty("capabilities"),this.commitProperty("returnM"),(this._get("createQueryVersion")??0)+1}get editingEnabled(){return!(this.loaded&&!this.capabilities?.operations.supportsEditing)&&(this._isOverridden("editingEnabled")?this._get("editingEnabled"):this._hasMemorySource()||this.userHasEditingPrivileges)}set editingEnabled(t){this._overrideIfSome("editingEnabled",t)}readEditingEnabled(t,r){return this._readEditingEnabled(r,!1)}readEditingEnabledFromWebMap(t,r,i){return this._readEditingEnabled(r,!0,i)}writeEditingEnabled(t,r){this._writeEditingEnabled(t,r,!1)}writeEditingEnabledToWebMap(t,r,i,s){this._writeEditingEnabled(t,r,!0,s)}get effectiveEditingEnabled(){return(0,eh.C$)(this)}get featureTitleFields(){return[...this._titleCreator.requiredFields]}readIsTable(t,r){return"Table"===(r=r?.layerDefinition??r).type||!r.geometryType}writeIsTable(t,r,i,s){s?.writeLayerSchema&&(0,m.sM)(i,t?"Table":"Feature Layer",r)}readGlobalIdField(t,r){return(0,eh.jD)(r.layerDefinition||r)}readObjectIdField(t,r){return(0,eh.Zm)(r.layerDefinition||r)}get parsedUrl(){let t=(0,v.An)(this.url);return null!=t&&(null!=this.dynamicDataSource?t.path=(0,v.fj)(t.path,"dynamicLayer"):null!=this.layerId&&(t.path=(0,v.fj)(t.path,this.layerId.toString()))),t}get defaultPopupTemplate(){return this.createPopupTemplate()}set renderer(t){(0,eg.yp)(t,this.fieldsIndex),this._set("renderer",t)}readRenderer(t,r,i){r=r.layerDefinition||r;let s=r.drawingInfo?.renderer;if(s){let t=(0,eT.L)(s,r,i)??void 0;return t||h.A.getLogger(this).error("Failed to create renderer",{rendererDefinition:r.drawingInfo.renderer,layer:this,context:i}),t}return(0,eh.PD)(r,i)}set source(t){let r=this._get("source");r!==t&&(eF(r)&&this._resetMemorySource(r),eF(t)&&this._initMemorySource(t),this._set("source",t))}castSource(t){return t?Array.isArray(t)||t instanceof d.A?new G({layer:this,items:t}):t:null}readSource(t,r){let i=V.A.fromJSON(r.featureSet);return new G({layer:this,items:i?.features??[]})}readTemplates(t,r){let i=r.editFieldsInfo,s=i?.creatorField,o=i?.editorField;return t=t?.map(t=>ef.A.fromJSON(t)),this._fixTemplates(t,s),this._fixTemplates(t,o),t}readTitle(t,r){let i=r.layerDefinition?.name??r.name,s=r.title||r.layerDefinition?.title;if(i){let t=this.portalItem?.title;if("item-title"===this.sublayerTitleMode)return this.url?(0,ec.yG)(this.url,i):i;let r=i;if(!r&&this.url){let t=(0,ec.qg)(this.url);null!=t&&(r=t.title)}if(!r)return;return"item-title-and-service-name"===this.sublayerTitleMode&&t&&t!==r&&(r=t+" - "+r),(0,ec.cr)(r)}if("item-title"===this.sublayerTitleMode&&s)return s}readTitleFromWebMap(t,r){return r.title||r.layerDefinition?.name}readTypeIdField(t,r){let i=(r=r.layerDefinition||r).typeIdField;if(i&&r.fields){i=i.toLowerCase();let t=r.fields.find(t=>t.name.toLowerCase()===i);t&&(i=t.name)}return i}readTypes(t,r){t=(r=r.layerDefinition||r).types;let i=r.editFieldsInfo,s=i?.creatorField,o=i?.editorField;return t?.map(t=>(t=ey.A.fromJSON(t),this._fixTemplates(t.templates,s),this._fixTemplates(t.templates,o),t))}readVisible(t,r){return null!=r.layerDefinition?.defaultVisibility?!!r.layerDefinition.defaultVisibility:null!=r.visibility?!!r.visibility:void 0}async addAttachment(t,r){let i=await (0,eh.Xl)(this,t,r,ek);return this.lastEditsEventDate=new Date,i}async updateAttachment(t,r,i){let s=await (0,eh.bt)(this,t,r,i,ek);return this.lastEditsEventDate=new Date,s}async applyEdits(t,r){return(0,eh.ct)(this,t,r)}async uploadAssets(t,r){return(0,eh.rn)(this,t,r)}on(t,r){return super.on(t,r)}createPopupTemplate(t){return(0,eR.tn)(this,t)}async createGraphicsSource(t){if(this._hasMemorySource()&&this.source)return this.source.load({signal:t});let{default:r}=await (0,g.qr)(Promise.all([i.e(1170),i.e(7328)]).then(i.bind(i,67328)),t);return new r({layer:this,supportedSourceTypes:this.supportedSourceTypes}).load({signal:t})}createQuery(){let t=(0,eh.VZ)(this);t.dynamicDataSource=this.dynamicDataSource;let r=null!=this.subtypeCode?`${this.subtypeField} = ${this.subtypeCode}`:null;return t.where=(0,_.mA)(this.definitionExpression,r)||"1=1",t}async deleteAttachments(t,r){let i=await (0,eh.mm)(this,t,r,ek);return this.lastEditsEventDate=new Date,i}async fetchRecomputedExtents(t){return(0,eh.WP)(this,t,ek)}getFeatureTitle(t,r={timeZone:"system",fetchMissingFields:!1}){return this._titleCreator.getTitle(this,t,r)}getFeatureType(t){return(0,eh.xd)(this.types,this.typeIdField,t)}getFieldDomain(t,r){return(0,eh.Vq)(this,t,r,this.getField(t)?.domain??null)}async queryAttachments(t,r){return(0,eh.lV)(this,t,r,ek)}async queryFeatures(t,r){let i=await this.load(),s=await i.source.queryFeatures(eI.A.from(t)??i.createQuery(),r);if(s?.features)for(let t of s.features)t.layer=t.sourceLayer=i;return s}async queryObjectIds(t,r){return(await (0,eh.sg)(this,t,r,ek)).filter(eC.Et)}async queryFeatureCount(t,r){return(0,eh.Ye)(this,t,r,ek)}async queryExtent(t,r){return(0,eh.B5)(this,t,r,ek)}async queryRelatedFeatures(t,r){return(0,eh.hM)(this,t,r,ek)}async queryRelatedFeaturesCount(t,r){return(0,eh.S2)(this,t,r,ek)}async queryTopFeatures(t,r){let{source:s,capabilities:o}=await this.load();if(!s.queryTopFeatures||!o?.query?.supportsTopFeaturesQuery)throw new c.A(ek,"Layer source does not support queryTopFeatures capability");let a=await i.e(3323).then(i.bind(i,23323)),u=await s.queryTopFeatures(a.default.from(t),r);if(u?.features)for(let t of u.features)t.layer=t.sourceLayer=this;return u}async queryAttributeBins(t,r){let{source:s,capabilities:o}=await this.load();if(!s.queryAttributeBins||!o?.operations?.supportsQueryBins)throw new c.A(ek,"Layer source does not support queryAttributeBins capability");(0,eh.ZJ)(t,o,ek);let a=await i.e(6005).then(i.bind(i,6005)),u=await s.queryAttributeBins(a.default.from(t),r);if(u.features)for(let t of u.features)t.layer=t.sourceLayer=this;return u}async queryTopObjectIds(t,r){let{source:s,capabilities:o}=await this.load();if(!s.queryTopObjectIds||!o?.query.supportsTopFeaturesQuery)throw new c.A(ek,"Layer source does not support queryTopObjectIds capability");let a=await i.e(3323).then(i.bind(i,23323));return(await s.queryTopObjectIds(a.default.from(t),r)).filter(eC.Et)}async queryTopFeaturesExtent(t,r){let{source:s,capabilities:o}=await this.load();if(!s.queryTopExtents||!o?.query?.supportsTopFeaturesQuery)throw new c.A(ek,"Layer source does not support queryTopExtents capability");let a=await i.e(3323).then(i.bind(i,23323));return s.queryTopExtents(a.default.from(t),r)}async queryTopFeatureCount(t,r){let{source:s,capabilities:o}=await this.load();if(!s.queryTopCount||!o?.query?.supportsTopFeaturesQuery)throw new c.A(ek,"Layer source does not support queryFeatureCount capability");let a=await i.e(3323).then(i.bind(i,23323));return s.queryTopCount(a.default.from(t),r)}read(t,r){let i=t.featureCollection;if((i||"Feature Collection"===t.type)&&(this.resourceInfo=t),i){let t=i.layers;t&&1===t.length&&(super.read(t[0],r),null!=i.showLegend&&super.read({showLegend:i.showLegend},r))}super.read(t,r),r&&"service"===r.origin&&(this.revert(["objectIdField","fields","timeInfo","dateFieldsTimeZone"],"service"),this.spatialReference||this.revert(["spatialReference"],"service"))}write(t,r){let{origin:i,layerContainerType:s,messages:o}=r={...r,origin:r?.origin??void 0,writeLayerSchema:r?.writeLayerSchema??this._hasMemorySource()};if(this.dynamicDataSource)return o?.push(eL(this,"using a dynamic data source cannot be written to web scenes, web maps and feature service items")),null;if(this.isTable){if(("web-map"===i||"web-scene"===i)&&"tables"!==s)return o?.push(eL(this,`a table source can only be written to tables, not ${s}`)),null;if(this._hasMemorySource())return o?.push(eL(this,"using an in-memory table source cannot be written to web scenes and web maps")),null}else if(this.loaded&&("web-map"===i||"web-scene"===i)&&"tables"===s)return o?.push(eL(this,"using a non-table source cannot be written to tables in web maps or web scenes")),null;return super.write(t,r)}clone(){if(this._hasMemorySource())throw new c.A(ek,`FeatureLayer (title: ${this.title}, id: ${this.id}) created using in-memory source cannot be cloned`);return super.clone()}serviceSupportsSpatialReference(t){return!!this.loaded&&("memory"===this.source?.type||(0,eS.D)(this,t))}async save(t){return this._debouncedSaveOperations(eP.X.SAVE,t)}async saveAs(t,r){return this._debouncedSaveOperations(eP.X.SAVE_AS,r,t)}_readEditingEnabled(t,r,i){let s=t.layerDefinition?.capabilities;return s?this._hasEditingCapability(s):(s=t.capabilities,r&&"web-map"===i?.origin&&!this._hasMemorySource()&&s?this._hasEditingCapability(s):void 0)}_hasEditingCapability(t){return t.toLowerCase().split(",").map(t=>t.trim()).includes("editing")}_writeEditingEnabled(t,r,i,s){if(!t){let t=this.capabilities?.operations?.supportsSync?"Query,Sync":"Query";(0,m.sM)("layerDefinition.capabilities",t,r),i&&!s?.writeLayerSchema&&(r.capabilities=t)}}_fetchFirstValidLayerId(t){return(0,a.A)(this.url??"",{query:{f:"json",...this.customParameters,token:this.apiKey},responseType:"json",signal:t}).then(t=>{let r=t.data;if(r)return this.findFirstValidLayerId(r)})}async initLayerProperties(t){return this._set("source",t),t.sourceJSON&&(this.sourceJSON=t.sourceJSON,this.read(t.sourceJSON,{origin:"service",portalItem:this.portalItem,portal:this.portalItem?.portal,url:this.parsedUrl})),this._verifySource(),this._verifyFields(),(0,eg.yp)(this.renderer,this.fieldsIndex),(0,eg.sv)(this.timeInfo,this.fieldsIndex),this._hasMemorySource()&&"mesh"===this.geometryType&&(this.capabilities.query.supportsReturnMesh=!0),(0,ex.L)(this,{origin:"service"})}async hasDataChanged(){return(0,eh.jp)(this)}async fetchPublishingStatus(){let t=this.source;return t?.fetchPublishingStatus?t.fetchPublishingStatus():"unavailable"}_verifyFields(){let t=this.parsedUrl?.path??"undefined";this.objectIdField||console.log("FeatureLayer: 'objectIdField' property is not defined (url: "+t+")"),this.isTable||this._hasMemorySource()||-1!==t.search(/\/FeatureServer\//i)||this.fields?.some(t=>"geometry"===t.type)||console.log("FeatureLayer: unable to find field of type 'geometry' in the layer 'fields' list. If you are using a map service layer, features will not have geometry (url: "+t+")")}_fixTemplates(t,r){t&&t.forEach(t=>{let i=t.prototype?.attributes;i&&r&&delete i[r]})}_verifySource(){if(this._hasMemorySource()){if(this.url)throw new c.A("feature-layer:mixed-source-and-url","FeatureLayer cannot be created with both an in-memory source and a url")}else if(!this.url)throw new c.A("feature-layer:source-or-url-required","FeatureLayer requires either a url, a valid portal item or a source")}_initMemorySource(t){t.forEach(t=>{t.layer=this,t.sourceLayer=this}),this.addHandles([t.on("after-add",t=>{t.item.layer=this,t.item.sourceLayer=this}),t.on("after-remove",t=>{t.item.layer=null,t.item.sourceLayer=null})],"fl-source")}_resetMemorySource(t){t.forEach(t=>{t.layer=null,t.sourceLayer=null}),this.removeHandles("fl-source")}_hasMemorySource(){return!(this.url||!this.source)}findFirstValidLayerId(t){return Array.isArray(t.layers)&&t.layers.length>0?t.layers[0].id:Array.isArray(t.tables)&&t.tables.length>0?t.tables[0].id:void 0}};(0,s._)([(0,w.MZ)({clonable:!1,readOnly:!0})],ej.prototype,"_titleCreator",null),(0,s._)([(0,w.MZ)(ep.zQ)],ej.prototype,"attributeTableTemplate",void 0),(0,s._)([(0,M.w)("service","capabilities")],ej.prototype,"readCapabilities",null),(0,s._)([(0,w.MZ)({json:{origins:{"web-scene":{write:!1}},write:!0}})],ej.prototype,"charts",void 0),(0,s._)([(0,w.MZ)({readOnly:!0})],ej.prototype,"createQueryVersion",null),(0,s._)([(0,w.MZ)({json:{read:{source:"layerDefinition.copyrightText"}}})],ej.prototype,"copyright",void 0),(0,s._)([(0,w.MZ)({json:{read:{source:"layerDefinition.displayField"}}})],ej.prototype,"displayField",void 0),(0,s._)([(0,w.MZ)({types:eO.Es,readOnly:!0})],ej.prototype,"defaultSymbol",void 0),(0,s._)([(0,w.MZ)({type:eA.L})],ej.prototype,"dynamicDataSource",void 0),(0,s._)([(0,w.MZ)({type:Boolean})],ej.prototype,"editingEnabled",null),(0,s._)([(0,M.w)(["portal-item","web-scene"],"editingEnabled",["layerDefinition.capabilities"])],ej.prototype,"readEditingEnabled",null),(0,s._)([(0,M.w)("web-map","editingEnabled",["capabilities","layerDefinition.capabilities"])],ej.prototype,"readEditingEnabledFromWebMap",null),(0,s._)([(0,A.K)(["portal-item","web-scene"],"editingEnabled",{"layerDefinition.capabilities":{type:String}})],ej.prototype,"writeEditingEnabled",null),(0,s._)([(0,A.K)("web-map","editingEnabled",{capabilities:{type:String},"layerDefinition.capabilities":{type:String}})],ej.prototype,"writeEditingEnabledToWebMap",null),(0,s._)([(0,w.MZ)({readOnly:!0})],ej.prototype,"effectiveEditingEnabled",null),(0,s._)([(0,w.MZ)({clonable:!1,readOnly:!0})],ej.prototype,"featureTitleFields",null),(0,s._)([(0,w.MZ)({...eZ.fields,json:{read:{source:"layerDefinition.fields"},origins:{service:{name:"fields"},"web-map":{write:{target:"layerDefinition.fields",overridePolicy:eD}}}}})],ej.prototype,"fields",void 0),(0,s._)([(0,w.MZ)(eZ.fieldsIndex)],ej.prototype,"fieldsIndex",void 0),(0,s._)([(0,w.MZ)({type:x.A,json:{name:"formInfo",write:!0,origins:{"web-scene":{read:!1,write:!1}}}})],ej.prototype,"formTemplate",void 0),(0,s._)([(0,w.MZ)({json:{read:{source:"layerDefinition.extent"}}})],ej.prototype,"fullExtent",void 0),(0,s._)([(0,w.MZ)({json:{origins:{"web-map":{write:{target:"layerDefinition.geometryType",overridePolicy:eD,writer(t,r,i){let s=t?eh.iX.toJSON(t):null;s&&(0,m.sM)(i,s,r)}}}},read:{source:"layerDefinition.geometryType",reader:eh.iX.read}}})],ej.prototype,"geometryType",void 0),(0,s._)([(0,w.MZ)({json:{read:{source:"layerDefinition.hasM"}}})],ej.prototype,"hasM",void 0),(0,s._)([(0,w.MZ)({json:{read:{source:"layerDefinition.hasZ"}}})],ej.prototype,"hasZ",void 0),(0,s._)([(0,w.MZ)(ep.id)],ej.prototype,"id",void 0),(0,s._)([(0,w.MZ)({readOnly:!0,json:{origins:{service:{read:!0}},read:!1}})],ej.prototype,"infoFor3D",void 0),(0,s._)([(0,w.MZ)({json:{origins:{"web-map":{write:{target:"layerDefinition.type"}}}}})],ej.prototype,"isTable",void 0),(0,s._)([(0,M.w)("service","isTable",["type","geometryType"]),(0,M.w)("isTable",["layerDefinition.type","layerDefinition.geometryType"])],ej.prototype,"readIsTable",null),(0,s._)([(0,A.K)("web-map","isTable")],ej.prototype,"writeIsTable",null),(0,s._)([(0,w.MZ)(ep.kF)],ej.prototype,"labelsVisible",void 0),(0,s._)([(0,w.MZ)({type:[e_.A],json:{origins:{service:{name:"drawingInfo.labelingInfo",read:ev.w,write:!1},"web-scene":{name:"layerDefinition.drawingInfo.labelingInfo",read:ev.w,write:{enabled:!0,layerContainerTypes:T.K}}},name:"layerDefinition.drawingInfo.labelingInfo",read:ev.w,write:!0}})],ej.prototype,"labelingInfo",void 0),(0,s._)([(0,w.MZ)((()=>{let t=(0,p.o8)(ep.Ih);return t.json.origins["portal-item"]={write:{target:"layerDefinition.drawingInfo.transparency",writer(t,r,i){(0,m.sM)(i,(0,eN.p)(t),r)}}},t})())],ej.prototype,"opacity",void 0),(0,s._)([(0,w.MZ)(ep.fV)],ej.prototype,"legendEnabled",void 0),(0,s._)([(0,w.MZ)({type:["show","hide"],json:(()=>{let t=(0,p.o8)(ep.C1.json);return t.origins["portal-item"]={read:!1,write:!1},t})()})],ej.prototype,"listMode",void 0),(0,s._)([(0,M.w)("globalIdField",["layerDefinition.globalIdField","layerDefinition.fields"])],ej.prototype,"readGlobalIdField",null),(0,s._)([(0,w.MZ)({json:{origins:{"web-map":{write:{target:"layerDefinition.objectIdField",overridePolicy:eD}}}}})],ej.prototype,"objectIdField",void 0),(0,s._)([(0,M.w)("objectIdField",["layerDefinition.objectIdField","layerDefinition.fields"])],ej.prototype,"readObjectIdField",null),(0,s._)([(0,w.MZ)({type:["ArcGISFeatureLayer"],json:{write:{target:"layerType",ignoreOrigin:!0,layerContainerTypes:T.K}}})],ej.prototype,"operationalLayerType",void 0),(0,s._)([(0,w.MZ)(eZ.outFields)],ej.prototype,"outFields",void 0),(0,s._)([(0,w.MZ)({readOnly:!0})],ej.prototype,"parsedUrl",null),(0,s._)([(0,w.MZ)({type:String,json:{origins:{"web-scene":{read:!0,write:!0}},read:!1}})],ej.prototype,"path",void 0),(0,s._)([(0,w.MZ)(ep.M6)],ej.prototype,"popupEnabled",void 0),(0,s._)([(0,w.MZ)({type:o.A,json:{name:"popupInfo",write:!0}})],ej.prototype,"popupTemplate",void 0),(0,s._)([(0,w.MZ)({readOnly:!0})],ej.prototype,"defaultPopupTemplate",null),(0,s._)([(0,w.MZ)({types:eE.Hg,json:{origins:{service:{write:{target:"drawingInfo.renderer",enabled:!1}},"web-scene":{types:eE.XJ,name:"layerDefinition.drawingInfo.renderer",write:{layerContainerTypes:T.K,overridePolicy:(t,r,i)=>({ignoreOrigin:i?.writeLayerSchema})}}},write:{target:"layerDefinition.drawingInfo.renderer",overridePolicy:(t,r,i)=>({ignoreOrigin:i?.writeLayerSchema})}}})],ej.prototype,"renderer",null),(0,s._)([(0,M.w)("service","renderer",["drawingInfo.renderer","defaultSymbol"]),(0,M.w)("renderer",["layerDefinition.drawingInfo.renderer","layerDefinition.defaultSymbol"])],ej.prototype,"readRenderer",null),(0,s._)([(0,w.MZ)()],ej.prototype,"resourceInfo",void 0),(0,s._)([(0,w.MZ)((()=>{let t=(0,p.o8)(ep.PY);return t.json.origins["portal-item"]={read:!1,write:!1},t})())],ej.prototype,"screenSizePerspectiveEnabled",void 0),(0,s._)([(0,w.MZ)({clonable:!1})],ej.prototype,"source",null),(0,s._)([(0,b.w)("source")],ej.prototype,"castSource",null),(0,s._)([(0,M.w)("portal-item","source",["featureSet"]),(0,M.w)("web-map","source",["featureSet"])],ej.prototype,"readSource",null),(0,s._)([(0,w.MZ)({json:{read:{source:"layerDefinition.extent.spatialReference"}}})],ej.prototype,"spatialReference",void 0),(0,s._)([(0,w.MZ)({type:Number})],ej.prototype,"subtypeCode",void 0),(0,s._)([(0,w.MZ)({type:[ef.A]})],ej.prototype,"templates",void 0),(0,s._)([(0,M.w)("templates",["editFieldsInfo","creatorField","editorField","templates"])],ej.prototype,"readTemplates",null),(0,s._)([(0,w.MZ)({type:eb.A})],ej.prototype,"timeInfo",void 0),(0,s._)([(0,w.MZ)()],ej.prototype,"title",void 0),(0,s._)([(0,M.w)("service","title",["name"]),(0,M.w)("portal-item","title",["layerDefinition.title","layerDefinition.name","title"])],ej.prototype,"readTitle",null),(0,s._)([(0,M.w)("web-map","title",["layerDefinition.name","title"])],ej.prototype,"readTitleFromWebMap",null),(0,s._)([(0,w.MZ)({type:String})],ej.prototype,"sublayerTitleMode",void 0),(0,s._)([(0,w.MZ)({json:{read:!1}})],ej.prototype,"type",void 0),(0,s._)([(0,w.MZ)({type:String})],ej.prototype,"typeIdField",void 0),(0,s._)([(0,M.w)("service","typeIdField"),(0,M.w)("typeIdField",["layerDefinition.typeIdField"])],ej.prototype,"readTypeIdField",null),(0,s._)([(0,w.MZ)({type:[ey.A]})],ej.prototype,"types",void 0),(0,s._)([(0,M.w)("service","types",["types"]),(0,M.w)("types",["layerDefinition.types"])],ej.prototype,"readTypes",null),(0,s._)([(0,w.MZ)({type:Boolean,json:{origins:{"portal-item":{write:{target:"layerDefinition.defaultVisibility"}}}}})],ej.prototype,"visible",void 0),(0,s._)([(0,M.w)("portal-item","visible",["visibility","layerDefinition.defaultVisibility"])],ej.prototype,"readVisible",null);let eU=ej=(0,s._)([(0,S.$)("esri.layers.FeatureLayer")],ej)},44120:(t,r,i)=>{function s(){return[0,0,0,0]}function o(t){return[t[0],t[1],t[2],t[3]]}function a(t,r,i,s){return[t,r,i,s]}function u(t,r,i,s){return[t,r,i,s]}function d(t,r=s()){let i=Math.min(4,t.length);for(let s=0;s<i;++s)r[s]=t[s];return r}function c(){return s()}function p(){return a(1,1,1,1)}function h(){return a(1,0,0,0)}function f(){return a(0,1,0,0)}function y(){return a(0,0,1,0)}function m(){return a(0,0,0,1)}i.d(r,{CN:()=>u,Un:()=>_,ci:()=>d,fA:()=>a,o8:()=>o,uY:()=>g,vt:()=>s});let g=c(),_=p(),v=h(),w=f(),b=y();Object.freeze(Object.defineProperty({__proto__:null,ONES:_,UNIT_W:m(),UNIT_X:v,UNIT_Y:w,UNIT_Z:b,ZEROS:g,clone:o,create:s,createView:function(t,r){return new Float64Array(t,r,4)},freeze:u,fromArray:d,fromValues:a,ones:p,unitW:m,unitX:h,unitY:f,unitZ:y,zeros:c},Symbol.toStringTag,{value:"Module"}))},44151:(t,r,i)=>{var s;i.d(r,{AU:()=>o,Gr:()=>s,OL:()=>u,aB:()=>a,in:()=>d}),function(t){t[t.DEFAULTS=0]="DEFAULTS",t[t.COMPUTED=1]="COMPUTED",t[t.SERVICE=2]="SERVICE",t[t.PORTAL_ITEM=3]="PORTAL_ITEM",t[t.WEB_SCENE=4]="WEB_SCENE",t[t.WEB_MAP=5]="WEB_MAP",t[t.LINK_CHART=6]="LINK_CHART",t[t.USER=7]="USER"}(s||(s={}));let o=s.USER+1;function a(t){switch(t){case"defaults":return s.DEFAULTS;case"service":return s.SERVICE;case"portal-item":return s.PORTAL_ITEM;case"web-scene":return s.WEB_SCENE;case"web-map":return s.WEB_MAP;case"link-chart":return s.LINK_CHART;case"user":return s.USER;default:return null}}function u(t){switch(t){case s.DEFAULTS:return"defaults";case s.SERVICE:return"service";case s.PORTAL_ITEM:return"portal-item";case s.WEB_SCENE:return"web-scene";case s.WEB_MAP:return"web-map";case s.LINK_CHART:return"link-chart";case s.USER:return"user"}}function d(t){return u(t)}},44460:(t,r,i)=>{i.d(r,{$0:()=>f,B8:()=>u,CV:()=>y,D_:()=>o,Tl:()=>h,e$:()=>c,hZ:()=>a,hs:()=>p,kN:()=>m,lw:()=>d});var s=i(19461);function o(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t}function a(t,r,i,s,o,a,u){return t[0]=r,t[1]=i,t[2]=s,t[3]=o,t[4]=a,t[5]=u,t}function u(t,r){let i=r[0],s=r[1],o=r[2],a=r[3],u=r[4],d=r[5],c=i*a-s*o;return c?(c=1/c,t[0]=a*c,t[1]=-s*c,t[2]=-o*c,t[3]=i*c,t[4]=(o*d-a*u)*c,t[5]=(s*u-i*d)*c,t):null}function d(t,r,i){let s=r[0],o=r[1],a=r[2],u=r[3],d=r[4],c=r[5],p=i[0],h=i[1],f=i[2],y=i[3],m=i[4],g=i[5];return t[0]=s*p+a*h,t[1]=o*p+u*h,t[2]=s*f+a*y,t[3]=o*f+u*y,t[4]=s*m+a*g+d,t[5]=o*m+u*g+c,t}function c(t,r,i){let s=r[0],o=r[1],a=r[2],u=r[3],d=r[4],c=r[5],p=Math.sin(i),h=Math.cos(i);return t[0]=s*h+a*p,t[1]=o*h+u*p,t[2]=-(s*p)+a*h,t[3]=-(o*p)+u*h,t[4]=d,t[5]=c,t}function p(t,r,i){let s=r[0],o=r[1],a=r[2],u=r[3],d=r[4],c=r[5],p=i[0],h=i[1];return t[0]=s*p,t[1]=o*p,t[2]=a*h,t[3]=u*h,t[4]=d,t[5]=c,t}function h(t,r,i){let s=r[0],o=r[1],a=r[2],u=r[3],d=r[4],c=r[5],p=i[0],h=i[1];return t[0]=s,t[1]=o,t[2]=a,t[3]=u,t[4]=s*p+a*h+d,t[5]=o*p+u*h+c,t}function f(t,r){let i=Math.sin(r),s=Math.cos(r);return t[0]=s,t[1]=i,t[2]=-i,t[3]=s,t[4]=0,t[5]=0,t}function y(t,r){return t[0]=r[0],t[1]=0,t[2]=0,t[3]=r[1],t[4]=0,t[5]=0,t}function m(t,r){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=r[0],t[5]=r[1],t}function g(t,r,i){return t[0]=r[0]-i[0],t[1]=r[1]-i[1],t[2]=r[2]-i[2],t[3]=r[3]-i[3],t[4]=r[4]-i[4],t[5]=r[5]-i[5],t}Object.freeze(Object.defineProperty({__proto__:null,add:function(t,r,i){return t[0]=r[0]+i[0],t[1]=r[1]+i[1],t[2]=r[2]+i[2],t[3]=r[3]+i[3],t[4]=r[4]+i[4],t[5]=r[5]+i[5],t},copy:function(t,r){return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t},determinant:function(t){return t[0]*t[3]-t[1]*t[2]},equals:function(t,r){let i=t[0],o=t[1],a=t[2],u=t[3],d=t[4],c=t[5],p=r[0],h=r[1],f=r[2],y=r[3],m=r[4],g=r[5],_=(0,s.FD)();return Math.abs(i-p)<=_*Math.max(1,Math.abs(i),Math.abs(p))&&Math.abs(o-h)<=_*Math.max(1,Math.abs(o),Math.abs(h))&&Math.abs(a-f)<=_*Math.max(1,Math.abs(a),Math.abs(f))&&Math.abs(u-y)<=_*Math.max(1,Math.abs(u),Math.abs(y))&&Math.abs(d-m)<=_*Math.max(1,Math.abs(d),Math.abs(m))&&Math.abs(c-g)<=_*Math.max(1,Math.abs(c),Math.abs(g))},exactEquals:function(t,r){return t[0]===r[0]&&t[1]===r[1]&&t[2]===r[2]&&t[3]===r[3]&&t[4]===r[4]&&t[5]===r[5]},frob:function(t){return Math.sqrt(t[0]**2+t[1]**2+t[2]**2+t[3]**2+t[4]**2+t[5]**2+1)},fromRotation:f,fromScaling:y,fromTranslation:m,identity:o,invert:u,mul:d,multiply:d,multiplyScalar:function(t,r,i){return t[0]=r[0]*i,t[1]=r[1]*i,t[2]=r[2]*i,t[3]=r[3]*i,t[4]=r[4]*i,t[5]=r[5]*i,t},multiplyScalarAndAdd:function(t,r,i,s){return t[0]=r[0]+i[0]*s,t[1]=r[1]+i[1]*s,t[2]=r[2]+i[2]*s,t[3]=r[3]+i[3]*s,t[4]=r[4]+i[4]*s,t[5]=r[5]+i[5]*s,t},rotate:c,scale:p,set:a,str:function(t){return"mat2d("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+")"},sub:g,subtract:g,translate:h},Symbol.toStringTag,{value:"Module"}))},44463:(t,r,i)=>{i.d(r,{b:()=>f,d:()=>function t(r,i){let s=i.children;if(s?.length)for(let i=0;i<s.length;++i)s[i]=t(r,s[i]);else s=a;let o=i.vnodeSelector;if(f(o)){let t=i.properties||u,a=t.key||o,d={key:a,afterCreate:c,afterUpdate:p,afterRemoved:h,parentWidget:r,widgetConstructor:o,widgetProperties:{...t,key:a,children:s}};return{vnodeSelector:o.vnodeSelector,properties:d,children:void 0,text:void 0,domNode:null}}return i}});var s=i(19158),o=i(89996);let a=[],u={},d=new WeakMap;function c(t,r,i,{parentWidget:a,widgetConstructor:u,widgetProperties:c}){let p=new u(c);p.container=t,d.set(t,p),p.afterCreate?.(p,t),a.addHandles((0,s.hA)(()=>h(t))),queueMicrotask(()=>{p[o.D].projector.renderNow()})}function p(t,r,i,{widgetProperties:s}){let o=d.get(t);o&&(o.set(s),o.afterUpdate?.(o,t))}function h(t){let r=d.get(t);r&&(r.afterRemoved?.(r,t),r.destroy(),d.delete(t))}function f(t){return"function"==typeof t&&t[o.x]}},44831:(t,r,i)=>{i.d(r,{R:()=>a,t:()=>u});var s=i(9956);let o={namespace:void 0,performanceLogger:()=>{},eventHandlerInterceptor:void 0,styleApplyer:(t,r,i)=>{"-"===r.charAt(0)?t.style.setProperty(r,i):t.style[r]=i}},a=t=>(0,s.X$)(o,t),u={create:(t,r)=>(r=a(r),(0,s.dj)(t,document.createElement("div"),void 0,r),(0,s.Av)(t,r)),append:(t,r,i)=>(i=a(i),(0,s.dj)(r,t,void 0,i),(0,s.Av)(r,i)),insertBefore:(t,r,i)=>(i=a(i),(0,s.dj)(r,t.parentNode,t,i),(0,s.Av)(r,i)),merge:(t,r,i)=>(i=a(i),r.domNode=t,(0,s.OM)(t,r,i),(0,s.Av)(r,i)),replace:(t,r,i)=>(i=a(i),(0,s.dj)(r,t.parentNode,t,i),t.parentNode.removeChild(t),(0,s.Av)(r,i))}},45257:(t,r,i)=>{i.d(r,{C1:()=>w,C_:()=>g,OH:()=>M,Vh:()=>S,lZ:()=>b,on:()=>m,pc:()=>A,wB:()=>h,z7:()=>f});var s=i(83610),o=i(54335),a=i(46310),u=i(19158),d=i(40941),c=i(92753),p=i(41759);function h(t,r,i={}){return y(t,r,i,_)}function f(t,r,i={}){return y(t,r,i,v)}function y(t,r,i={},s){let o=null,a=i.once?(t,i)=>{s(t)&&((0,d.xt)(o),r(t,i))}:(t,i)=>{s(t)&&r(t,i)};if(o=(0,p.Cn)(t,a,i.sync,i.equals),i.initial){let r=t();a(r,r)}return o}function m(t,r,i,s={}){let o=null,c=null,p=null;function f(){o&&c&&(c.remove(),s.onListenerRemove?.(o),o=null,c=null)}function y(t){s.once&&s.once&&(0,d.xt)(p),i(t)}let g=h(t,(t,i)=>{f(),(0,a.wb)(t)&&(o=t,c=(0,a.on)(t,r,y),s.onListenerAdd?.(t))},{sync:s.sync,initial:!0});return p=(0,u.hA)(()=>{g.remove(),f()})}function g(t,r){return function(t,r,i){if((0,c.G4)(i))return Promise.reject((0,c.NK)());let s=t();if(r?.(s))return Promise.resolve(s);let o=null;function a(){o=(0,d.xt)(o)}return new Promise((s,d)=>{o=(0,u.vE)([(0,c.u7)(i,()=>{a(),d((0,c.NK)())}),y(t,t=>{a(),s(t)},{sync:!1,once:!0},r??_)])})}(t,v,r)}i(17058);function _(t){return!0}function v(t){return!!t}function w(t,r,i={}){let s=!1,o=h(t,(t,i)=>{s||r(t,i)},i);return{remove(){o.remove()},pause(){s=!0},resume(){s=!1}}}function b(t,r){let i=new o.A,a=function(t,r){let i=new o.A,s=m(t,"after-splice",({added:t,start:s,deleteCount:o})=>{for(let t of i.splice(s,o))t.remove();if(t?.length){let o=t.map(r);i.addMany(o,s)}},{sync:!0,onListenerRemove:()=>i.drain(t=>t.remove()),onListenerAdd:t=>i.addMany(t.items.map(r))});return i.addHandles(s),i}(t,t=>(0,s.UT)(async i=>{let s=await r(t,i);if((0,c.G4)(i))throw s.remove(),(0,c.NK)();return s})),d=()=>null,p=async t=>{let r=await t.promise,s=a.indexOf(t);s<0||i.splice(s,1,r)};for(let t of(i.addMany(a.items.map(d)),a))(0,c.QZ)(p(t));let h=a.on("after-splice",({added:t,start:r,deleteCount:s})=>{for(let t of i.splice(r,s))t?.remove();if(t?.length)for(let s of(i.addMany(t.map(d),r),t))(0,c.QZ)(p(s))});return i.addHandles([(0,u.DQ)(a),h]),i}let M={sync:!0},S={initial:!0},A={sync:!0,initial:!0}},45709:(t,r,i)=>{i.d(r,{Z:()=>s});function s(t,r){let i=r.debugRendererInfo&&t.getExtension("WEBGL_debug_renderer_info");return i?{getUnmaskedRendererWebGL:()=>t.getParameter(i.UNMASKED_RENDERER_WEBGL)}:null}},45714:(t,r,i)=>{let s;i.d(r,{Cj:()=>d,HC:()=>u,ML:()=>f,Wm:()=>c,_e:()=>p,mk:()=>h});var o=i(34184);let a=/\{([^}]+)\}/g;function u(t,r){return r?t.replaceAll(a,"object"==typeof r?(t,i)=>(0,o.wc)(i,r)??"":(t,i)=>r(i)??""):t}function d(t,r){return t.replaceAll(/([.$?*|{}()[\]\\/+\-^])/g,t=>r?.includes(t)?t:`\\${t}`)}function c(t){let r=0;for(let i=0;i<t.length;i++)r=(r<<5)-r+t.charCodeAt(i)|0;return r}function p(t){return(s??=new DOMParser).parseFromString(t||"","text/html").body.innerText||""}function h(t,r){return RegExp(`{${r}}`,"ig").test(t)}function f(t,...r){let i=t[0];for(let s=0;s<r.length;++s)i+=r[s]+t[s+1];return i}},45731:(t,r,i)=>{i.d(r,{F:()=>c});var s=i(44831);let o,a=(t,r)=>{let i=[];for(;t&&t!==r;)i.push(t),t=t.parentNode;return i};o=Array.prototype.find?(t,r)=>t.find(r):(t,r)=>t.filter(r)[0];let u=(t,r)=>{let i=t;return r.forEach(t=>{i=i&&i.children?o(i.children,r=>r.domNode===t):void 0}),i},d=(t,r,i)=>{let s=function(s){i("domEvent",s);let o=r(),d=a(s.currentTarget,o.domNode);d.reverse();let c,p=u(o.getLastRender(),d);return t.scheduleRender(),p&&(c=p.properties[`on${s.type}`].apply(p.properties.bind||this,arguments)),i("domEventProcessed",s),c};return(t,r,i,o)=>s},c=t=>{let r,i,o=(0,s.R)(t),a=o.performanceLogger,u=!0,c=!1,p=[],h=[],f=(t,i,s)=>{let u;o.eventHandlerInterceptor=d(r,()=>u,a),u=t(i,s(),o),p.push(u),h.push(s)},y=()=>{if(i=void 0,u){u=!1,a("renderStart",void 0);for(let t=0;t<p.length;t++){let r=h[t]();a("rendered",void 0),p[t].update(r),a("patched",void 0)}a("renderDone",void 0),u=!0}};return r={renderNow:y,scheduleRender:()=>{i||c||(i=requestAnimationFrame(y))},stop:()=>{i&&(cancelAnimationFrame(i),i=void 0),c=!0},resume:()=>{c=!1,u=!0,r.scheduleRender()},append:(t,r)=>{f(s.t.append,t,r)},insertBefore:(t,r)=>{f(s.t.insertBefore,t,r)},merge:(t,r)=>{f(s.t.merge,t,r)},replace:(t,r)=>{f(s.t.replace,t,r)},detach:t=>{for(let r=0;r<h.length;r++)if(h[r]===t)return h.splice(r,1),p.splice(r,1)[0];throw Error("renderFunction was not found")}}}},46179:(t,r,i)=>{i.d(r,{x:()=>s});let s=new(i(30781)).J({esriSpatialRelIntersects:"intersects",esriSpatialRelContains:"contains",esriSpatialRelCrosses:"crosses",esriSpatialRelDisjoint:"disjoint",esriSpatialRelEnvelopeIntersects:"envelope-intersects",esriSpatialRelIndexIntersects:"index-intersects",esriSpatialRelOverlaps:"overlaps",esriSpatialRelTouches:"touches",esriSpatialRelWithin:"within",esriSpatialRelRelation:"relation"})},46310:(t,r,i)=>{i.d(r,{Oo:()=>d,on:()=>u,wb:()=>o});var s=i(19158);function o(t){var r;return null!=(r=t)&&"object"==typeof r&&"on"in r&&"function"==typeof r.on||a(t)}function a(t){return null!=t&&"object"==typeof t&&"addEventListener"in t&&"function"==typeof t.addEventListener}function u(t,r,i){if(!o(t))throw TypeError("target is not a Evented or EventTarget object");return a(t)?function(t,r,i,o){if(Array.isArray(r)){let a=r.slice();for(let r of a)t.addEventListener(r,i,void 0);return(0,s.hA)(()=>{for(let r of a)t.removeEventListener(r,i,o)})}return t.addEventListener(r,i,o),(0,s.hA)(()=>t.removeEventListener(r,i,o))}(t,r,i):t.on(r,i)}function d(t,r,i){if(!o(t))throw TypeError("target is not a Evented or EventTarget object");if("once"in t)return t.once(r,i);let s=u(t,r,r=>{s.remove(),i.call(t,r)});return s}},46499:(t,r,i)=>{var s,o,a,u,d,c,p,h,f,y,m,g,_,v,w,b,M,S,A,T,x,E,I,C,R,O,P,N,k,L,F,Z,D,j,U,V,z,G,$,B,q,H,W,J,K,Y,X,Q,ee,et,er,ei,en,es,eo,ea,el,eu,ed,ec,ep,eh,ef;i.d(r,{$2:()=>d,C1:()=>a,Hz:()=>g,JO:()=>o,M1:()=>I,O$:()=>ed,OW:()=>ea,Q1:()=>Q,TZ:()=>M,WE:()=>k,Y:()=>p,YI:()=>et,bj:()=>h,e_:()=>X,f0:()=>eu,fu:()=>m,g7:()=>f,ip:()=>ee,mU:()=>L,oF:()=>x,uQ:()=>E,uT:()=>G,vG:()=>ep,wd:()=>H,xR:()=>s,xn:()=>S,xw:()=>O,yS:()=>$}),function(t){t[t.BUTT=0]="BUTT",t[t.ROUND=1]="ROUND",t[t.SQUARE=2]="SQUARE",t[t.UNKNOWN=4]="UNKNOWN"}(s||(s={})),function(t){t[t.BEVEL=0]="BEVEL",t[t.ROUND=1]="ROUND",t[t.MITER=2]="MITER",t[t.UNKNOWN=4]="UNKNOWN"}(o||(o={})),function(t){t[t.SCREEN=0]="SCREEN",t[t.MAP=1]="MAP"}(a||(a={})),function(t){t[t.Tint=0]="Tint",t[t.Ignore=1]="Ignore",t[t.Multiply=99]="Multiply"}(u||(u={})),function(t){t.Both="Both",t.JustBegin="JustBegin",t.JustEnd="JustEnd",t.None="None"}(d||(d={})),function(t){t[t.Mosaic=0]="Mosaic",t[t.Centered=1]="Centered"}(c||(c={})),function(t){t[t.Normal=0]="Normal",t[t.Superscript=1]="Superscript",t[t.Subscript=2]="Subscript"}(p||(p={})),function(t){t[t.MSSymbol=0]="MSSymbol",t[t.Unicode=1]="Unicode"}(h||(h={})),function(t){t[t.Unspecified=0]="Unspecified",t[t.TrueType=1]="TrueType",t[t.PSOpenType=2]="PSOpenType",t[t.TTOpenType=3]="TTOpenType",t[t.Type1=4]="Type1"}(f||(f={})),function(t){t[t.Display=0]="Display",t[t.Map=1]="Map"}(y||(y={})),function(t){t.None="None",t.Loop="Loop",t.Oscillate="Oscillate"}(m||(m={})),function(t){t.Linear="Linear",t.EaseIn="EaseIn",t.EaseOut="EaseOut",t.EaseInOut="EaseInOut"}(g||(g={})),function(t){t[t.Z=0]="Z",t[t.X=1]="X",t[t.Y=2]="Y"}(_||(_={})),function(t){t[t.XYZ=0]="XYZ",t[t.ZXY=1]="ZXY",t[t.YXZ=2]="YXZ"}(v||(v={})),function(t){t[t.Rectangle=0]="Rectangle",t[t.RoundedRectangle=1]="RoundedRectangle",t[t.Oval=2]="Oval"}(w||(w={})),function(t){t[t.None=0]="None",t[t.Alpha=1]="Alpha",t[t.Screen=2]="Screen",t[t.Multiply=3]="Multiply",t[t.Add=4]="Add"}(b||(b={})),function(t){t[t.TTB=0]="TTB",t[t.RTL=1]="RTL",t[t.BTT=2]="BTT"}(M||(M={})),function(t){t[t.None=0]="None",t[t.SignPost=1]="SignPost",t[t.FaceNearPlane=2]="FaceNearPlane"}(S||(S={})),function(t){t[t.Float=0]="Float",t[t.String=1]="String",t[t.Boolean=2]="Boolean"}(A||(A={})),function(t){t[t.Intersect=0]="Intersect",t[t.Subtract=1]="Subtract"}(T||(T={})),function(t){t.OpenEnded="OpenEnded",t.Block="Block",t.Crossed="Crossed"}(x||(x={})),function(t){t.FullGeometry="FullGeometry",t.PerpendicularFromFirstSegment="PerpendicularFromFirstSegment",t.ReversedFirstSegment="ReversedFirstSegment",t.PerpendicularToSecondSegment="PerpendicularToSecondSegment",t.SecondSegmentWithTicks="SecondSegmentWithTicks",t.DoublePerpendicular="DoublePerpendicular",t.OppositeToFirstSegment="OppositeToFirstSegment",t.TriplePerpendicular="TriplePerpendicular",t.HalfCircleFirstSegment="HalfCircleFirstSegment",t.HalfCircleSecondSegment="HalfCircleSecondSegment",t.HalfCircleExtended="HalfCircleExtended",t.OpenCircle="OpenCircle",t.CoverageEdgesWithTicks="CoverageEdgesWithTicks",t.GapExtentWithDoubleTicks="GapExtentWithDoubleTicks",t.GapExtentMidline="GapExtentMidline",t.Chevron="Chevron",t.PerpendicularWithArc="PerpendicularWithArc",t.ClosedHalfCircle="ClosedHalfCircle",t.TripleParallelExtended="TripleParallelExtended",t.ParallelWithTicks="ParallelWithTicks",t.Parallel="Parallel",t.PerpendicularToFirstSegment="PerpendicularToFirstSegment",t.ParallelOffset="ParallelOffset",t.OffsetOpposite="OffsetOpposite",t.OffsetSame="OffsetSame",t.CircleWithArc="CircleWithArc",t.DoubleJog="DoubleJog",t.PerpendicularOffset="PerpendicularOffset",t.LineExcludingLastSegment="LineExcludingLastSegment",t.MultivertexArrow="MultivertexArrow",t.CrossedArrow="CrossedArrow",t.ChevronArrow="ChevronArrow",t.ChevronArrowOffset="ChevronArrowOffset",t.PartialFirstSegment="PartialFirstSegment",t.Arch="Arch",t.CurvedParallelTicks="CurvedParallelTicks",t.Arc90Degrees="Arc90Degrees",t.TipWithPerpendicularAndTicks="TipWithPerpendicularAndTicks",t.ConcentricCircles="ConcentricCircles",t.DoubleJogArrow="DoubleJogArrow",t.LinkedChevrons="LinkedChevrons",t.SegmentThenHalfCircle="SegmentThenHalfCircle",t.LineWithStraightTicks="LineWithStraightTicks",t.DoubleCurve="DoubleCurve",t.ParallelWithTicksByWidth="ParallelWithTicksByWidth",t.EnclosingRoundedRectangle="EnclosingRoundedRectangle"}(E||(E={})),function(t){t.Mitered="Mitered",t.Bevelled="Bevelled",t.Rounded="Rounded",t.Square="Square",t.TrueBuffer="TrueBuffer"}(I||(I={})),function(t){t.ClosePath="ClosePath",t.ConvexHull="ConvexHull",t.RectangularBox="RectangularBox"}(C||(C={})),function(t){t.BeginningOfLine="BeginningOfLine",t.EndOfLine="EndOfLine"}(R||(R={})),function(t){t.Mitered="Mitered",t.Bevelled="Bevelled",t.Rounded="Rounded",t.Square="Square"}(O||(O={})),function(t){t.Fast="Fast",t.Accurate="Accurate"}(P||(P={})),function(t){t.BeginningOfLine="BeginningOfLine",t.EndOfLine="EndOfLine"}(N||(N={})),function(t){t.Sinus="Sinus",t.Square="Square",t.Triangle="Triangle",t.Random="Random"}(k||(k={})),function(t){t[t.None=0]="None",t[t.Default=1]="Default",t[t.Force=2]="Force"}(L||(L={})),function(t){t[t.Buffered=0]="Buffered",t[t.Left=1]="Left",t[t.Right=2]="Right",t[t.AlongLine=3]="AlongLine"}(F||(F={})),function(t){t[t.Linear=0]="Linear",t[t.Rectangular=1]="Rectangular",t[t.Circular=2]="Circular",t[t.Buffered=3]="Buffered"}(Z||(Z={})),function(t){t[t.Discrete=0]="Discrete",t[t.Continuous=1]="Continuous"}(D||(D={})),function(t){t[t.AcrossLine=0]="AcrossLine",t[t.AlongLine=1]="AlongLine"}(j||(j={})),function(t){t[t.Auto=0]="Auto",t[t.Clockwise=1]="Clockwise",t[t.Counterclockwise=2]="Counterclockwise"}(U||(U={})),function(t){t[t.Left=0]="Left",t[t.Right=1]="Right",t[t.Center=2]="Center",t[t.Justify=3]="Justify"}(V||(V={})),function(t){t[t.Base=0]="Base",t[t.MidPoint=1]="MidPoint",t[t.ThreePoint=2]="ThreePoint",t[t.FourPoint=3]="FourPoint",t[t.Underline=4]="Underline",t[t.CircularCW=5]="CircularCW",t[t.CircularCCW=6]="CircularCCW"}(z||(z={})),function(t){t.Butt="Butt",t.Round="Round",t.Square="Square"}(G||(G={})),function(t){t.NoConstraint="NoConstraint",t.HalfPattern="HalfPattern",t.HalfGap="HalfGap",t.FullPattern="FullPattern",t.FullGap="FullGap",t.Custom="Custom"}($||($={})),function(t){t[t.None=-1]="None",t[t.Custom=0]="Custom",t[t.Circle=1]="Circle",t[t.OpenArrow=2]="OpenArrow",t[t.ClosedArrow=3]="ClosedArrow",t[t.Diamond=4]="Diamond"}(B||(B={})),function(t){t[t.ExtraLeading=0]="ExtraLeading",t[t.Multiple=1]="Multiple",t[t.Exact=2]="Exact"}(q||(q={})),function(t){t.Bevel="Bevel",t.Round="Round",t.Miter="Miter"}(H||(H={})),function(t){t[t.Default=0]="Default",t[t.String=1]="String",t[t.Numeric=2]="Numeric"}(W||(W={})),function(t){t[t.InsidePolygon=0]="InsidePolygon",t[t.PolygonCenter=1]="PolygonCenter",t[t.RandomlyInsidePolygon=2]="RandomlyInsidePolygon"}(J||(J={})),function(t){t[t.Tint=0]="Tint",t[t.Replace=1]="Replace",t[t.Multiply=2]="Multiply"}(K||(K={})),function(t){t[t.ClipAtBoundary=0]="ClipAtBoundary",t[t.RemoveIfCenterOutsideBoundary=1]="RemoveIfCenterOutsideBoundary",t[t.DoNotTouchBoundary=2]="DoNotTouchBoundary",t[t.DoNotClip=3]="DoNotClip"}(Y||(Y={})),function(t){t.NoConstraint="NoConstraint",t.WithMarkers="WithMarkers",t.WithFullGap="WithFullGap",t.WithHalfGap="WithHalfGap",t.Custom="Custom"}(X||(X={})),function(t){t.Fixed="Fixed",t.Random="Random",t.RandomFixedQuantity="RandomFixedQuantity"}(Q||(Q={})),function(t){t.LineMiddle="LineMiddle",t.LineBeginning="LineBeginning",t.LineEnd="LineEnd",t.SegmentMidpoint="SegmentMidpoint"}(ee||(ee={})),function(t){t.OnPolygon="OnPolygon",t.CenterOfMass="CenterOfMass",t.BoundingBoxCenter="BoundingBoxCenter"}(et||(et={})),function(t){t[t.Low=0]="Low",t[t.Medium=1]="Medium",t[t.High=2]="High"}(er||(er={})),function(t){t[t.MarkerCenter=0]="MarkerCenter",t[t.MarkerBounds=1]="MarkerBounds"}(ei||(ei={})),function(t){t[t.None=0]="None",t[t.PropUniform=1]="PropUniform",t[t.PropNonuniform=2]="PropNonuniform",t[t.DifUniform=3]="DifUniform",t[t.DifNonuniform=4]="DifNonuniform"}(en||(en={})),function(t){t.Tube="Tube",t.Strip="Strip",t.Wall="Wall"}(es||(es={})),function(t){t[t.Random=0]="Random",t[t.Increasing=1]="Increasing",t[t.Decreasing=2]="Decreasing",t[t.IncreasingThenDecreasing=3]="IncreasingThenDecreasing"}(eo||(eo={})),function(t){t[t.Relative=0]="Relative",t[t.Absolute=1]="Absolute"}(ea||(ea={})),function(t){t[t.Normal=0]="Normal",t[t.LowerCase=1]="LowerCase",t[t.Allcaps=2]="Allcaps"}(el||(el={})),function(t){t[t.LTR=0]="LTR",t[t.RTL=1]="RTL"}(eu||(eu={})),function(t){t.Draft="Draft",t.Picture="Picture",t.Text="Text"}(ed||(ed={})),function(t){t[t.Top=0]="Top",t[t.Center=1]="Center",t[t.Baseline=2]="Baseline",t[t.Bottom=3]="Bottom"}(ec||(ec={})),function(t){t[t.Right=0]="Right",t[t.Upright=1]="Upright"}(ep||(ep={})),function(t){t[t.Small=0]="Small",t[t.Medium=1]="Medium",t[t.Large=2]="Large"}(eh||(eh={})),function(t){t[t.Calm=0]="Calm",t[t.Rippled=1]="Rippled",t[t.Slight=2]="Slight",t[t.Moderate=3]="Moderate"}(ef||(ef={}))},46567:(t,r,i)=>{i.d(r,{A:()=>T});var s,o,a=i(81856),u=i(33715),d=i(91838);i(57845),i(61939);var c=i(33498),p=i(12709),h=i(7780),f=i(4746),y=i(86629),m=i(37211),g=i(70152),_=i(92713);let v=s=class extends _.A{constructor(){super(...arguments),this.color=new g.A([0,0,0,1]),this.size=0}clone(){let t={color:(0,u.o8)(this.color),size:this.size};return new s(t)}};(0,a._)([(0,d.MZ)((0,m.E)())],v.prototype,"color",void 0),(0,a._)([(0,d.MZ)(m.p)],v.prototype,"size",void 0),v=s=(0,a._)([(0,p.$)("esri.symbols.support.Symbol3DHalo")],v);var w=i(93165),b=i(71017);i(33638);let M=class extends b.A.ClonableMixin(_.A){constructor(t){super(t),this.color=null}};(0,a._)([(0,d.MZ)((0,m.E)())],M.prototype,"color",void 0),M=(0,a._)([(0,p.$)("esri.symbols.support.Symbol3DTextBackground")],M);var S=i(40357);let A=o=class extends y.A{constructor(t){super(t),this._userSize=void 0,this.halo=null,this.horizontalAlignment="center",this.lineHeight=1,this.material=null,this.background=null,this.text=null,this.type="text",this.verticalAlignment="baseline"}get font(){return this._get("font")||null}set font(t){null!=t&&null!=this._userSize&&(t.size=this._userSize),this._set("font",t)}writeFont(t,r,i,s){let o={...s,textSymbol3D:!0};r.font=t.write({},o),delete r.font.size}get size(){return null!=this._userSize?this._userSize:null!=this.font?.size?this.font.size:9}set size(t){this._userSize=t,null!=this.font&&(this.font.size=this._userSize),this.notifyChange("size")}clone(){let t=new o({enabled:this.enabled,font:this.font&&(0,u.o8)(this.font),halo:this.halo&&(0,u.o8)(this.halo),horizontalAlignment:this.horizontalAlignment,lineHeight:this.lineHeight,material:null!=this.material?this.material.clone():null,text:this.text,verticalAlignment:this.verticalAlignment,background:(0,u.o8)(this.background)});return t._userSize=this._userSize,t}static fromTextSymbol(t){var r,i;return new o({font:null!=t.font?t.font.clone():new f.A,halo:(r=t.haloColor,i=t.haloSize,r&&null!=i&&i>0?new v({color:(0,u.o8)(r),size:i}):null),horizontalAlignment:t.horizontalAlignment,lineHeight:t.lineHeight,material:t.color?new w.N({color:t.color.clone()}):null,text:t.text,verticalAlignment:t.verticalAlignment,background:t.backgroundColor?new M({color:t.backgroundColor.clone()}):null})}};(0,a._)([(0,d.MZ)({type:f.A,json:{write:!0}})],A.prototype,"font",null),(0,a._)([(0,h.K)("font")],A.prototype,"writeFont",null),(0,a._)([(0,d.MZ)({type:v,json:{write:!0}})],A.prototype,"halo",void 0),(0,a._)([(0,d.MZ)({...S.rM,json:{default:"center",write:!0}})],A.prototype,"horizontalAlignment",void 0),(0,a._)([(0,d.MZ)({...S.Tb,json:{default:1,write:!0}})],A.prototype,"lineHeight",void 0),(0,a._)([(0,d.MZ)({type:w.N,json:{write:!0}})],A.prototype,"material",void 0),(0,a._)([(0,d.MZ)({type:M,json:{write:!0}})],A.prototype,"background",void 0),(0,a._)([(0,d.MZ)(m.p)],A.prototype,"size",null),(0,a._)([(0,d.MZ)({type:String,json:{write:!0}})],A.prototype,"text",void 0),(0,a._)([(0,c.e)({Text:"text"},{readOnly:!0})],A.prototype,"type",void 0),(0,a._)([(0,d.MZ)({...S.x0,json:{default:"baseline",write:!0}})],A.prototype,"verticalAlignment",void 0);let T=A=o=(0,a._)([(0,p.$)("esri.symbols.TextSymbol3DLayer")],A)},46595:(t,r,i)=>{i.d(r,{D:()=>s});let s={anchor:"esri-widget__anchor",anchorDisabled:"esri-widget__anchor--disabled",button:"esri-button",buttonDisabled:"esri-button--disabled",buttonHalf:"esri-button--half",buttonSecondary:"esri-button--secondary",buttonSmall:"esri-button--small",buttonTertiary:"esri-button--tertiary",buttonThird:"esri-button--third",disabled:"esri-disabled",empty:"esri-widget__content--empty",emptyIllustration:"esri-widget__content-illustration--empty",heading:"esri-widget__heading",hidden:"esri-hidden",input:"esri-input",interactive:"esri-interactive",loader:"esri-widget__loader",loaderAnimation:"esri-widget__loader-animation",loaderText:"esri-widget__loader-text",menu:"esri-menu",menuHeader:"esri-menu__header",menuItem:"esri-menu__list-item",menuItemActive:"esri-menu__list-item--active",menuItemFocus:"esri-menu__list-item--focus",menuList:"esri-menu__list",panel:"esri-widget--panel",panelHeightOnly:"esri-widget--panel-height-only",primaryTick:"primary-tick",primaryTickAmPm:"primary-tick__ampm",primaryTickLabel:"primary-tick__label",rotating:"esri-rotating",secondaryTick:"secondary-tick",select:"esri-select",table:"esri-widget__table",widget:"esri-widget",widgetButton:"esri-widget--button",widgetButtonActive:"esri-widget--button-active",widgetDisabled:"esri-widget--disabled"}},46633:(t,r,i)=>{i.d(r,{A:()=>g});var s,o=i(81856),a=i(54335),u=i(33715),d=i(91838);i(57845),i(61939);var c=i(33498),p=i(12709),h=i(92090),f=i(16876);let y=a.A.ofType({base:null,key:"type",typeMap:{fill:h.A}}),m=s=class extends f.A{constructor(t){super(t),this.symbolLayers=new y,this.type="mesh-3d"}clone(){return new s({styleOrigin:(0,u.o8)(this.styleOrigin),symbolLayers:(0,u.o8)(this.symbolLayers),thumbnail:(0,u.o8)(this.thumbnail)})}static fromSimpleFillSymbol(t){return new s({symbolLayers:new a.A([h.A.fromSimpleFillSymbol(t)])})}};(0,o._)([(0,d.MZ)({type:y})],m.prototype,"symbolLayers",void 0),(0,o._)([(0,c.e)({MeshSymbol3D:"mesh-3d"},{readOnly:!0})],m.prototype,"type",void 0);let g=m=s=(0,o._)([(0,p.$)("esri.symbols.MeshSymbol3D")],m)},47256:(t,r,i)=>{i.d(r,{Go:()=>s,Jc:()=>c,T:()=>u,VI:()=>h,mF:()=>p,oV:()=>y,u1:()=>function t(r,i,a,u){let d;if(i.type===s.OPEN_PORT)return void r.postMessage(i,[i.port]);if(i.type!==s.INVOKE&&i.type!==s.RESPONSE)return void r.postMessage(i);if(a&&"object"==typeof a&&("result"in a||"transferList"in a)?(d=f(a.transferList),i.data=a.result):(d=f(u),i.data=a),d){if((0,o.A)("ff")){for(let o of d)if("byteLength"in o&&o.byteLength>0xff00000){let o="Worker call with large ArrayBuffer would crash Firefox";switch(i.type){case s.INVOKE:throw o;case s.RESPONSE:return void t(r,{type:s.RESPONSE,jobId:i.jobId,error:p(o)})}}}r.postMessage(i,d)}else r.postMessage(i)}});var s,o=i(57845),a=i(92753);let u="worker:port-closed";!function(t){t[t.HANDSHAKE=0]="HANDSHAKE",t[t.OPEN=1]="OPEN",t[t.OPENED=2]="OPENED",t[t.RESPONSE=3]="RESPONSE",t[t.INVOKE=4]="INVOKE",t[t.ABORT=5]="ABORT",t[t.CLOSE=6]="CLOSE",t[t.OPEN_PORT=7]="OPEN_PORT",t[t.ON=8]="ON"}(s||(s={}));let d=0;function c(){return d++}function p(t){return t?"string"==typeof t?JSON.stringify({name:"message",message:t}):t.toJSON?JSON.stringify(t):JSON.stringify({name:t.name,message:t.message,details:t.details||{stack:t.stack}}):null}function h(t){if(!t)return null;let r=t.data;return r?"string"==typeof r?JSON.parse(r):r:null}function f(t){if(!t?.length)return null;if((0,o.A)("esri-workers-arraybuffer-transfer"))return t;let r=t.filter(t=>{var r;return!((r=t)instanceof ArrayBuffer||"ArrayBuffer"===r?.constructor?.name)});return r.length?r:null}async function y(t){try{return await t}catch(r){let t=r?.name===u;if(!((0,a.zf)(r)||t))throw r;return}}},47326:(t,r,i)=>{i.d(r,{$E:()=>u,py:()=>a,qG:()=>d});let s=/^https:\/\/([a-z\d-]+)(\.maps([^.]*))?\.arcgis\.com/i,o={devext:{customBaseUrl:"mapsdevext.arcgis.com",portalHostname:"devext.arcgis.com"},qaext:{customBaseUrl:"mapsqa.arcgis.com",portalHostname:"qaext.arcgis.com"},www:{customBaseUrl:"maps.arcgis.com",portalHostname:"www.arcgis.com"}};function a(t){let r=t?.match(s);if(!r)return null;let[,i,a,u]=r;if(!i)return null;let d=null,c=null,p=null,{devext:h,qaext:f,www:y}=o;if(a)if(d=i,u)switch(u.toLowerCase()){case"devext":({customBaseUrl:c,portalHostname:p}=h);break;case"qa":({customBaseUrl:c,portalHostname:p}=f);break;default:return null}else({customBaseUrl:c,portalHostname:p}=y);else switch(i.toLowerCase()){case"devext":({customBaseUrl:c,portalHostname:p}=h);break;case"qaext":({customBaseUrl:c,portalHostname:p}=f);break;case"www":({customBaseUrl:c,portalHostname:p}=y);break;default:return null}return{customBaseUrl:c,isPortal:!1,portalHostname:p,urlKey:d}}function u(t){return/\/(sharing|usrsvcs)\/(appservices|servers)\//i.test(t)}function d(t){let r=/^https?:\/\/(?:cdn|[a-z\d-]+\.maps)\.arcgis\.com/i,i=/^https?:\/\/(?:cdndev|[a-z\d-]+\.mapsdevext)\.arcgis\.com/i,s=/^https?:\/\/(?:cdnqa|[a-z\d-]+\.mapsqa)\.arcgis\.com/i;return r.test(t)?t=t.replace(r,"https://www.arcgis.com"):i.test(t)?t=t.replace(i,"https://devext.arcgis.com"):s.test(t)&&(t=t.replace(s,"https://qaext.arcgis.com")),t}},47389:(t,r,i)=>{function s(){let t=new Float32Array(6);return t[0]=1,t[3]=1,t}function o(t,r,i,s){let o=r[s],a=r[s+1];t[s]=i[0]*o+i[2]*a+i[4],t[s+1]=i[1]*o+i[3]*a+i[5]}function a(t,r,i,s=0,u=0,d=2){let c=u||r.length/d;for(let a=s;a<c;a++)o(t,r,i,a*d)}i.d(r,{gb:()=>a,vt:()=>s}),Object.freeze(Object.defineProperty({__proto__:null,clone:function(t){let r=new Float32Array(6);return r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=t[3],r[4]=t[4],r[5]=t[5],r},create:s,createView:function(t,r){return new Float32Array(t,r,6)},fromValues:function(t,r,i,s,o,a){let u=new Float32Array(6);return u[0]=t,u[1]=r,u[2]=i,u[3]=s,u[4]=o,u[5]=a,u},transform:o,transformMany:a},Symbol.toStringTag,{value:"Module"}))},47642:(t,r,i)=>{i.d(r,{K:()=>u,w:()=>d});var s=i(44463),o=function(t,r){for(var i=0,s=t.length;i<s;i++){var a=t[i];Array.isArray(a)?o(a,r):null!=a&&!1!==a&&(a.hasOwnProperty("vnodeSelector")||(a={vnodeSelector:"",properties:void 0,children:void 0,text:a.toString(),domNode:null}),r.push(a))}},a=function(t,r){for(var i=[],s=2;s<arguments.length;s++)i[s-2]=arguments[s];if(1===i.length&&"string"==typeof i[0])return{vnodeSelector:t,properties:r||void 0,children:void 0,text:i[0],domNode:null};var a=[];return o(i,a),{vnodeSelector:t,properties:r||void 0,children:a,text:void 0,domNode:null}};function u(t,r,...i){return"function"!=typeof t||(0,s.b)(t)?a(t,r??null,...i):t(r,...i)}function d(...t){return t}},47823:(t,r,i)=>{i.d(r,{A:()=>m});var s=i(32391),o=i(92713),a=i(61939),u=i(90304),d=i(87303),c=i(39265),p=i(93682),h=i(90628),f=i(29593);let y=new Map;class m{static fromJSON(t){return new m(t.fields,t.timeZoneByFieldName)}static fromLayer(t){return new m(t.fields??[],w(t))}static fromLayerJSON(t){return new m(t.fields??[],w(t))}constructor(t=[],r){this._fieldsMap=new Map,this._normalizedFieldsMap=new Map,this._dateFieldsSet=new Set,this._numericFieldsSet=new Set,this._requiredFields=null,this.dateFields=[],this.numericFields=[],this.fields=t||[],this._timeZoneByFieldName=r?new Map(r):null;let i=[];for(let t of this.fields){let r=t?.name,s=_(r);if(r&&s){let o=g(r);this._fieldsMap.set(r,t),this._fieldsMap.set(o,t),this._normalizedFieldsMap.set(s,t),i.push(`${o}:${t.type}:${this._timeZoneByFieldName?.get(r)}`),(0,c.vE)(t)?(this.dateFields.push(t),this._dateFieldsSet.add(t)):(0,c.WA)(t)&&(this._numericFieldsSet.add(t),this.numericFields.push(t)),(0,c.te)(t)||(0,c.Xz)(t)||(t.editable=null==t.editable||!!t.editable,t.nullable=null==t.nullable||!!t.nullable)}}i.sort(),this.uid=i.join()}get requiredFields(){if(!this._requiredFields)for(let t of(this._requiredFields=[],this.fields))(0,c.te)(t)||(0,c.Xz)(t)||t.nullable||void 0!==(0,c.lD)(t)||this._requiredFields.push(t);return this._requiredFields}equals(t){return this.uid===t?.uid}has(t){return null!=this.get(t)}get(t){if(!t)return;let r=this._fieldsMap.get(t);return r||((r=this._fieldsMap.get(g(t))??this._normalizedFieldsMap.get(_(t)))&&this._fieldsMap.set(t,r),r)}getTimeZone(t){let r=this.get(t&&"string"!=typeof t?t.name:t);return r?this._timeZoneByFieldName?this._timeZoneByFieldName.get(r.name):"date"===r.type||"esriFieldTypeDate"===r.type?(a.A.getLogger("esri.layers.support.FieldsIndex").errorOnce(new s.A("getTimeZone:no-timezone-information",`no time zone information for field '${r.name}'`)),p.n$):v.has(r.type)?p.L5:null:null}getLuxonTimeZone(t){let r=this.getTimeZone(t);return r?r===p.L5?d.GB.instance:r===p.n$?f.mQ.utcInstance:(0,u.tE)(y,r,()=>f.oh.create(r)):null}isDateField(t){return this._dateFieldsSet.has(this.get(t))}isTimeOnlyField(t){return(0,c.OH)(this.get(t))}isNumericField(t){return this._numericFieldsSet.has(this.get(t))}normalizeFieldName(t){return this.get(t)?.name??void 0}toJSON(){return{fields:this.fields.map(t=>o.A.isSerializable(t)?t.toJSON():t),timeZoneByFieldName:this._timeZoneByFieldName?Array.from(this._timeZoneByFieldName.entries()):null}}}function g(t){return t.trim().toLowerCase()}function _(t){return(0,c.rS)(t)?.toLowerCase()??""}let v=new Set(["time-only","date-only","timestamp-offset","esriFieldTypeDateOnly","esriFieldTypeTimeOnly","esriFieldTypeTimestampOffset"]);function w(t){let r=new Map;if(!t.fields)return r;let i=!0===t.datesInUnknownTimezone,{timeInfo:s,editFieldsInfo:o}=t,a=(s?"startField"in s?s.startField:s.startTimeField:"")??"",u=(s?"endField"in s?s.endField:s.endTimeField:"")??"",d="dateFieldsTimeZone"in t?t.dateFieldsTimeZone??null:t.dateFieldsTimeReference?(0,h.ZS)(t.dateFieldsTimeReference):null,c=o?"timeZone"in o?o.timeZone??d:o.dateFieldsTimeReference?(0,h.ZS)(o.dateFieldsTimeReference):d??p.n$:null,f=s?"timeZone"in s?s.timeZone??d:s.timeReference?(0,h.ZS)(s.timeReference):d:null,y=new Map([[g(o?.creationDateField??""),c],[g(o?.editDateField??""),c],[g(a),f],[g(u),f]]);for(let{name:s,type:o}of t.fields)if(v.has(o))r.set(s,p.L5);else if("date"!==o&&"esriFieldTypeDate"!==o)r.set(s,null);else if(i)r.set(s,p.L5);else{let t=y.get(g(s??""))??d;r.set(s,t)}return r}},47840:(t,r,i)=>{i.d(r,{A:()=>m});var s,o=i(81856),a=i(92713),u=i(72359),d=i(91838);i(57845),i(61939),i(33638);var c=i(53480),p=i(12709),h=i(7780),f=i(93682);let y=s=class extends a.A{static get allTime(){return g}static get empty(){return _}static fromArray(t){return new s({start:null!=t[0]?new Date(t[0]):t[0],end:null!=t[1]?new Date(t[1]):t[1]})}constructor(t){super(t),this.end=null,this.start=null}readEnd(t,r){return null!=r.end?new Date(r.end):null}writeEnd(t,r){r.end=t?.getTime()??null}get isAllTime(){return this.equals(s.allTime)}get isEmpty(){return this.equals(s.empty)}readStart(t,r){return null!=r.start?new Date(r.start):null}writeStart(t,r){r.start=t?.getTime()??null}clone(){return new s({end:this.end,start:this.start})}equals(t){if(!t)return!1;let r=this.start?.getTime()??this.start,i=this.end?.getTime()??this.end,s=t.start?.getTime()??t.start,o=t.end?.getTime()??t.end;return r===s&&i===o}expandTo(t,r=f.qU){if(this.isEmpty||this.isAllTime)return this.clone();let i=this.start;i&&(i=(0,u.lL)(i,t,r));let o=this.end;if(o){let i=(0,u.lL)(o,t,r);o=o.getTime()===i.getTime()?i:(0,u.S1)(i,1,t,r)}return new s({start:i,end:o})}intersection(t){let r,i;if(!t)return this.clone();if(this.isEmpty||t.isEmpty)return s.empty;if(this.isAllTime)return t.clone();if(t.isAllTime)return this.clone();let o=this.start?.getTime()??-1/0,a=this.end?.getTime()??1/0,u=t.start?.getTime()??-1/0,d=t.end?.getTime()??1/0;return u>=o&&u<=a?r=u:o>=u&&o<=d&&(r=o),a>=u&&a<=d?i=a:d>=o&&d<=a&&(i=d),null==r||null==i||isNaN(r)||isNaN(i)?s.empty:new s({start:r===-1/0?null:new Date(r),end:i===1/0?null:new Date(i)})}offset(t,r,i=f.qU){if(this.isEmpty||this.isAllTime)return this.clone();let o=new s,{start:a,end:d}=this;return null!=a&&(o.start=(0,u.S1)(a,t,r,i)),null!=d&&(o.end=(0,u.S1)(d,t,r,i)),o}toArray(){return this.isEmpty?[void 0,void 0]:[this.start?.getTime()??null,this.end?.getTime()??null]}union(t){if(!t||t.isEmpty)return this.clone();if(this.isEmpty)return t.clone();if(this.isAllTime||t.isAllTime)return g.clone();let r=null!=this.start&&null!=t.start?new Date(Math.min(this.start.getTime(),t.start.getTime())):null,i=null!=this.end&&null!=t.end?new Date(Math.max(this.end.getTime(),t.end.getTime())):null;return new s({start:r,end:i})}};(0,o._)([(0,d.MZ)({type:Date,json:{write:{allowNull:!0}}})],y.prototype,"end",void 0),(0,o._)([(0,c.w)("end")],y.prototype,"readEnd",null),(0,o._)([(0,h.K)("end")],y.prototype,"writeEnd",null),(0,o._)([(0,d.MZ)({readOnly:!0,json:{read:!1}})],y.prototype,"isAllTime",null),(0,o._)([(0,d.MZ)({readOnly:!0,json:{read:!1}})],y.prototype,"isEmpty",null),(0,o._)([(0,d.MZ)({type:Date,json:{write:{allowNull:!0}}})],y.prototype,"start",void 0),(0,o._)([(0,c.w)("start")],y.prototype,"readStart",null),(0,o._)([(0,h.K)("start")],y.prototype,"writeStart",null);let m=y=s=(0,o._)([(0,p.$)("esri.time.TimeExtent")],y),g=new y,_=new y({start:void 0,end:void 0})},48271:(t,r,i)=>{function s(t){return"number"==typeof t}function o(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t}function a(t){return"boolean"==typeof t}function u(t){return"string"==typeof t||t instanceof String}function d(t){return null==t||u(t)}function c(t){return Array.isArray(t)}function p(t){return"esri.Graphic"===t?.declaredClass}function h(t){return t instanceof Date}i.d(r,{$P:()=>h,CO:()=>d,DU:()=>p,Et:()=>s,Fq:()=>o,Kg:()=>u,Lm:()=>a,cy:()=>c})},48671:(t,r,i)=>{i.d(r,{Sx:()=>d,c8:()=>f,m3:()=>g,ql:()=>h,tz:()=>y,xW:()=>m});var s=i(48767),o=i(57845),a=i(92753),u=i(90525);function d(t,r,i=!1,s){return new Promise((u,d)=>{if((0,a.G4)(s))return void d(c());let p=()=>{y(),d(Error(`Unable to load ${r}`))},h=()=>{let r=t;y(),u(r)},f=()=>{if(!t)return;let r=t;y(),r.src="",d(c())},y=()=>{(0,o.A)("esri-image-decode")||(t.removeEventListener("error",p),t.removeEventListener("load",h)),p=null,h=null,t=null,null!=s&&s.removeEventListener("abort",f),f=null,i&&URL.revokeObjectURL(r)};null!=s&&s.addEventListener("abort",f),(0,o.A)("esri-image-decode")?t.decode().then(h,p):(t.addEventListener("error",p),t.addEventListener("load",h))})}function c(){try{return new DOMException("Aborted","AbortError")}catch{let t=Error();return t.name="AbortError",t}}let p="Timeout exceeded";function h(){return Error(p)}function f(t){return"object"==typeof t&&!!t&&"message"in t&&t.message===p}function y(t){s.A.request.crossOriginNoCorsDomains||(s.A.request.crossOriginNoCorsDomains={});let r=s.A.request.crossOriginNoCorsDomains;for(let i of t)i=i.toLowerCase(),/^https?:\/\//.test(i)?r[(0,u.$z)(i)??""]=0:(r[(0,u.$z)("http://"+i)??""]=0,r[(0,u.$z)("https://"+i)??""]=0)}function m(t){let r=s.A.request.crossOriginNoCorsDomains;if(r){let i=(0,u.$z)(t);if(i)return i=i.toLowerCase(),!(0,u.FX)(i,(0,u.Xq)())&&r[i]<Date.now()-36e5}return!1}async function g(t){let r=(0,u.An)(t);t=r.path,"json"===r.query?.f&&(t+="?f=json");try{await fetch(t,{mode:"no-cors",credentials:"include"})}catch{}let i=s.A.request.crossOriginNoCorsDomains,o=(0,u.$z)(t);i&&o&&(i[o.toLowerCase()]=Date.now())}},48678:(t,r,i)=>{function s(t){return t instanceof ArrayBuffer}function o(t){return"Int8Array"===t?.constructor?.name}function a(t){return"Uint8Array"===t?.constructor?.name}function u(t){return"Uint8ClampedArray"===t?.constructor?.name}function d(t){return"Int16Array"===t?.constructor?.name}function c(t){return"Uint16Array"===t?.constructor?.name}function p(t){return"Int32Array"===t?.constructor?.name}function h(t){return"Uint32Array"===t?.constructor?.name}function f(t){return"Float32Array"===t?.constructor?.name}function y(t){return"Float64Array"===t?.constructor?.name}function m(t){return"buffer"in t}i.d(r,{IY:()=>d,JI:()=>_,UR:()=>u,XJ:()=>h,_G:()=>p,a3:()=>w,aI:()=>y,dk:()=>v,dz:()=>o,iu:()=>m,jq:()=>c,mg:()=>a,mw:()=>s,vZ:()=>f,y9:()=>g}),i(57845);let g=1024;function _(t){return y(t)||f(t)||p(t)||d(t)||o(t)}function v(t){return y(t)||f(t)}function w(t){return y(t)?179769e303:f(t)?3402823e32:h(t)?0xffffffff:c(t)?65535:a(t)||u(t)?255:p(t)?0x7fffffff:d(t)?32767:o(t)?127:256}},48767:(t,r,i)=>{i.d(r,{A:()=>o}),i(57845);var s=i(34184);let o={apiKey:void 0,applicationName:"",applicationUrl:globalThis.location?.href,assetsPath:"",fontsUrl:"https://static.arcgis.com/fonts",geometryServiceUrl:"https://utility.arcgisonline.com/arcgis/rest/services/Geometry/GeometryServer",geoRSSServiceUrl:"https://utility.arcgis.com/sharing/rss",kmlServiceUrl:"https://utility.arcgis.com/sharing/kml",userPrivilegesApplied:!0,portalUrl:"https://www.arcgis.com",respectPrefersReducedMotion:!0,routeServiceUrl:"https://route-api.arcgis.com/arcgis/rest/services/World/Route/NAServer/Route_World",workers:{loaderConfig:{has:{},paths:{},map:{},packages:[]}},request:{crossOriginNoCorsDomains:null,httpsDomains:["arcgis.com","arcgisonline.com","esrikr.com","premiumservices.blackbridge.com","esripremium.accuweather.com","gbm.digitalglobe.com","firstlook.digitalglobe.com","msi.digitalglobe.com"],interceptors:[],internalInterceptors:[],maxUrlLength:2e3,priority:"high",proxyRules:[],proxyUrl:null,timeout:62e3,trustedServers:[],useIdentity:!0},log:{interceptors:[],level:null}};globalThis.esriConfig&&((0,s.$N)(o,globalThis.esriConfig,!0),delete o.has),o.assetsPath||(o.assetsPath="https://js.arcgis.com/4.32/@arcgis/core/assets",o.defaultAssetsPath=o.assetsPath)},49570:(t,r,i)=>{i.d(r,{A:()=>M});var s,o=i(81856),a=i(97135),u=i(30781),d=i(92713),c=i(33715),p=i(91838);i(57845),i(61939);var h=i(53480),f=i(12709),y=i(7780),m=i(91463),g=i(31789),_=i(59879),v=i(80824);let w=new u.J({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryEnvelope:"extent",mesh:"mesh","":null}),b=s=class extends d.A{constructor(t){super(t),this.displayFieldName=null,this.exceededTransferLimit=!1,this.features=[],this.fields=null,this.geometryType=null,this.hasM=!1,this.hasZ=!1,this.queryGeometry=null,this.spatialReference=null}readFeatures(t,r){return this.readFeaturesWithClass(t,r,a.A)}writeGeometryType(t,r,i,s){if(t)return void w.write(t,r,i,s);let{features:o}=this;if(o){for(let t of o)if(null!=t?.geometry)return void w.write(t.geometry.type,r,i,s)}}readQueryGeometry(t,r){if(!t)return null;let i=!!t.spatialReference,s=(0,g.rS)(t);return s&&!i&&r.spatialReference&&(s.spatialReference=m.A.fromJSON(r.spatialReference)),s}writeSpatialReference(t,r){if(t)return void(r.spatialReference=t.toJSON());let{features:i}=this;if(i){for(let t of i)if(t&&null!=t.geometry&&t.geometry.spatialReference)return void(r.spatialReference=t.geometry.spatialReference.toJSON())}}clone(){return new s(this.cloneProperties())}cloneProperties(){return(0,c.o8)({displayFieldName:this.displayFieldName,exceededTransferLimit:this.exceededTransferLimit,features:this.features,fields:this.fields,geometryType:this.geometryType,hasM:this.hasM,hasZ:this.hasZ,queryGeometry:this.queryGeometry,spatialReference:this.spatialReference,transform:this.transform})}toJSON(t){let r=this.write();if(r.features&&Array.isArray(t)&&t.length>0)for(let i=0;i<r.features.length;i++){let s=r.features[i];if(s.geometry){let r=t?.[i];s.geometry=r?.toJSON()||s.geometry}}return r}quantize(t){let{scale:[r,i],translate:[s,o]}=t,a=this.features,u=this._getQuantizationFunction(this.geometryType,t=>Math.round((t-s)/r),t=>Math.round((o-t)/i));for(let t=0,r=a.length;t<r;t++)u?.(a[t].geometry)||(a.splice(t,1),t--,r--);return this.transform=t,this}unquantize(){let{geometryType:t,features:r,transform:i}=this;if(!i)return this;let{translate:[s,o],scale:[a,u]}=i,d=null,c=null;if(this.hasZ&&null!=i?.scale?.[2]){let{translate:[,,t],scale:[,,r]}=i;d=i=>i*r+t}if(this.hasM&&null!=i?.scale?.[3]){let{translate:[,,,t],scale:[,,,r]}=i;c=i=>null==i?i:i*r+t}let p=this._getHydrationFunction(t,t=>t*a+s,t=>o-t*u,d,c);for(let{geometry:t}of r)null!=t&&p&&p(t);return this.transform=null,this}readFeaturesWithClass(t,r,i){let s=m.A.fromJSON(r.spatialReference),o=[];for(let r=0;r<t.length;r++){let a=t[r],u=i.fromJSON(a),d=a.geometry?.spatialReference;null==u.geometry||d||(u.geometry.spatialReference=s);let c=a.aggregateGeometries,p=u.aggregateGeometries;if(c&&null!=p)for(let t in p){let r=p[t],i=c[t],o=i?.spatialReference;null==r||o||(r.spatialReference=s)}o.push(u)}return o}_quantizePoints(t,r,i){let s,o,a=[];for(let u=0,d=t.length;u<d;u++){let d=t[u];if(u>0){let t=r(d[0]),u=i(d[1]);t===s&&u===o||(a.push([t-s,u-o]),s=t,o=u)}else s=r(d[0]),o=i(d[1]),a.push([s,o])}return a.length>0?a:null}_getQuantizationFunction(t,r,i){return"point"===t?t=>(t.x=r(t.x),t.y=i(t.y),t):"polyline"===t||"polygon"===t?t=>{let s=(0,g.Bi)(t)?t.rings:t.paths,o=[];for(let t=0,a=s.length;t<a;t++){let a=s[t],u=this._quantizePoints(a,r,i);u&&o.push(u)}return o.length>0?((0,g.Bi)(t)?t.rings=o:t.paths=o,t):null}:"multipoint"===t?t=>{let s=this._quantizePoints(t.points,r,i);return s&&s.length>0?(t.points=s,t):null}:"extent"===t?t=>t:null}_getHydrationFunction(t,r,i,s,o){return"point"===t?t=>{t.x=r(t.x),t.y=i(t.y),s&&(t.z=s(t.z))}:"polyline"===t||"polygon"===t?t=>{let a,u,d=(0,g.Bi)(t)?t.rings:t.paths;for(let t=0,s=d.length;t<s;t++){let s=d[t];for(let t=0,o=s.length;t<o;t++){let o=s[t];t>0?(a+=o[0],u+=o[1]):(a=o[0],u=o[1]),o[0]=r(a),o[1]=i(u)}}if(s&&o)for(let t=0,r=d.length;t<r;t++){let r=d[t];for(let t=0,i=r.length;t<i;t++){let i=r[t];i[2]=s(i[2]),i[3]=o(i[3])}}else if(s)for(let t=0,r=d.length;t<r;t++){let r=d[t];for(let t=0,i=r.length;t<i;t++){let i=r[t];i[2]=s(i[2])}}else if(o)for(let t=0,r=d.length;t<r;t++){let r=d[t];for(let t=0,i=r.length;t<i;t++){let i=r[t];i[2]=o(i[2])}}}:"extent"===t?t=>{t.xmin=r(t.xmin),t.ymin=i(t.ymin),t.xmax=r(t.xmax),t.ymax=i(t.ymax),s&&null!=t.zmax&&null!=t.zmin&&(t.zmax=s(t.zmax),t.zmin=s(t.zmin)),o&&null!=t.mmax&&null!=t.mmin&&(t.mmax=o(t.mmax),t.mmin=o(t.mmin))}:"multipoint"===t?t=>{let a,u,d=t.points;for(let t=0,s=d.length;t<s;t++){let s=d[t];t>0?(a+=s[0],u+=s[1]):(a=s[0],u=s[1]),s[0]=r(a),s[1]=i(u)}if(s&&o)for(let t=0,r=d.length;t<r;t++){let r=d[t];r[2]=s(r[2]),r[3]=o(r[3])}else if(s)for(let t=0,r=d.length;t<r;t++){let r=d[t];r[2]=s(r[2])}else if(o)for(let t=0,r=d.length;t<r;t++){let r=d[t];r[2]=o(r[2])}}:null}};(0,o._)([(0,p.MZ)({type:String,json:{write:!0}})],b.prototype,"displayFieldName",void 0),(0,o._)([(0,p.MZ)({type:Boolean,json:{write:{overridePolicy:t=>({enabled:t})}}})],b.prototype,"exceededTransferLimit",void 0),(0,o._)([(0,p.MZ)({type:[a.A],json:{write:!0}})],b.prototype,"features",void 0),(0,o._)([(0,h.w)("features")],b.prototype,"readFeatures",null),(0,o._)([(0,p.MZ)({type:[v.A],json:{write:!0}})],b.prototype,"fields",void 0),(0,o._)([(0,p.MZ)({type:["point","multipoint","polyline","polygon","extent","mesh"],json:{read:{reader:w.read}}})],b.prototype,"geometryType",void 0),(0,o._)([(0,y.K)("geometryType")],b.prototype,"writeGeometryType",null),(0,o._)([(0,p.MZ)({type:Boolean,json:{write:{overridePolicy:t=>({enabled:t})}}})],b.prototype,"hasM",void 0),(0,o._)([(0,p.MZ)({type:Boolean,json:{write:{overridePolicy:t=>({enabled:t})}}})],b.prototype,"hasZ",void 0),(0,o._)([(0,p.MZ)({types:_.yR,json:{write:!0}})],b.prototype,"queryGeometry",void 0),(0,o._)([(0,h.w)("queryGeometry")],b.prototype,"readQueryGeometry",null),(0,o._)([(0,p.MZ)({type:m.A,json:{write:!0}})],b.prototype,"spatialReference",void 0),(0,o._)([(0,y.K)("spatialReference")],b.prototype,"writeSpatialReference",null),(0,o._)([(0,p.MZ)({json:{write:!0}})],b.prototype,"transform",void 0),(b=s=(0,o._)([(0,f.$)("esri.rest.support.FeatureSet")],b)).prototype.toJSON.isDefaultToJSON=!0;let M=b},49667:(t,r,i)=>{i.d(r,{A:()=>h});var s,o=i(81856),a=i(92713),u=i(91838),d=i(86942);i(57845),i(33638);var c=i(12709);let p=s=class extends a.A{constructor(t){super(t),this.cols=null,this.level=0,this.levelValue=null,this.origin=null,this.resolution=0,this.rows=null,this.scale=0}clone(){return new s({cols:this.cols,level:this.level,levelValue:this.levelValue,resolution:this.resolution,rows:this.rows,scale:this.scale})}};(0,o._)([(0,u.MZ)({json:{write:!0,origins:{"web-document":{read:!1,write:!1},"portal-item":{read:!1,write:!1}}}})],p.prototype,"cols",void 0),(0,o._)([(0,u.MZ)({type:d.jz,json:{write:!0}})],p.prototype,"level",void 0),(0,o._)([(0,u.MZ)({type:String,json:{write:!0}})],p.prototype,"levelValue",void 0),(0,o._)([(0,u.MZ)({json:{write:!0,origins:{"web-document":{read:!1,write:!1},"portal-item":{read:!1,write:!1}}}})],p.prototype,"origin",void 0),(0,o._)([(0,u.MZ)({type:Number,json:{write:!0}})],p.prototype,"resolution",void 0),(0,o._)([(0,u.MZ)({json:{write:!0,origins:{"web-document":{read:!1,write:!1},"portal-item":{read:!1,write:!1}}}})],p.prototype,"rows",void 0),(0,o._)([(0,u.MZ)({type:Number,json:{write:!0}})],p.prototype,"scale",void 0);let h=p=s=(0,o._)([(0,c.$)("esri.layers.support.LOD")],p)},49702:(t,r,i)=>{i.d(r,{A:()=>y});var s,o=i(81856),a=i(70152),u=i(92713),d=i(33715),c=i(91838);i(57845),i(61939);var p=i(12709),h=i(37211);let f=s=class extends u.A{constructor(t){super(t),this.color=new a.A("white")}clone(){return new s({color:(0,d.o8)(this.color)})}};(0,o._)([(0,c.MZ)((0,h.E)({colorRequiredOnWrite:!0}))],f.prototype,"color",void 0);let y=f=s=(0,o._)([(0,p.$)("esri.symbols.callouts.LineCallout3DBorder")],f)},49896:(t,r,i)=>{function s(t,r,i,s){let o=3*t,a=3*(i-t)-o,u=1-o-a,d=3*r,c=3*(s-r)-d,p=1-d-c;return function(t,r=1e-6){var i;return((p*(i=function(t,r){var i,s,d;let c,p,h,f,y,m;for(h=t,m=0;m<8;m++){if(Math.abs(f=((u*(i=h)+a)*i+o)*i-t)<r)return h;if(1e-6>Math.abs(y=(3*u*(s=h)+2*a)*s+o))break;h-=f/y}if(c=0,p=1,(h=t)<c)return c;if(h>p)return p;for(;c<p&&!(Math.abs((f=((u*(d=h)+a)*d+o)*d)-t)<r);){t>f?c=h:p=h,h=.5*(p-c)+c}return h}(t,r))+c)*i+d)*i}}i.d(r,{Z0:()=>o,gb:()=>s});let o={};o.ease=s(.25,.1,.25,1),o.linear=s(0,0,1,1),o.easeIn=o["ease-in"]=s(.42,0,1,1),o.easeOut=o["ease-out"]=s(0,0,.58,1),o.easeInOut=o["ease-in-out"]=s(.42,0,.58,1)},50424:(t,r,i)=>{i.d(r,{A:()=>c});var s=i(81856),o=i(92713),a=i(91838);i(57845),i(61939),i(33638);var u=i(12709);let d=class extends o.A{constructor(t){super(t)}clone(){throw Error("Subclasses of LinePattern3D should implement their own clone method.")}};(0,s._)([(0,a.MZ)({type:["style"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],d.prototype,"type",void 0);let c=d=(0,s._)([(0,u.$)("esri.symbols.patterns.LinePattern3D")],d)},50460:(t,r,i)=>{i.d(r,{E:()=>y,r:()=>m});var s,o=i(81856),a=i(30781),u=i(92713),d=i(91838);i(57845),i(61939),i(33638);var c=i(33498),p=i(12709),h=i(67546);let f=(0,a.O)()({sphere:"sphere",cylinder:"cylinder",cube:"cube",cone:"cone",diamond:"diamond",tetrahedron:"tetrahedron",invertedCone:"inverted-cone"}),y=s=class extends u.A{clone(){return new s({href:this.href,primitive:this.primitive})}};(0,o._)([(0,d.MZ)({type:String,json:{read:h.r,write:h.w}})],y.prototype,"href",void 0),(0,o._)([(0,c.e)(f)],y.prototype,"primitive",void 0),y=s=(0,o._)([(0,p.$)("esri.symbols.support.ObjectSymbol3DLayerResource")],y);let m="sphere"},50558:(t,r,i)=>{i.d(r,{A:()=>p});var s=i(81856),o=i(91838);i(57845),i(61939),i(33638);var a=i(12709),u=i(71230),d=i(6015);let c=class extends d.A{constructor(t){super(t),this.outline=null,this.type=null}hash(){return`${this.type}.${this.outline?.hash()}`}};(0,s._)([(0,o.MZ)({types:{key:"type",base:null,defaultKeyValue:"simple-line",typeMap:{"simple-line":u.A}},json:{default:null,write:!0}})],c.prototype,"outline",void 0),(0,s._)([(0,o.MZ)({type:["simple-fill","picture-fill"],readOnly:!0})],c.prototype,"type",void 0);let p=c=(0,s._)([(0,a.$)("esri.symbols.FillSymbol")],c)},50737:(t,r,i)=>{i.d(r,{TS:()=>a,Tf:()=>h,V6:()=>o,c4:()=>u,qh:()=>p,z$:()=>c});let s={transparent:[0,0,0,0],black:[0,0,0,1],silver:[192,192,192,1],gray:[128,128,128,1],white:[255,255,255,1],maroon:[128,0,0,1],red:[255,0,0,1],purple:[128,0,128,1],fuchsia:[255,0,255,1],green:[0,128,0,1],lime:[0,255,0,1],olive:[128,128,0,1],yellow:[255,255,0,1],navy:[0,0,128,1],blue:[0,0,255,1],teal:[0,128,128,1],aqua:[0,255,255,1],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],blanchedalmond:[255,235,205,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],oldlace:[253,245,230,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],rebeccapurple:[102,51,153,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],whitesmoke:[245,245,245,1],yellowgreen:[154,205,50,1]};function o(t){return!!s[t]||!!s[t.toLowerCase()]}function a(t){return s[t]??s[t.toLowerCase()]}function u(t){return[...a(t)]}function d(t,r,i){i<0&&++i,i>1&&--i;let s=6*i;return s<1?t+(r-t)*s:2*i<1?r:3*i<2?t+(r-t)*(2/3-i)*6:t}function c(t,r,i,s=1){let o=(t%360+360)%360/360,a=i<=.5?i*(r+1):i+r-i*r,u=2*i-a;return[Math.round(255*d(u,a,o+1/3)),Math.round(255*d(u,a,o)),Math.round(255*d(u,a,o-1/3)),s]}function p(t){let r,i=t.length>5,s=i?8:4,o=(1<<s)-1,a=i?1:17,u=i?9===t.length:5===t.length,d=Number("0x"+t.slice(1));if(isNaN(d))return null;let c=[0,0,0,1];return u&&(r=d&o,d>>=s,c[3]=a*r/255),r=d&o,d>>=s,c[2]=a*r,r=d&o,d>>=s,c[1]=a*r,r=d&o,d>>=s,c[0]=a*r,c}let h=2.2},50765:(t,r,i)=>{i.d(r,{T:()=>s,d:()=>h});let s={Base64:0,Hex:1,String:2,Raw:3};function o(t,r){let i=(65535&t)+(65535&r);return(t>>16)+(r>>16)+(i>>16)<<16|65535&i}function a(t,r,i,s,a,u){var d;return o((d=o(o(r,t),o(s,u)))<<a|d>>>32-a,i)}function u(t,r,i,s,o,u,d){return a(r&i|~r&s,t,r,o,u,d)}function d(t,r,i,s,o,u,d){return a(r&s|i&~s,t,r,o,u,d)}function c(t,r,i,s,o,u,d){return a(r^i^s,t,r,o,u,d)}function p(t,r,i,s,o,u,d){return a(i^(r|~s),t,r,o,u,d)}function h(t,r=s.Hex){let i=r||s.Base64,a=function(t,r){t[r>>5]|=128<<r%32,t[14+(r+64>>>9<<4)]=r;let i=0x67452301,s=-0x10325477,a=-0x67452302,h=0x10325476;for(let r=0;r<t.length;r+=16){let f=i,y=s,m=a,g=h;i=u(i,s,a,h,t[r],7,-0x28955b88),h=u(h,i,s,a,t[r+1],12,-0x173848aa),a=u(a,h,i,s,t[r+2],17,0x242070db),s=u(s,a,h,i,t[r+3],22,-0x3e423112),i=u(i,s,a,h,t[r+4],7,-0xa83f051),h=u(h,i,s,a,t[r+5],12,0x4787c62a),a=u(a,h,i,s,t[r+6],17,-0x57cfb9ed),s=u(s,a,h,i,t[r+7],22,-0x2b96aff),i=u(i,s,a,h,t[r+8],7,0x698098d8),h=u(h,i,s,a,t[r+9],12,-0x74bb0851),a=u(a,h,i,s,t[r+10],17,-42063),s=u(s,a,h,i,t[r+11],22,-0x76a32842),i=u(i,s,a,h,t[r+12],7,0x6b901122),h=u(h,i,s,a,t[r+13],12,-0x2678e6d),a=u(a,h,i,s,t[r+14],17,-0x5986bc72),s=u(s,a,h,i,t[r+15],22,0x49b40821),i=d(i,s,a,h,t[r+1],5,-0x9e1da9e),h=d(h,i,s,a,t[r+6],9,-0x3fbf4cc0),a=d(a,h,i,s,t[r+11],14,0x265e5a51),s=d(s,a,h,i,t[r],20,-0x16493856),i=d(i,s,a,h,t[r+5],5,-0x29d0efa3),h=d(h,i,s,a,t[r+10],9,0x2441453),a=d(a,h,i,s,t[r+15],14,-0x275e197f),s=d(s,a,h,i,t[r+4],20,-0x182c0438),i=d(i,s,a,h,t[r+9],5,0x21e1cde6),h=d(h,i,s,a,t[r+14],9,-0x3cc8f82a),a=d(a,h,i,s,t[r+3],14,-0xb2af279),s=d(s,a,h,i,t[r+8],20,0x455a14ed),i=d(i,s,a,h,t[r+13],5,-0x561c16fb),h=d(h,i,s,a,t[r+2],9,-0x3105c08),a=d(a,h,i,s,t[r+7],14,0x676f02d9),s=d(s,a,h,i,t[r+12],20,-0x72d5b376),i=c(i,s,a,h,t[r+5],4,-378558),h=c(h,i,s,a,t[r+8],11,-0x788e097f),a=c(a,h,i,s,t[r+11],16,0x6d9d6122),s=c(s,a,h,i,t[r+14],23,-0x21ac7f4),i=c(i,s,a,h,t[r+1],4,-0x5b4115bc),h=c(h,i,s,a,t[r+4],11,0x4bdecfa9),a=c(a,h,i,s,t[r+7],16,-0x944b4a0),s=c(s,a,h,i,t[r+10],23,-0x41404390),i=c(i,s,a,h,t[r+13],4,0x289b7ec6),h=c(h,i,s,a,t[r],11,-0x155ed806),a=c(a,h,i,s,t[r+3],16,-0x2b10cf7b),s=c(s,a,h,i,t[r+6],23,0x4881d05),i=c(i,s,a,h,t[r+9],4,-0x262b2fc7),h=c(h,i,s,a,t[r+12],11,-0x1924661b),a=c(a,h,i,s,t[r+15],16,0x1fa27cf8),s=c(s,a,h,i,t[r+2],23,-0x3b53a99b),i=p(i,s,a,h,t[r],6,-0xbd6ddbc),h=p(h,i,s,a,t[r+7],10,0x432aff97),a=p(a,h,i,s,t[r+14],15,-0x546bdc59),s=p(s,a,h,i,t[r+5],21,-0x36c5fc7),i=p(i,s,a,h,t[r+12],6,0x655b59c3),h=p(h,i,s,a,t[r+3],10,-0x70f3336e),a=p(a,h,i,s,t[r+10],15,-1051523),s=p(s,a,h,i,t[r+1],21,-0x7a7ba22f),i=p(i,s,a,h,t[r+8],6,0x6fa87e4f),h=p(h,i,s,a,t[r+15],10,-0x1d31920),a=p(a,h,i,s,t[r+6],15,-0x5cfebcec),s=p(s,a,h,i,t[r+13],21,0x4e0811a1),i=p(i,s,a,h,t[r+4],6,-0x8ac817e),h=p(h,i,s,a,t[r+11],10,-0x42c50dcb),a=p(a,h,i,s,t[r+2],15,0x2ad7d2bb),s=p(s,a,h,i,t[r+9],21,-0x14792c6f),i=o(i,f),s=o(s,y),a=o(a,m),h=o(h,g)}return[i,s,a,h]}(function(t){let r=[];for(let i=0,s=8*t.length;i<s;i+=8)r[i>>5]|=(255&t.charCodeAt(i/8))<<i%32;return r}(t),8*t.length);switch(i){case s.Raw:return a;case s.Hex:let f="0123456789abcdef",y=[];for(let t=0,r=4*a.length;t<r;t++)y.push(f.charAt(a[t>>2]>>t%4*8+4&15)+f.charAt(a[t>>2]>>t%4*8&15));return y.join("");case s.String:let m=[];for(let t=0,r=32*a.length;t<r;t+=8)m.push(String.fromCharCode(a[t>>5]>>>t%32&255));return m.join("");case s.Base64:return function(t){let r=[];for(let i=0,s=4*t.length;i<s;i+=3){let s=(t[i>>2]>>i%4*8&255)<<16|(t[i+1>>2]>>(i+1)%4*8&255)<<8|t[i+2>>2]>>(i+2)%4*8&255;for(let o=0;o<4;o++)8*i+6*o>32*t.length?r.push("="):r.push("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(s>>6*(3-o)&63))}return r.join("")}(a)}}},51445:(t,r,i)=>{i.d(r,{default:()=>es});var s=i(81856),o=i(97135),a=i(91838);i(57845);var u=i(61939);i(33638);var d=i(12709),c=i(43778),p=i(98961),h=i(39166),f=i(32391),y=i(31551),m=i(21892),g=i(92753),_=i(90525),v=i(61414),w=i(91463),b=i(31789),M=i(55016),S=i(21371),A=i(30781),T=i(33498),x=i(85016);let E=(0,A.O)()({Pending:"job-waiting",InProgress:"job-executing",Completed:"job-succeeded"}),I=class extends x.A{constructor(t){super(t),this.statusUrl=null,this.status=null,this.submissionTime=null,this.lastUpdatedTime=null,this._timer=void 0}destroy(){clearInterval(this._timer)}async checkJobStatus(t){let r={...t,query:{f:"json"}},{data:i}=await (0,h.A)(this.statusUrl,r);return this.read(i),this.editsResolver&&this.editsResolver.resolve({edits:null,addedFeatures:[],updatedFeatures:[],deletedFeatures:[],addedAttachments:[],updatedAttachments:[],deletedAttachments:[],exceededTransferLimit:!0,historicMoment:null}),this}async waitForJobCompletion(t={}){let{interval:r=1e3,statusCallback:i}=t;return new Promise((t,s)=>{this._clearTimer();let o=setInterval(()=>{this._timer||s((0,g.NK)()),this.checkJobStatus().then(r=>{let{status:s}=r;switch(this.status=s,s){case"job-succeeded":this._clearTimer(),t(this);break;case"job-waiting":case"job-executing":i&&i(this)}},t=>{this._clearTimer(),s(t)})},r);this._timer=o})}_clearTimer(){clearInterval(this._timer),this._timer=void 0}};(0,s._)([(0,a.MZ)()],I.prototype,"editsResolver",void 0),(0,s._)([(0,a.MZ)({type:String,json:{write:!0}})],I.prototype,"statusUrl",void 0),(0,s._)([(0,T.e)(E)],I.prototype,"status",void 0),(0,s._)([(0,a.MZ)({type:Date,json:{type:Number,write:{writer:(t,r)=>{r.submissionTime=t?t.getTime():null}}}})],I.prototype,"submissionTime",void 0),(0,s._)([(0,a.MZ)({type:Date,json:{type:Number,write:{writer:(t,r)=>{r.lastUpdatedTime=t?t.getTime():null}}}})],I.prototype,"lastUpdatedTime",void 0);let C=I=(0,s._)([(0,d.$)("esri.networks.support.TopologyValidationJobInfo")],I);var R=i(28015);async function O(t,r){if("Utility Network Layer"===t){let{default:t}=await Promise.resolve().then(i.bind(i,51445));return new t({layerUrl:r})}return null}async function P(t){let r="portalItem"in t?t:{portalItem:t};!r.portalItem||r.portalItem instanceof R.default||(r={...r,portalItem:new R.default(r.portalItem)});let i=r.portalItem;if(await i.load(),"Feature Service"!==i.type)throw new f.A("portal:unknown-item-type","Unknown item type '${type}'",{type:i.type});let s=i.url,o=await (0,h.A)(s,{responseType:"json",query:{f:"json"}}),a="Network Layer";if(o.data.type?.includes(a))return O(o.data.type,s);if(o.data.layers){let t=o.data.layers.find(t=>t.type.includes(a));if(t){let r=`${s}/${t.id}`;return O(t.type,r)}}return null}i(49570);var N=i(33237);let k=class extends(0,m.P)(y.A){static fromPortalItem(t){return P(t)}constructor(t){super(t),this.id=null,this.title=null,this.layerUrl=null,this.dataElement=null,this.fullExtent=null,this.spatialReference=null,this.type=null,this.sourceJSON=null,this.gdbVersion=null,this.historicMoment=null,this._sourceIdByLayerId=new Map,this._layerIdBySourceId=new Map,this._applyEditsHandler=t=>{let{serviceUrl:r,gdbVersion:i,result:s}=t,o=r===this.featureServiceUrl,a=(0,M.gz)(r,i,this.gdbVersion);o&&a&&s.then(t=>{(0,N.w5)(r,i)&&(this.historicMoment=t.historicMoment)})},this._updateMomentHandler=t=>{let{serviceUrl:r,gdbVersion:i,moment:s}=t,o=r===this.featureServiceUrl,a=(0,M.gz)(r,i,this.gdbVersion);o&&a&&(this.historicMoment=s)},this.when().then(()=>{this.addHandles([(0,M.Jz)(this._applyEditsHandler),(0,M.dP)(this._updateMomentHandler)])},()=>{})}initialize(){this.when().catch(t=>{(0,g.zf)(t)||u.A.getLogger(this).error("#load()",`Failed to load layer (title: '${this.title??"no title"}', id: '${this.id??"no id"}')`,{error:t})})}get datasetName(){return this.dataElement?.name??null}get owner(){return this.dataElement?.userIdentity??null}get schemaGeneration(){return this.dataElement?.schemaGeneration??null}get parsedUrl(){return(0,_.An)(this.layerUrl)}get featureServiceUrl(){return(0,S.qg)(this.parsedUrl.path).url.path}get networkServiceUrl(){return this.featureServiceUrl.replace(/\/FeatureServer/i,"/UtilityNetworkServer")}get layerId(){return(0,S.qg)(this.parsedUrl.path).sublayer}get networkSystemLayers(){return null}async load(t){return this.addResolvingPromise(this._fetchDataElement(this.featureServiceUrl,this.layerId.toString(),t)),this.addResolvingPromise(this._fetchLayerMetaData(this.layerUrl,t)),this}getLayerIdBySourceId(t){if(!this.dataElement)return null;let r=this._layerIdBySourceId.get(t);if(null!=r)return r;let i=this.dataElement.domainNetworks,s=this._traverseNetworkSources(i,this._layerIdBySourceId,"sourceId","layerId",t);return s>=0?s:null}getSourceIdByLayerId(t){if(!this.dataElement)return null;let r=this._sourceIdByLayerId.get(t);if(null!=r)return r;let i=this.dataElement.domainNetworks,s=this._traverseNetworkSources(i,this._sourceIdByLayerId,"layerId","sourceId",t);return s>=0?s:null}getObjectIdsFromElements(t){let r=[],i=new Map;for(let r of t){let t=this.getLayerIdBySourceId(r.networkSourceId);if(null==t)continue;let s=i.get(t);void 0===s&&(s=[]),s.push(r.objectId),i.set(t,s)}let s=this.featureServiceUrl;return i.forEach((t,i)=>r.push({layerUrl:`${s}/${i}`,objectIds:t})),r}async queryNamedTraceConfigurations(t,r){let[{queryNamedTraceConfigurations:s},{default:o}]=await Promise.all([i.e(7930).then(i.bind(i,37930)),i.e(6257).then(i.bind(i,46257))]),a=this.networkServiceUrl,u=o.from(t);return(await s(a,u,{...r}))?.namedTraceConfigurations}async validateTopology(t,r){if(!t.validateArea)throw new f.A("network:undefined-validateArea","the network must have validateArea defined in the validate network topology parameters.");let[{validateNetworkTopology:s},{default:o}]=await Promise.all([i.e(3357).then(i.bind(i,63357)),i.e(8877).then(i.bind(i,38877))]),a=o.from(t);(0,N.w5)(this.featureServiceUrl,this.gdbVersion||null)?(a.sessionID=N.TA,await (0,N.ZJ)(this.featureServiceUrl,this.gdbVersion,!0)):a.sessionID=null,a.gdbVersion=this.gdbVersion;let u=this.networkServiceUrl,d=this.featureServiceUrl,c=(0,M.Zk)(d,null,this.gdbVersion,!0),p=await s(u,a,{...r});if(p?.serviceEdits){let t=[];for(let r of p.serviceEdits){let{editedFeatures:i}=r,s=i?.spatialReference?new w.A(i.spatialReference):null;t.push({layerId:r.layerId,editedFeatures:{adds:i?.adds?.map(t=>L(t,s))||[],updates:i?.updates?.map(t=>({original:L(t[0],s),current:L(t[1],s)}))||[],deletes:i?.deletes?.map(t=>L(t,s))||[],spatialReference:s}})}c.resolve({edits:null,addedFeatures:[],updatedFeatures:[],deletedFeatures:[],addedAttachments:[],updatedAttachments:[],deletedAttachments:[],editedFeatures:t,exceededTransferLimit:!1,historicMoment:p.moment})}return p}async submitTopologyValidationJob(t,r){let s=null;if(!t.validateArea)throw new f.A("network:undefined-validateArea","the network must have validateArea defined in the validate network topology parameters.");if(!this.gdbVersion){let t=this.layerUrl.replace(/\/FeatureServer/i,"/VersionManagementServer").replace(/\/\d*$/,"");s=(await (0,h.A)(t,{responseType:"json",query:{f:"json"}})).data.defaultVersionName}let[{submitValidateNetworkTopologyJob:o},{default:a}]=await Promise.all([i.e(3357).then(i.bind(i,63357)),i.e(8877).then(i.bind(i,38877))]),u=a.from(t);(0,N.w5)(this.featureServiceUrl,this.gdbVersion||null)?(u.sessionID=N.TA,await (0,N.ZJ)(this.featureServiceUrl,this.gdbVersion,!0)):u.sessionID=null,u.gdbVersion=this.gdbVersion||s;let d=this.networkServiceUrl,c=this.featureServiceUrl?(0,M.Zk)(this.featureServiceUrl,null,this.gdbVersion,!0):void 0;return new C({statusUrl:await o(d,u,{...r}),editsResolver:c})}getSourceTypeById(t){if(!this.dataElement)return null;for(let r of this.dataElement.domainNetworks)for(let i of[r.edgeSources??[],r.junctionSources??[]])for(let s of i)if(s.sourceId===t)return i===r.edgeSources?"edge":"junction";return null}_traverseNetworkSources(t,r,i,s,o){for(let a of t)for(let t of[a.edgeSources??[],a.junctionSources??[]])for(let a of t)if(a[i]===o)return r.set(o,a[s]),a[s];return -1}async _fetchLayerMetaData(t,r){let i=await (0,h.A)(t,{responseType:"json",query:{f:"json"},...r});this.sourceJSON=i.data,this.read(i.data,{origin:"service"})}async _fetchDataElement(t,r,i){if(this.dataElement)return;let s=await (0,h.A)(`${t}/queryDataElements`,{responseType:"json",query:{layers:JSON.stringify([r]),f:"json"},...i}).then(t=>t.data.layerDataElements?.[0]);s&&this.read(s,{origin:"service"})}};function L(t,r){return new o.A({attributes:t.attributes,geometry:(0,b.rS)({...t.geometry,spatialReference:r})})}(0,s._)([(0,a.MZ)({type:String,nonNullable:!0,json:{origins:{"web-map":{read:!0,write:{isRequired:!0}},service:{read:!0}},read:!1}})],k.prototype,"id",void 0),(0,s._)([(0,a.MZ)({type:String,nonNullable:!0,json:{origins:{"web-map":{read:!0,write:{isRequired:!0}},service:{read:{source:"name"}}},read:!1}})],k.prototype,"title",void 0),(0,s._)([(0,a.MZ)({type:String,nonNullable:!0,json:{origins:{"web-map":{read:{source:"url"},write:{target:"url",isRequired:!0}}},read:!1}})],k.prototype,"layerUrl",void 0),(0,s._)([(0,a.MZ)({type:Object,json:{origins:{service:{read:!0}},read:!1}})],k.prototype,"dataElement",void 0),(0,s._)([(0,a.MZ)({type:v.A,json:{origins:{service:{read:{source:"extent"}}},read:!1}})],k.prototype,"fullExtent",void 0),(0,s._)([(0,a.MZ)({type:w.A,json:{origins:{service:{read:{source:"extent.spatialReference"}}},read:!1}})],k.prototype,"spatialReference",void 0),(0,s._)([(0,a.MZ)({type:["utility","trace"],readOnly:!0,json:{read:!1,write:!1}})],k.prototype,"type",void 0),(0,s._)([(0,a.MZ)({readOnly:!0})],k.prototype,"datasetName",null),(0,s._)([(0,a.MZ)({readOnly:!0})],k.prototype,"owner",null),(0,s._)([(0,a.MZ)({readOnly:!0})],k.prototype,"schemaGeneration",null),(0,s._)([(0,a.MZ)({readOnly:!0})],k.prototype,"parsedUrl",null),(0,s._)([(0,a.MZ)({readOnly:!0})],k.prototype,"featureServiceUrl",null),(0,s._)([(0,a.MZ)({readOnly:!0})],k.prototype,"networkServiceUrl",null),(0,s._)([(0,a.MZ)({readOnly:!0})],k.prototype,"layerId",null),(0,s._)([(0,a.MZ)()],k.prototype,"sourceJSON",void 0),(0,s._)([(0,a.MZ)({readOnly:!0})],k.prototype,"networkSystemLayers",null),(0,s._)([(0,a.MZ)()],k.prototype,"gdbVersion",void 0),(0,s._)([(0,a.MZ)({type:Date})],k.prototype,"historicMoment",void 0);let F=k=(0,s._)([(0,d.$)("esri.networks.Network")],k);var Z=i(92713),D=i(71086),j=i(14796);let U=class extends Z.A.JSONSupportMixin(y.A){constructor(t){super(t),this.rulesCategorized={attachment:[],containment:[],connectivity:[]},this.request=h.A}initialize(){}async load(t){let r=this.rulesLayer.load(t).then(()=>this._initializeRulesTable());return this.addResolvingPromise(r),this}getFeaturesCanAssociateWithClause(t,r,i){return this._getWhereClauseForCompatibleFeatures(t,r,i)}getFeaturesCanAssociateWith(t,r,i){return null==this._getFeatureSourceLayerId(t)?[]:r.filter(r=>this.canAssociateFeatures(t,r,i))}canAssociateFeatures(t,r,i){let[s,o]=this._getFeatureAssetCodes(t),a=this._getFeatureSourceLayerId(t),[u,d]=this._getFeatureAssetCodes(r),c=this._getFeatureSourceLayerId(r);return null!=a&&null!=c&&i.some(t=>{let{type:r,direction:i}=t;return this._getRulesForAssociationType(r).some(t=>{let p=this._getRuleFieldValuesForAssociation(t,r,i);return p?.some(t=>a===t?.ruleLayerIdForSource&&s===t?.ruleAssetGroupCodeForSource&&o===t?.ruleAssetTypeCodeForSource&&c===t?.ruleLayerIdForTarget&&u===t?.ruleAssetGroupCodeForTarget&&d===t?.ruleAssetTypeCodeForTarget)})})}getLayersCanAssociateWith(t,r,i){return null==this._getFeatureSourceLayerId(t)?[]:r.filter(r=>this.canAssociateFeatureToLayer(t,r,i))}canAssociateFeatureToLayer(t,r,i){let s=(0,D.Sv)(r)?r.parent:r;if(!s)return!1;let o=s.layerId,a=(0,D.Sv)(r)?r.subtypeCode:null,[u,d]=this._getFeatureAssetCodes(t),c=this._getFeatureSourceLayerId(t);return null!=c&&i.some(t=>{let{type:r,direction:i}=t;return this._getRulesForAssociationType(r).some(t=>{let s=this._getRuleFieldValuesForAssociation(t,r,i);return s?.some(t=>c===t?.ruleLayerIdForSource&&u===t?.ruleAssetGroupCodeForSource&&d===t?.ruleAssetTypeCodeForSource&&o===t?.ruleLayerIdForTarget&&(null==a||a===t?.ruleAssetGroupCodeForTarget))})})}getFeatureSQL(t,r){let i=t.layerId.toString(),s=t.fieldsIndex?.normalizeFieldName("assetGroup"),o=t.fieldsIndex?.normalizeFieldName("assetType"),a=s?r.attributes[s]:null,u=o?r.attributes[o]:null,d=this.rulesHash[i];if(d){let t=d.assetGroupHash[a];if(t)return t.assetTypeHash[u]||null}return null}async _initializeRulesTable(){var t;let r,i={};(t=r||(r={}))[t.from=0]="from",t[t.to=1]="to",t[t.via=2]="via";let s=[{networkSourceId:"fromNetworkSource",assetGroupId:"fromAssetGroup",assetTypeId:"fromAssetType"},{networkSourceId:"toNetworkSource",assetGroupId:"toAssetGroup",assetTypeId:"toAssetType"},{networkSourceId:"viaNetworkSource",assetGroupId:"viaAssetGroup",assetTypeId:"viaAssetType"}];for(let t of(this.rulesCategorized={attachment:[],containment:[],connectivity:[]},this.rules)){if(t.ruleType===j.D2.RTAttachment){this.rulesCategorized.attachment.push(t);continue}if(t.ruleType===j.D2.RTContainment){this.rulesCategorized.containment.push(t);continue}if(t.ruleType===j.D2.RTJunctionJunctionConnectivity){this.rulesCategorized.connectivity.push(t);continue}this.rulesCategorized.connectivity.push(t);let o=[[r.from,r.to],[r.to,r.from]];for(let a of(t.ruleType===j.D2.RTEdgeJunctionEdgeConnectivity&&(o=[[r.from,r.via],[r.via,r.from],[r.to,r.via],[r.via,r.to]]),o)){let o=a.shift(),u=a.shift(),d=!1;switch(t.ruleType){case j.D2.RTEdgeJunctionEdgeConnectivity:d=o===r.from||o===r.to;break;case j.D2.RTJunctionEdgeConnectivity:d=o===r.to}let c=s[o],p=t[c.networkSourceId]?.layerId.toString()??"",h=t[c.assetGroupId]?.assetGroupCode?.toString(),f=t[c.assetTypeId],y=f?.assetTypeCode?.toString(),m=s[u],g=t[m.networkSourceId]?.layerId.toString()??"",_=t[m.assetGroupId]?.assetGroupCode?.toString(),v=t[m.assetTypeId],w=v?.assetTypeCode?.toString(),b=i[p]??{assetGroupHash:{}};if(!(h&&y&&_&&w))continue;let M=b.assetGroupHash[h]??{assetTypeHash:{}},S=M.assetTypeHash[y]??{};if(S[g]=S[g]??{},d){S[p]=S[p]??{};let t=`(assetgroup = ${h} AND assettype = ${y})`;"esriNECPEndVertex"===v?.connectivityPolicy?S[p].endVertex=S[p]?.endVertex?`${S[p].endVertex}`:`${t}`:S[p].anyVertex=S[p].anyVertex?`${S[p].anyVertex}`:`${t}`}let A=`(assetgroup = ${_} AND assettype = ${w})`;"esriNECPEndVertex"===v?.connectivityPolicy?S[g].endVertex=S[g]?.endVertex?`${S[g].endVertex} OR ${A}`:`${A}`:S[g].anyVertex=S[g]?.anyVertex?`${S[g].anyVertex} OR ${A}`:`${A}`,M.assetTypeHash[y]=S,b.assetGroupHash[h]=M,i[p]=b}}this._set("rulesHash",i)}_getRuleFieldValuesForAssociation(t,r,i="from"){switch(r){case"attachment":case"containment":return"from"===i?[{ruleLayerIdForSource:t.fromNetworkSource?.layerId,ruleAssetGroupCodeForSource:t.fromAssetGroup?.assetGroupCode,ruleAssetTypeCodeForSource:t.fromAssetType?.assetTypeCode,ruleLayerIdForTarget:t.toNetworkSource?.layerId,ruleAssetGroupCodeForTarget:t.toAssetGroup?.assetGroupCode,ruleAssetTypeCodeForTarget:t.toAssetType?.assetTypeCode}]:[{ruleLayerIdForSource:t.toNetworkSource?.layerId,ruleAssetGroupCodeForSource:t.toAssetGroup?.assetGroupCode,ruleAssetTypeCodeForSource:t.toAssetType?.assetTypeCode,ruleLayerIdForTarget:t.fromNetworkSource?.layerId,ruleAssetGroupCodeForTarget:t.fromAssetGroup?.assetGroupCode,ruleAssetTypeCodeForTarget:t.fromAssetType?.assetTypeCode}];case"connectivity":case"junction-junction-connectivity":return[{ruleLayerIdForSource:t.fromNetworkSource?.layerId,ruleAssetGroupCodeForSource:t.fromAssetGroup?.assetGroupCode,ruleAssetTypeCodeForSource:t.fromAssetType?.assetTypeCode,ruleLayerIdForTarget:t.toNetworkSource?.layerId,ruleAssetGroupCodeForTarget:t.toAssetGroup?.assetGroupCode,ruleAssetTypeCodeForTarget:t.toAssetType?.assetTypeCode},{ruleLayerIdForSource:t.toNetworkSource?.layerId,ruleAssetGroupCodeForSource:t.toAssetGroup?.assetGroupCode,ruleAssetTypeCodeForSource:t.toAssetType?.assetTypeCode,ruleLayerIdForTarget:t.fromNetworkSource?.layerId,ruleAssetGroupCodeForTarget:t.fromAssetGroup?.assetGroupCode,ruleAssetTypeCodeForTarget:t.fromAssetType?.assetTypeCode}];case"junction-edge-from-connectivity":case"junction-edge-midspan-connectivity":case"junction-edge-to-connectivity":return t.ruleType===j.D2.RTEdgeJunctionEdgeConnectivity?[{ruleLayerIdForSource:t.fromNetworkSource?.layerId,ruleAssetGroupCodeForSource:t.fromAssetGroup?.assetGroupCode,ruleAssetTypeCodeForSource:t.fromAssetType?.assetTypeCode,ruleLayerIdForTarget:t.viaNetworkSource?.layerId,ruleAssetGroupCodeForTarget:t.viaAssetGroup?.assetGroupCode,ruleAssetTypeCodeForTarget:t.viaAssetType?.assetTypeCode},{ruleLayerIdForSource:t.viaNetworkSource?.layerId,ruleAssetGroupCodeForSource:t.viaAssetGroup?.assetGroupCode,ruleAssetTypeCodeForSource:t.viaAssetType?.assetTypeCode,ruleLayerIdForTarget:t.fromNetworkSource?.layerId,ruleAssetGroupCodeForTarget:t.fromAssetGroup?.assetGroupCode,ruleAssetTypeCodeForTarget:t.fromAssetType?.assetTypeCode},{ruleLayerIdForSource:t.toNetworkSource?.layerId,ruleAssetGroupCodeForSource:t.toAssetGroup?.assetGroupCode,ruleAssetTypeCodeForSource:t.toAssetType?.assetTypeCode,ruleLayerIdForTarget:t.viaNetworkSource?.layerId,ruleAssetGroupCodeForTarget:t.viaAssetGroup?.assetGroupCode,ruleAssetTypeCodeForTarget:t.viaAssetType?.assetTypeCode},{ruleLayerIdForSource:t.viaNetworkSource?.layerId,ruleAssetGroupCodeForSource:t.viaAssetGroup?.assetGroupCode,ruleAssetTypeCodeForSource:t.viaAssetType?.assetTypeCode,ruleLayerIdForTarget:t.toNetworkSource?.layerId,ruleAssetGroupCodeForTarget:t.toAssetGroup?.assetGroupCode,ruleAssetTypeCodeForTarget:t.toAssetType?.assetTypeCode}]:[{ruleLayerIdForSource:t.fromNetworkSource?.layerId,ruleAssetGroupCodeForSource:t.fromAssetGroup?.assetGroupCode,ruleAssetTypeCodeForSource:t.fromAssetType?.assetTypeCode,ruleLayerIdForTarget:t.toNetworkSource?.layerId,ruleAssetGroupCodeForTarget:t.toAssetGroup?.assetGroupCode,ruleAssetTypeCodeForTarget:t.toAssetType?.assetTypeCode},{ruleLayerIdForSource:t.toNetworkSource?.layerId,ruleAssetGroupCodeForSource:t.toAssetGroup?.assetGroupCode,ruleAssetTypeCodeForSource:t.toAssetType?.assetTypeCode,ruleLayerIdForTarget:t.fromNetworkSource?.layerId,ruleAssetGroupCodeForTarget:t.fromAssetGroup?.assetGroupCode,ruleAssetTypeCodeForTarget:t.fromAssetType?.assetTypeCode}];default:return[]}}_getWhereClauseForCompatibleFeatures(t,r,i){let s=new Map,[o,a]=this._getAssetFieldNames(t.sourceLayer),[u,d]=this._getFeatureAssetCodes(t),c=this._getFeatureSourceLayerId(t),p=(0,D.Sv)(r)?r.parent:r,h=(0,D.Sv)(r)?r.subtypeCode:null;i.forEach(t=>{let{type:r,direction:i}=t;this._getRulesForAssociationType(r).forEach(t=>{this._getRuleFieldValuesForAssociation(t,r,i).forEach(t=>{if(null!=t.ruleAssetGroupCodeForTarget&&null!=t.ruleAssetTypeCodeForTarget&&c===t?.ruleLayerIdForSource&&u===t?.ruleAssetGroupCodeForSource&&d===t?.ruleAssetTypeCodeForSource&&p.layerId===t?.ruleLayerIdForTarget&&(null==h||h===t?.ruleAssetGroupCodeForTarget)){let r=s.get(t.ruleAssetGroupCodeForTarget)??new Set;r.add(t.ruleAssetTypeCodeForTarget),s.set(t.ruleAssetGroupCodeForTarget,r)}})})});let f=[];return this._mergeAssetCodes(s).forEach((t,r)=>f.push(`${o} IN (${r}) AND ${a} IN (${Array.from(t).sort().join(", ")})`)),f.length>1&&(f=f.map(t=>`(${t})`)),f.join(" OR ")}_getRulesForAssociationType(t){let{rulesCategorized:r}=this;switch(t){case"attachment":return r.attachment;case"containment":return r.containment;case"connectivity":case"junction-junction-connectivity":return r.connectivity.filter(t=>t.ruleType===j.D2.RTJunctionJunctionConnectivity);case"junction-edge-from-connectivity":case"junction-edge-midspan-connectivity":case"junction-edge-to-connectivity":return r.connectivity.filter(t=>t.ruleType===j.D2.RTJunctionEdgeConnectivity||t.ruleType===j.D2.RTEdgeJunctionEdgeConnectivity);default:return[]}}_getFeatureSourceLayerId(t){let r,{sourceLayer:i}=t;return(0,D.yZ)(i)?r=i.layerId:(0,D.Sv)(i)&&(r=i.parent?.layerId),r??null}_getAssetFieldNames(t){return t&&"fieldsIndex"in t?[t.fieldsIndex.normalizeFieldName("assetGroup")??null,t.fieldsIndex.normalizeFieldName("assetType")??null]:[null,null]}_getFeatureAssetCodes(t){let[r,i]=this._getAssetFieldNames(t.sourceLayer);return[r?t.attributes[r]:null,i?t.attributes[i]:null]}_areSetsEqual(t,r){if(t.size!==r.size)return!1;for(let i of t)if(!r.has(i))return!1;return!0}_mergeAssetCodes(t){let r=new Map,i=new Set;for(let[s,o]of t){let a=new Set([s]);for(let[r,u]of t)s!==r&&!i.has(r)&&this._areSetsEqual(o,u)&&(a.add(r),i.add(r));let u=Array.from(a).sort().join(", ");r.set(u,o)}return r}};(0,s._)([(0,a.MZ)({constructOnly:!0})],U.prototype,"rulesLayer",void 0),(0,s._)([(0,a.MZ)({constructOnly:!0})],U.prototype,"rules",void 0),(0,s._)([(0,a.MZ)({readOnly:!0})],U.prototype,"rulesHash",void 0),(0,s._)([(0,a.MZ)()],U.prototype,"rulesCategorized",void 0),(0,s._)([(0,a.MZ)({constructOnly:!0})],U.prototype,"request",void 0);let V=U=(0,s._)([(0,d.$)("esri.networks.RulesTable")],U);var z=i(89133),G=i(43602),$=i(28690);let B=class extends $.A{constructor(t){super(t),this.rulesTableId=null,this.rulesTableUrl=null,this.subnetworksTableId=null,this.subnetworksTableUrl=null,this.dirtyAreasLayerId=null,this.dirtyAreasLayerUrl=null,this.associationsTable=null,this.associationsTableId=null,this.associationsTableUrl=null}destroy(){this.associationsTable?.destroy()}async loadAssociationsTable(){if(!this.associationsTable){let{associationsTableUrl:t}=this;if(!t)throw new f.A("utility-network-system-layers:missing-associations-table-url","Unable to load the associations table, as the `associationsTableUrl` is not set.");this.associationsTable=new c.default({url:t})}return await this.associationsTable.load(),this.associationsTable}};(0,s._)([(0,a.MZ)({constructOnly:!0})],B.prototype,"rulesTableId",void 0),(0,s._)([(0,a.MZ)({constructOnly:!0})],B.prototype,"rulesTableUrl",void 0),(0,s._)([(0,a.MZ)({constructOnly:!0})],B.prototype,"subnetworksTableId",void 0),(0,s._)([(0,a.MZ)({constructOnly:!0})],B.prototype,"subnetworksTableUrl",void 0),(0,s._)([(0,a.MZ)({constructOnly:!0})],B.prototype,"dirtyAreasLayerId",void 0),(0,s._)([(0,a.MZ)({constructOnly:!0})],B.prototype,"dirtyAreasLayerUrl",void 0),(0,s._)([(0,a.MZ)()],B.prototype,"associationsTable",void 0),(0,s._)([(0,a.MZ)({constructOnly:!0})],B.prototype,"associationsTableId",void 0),(0,s._)([(0,a.MZ)({constructOnly:!0})],B.prototype,"associationsTableUrl",void 0);let q=B=(0,s._)([(0,d.$)("esri.networks.support.NetworkSystemLayers")],B),H=class extends Z.A{constructor(t){super(t),this.id=null,this.name=null}};(0,s._)([(0,a.MZ)({type:Number,json:{read:{source:"terminalId"},write:{target:"terminalId"}}})],H.prototype,"id",void 0),(0,s._)([(0,a.MZ)({type:String,json:{read:{source:"terminalName"},write:{target:"terminalName"}}})],H.prototype,"name",void 0),(0,s._)([(0,a.MZ)({type:Boolean,json:{write:!0}})],H.prototype,"isUpstreamTerminal",void 0);let W=H=(0,s._)([(0,d.$)("esri.networks.support.Terminal")],H),J=new A.J({esriUNTMBidirectional:"bidirectional",esriUNTMDirectional:"directional"}),K=class extends Z.A{constructor(t){super(t),this.defaultConfiguration=null,this.id=null,this.name=null,this.terminals=[],this.traversabilityModel=null}};(0,s._)([(0,a.MZ)({type:String,json:{write:!0}})],K.prototype,"defaultConfiguration",void 0),(0,s._)([(0,a.MZ)({type:Number,json:{read:{source:"terminalConfigurationId"},write:{target:"terminalConfigurationId"}}})],K.prototype,"id",void 0),(0,s._)([(0,a.MZ)({type:String,json:{read:{source:"terminalConfigurationName"},write:{target:"terminalConfigurationName"}}})],K.prototype,"name",void 0),(0,s._)([(0,a.MZ)({type:[W],json:{write:!0}})],K.prototype,"terminals",void 0),(0,s._)([(0,a.MZ)({type:J.apiValues,json:{type:J.jsonValues,read:J.read,write:J.write}})],K.prototype,"traversabilityModel",void 0);let Y=K=(0,s._)([(0,d.$)("esri.networks.support.TerminalConfiguration")],K);var X=i(74044);let Q=(0,A.O)()({Pending:"job-waiting",InProgress:"job-executing",Completed:"job-succeeded"}),ee=class extends X.A{constructor(t){super(t),this.statusUrl=null,this.status=null,this.submissionTime=null,this.lastUpdatedTime=null,this._timer=void 0}destroy(){clearInterval(this._timer)}async checkJobStatus(t){let r={...t,query:{f:"json"}},{data:i}=await (0,h.A)(this.statusUrl,r),s=i.traceResults?{...i.traceResults,...i}:i;return this.read(s),this}async waitForJobCompletion(t={}){let{interval:r=1e3,statusCallback:i}=t;return new Promise((t,s)=>{this._clearTimer();let o=setInterval(()=>{this._timer||s((0,g.NK)()),this.checkJobStatus().then(r=>{let{status:s}=r;switch(this.status=s,s){case"job-succeeded":this._clearTimer(),t(this);break;case"job-waiting":case"job-executing":i&&i(this)}},t=>{this._clearTimer(),s(t)})},r);this._timer=o})}_clearTimer(){clearInterval(this._timer),this._timer=void 0}};(0,s._)([(0,a.MZ)({type:String,json:{write:!0}})],ee.prototype,"statusUrl",void 0),(0,s._)([(0,T.e)(Q)],ee.prototype,"status",void 0),(0,s._)([(0,a.MZ)({type:Date,json:{type:Number,write:{writer:(t,r)=>{r.submissionTime=t?t.getTime():null}}}})],ee.prototype,"submissionTime",void 0),(0,s._)([(0,a.MZ)({type:Date,json:{type:Number,write:{writer:(t,r)=>{r.lastUpdatedTime=t?t.getTime():null}}}})],ee.prototype,"lastUpdatedTime",void 0);let et=ee=(0,s._)([(0,d.$)("esri.networks.support.TraceJobInfo")],ee);var er=i(86099);let ei=class extends F{constructor(t){super(t),this.sharedNamedTraceConfigurations=[],this.type="utility",this._terminalById=new Map}get serviceTerritoryFeatureLayerId(){return this.dataElement?.serviceTerritoryFeatureLayerId??null}get networkSystemLayers(){return new q({rulesTableId:this.sourceJSON?.systemLayers.rulesTableId,rulesTableUrl:this.sourceJSON?`${this.featureServiceUrl}/${this.sourceJSON?.systemLayers.rulesTableId}`:null,subnetworksTableId:this.sourceJSON?.systemLayers.subnetworksTableId,subnetworksTableUrl:this.sourceJSON?`${this.featureServiceUrl}/${this.sourceJSON?.systemLayers.subnetworksTableId}`:null,dirtyAreasLayerId:this.sourceJSON?.systemLayers.dirtyAreasLayerId,dirtyAreasLayerUrl:this.sourceJSON?`${this.featureServiceUrl}/${this.sourceJSON?.systemLayers.dirtyAreasLayerId}`:null,associationsTableId:this.sourceJSON?.systemLayers.associationsTableId,associationsTableUrl:this.sourceJSON?`${this.featureServiceUrl}/${this.sourceJSON?.systemLayers.associationsTableId}`:null})}get terminalConfigurations(){return this.dataElement?.terminalConfigurations.map(t=>Y.fromJSON(t))||[]}get domainNetworkNames(){return this.dataElement?.domainNetworks.map(t=>t.domainNetworkName)||[]}get _utilityLayerList(){let t=new Set;return this.dataElement?.domainNetworks?.map(r=>{r?.edgeSources?.map(({layerId:r,sourceId:i})=>{this._layerIdBySourceId.set(i,r),this._sourceIdByLayerId.set(r,i),t.add(r)}),r?.junctionSources?.map(({layerId:r,sourceId:i})=>{this._layerIdBySourceId.set(i,r),this._sourceIdByLayerId.set(r,i),t.add(r)})}),t}async load(t){return this.addResolvingPromise(super.load(t)),this.addResolvingPromise(this._loadNamedTraceConfigurationsFromNetwork(t)),this}getTerminalConfiguration(t){let r=null,i=null,s=t.layer,o=null;if("feature"===s?.type){if(null===(o=s.layerId))return null}else if("subtype-sublayer"!==s?.type||null===(o=s?.parent?.layerId??null))return null;let a=t.attributes;if(null==a)return null;for(let s of Object.keys(a))"ASSETGROUP"===s.toUpperCase()&&(r=t.getAttribute(s)),"ASSETTYPE"===s.toUpperCase()&&(i=t.getAttribute(s));if(!this.dataElement)return null;let u=null;for(let t of this.dataElement.domainNetworks){let s=t.junctionSources?.find(t=>t.layerId===o);if(s){let t=s.assetGroups?.find(t=>t.assetGroupCode===r);if(t){let r=t.assetTypes?.find(t=>t.assetTypeCode===i);if(r?.isTerminalConfigurationSupported){u=r.terminalConfigurationId;break}}}}if(null!=u){let t=this.dataElement.terminalConfigurations,r=t?.find(t=>t.terminalConfigurationId===u);return r?Y.fromJSON(r):null}return null}getTierNames(t){let r=this.dataElement?.domainNetworks.find(r=>r.domainNetworkName===t);return r?.tiers.map(t=>t.name)||[]}async getRulesTable(){return this._sharedRulesTable||(this._sharedRulesTable=this._createRulesTable()),await this._sharedRulesTable}getTerminalById(t){if(!this.dataElement||null==t)return null;let r=this._terminalById.get(t);return null!=r?r:(this.terminalConfigurations.forEach(t=>{t.terminals.forEach(t=>{this._terminalById.set(t.id,t)})}),this._terminalById.get(t))}isUtilityLayer(t){return"layerId"in t?this._utilityLayerList.has(t?.layerId)&&(t.url?.startsWith(this.featureServiceUrl)??!1):!("subtype-sublayer"!==t.type||!t.parent)&&this._utilityLayerList.has(t.parent.layerId)&&(t.parent.url?.startsWith(this.featureServiceUrl)??!1)}async queryAssociations(t,r){let[{queryAssociations:s},{default:o}]=await Promise.all([i.e(2585).then(i.bind(i,32585)),i.e(8).then(i.bind(i,90008))]),a=o.from(t);return a.gdbVersion=this.gdbVersion,a.moment=this.historicMoment,(await s(this.networkServiceUrl,a,r)).associations}async synthesizeAssociationGeometries(t){let[{synthesizeAssociationGeometries:r},{default:s}]=await Promise.all([i.e(7482).then(i.bind(i,97482)),i.e(3795).then(i.bind(i,53795))]),o=s.from(t);return o.gdbVersion=this.gdbVersion,o.moment=this.historicMoment,r(this.networkServiceUrl,o)}async trace(t){let[{trace:r},{default:s}]=await Promise.all([i.e(2309).then(i.bind(i,92309)),i.e(676).then(i.bind(i,50676))]),o=s.from(t);return o.gdbVersion=this.gdbVersion,o.moment=this.historicMoment,r(this.networkServiceUrl,o)}async submitTraceJob(t){let[{submitTraceJob:r},{default:s}]=await Promise.all([i.e(2309).then(i.bind(i,92309)),i.e(676).then(i.bind(i,50676))]),o=s.from(t);return o.gdbVersion=this.gdbVersion,o.moment=this.historicMoment,new et({statusUrl:await r(this.networkServiceUrl,o)})}async canAddAssociation(t){let r=await this.getRulesTable();if(!r)return!1;await r.load();let i=(t,r)=>t?1===t.terminalId?!r?.terminalId||r?.terminalId===t.terminalId:t.terminalId===r?.terminalId:!r?.terminalId,s=t=>({fromRuleElement:{networkSource:t.fromNetworkSource,assetGroup:t.fromAssetGroup,assetType:t.fromAssetType,terminal:t.fromTerminal},viaRuleElement:t.viaNetworkSource?{networkSource:t.viaNetworkSource,assetGroup:t.viaAssetGroup,assetType:t.viaAssetType,terminal:t.viaTerminal}:void 0,toRuleElement:{networkSource:t.toNetworkSource,assetGroup:t.toAssetGroup,assetType:t.toAssetType,terminal:t.toTerminal}}),o=(t,r,s=!0)=>t.networkSource?.sourceId===r.networkSourceId&&t.assetGroup?.assetGroupCode===r.assetGroupCode&&t.assetType?.assetTypeCode===r.assetTypeCode&&(!s||i(t.terminal,r)),a=(t,r)=>{let{fromRuleElement:i,toRuleElement:a}=s(t);return o(i,r.fromNetworkElement,!1)&&o(a,r.toNetworkElement,!1)},u=(t,r)=>{let{fromRuleElement:i,toRuleElement:a}=s(t);return o(i,r.fromNetworkElement)&&o(a,r.toNetworkElement)||o(i,r.toNetworkElement)&&o(a,r.fromNetworkElement)},d=(t,r)=>{let{fromRuleElement:i,toRuleElement:a,viaRuleElement:u}=s(t);return o(i,r.fromNetworkElement)&&o(u,r.toNetworkElement)||o(i,r.toNetworkElement)&&o(u,r.fromNetworkElement)||o(u,r.fromNetworkElement)&&o(a,r.toNetworkElement)||o(u,r.toNetworkElement)&&o(a,r.fromNetworkElement)};return"containment"===t.associationType?r.rulesCategorized.containment.some(r=>a(r,t)):"attachment"===t.associationType?r.rulesCategorized.attachment.some(r=>a(r,t)):r.rulesCategorized.connectivity.some(r=>r.ruleType===j.D2.RTEdgeJunctionEdgeConnectivity?d(r,t):u(r,t))}generateAddAssociations(t){let{associationsTable:r}=this.networkSystemLayers,{fromNetworkSourceId:i,fromGlobalId:s,fromTerminalId:a,toNetworkSourceId:u,toGlobalId:d,toTerminalId:c,associationType:p,isContentVisible:h,percentAlong:f,globalId:y}=(0,G.E)(r);return{addFeatures:t.map(t=>new o.A({attributes:{[i]:t.fromNetworkElement?.networkSourceId,[s]:t.fromNetworkElement?.globalId,[a]:t.fromNetworkElement?.terminalId,[u]:t.toNetworkElement?.networkSourceId,[d]:t.toNetworkElement?.globalId,[c]:t.toNetworkElement?.terminalId,[p]:j.v9[t.associationType],[h]:null==t.isContentVisible?void 0:+!!t.isContentVisible,[f]:t.percentAlong,[y]:t.globalId}})),id:this.networkSystemLayers.associationsTableId,identifierFields:{globalIdField:r?.globalIdField??"globalid",objectIdField:r?.objectIdField??"objectid"}}}generateDeleteAssociations(t){let{associationsTable:r,associationsTableId:i}=this.networkSystemLayers;return{deleteFeatures:t.map(t=>({globalId:t.globalId})),id:i,identifierFields:{globalIdField:r?.globalIdField??"globalid",objectIdField:r?.objectIdField??"objectid"}}}async loadAssociationsTable(){return this.networkSystemLayers.loadAssociationsTable()}async _loadNamedTraceConfigurationsFromNetwork(t){if(0===this.sharedNamedTraceConfigurations?.length)return;let r=this.sharedNamedTraceConfigurations.map(t=>t.globalId),i=await this.queryNamedTraceConfigurations({globalIds:r},t);for(let t of this.sharedNamedTraceConfigurations){let r=i?.find(r=>r.globalId===t.globalId);if(r){let i=r.write({},{origin:"service"});t.read(i,{origin:"service"})}}}async _createRulesTable(){let t=this.networkSystemLayers.rulesTableUrl,r=new c.default({url:t});await r.load();let i=this.dataElement?.domainNetworks;if(!i)return null;let s=i.flatMap(t=>[...t.edgeSources||[],...t.junctionSources||[]]),o=(await en(r)).map(t=>this._hydrateRuleInfo(r,s,t));return new V({rulesLayer:r,rules:o})}_hydrateRuleInfo(t,r,i){var s;let o,a=t.fieldsIndex,u=a.get("RULETYPE"),d=a.get("CREATIONDATE"),c=a.get("FROMNETWORKSOURCEID"),p=a.get("FROMASSETGROUP"),h=a.get("FROMASSETTYPE"),f=a.get("FROMTERMINALID"),y=a.get("TONETWORKSOURCEID"),m=a.get("TOASSETGROUP"),g=a.get("TOASSETTYPE"),_=a.get("TOTERMINALID"),v=a.get("VIANETWORKSOURCEID"),w=a.get("VIAASSETGROUP"),b=a.get("VIAASSETTYPE"),M=a.get("VIATERMINALID"),S=i.attributes[u.name],A=new Date(i.attributes[d.name]),T=[{networkSourceId:i.attributes[c.name],assetGroupId:i.attributes[p.name],assetTypeId:i.attributes[h.name],terminalId:i.attributes[f.name]},{networkSourceId:i.attributes[y.name],assetGroupId:i.attributes[m.name],assetTypeId:i.attributes[g.name],terminalId:i.attributes[_.name]},{networkSourceId:i.attributes[v.name],assetGroupId:i.attributes[w.name],assetTypeId:i.attributes[b.name],terminalId:i.attributes[M.name]}];(s=o||(o={}))[s.from=0]="from",s[s.to=1]="to",s[s.via=2]="via";let x={ruleType:S,creationDate:A};for(let t of[o.from,o.to,o.via]){if(S!==j.D2.RTEdgeJunctionEdgeConnectivity&&t===o.via)continue;let i=T[t],s=r.find(t=>t.sourceId===i.networkSourceId),a=s?.assetGroups.find(t=>t.assetGroupCode===i.assetGroupId),u=a?.assetTypes.find(t=>t.assetTypeCode===i.assetTypeId),d=this._getTerminal(u,i),c="";switch(t){case o.from:c="from";break;case o.to:c="to";break;case o.via:c="via"}x[`${c}NetworkSource`]=s,x[`${c}AssetGroup`]=a,x[`${c}AssetType`]=u,x[`${c}Terminal`]=d?.toJSON()}return x}_getTerminal(t,r){let i=t?.terminalConfigurationId,s=this.terminalConfigurations?.find(t=>t.id===i);return s?.terminals?.find(t=>t.id===r.terminalId)??null}};async function en(t){let r=new er.A({where:"1=1",outFields:["*"]});return(await (0,p.SE)(t,r)).features}(0,s._)([(0,a.MZ)({type:[z.A],json:{origins:{"web-map":{read:{source:"traceConfigurations"},write:{target:"traceConfigurations"}},service:{read:{source:"traceConfigurations"}}},read:!1}})],ei.prototype,"sharedNamedTraceConfigurations",void 0),(0,s._)([(0,a.MZ)({type:["utility"],readOnly:!0,json:{read:!1,write:!1}})],ei.prototype,"type",void 0),(0,s._)([(0,a.MZ)({readOnly:!0})],ei.prototype,"serviceTerritoryFeatureLayerId",null),(0,s._)([(0,a.MZ)({readOnly:!0})],ei.prototype,"networkSystemLayers",null),(0,s._)([(0,a.MZ)({readOnly:!0})],ei.prototype,"terminalConfigurations",null),(0,s._)([(0,a.MZ)({readOnly:!0})],ei.prototype,"domainNetworkNames",null);let es=ei=(0,s._)([(0,d.$)("esri.networks.UtilityNetwork")],ei)},51663:(t,r,i)=>{i.d(r,{A:()=>p});var s,o=i(81856),a=i(91838);i(57845),i(61939),i(33638);var u=i(12709),d=i(55630);let c=s=class extends d.A{constructor(t){super(t),this.image=null,this.type="toggle",this.value=!1}clone(){return new s({active:this.active,className:this.className,disabled:this.disabled,icon:this.icon,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible,image:this.image,value:this.value})}};(0,o._)([(0,a.MZ)()],c.prototype,"image",void 0),(0,o._)([(0,a.MZ)()],c.prototype,"value",void 0);let p=c=s=(0,o._)([(0,u.$)("esri.support.actions.ActionToggle")],c)},51751:(t,r,i)=>{i.d(r,{A:()=>v});var s,o=i(81856),a=i(32391),u=i(92713),d=i(34184),c=i(91838);i(57845),i(61939),i(33638);var p=i(12709),h=i(27318),f=i(32392);let y={read:{reader:h.LF},write:{writer:h.M9,overridePolicy(){return{allowNull:null!=this.excludedEffect,isRequired:null==this.excludedEffect}}}},m={read:{reader:h.LF},write:{writer:h.M9,overridePolicy(){return{allowNull:null!=this.includedEffect,isRequired:null==this.includedEffect}}}},g={name:"showExcludedLabels",default:!0},_=s=class extends u.A{constructor(t){super(t),this.filter=null,this.includedEffect=null,this.excludedEffect=null,this.excludedLabelsVisible=!1}write(t,r){let i=super.write(t,r);if(r?.origin){if(i.filter){let t=Object.keys(i.filter);if(t.length>1||"where"!==t[0])return r.messages?.push(new a.A("web-document-write:unsupported-feature-effect","Invalid feature effect 'filter'. A filter can only contain a 'where' property",{layer:r.layer,effect:this})),null}if("showExcludedLabels"in i)return r.messages?.push(new a.A("web-document-write:unsupported-feature-effect","Invalid value for property 'excludedLabelsVisible' which should always be 'true'",{layer:r.layer,effect:this})),null}return i}clone(){return new s({filter:null!=this.filter?this.filter.clone():null,includedEffect:this.includedEffect,excludedEffect:this.excludedEffect,excludedLabelsVisible:this.excludedLabelsVisible})}};(0,o._)([(0,c.MZ)({type:f.A,json:{write:{allowNull:!0,writer(t,r,i,s){let o=t?.write({},s);o&&0!==Object.keys(o).length?(0,d.sM)(i,o,r):(0,d.sM)(i,null,r)}}}})],_.prototype,"filter",void 0),(0,o._)([(0,c.MZ)({json:{read:h.LF,write:{writer:h.M9,allowNull:!0},origins:{"web-map":y,"portal-item":y}}})],_.prototype,"includedEffect",void 0),(0,o._)([(0,c.MZ)({json:{read:h.LF,write:{writer:h.M9,allowNull:!0},origins:{"web-map":m,"portal-item":m}}})],_.prototype,"excludedEffect",void 0),(0,o._)([(0,c.MZ)({type:Boolean,json:{write:!0,name:"showExcludedLabels",origins:{"web-map":g,"portal-item":g}}})],_.prototype,"excludedLabelsVisible",void 0);let v=_=s=(0,o._)([(0,p.$)("esri.layers.support.FeatureEffect")],_)},52420:(t,r,i)=>{i.d(r,{A:()=>h});var s,o=i(81856),a=i(33715),u=i(91838);i(57845),i(61939);var d=i(12709),c=i(5741);let p=s=class extends c.A{constructor(t){super(t),this.creator=null,this.destroyer=null,this.outFields=null,this.type="custom"}clone(){return new s({creator:this.creator,destroyer:this.destroyer,outFields:Array.isArray(this.outFields)?(0,a.o8)(this.outFields):null})}};(0,o._)([(0,u.MZ)()],p.prototype,"creator",void 0),(0,o._)([(0,u.MZ)()],p.prototype,"destroyer",void 0),(0,o._)([(0,u.MZ)()],p.prototype,"outFields",void 0),(0,o._)([(0,u.MZ)({type:["custom"],readOnly:!0})],p.prototype,"type",void 0);let h=p=s=(0,o._)([(0,d.$)("esri.popup.content.CustomContent")],p)},52438:(t,r,i)=>{i.d(r,{DQ:()=>h,tn:()=>p});var s=i(39267),o=i(39265),a=i(12319);i(5741),i(52420),i(90707);var u=i(17954);i(33165),i(84451),i(60236),i(21283);var d=i(78766),c=i(32593);function p({displayField:t,editFieldsInfo:r,fields:i,objectIdField:p,title:h},m){if(!i)return null;let _=function(t,r){let i=r?.visibleFieldNames;return(function({fields:t,ignoreFieldTypes:r,sortDisabled:i}){let s=t;return r&&(t=t.filter(t=>!r.includes(t.type))),t===s&&(t=t.slice()),!0!==i&&t.sort(y),t})({fields:t.fields??[],ignoreFieldTypes:r?.ignoreFieldTypes||g,sortDisabled:r?.sortDisabled}).map(r=>new d.A({fieldName:r.name,isEditable:(0,o.R$)(r,t),label:r.alias,format:function(t){switch(t.type){case"small-integer":case"integer":case"single":return new c.A({digitSeparator:!0,places:0});case"double":return new c.A({digitSeparator:!0,places:2});case"string":return(0,o.JL)(t.name)?new c.A({digitSeparator:!0,places:0}):void 0;default:return}}(r),visible:f(r,{...t,visibleFieldNames:i})}))}({editFieldsInfo:r,fields:i,objectIdField:p},m);if(!_.length)return null;let v=function(t){let r=(0,o.mB)(t),{titleBase:i}=t;return r?`${i}: {${r.trim()}}`:i??""}({titleBase:h,fields:i,displayField:t}),w=[new u.A,new a.A];return new s.A({title:v,content:w,fieldInfos:_})}function h(t){let{title:r,graphic:i}=t??{},{attributes:s,sourceLayer:o}=i??{},a=o&&"displayField"in o?o.displayField:null,u=a?s?.[a]:null,d=null!=u?JSON.stringify(u):null,c=i?.getObjectId()?.toString();return r||d||c||""}let f=(t,r)=>r.visibleFieldNames?r.visibleFieldNames.has(t.name):(0,o.Bz)(t,r);function y(t,r){return"oid"===t.type?-1:"oid"===r.type?1:m(t)?-1:m(r)?1:(t.alias||t.name).toLocaleLowerCase().localeCompare((r.alias||r.name).toLocaleLowerCase())}function m(t){return"name"===(t.name&&t.name.toLowerCase())||"name"===t.alias?.toLowerCase()}let g=["geometry","blob","raster","guid","xml"]},52548:(t,r,i)=>{var s,o,a,u,d,c,p,h,f;i.d(r,{Be:()=>d,Gn:()=>a,RI:()=>p,S5:()=>o,ch:()=>h,uC:()=>f}),function(t){t[t.FILL=0]="FILL",t[t.LINE=1]="LINE",t[t.MARKER=2]="MARKER",t[t.TEXT=3]="TEXT",t[t.LABEL=4]="LABEL"}(s||(s={})),function(t){t[t.NONE=0]="NONE",t[t.MAP=1]="MAP",t[t.LABEL=2]="LABEL",t[t.LABEL_ALPHA=4]="LABEL_ALPHA",t[t.HITTEST=8]="HITTEST",t[t.HIGHLIGHT=16]="HIGHLIGHT",t[t.CLIP=32]="CLIP",t[t.DEBUG=64]="DEBUG",t[t.NUM_DRAW_PHASES=9]="NUM_DRAW_PHASES"}(o||(o={})),function(t){t[t.SIZE=0]="SIZE",t[t.COLOR=1]="COLOR",t[t.OPACITY=2]="OPACITY",t[t.ROTATION=3]="ROTATION"}(a||(a={})),function(t){t[t.MINMAX_TARGETS_OUTLINE=128]="MINMAX_TARGETS_OUTLINE",t[t.SCALE_TARGETS_OUTLINE=256]="SCALE_TARGETS_OUTLINE",t[t.FIELD_TARGETS_OUTLINE=512]="FIELD_TARGETS_OUTLINE",t[t.UNIT_TARGETS_OUTLINE=1024]="UNIT_TARGETS_OUTLINE"}(u||(u={})),function(t){t[t.SPRITE=0]="SPRITE",t[t.GLYPH=1]="GLYPH"}(d||(d={})),function(t){t[t.DEFAULT=0]="DEFAULT",t[t.SIMPLE=1]="SIMPLE",t[t.DOT_DENSITY=2]="DOT_DENSITY",t[t.OUTLINE_FILL=3]="OUTLINE_FILL",t[t.OUTLINE_FILL_SIMPLE=4]="OUTLINE_FILL_SIMPLE",t[t.HEATMAP=5]="HEATMAP",t[t.PIE_CHART=6]="PIE_CHART"}(c||(c={})),function(t){t[t.All=0]="All",t[t.Highlight=1]="Highlight",t[t.InsideEffect=2]="InsideEffect",t[t.OutsideEffect=3]="OutsideEffect"}(p||(p={})),function(t){t[t.BATCHING=0]="BATCHING",t[t.STRICT_ORDER=1]="STRICT_ORDER",t[t.STRICT_MARKERS_AND_TEXT=2]="STRICT_MARKERS_AND_TEXT"}(h||(h={})),function(t){t[t.FILL=0]="FILL",t[t.LINE=1]="LINE",t[t.MARKER=2]="MARKER",t[t.TEXT=3]="TEXT"}(f||(f={}))},53480:(t,r,i)=>{i.d(r,{w:()=>o});var s=i(91838);function o(t,r,i){let o,a;return void 0===r||Array.isArray(r)?(a=t,i=r,o=[void 0]):(a=r,o=Array.isArray(t)?t:[t]),(t,r)=>{let u=t.constructor.prototype;o.forEach(o=>{let d=(0,s.rM)(t,o,a);d.read&&"object"==typeof d.read||(d.read={}),d.read.reader=u[r],i&&(d.read.source=(d.read.source||[]).concat(i))})}}},53701:(t,r,i)=>{i.d(r,{Xc:()=>p,Y2:()=>h,en:()=>c});var s=i(32391),o=i(57845),a=i(61939);let u=()=>a.A.getLogger("esri.views.webgl.checkWebGLError"),d=!!(0,o.A)("enable-feature:webgl-debug");function c(){return d}function p(){return d}function h(t){if(d){let r=t.getError();if(r){let i=function(t,r){switch(r){case t.INVALID_ENUM:return"Invalid Enum. An unacceptable value has been specified for an enumerated argument.";case t.INVALID_VALUE:return"Invalid Value. A numeric argument is out of range.";case t.INVALID_OPERATION:return"Invalid Operation. The specified command is not allowed for the current state.";case t.INVALID_FRAMEBUFFER_OPERATION:return"Invalid Framebuffer operation. The currently bound framebuffer is not framebuffer complete when trying to render to or to read from it.";case t.OUT_OF_MEMORY:return"Out of memory. Not enough memory is left to execute the command.";case t.CONTEXT_LOST_WEBGL:return"WebGL context has been lost";default:return"Unknown error"}}(t,r),o=Error().stack;u().error(new s.A("webgl-error","WebGL error occurred",{message:i,stack:o}))}}}},54015:(t,r,i)=>{i.d(r,{$O:()=>o,Sw:()=>u,sH:()=>a});class s{constructor(t,r,i,s,o,a){this.semiMajorAxis=t,this.flattening=r,this.outerAtmosphereRimWidth=i,this.atmosphereHeight=s,this.scaleHeight=o;let u=1-this.flattening;this.semiMinorAxis=this.semiMajorAxis*u,this.halfSemiMajorAxis=this.semiMajorAxis/2,this.halfCircumference=Math.PI*this.semiMajorAxis,this.metersPerDegree=this.halfCircumference/180,this.inverseFlattening=1/(1-this.flattening)-1,this.eccentricitySquared=a||2*this.flattening-this.flattening*this.flattening,this.meanRadiusSemiAxes=(2*this.semiMajorAxis+this.semiMinorAxis)/3}get radius(){return this.semiMajorAxis}}let o=new s(6378137,1/298.257223563,3e5,1e5,.085,.006694379990137799),a=new s(3396190,1/169.8944472236118,23e4,6e4,.111),u=new s(1737400,0,0,0,0)},54036:(t,r,i)=>{i.d(r,{$A:()=>A,Bw:()=>v,C:()=>o,Cc:()=>T,Io:()=>g,Ln:()=>m,Om:()=>S,Re:()=>d,S8:()=>M,T9:()=>f,Vj:()=>P,WQ:()=>u,ZF:()=>x,aI:()=>O,e$:()=>I,g7:()=>C,hG:()=>_,hZ:()=>a,hs:()=>y,jb:()=>N,jk:()=>h,l0:()=>E,m3:()=>w,t2:()=>R,xg:()=>k,ze:()=>b});var s=i(19461);function o(t,r){return t[0]=r[0],t[1]=r[1],t}function a(t,r,i){return t[0]=r,t[1]=i,t}function u(t,r,i){return t[0]=r[0]+i[0],t[1]=r[1]+i[1],t}function d(t,r,i){return t[0]=r[0]-i[0],t[1]=r[1]-i[1],t}function c(t,r,i){return t[0]=r[0]*i[0],t[1]=r[1]*i[1],t}function p(t,r,i){return t[0]=r[0]/i[0],t[1]=r[1]/i[1],t}function h(t,r,i){return t[0]=Math.min(r[0],i[0]),t[1]=Math.min(r[1],i[1]),t}function f(t,r,i){return t[0]=Math.max(r[0],i[0]),t[1]=Math.max(r[1],i[1]),t}function y(t,r,i){return t[0]=r[0]*i,t[1]=r[1]*i,t}function m(t,r,i,s){return t[0]=r[0]+i[0]*s,t[1]=r[1]+i[1]*s,t}function g(t,r){let i=r[0]-t[0],s=r[1]-t[1];return Math.sqrt(i*i+s*s)}function _(t,r){let i=r[0]-t[0],s=r[1]-t[1];return i*i+s*s}function v(t){let r=t[0],i=t[1];return Math.sqrt(r*r+i*i)}function w(t){let r=t[0],i=t[1];return r*r+i*i}function b(t,r){return t[0]=-r[0],t[1]=-r[1],t}function M(t,r){let i=r[0],s=r[1],o=i*i+s*s;return o>0&&(o=1/Math.sqrt(o),t[0]=r[0]*o,t[1]=r[1]*o),t}function S(t,r){return t[0]*r[0]+t[1]*r[1]}function A(t,r,i){let s=r[0]*i[1]-r[1]*i[0];return t[0]=t[1]=0,t[2]=s,t}function T(t,r,i,s){let o=r[0],a=r[1];return t[0]=o+s*(i[0]-o),t[1]=a+s*(i[1]-a),t}function x(t,r,i){let s=r[0],o=r[1];return t[0]=i[0]*s+i[2]*o,t[1]=i[1]*s+i[3]*o,t}function E(t,r,i){let s=r[0],o=r[1];return t[0]=i[0]*s+i[2]*o+i[4],t[1]=i[1]*s+i[3]*o+i[5],t}function I(t,r,i,s){let o=r[0]-i[0],a=r[1]-i[1],u=Math.sin(s),d=Math.cos(s);return t[0]=o*d-a*u+i[0],t[1]=o*u+a*d+i[1],t}function C(t,r){let i=t[0],s=t[1],o=r[0],a=r[1],u=i*i+s*s;u>0&&(u=1/Math.sqrt(u));let d=o*o+a*a;d>0&&(d=1/Math.sqrt(d));let c=(i*o+s*a)*u*d;return c>1?0:c<-1?Math.PI:Math.acos(c)}function R(t,r){return t[0]===r[0]&&t[1]===r[1]}function O(t,r){let i=t[0],o=t[1],a=r[0],u=r[1],d=(0,s.FD)();return Math.abs(i-a)<=d*Math.max(1,Math.abs(i),Math.abs(a))&&Math.abs(o-u)<=d*Math.max(1,Math.abs(o),Math.abs(u))}function P(t,r,i,s,o){let a=r[0]-i[0],u=r[1]-i[1],d=(s[0]*a+s[1]*u)*(o-1);return a=s[0]*d,u=s[1]*d,t[0]=r[0]+a,t[1]=r[1]+u,t}let N=d,k=g;Object.freeze(Object.defineProperty({__proto__:null,add:u,angle:C,ceil:function(t,r){return t[0]=Math.ceil(r[0]),t[1]=Math.ceil(r[1]),t},copy:o,cross:A,dist:k,distance:g,div:p,divide:p,dot:S,equals:O,exactEquals:R,floor:function(t,r){return t[0]=Math.floor(r[0]),t[1]=Math.floor(r[1]),t},inverse:function(t,r){return t[0]=1/r[0],t[1]=1/r[1],t},len:v,length:v,lerp:T,max:f,min:h,mul:c,multiply:c,negate:b,normalize:M,projectAndScale:P,random:function(t,r=1){let i=2*(0,s.Ov)()*Math.PI;return t[0]=Math.cos(i)*r,t[1]=Math.sin(i)*r,t},rotate:I,round:function(t,r){return t[0]=Math.round(r[0]),t[1]=Math.round(r[1]),t},scale:y,scaleAndAdd:m,set:a,sqrDist:_,sqrLen:w,squaredDistance:_,squaredLength:w,str:function(t){return"vec2("+t[0]+", "+t[1]+")"},sub:N,subtract:d,transformMat2:x,transformMat2d:E,transformMat3:function(t,r,i){let s=r[0],o=r[1];return t[0]=i[0]*s+i[3]*o+i[6],t[1]=i[1]*s+i[4]*o+i[7],t},transformMat4:function(t,r,i){let s=r[0],o=r[1];return t[0]=i[0]*s+i[4]*o+i[12],t[1]=i[1]*s+i[5]*o+i[13],t}},Symbol.toStringTag,{value:"Module"}))},54143:(t,r,i)=>{i.d(r,{P:()=>a,a:()=>o,c:()=>f,g:()=>s,h:()=>c,i:()=>A,j:()=>_,l:()=>T,p:()=>N});var s,o,a,u,d,c,p,h,f,y,m,g,_,v,w=i(81048),b=i(57845);let M,S=null;function A(){return!!S}function T(){return M||(M=Promise.all([i.e(2942),i.e(7564)]).then(i.bind(i,12942)).then(t=>t.p).then(({default:t})=>t({locateFile:t=>(0,w.s)(`esri/geometry/support/${t}`)})).then(t=>{I(t)}))}!function(t){function r(t,r,i){S.ensureCache.prepare();let s=O(i),o=i===s,a=S.ensureFloat64(s),u=S._pe_geog_to_proj(S.getPointer(t),r,a);return u&&P(i,r,a,o),u}function i(t,r,i){return s(t,r,i,0)}function s(t,r,i,s){S.ensureCache.prepare();let o=O(i),a=i===o,u=S.ensureFloat64(o),d=S._pe_proj_to_geog_center(S.getPointer(t),r,u,s);return d&&P(i,r,u,a),d}t.geogToProj=r,t.projGeog=function(t,s,a,u){switch(u){case o.PE_TRANSFORM_P_TO_G:return i(t,s,a);case o.PE_TRANSFORM_G_TO_P:return r(t,s,a)}return 0},t.projToGeog=i,t.projToGeogCenter=s}(s||(s={})),function(t){t.init=function(){t.PE_BUFFER_MAX=S.PeDefs.prototype.PE_BUFFER_MAX,t.PE_NAME_MAX=S.PeDefs.prototype.PE_NAME_MAX,t.PE_MGRS_MAX=S.PeDefs.prototype.PE_MGRS_MAX,t.PE_USNG_MAX=S.PeDefs.prototype.PE_USNG_MAX,t.PE_DD_MAX=S.PeDefs.prototype.PE_DD_MAX,t.PE_DDM_MAX=S.PeDefs.prototype.PE_DDM_MAX,t.PE_DMS_MAX=S.PeDefs.prototype.PE_DMS_MAX,t.PE_UTM_MAX=S.PeDefs.prototype.PE_UTM_MAX,t.PE_PARM_MAX=S.PeDefs.prototype.PE_PARM_MAX,t.PE_TYPE_NONE=S.PeDefs.prototype.PE_TYPE_NONE,t.PE_TYPE_GEOGCS=S.PeDefs.prototype.PE_TYPE_GEOGCS,t.PE_TYPE_PROJCS=S.PeDefs.prototype.PE_TYPE_PROJCS,t.PE_TYPE_GEOGTRAN=S.PeDefs.prototype.PE_TYPE_GEOGTRAN,t.PE_TYPE_COORDSYS=S.PeDefs.prototype.PE_TYPE_COORDSYS,t.PE_TYPE_UNIT=S.PeDefs.prototype.PE_TYPE_UNIT,t.PE_TYPE_LINUNIT=S.PeDefs.prototype.PE_TYPE_LINUNIT,t.PE_STR_OPTS_NONE=S.PeDefs.prototype.PE_STR_OPTS_NONE,t.PE_STR_AUTH_NONE=S.PeDefs.prototype.PE_STR_AUTH_NONE,t.PE_STR_AUTH_TOP=S.PeDefs.prototype.PE_STR_AUTH_TOP,t.PE_STR_NAME_CANON=S.PeDefs.prototype.PE_STR_NAME_CANON,t.PE_STR_FMT_WKT=S.PeDefs.prototype.PE_STR_FMT_WKT,t.PE_STR_FMT_WKT2=S.PeDefs.prototype.PE_STR_FMT_WKT2,t.PE_PARM_X0=S.PeDefs.prototype.PE_PARM_X0,t.PE_PARM_ND=S.PeDefs.prototype.PE_PARM_ND,t.PE_TRANSFORM_1_TO_2=S.PeDefs.prototype.PE_TRANSFORM_1_TO_2,t.PE_TRANSFORM_2_TO_1=S.PeDefs.prototype.PE_TRANSFORM_2_TO_1,t.PE_TRANSFORM_P_TO_G=S.PeDefs.prototype.PE_TRANSFORM_P_TO_G,t.PE_TRANSFORM_G_TO_P=S.PeDefs.prototype.PE_TRANSFORM_G_TO_P,t.PE_HORIZON_RECT=S.PeDefs.prototype.PE_HORIZON_RECT,t.PE_HORIZON_POLY=S.PeDefs.prototype.PE_HORIZON_POLY,t.PE_HORIZON_LINE=S.PeDefs.prototype.PE_HORIZON_LINE,t.PE_HORIZON_DELTA=S.PeDefs.prototype.PE_HORIZON_DELTA}}(o||(o={}));let x=null;!function(t){let r={},i={},s=t=>{let r=t.getType();switch(r){case o.PE_TYPE_GEOGCS:t=S.castObject(t,S.PeGeogcs);break;case o.PE_TYPE_PROJCS:t=S.castObject(t,S.PeProjcs);break;case o.PE_TYPE_GEOGTRAN:t=S.castObject(t,S.PeGeogtran);break;default:r&o.PE_TYPE_UNIT&&(t=S.castObject(t,S.PeUnit))}return t};function a(t,i){let o=null,a=r[t];if(a||(a={},r[t]=a),a.hasOwnProperty(String(i))&&(o=a[i],S.compare(o,S.NULL)&&(o=null)),!o){let r=S.PeFactory.prototype.factoryByType(t,i);S.compare(r,S.NULL)||(o=s(r),a[i]=o)}return o}t.initialize=function(){S.PeFactory.prototype.initialize(null)},t.coordsys=function(t){return a(o.PE_TYPE_COORDSYS,t)},t.factoryByType=a,t.fromString=function(t,r){let o=null,a=i[t];if(a||(a={},i[t]=a),a.hasOwnProperty(r)&&(o=a[r],S.compare(o,S.NULL)&&(o=null)),!o){let i=S.PeFactory.prototype.fromString(t,r);S.compare(i,S.NULL)||(o=s(i),a[r]=o)}return o},t.geogcs=function(t){return a(o.PE_TYPE_GEOGCS,t)},t.geogtran=function(t){return a(o.PE_TYPE_GEOGTRAN,t)},t.getCode=function(t){return S.PeFactory.prototype.getCode(t)},t.projcs=function(t){return a(o.PE_TYPE_PROJCS,t)},t.unit=function(t){return a(o.PE_TYPE_UNIT,t)}}(a||(a={}));let E=null;function I(t){function r(t,r,i){t[r]=i(t[r])}for(let i of(S=t,o.init(),u.init(),y.init(),g.init(),_.init(),x=class extends S.PeDouble{constructor(t=NaN){super(t)}destroy(){S.destroy(this)}[Symbol.dispose](){this.destroy()}},E=class extends S.PeGCSExtent{destroy(){S.destroy(this)}[Symbol.dispose](){this.destroy()}},[S.PeAngunit,S.PeDatum,S.PeGeogcs,S.PeGeogtran,S.PeObject,S.PeParameter,S.PePrimem,S.PeProjcs,S.PeSpheroid,S.PeUnit]))r(i.prototype,"getName",t=>function(){return t.call(this,Array(o.PE_NAME_MAX))});for(let t of[S.PeGeogtran,S.PeProjcs])r(t.prototype,"getParameters",t=>function(){let r=Array(o.PE_PARM_MAX),i=t.call(this);for(let t=0;t<r.length;t++){let s=S.getValue(i,"*");r[t]=s?S.wrapPointer(s,S.PeParameter):null,i+=Int32Array.BYTES_PER_ELEMENT}return r});r(S.PeHorizon.prototype,"getCoord",t=>function(r=!1){let i=this.getSize();if(!i)return null;let s=[];return P(s,i,t.call(this),r),s}),r(S.PeGTlistExtendedEntry.prototype,"getEntries",t=>{let r=S._pe_getPeGTlistExtendedGTsSize();return function(){let i=null,s=t.call(this);if(!S.compare(s,S.NULL)){i=[s];let t=this.getSteps();if(t>1){let o=S.getPointer(s);for(let s=1;s<t;s++)i.push(S.wrapPointer(o+r*s,S.PeGTlistExtendedGTs))}}return i}});let i=S._pe_getPeHorizonSize(),s=t=>function(){let r=this._cache;if(r||(r=new Map,this._cache=r),r.has(t))return r.get(t);let s=null,o=t.call(this);if(!S.compare(o,S.NULL)){s=[o];let t=o.getNump();if(t>1){let r=S.getPointer(o);for(let o=1;o<t;o++)s.push(S.wrapPointer(r+i*o,S.PeHorizon))}}return r.set(t,s),s};r(S.PeProjcs.prototype,"horizonGcsGenerate",s),r(S.PeProjcs.prototype,"horizonPcsGenerate",s),S.PeObject.prototype.toString=function(t=o.PE_STR_OPTS_NONE){S.ensureCache.prepare();let r=S.getPointer(this),i=S.ensureInt8(Array(o.PE_BUFFER_MAX));return S.UTF8ToString(S._pe_object_to_string_ext(r,t,i))},S.PeGeogcs.prototype.destroy=function(){this.Delete(),C(this),this.ptr=0},S.PeGeogcs.prototype[Symbol.dispose]=function(){this.destroy()},S.PeProjcs.prototype.destroy=function(){this.Delete(),C(this),this.ptr=0},S.PeProjcs.prototype[Symbol.dispose]=function(){this.destroy()}}function C(t){if(!t)return;let r=S.getClass(t);if(!r)return;let i=S.getCache(r);if(!i)return;let s=S.getPointer(t);s&&delete i[s]}function R(t,r){let i=[],s=Array(r);for(let r=0;r<t;r++)i.push(S.ensureInt8(s));return i}function O(t){return ArrayBuffer.isView(t)?t:Array.isArray(t[0])?t.flat():t}function P(t,r,i,s=!1){if(s)for(let s=0;s<2*r;s++)t[s]=S.getValue(i+s*Float64Array.BYTES_PER_ELEMENT,"double");else{let s=0===t.length;for(let o=0;o<r;o++)s&&(t[o]=[,,]),t[o][0]=S.getValue(i,"double"),t[o][1]=S.getValue(i+Float64Array.BYTES_PER_ELEMENT,"double"),i+=2*Float64Array.BYTES_PER_ELEMENT}}!function(t){let r;t.init=function(){t.PE_GTLIST_OPTS_COMMON=S.PeGTlistExtended.prototype.PE_GTLIST_OPTS_COMMON,r=S._pe_getPeGTlistExtendedEntrySize()},t.getGTlist=function(t,i,s,o,a,u){let d=null,c=new S.PeInteger(u);try{let p=S.PeGTlistExtended.prototype.getGTlist(t,i,s,o,a,c);if((u=c.val)&&(d=[p],u>1)){let t=S.getPointer(p);for(let i=1;i<u;i++)d.push(S.wrapPointer(t+r*i,S.PeGTlistExtendedEntry))}}finally{S.destroy(c)}return d}}(u||(u={})),(d||(d={})).destroy=function(t){if(t?.length){for(let r of t)C(r),r.getEntries().forEach(t=>{C(t);let r=t.getGeogtran();C(r),r.getParameters().forEach(C),[r.getGeogcs1(),r.getGeogcs2()].forEach(t=>{C(t);let r=t.getDatum();C(r),C(r.getSpheroid()),C(t.getPrimem()),C(t.getUnit())})});S.PeGTlistExtendedEntry.prototype.Delete(t[0])}},(c||(c={})).geogToGeog=function(t,r,i,s,o){S.ensureCache.prepare();let a=O(i),u=i===a,d=S.ensureFloat64(a),c=0;s&&(c=S.ensureFloat64(s));let p=S._pe_geog_to_geog(S.getPointer(t),r,d,c,o);return p&&P(i,r,d,u),p},function(t){t.geodesicCoordinate=function(t,r,i,s,o,a,u,d){S.PeLineType.prototype.geodesic_coordinate(t,r,i,s,o,a,u,d)},t.geodeticCoordinate=function(t,r,i,s,o,a,u,d,c){S.PeLineType.prototype.geodetic_coordinate(t,r,i,s,o,a,u,d,c)},t.geodeticDistance=function(t,r,i,s,o,a,u,d,c,p){S.PeLineType.prototype.geodetic_distance(t,r,i,s,o,a,u,d,c,p)},t.greatEllipticDistance=function(t,r,i,s,o,a,u,d,c){S.PeLineType.prototype.great_elliptic_distance(t,r,i,s,o,a,u,d,c)}}(p||(p={})),function(t){t.phiToEta=function(t,r){return S.PeMath.prototype.phi_to_eta(t,r)},t.etaToPhi=function(t,r){return S.PeMath.prototype.eta_to_phi(t,r)},t.phiToPhig=function(t,r){return S.PeMath.prototype.phi_to_phig(t,r)},t.q=function(t,r,i){return S.PeMath.prototype.q(t,r,i)},t.q90=function(t,r){return S.PeMath.prototype.q90(t,r)}}(h||(h={})),function(t){let r=(t,r,i,s,a,u)=>{let d,c;switch(S.ensureCache.prepare(),t){case"dd":d=S._pe_geog_to_dd,c=o.PE_DD_MAX;break;case"ddm":d=S._pe_geog_to_ddm,c=o.PE_DDM_MAX;break;case"dms":d=S._pe_geog_to_dms,c=o.PE_DMS_MAX}let p=0;r&&(p=S.getPointer(r));let h=O(s),f=S.ensureFloat64(h),y=R(i,c),m=d(p,i,f,a,S.ensureInt32(y));if(m)for(let t=0;t<i;t++)u[t]=S.UTF8ToString(y[t]);return m},i=(t,r,i,s,o)=>{let a;switch(S.ensureCache.prepare(),t){case"dd":a=S._pe_dd_to_geog;break;case"ddm":a=S._pe_ddm_to_geog;break;case"dms":a=S._pe_dms_to_geog}let u=0;r&&(u=S.getPointer(r));let d=s.map(t=>S.ensureString(t)),c=S.ensureInt32(d),p=S.ensureFloat64(Array(2*i)),h=a(u,i,c,p);return h&&P(o,i,p),h};t.geogToDms=function(t,i,s,o,a){return r("dms",t,i,s,o,a)},t.dmsToGeog=function(t,r,s,o){return i("dms",t,r,s,o)},t.geogToDdm=function(t,i,s,o,a){return r("ddm",t,i,s,o,a)},t.ddmToGeog=function(t,r,s,o){return i("ddm",t,r,s,o)},t.geogToDd=function(t,i,s,o,a){return r("dd",t,i,s,o,a)},t.ddToGeog=function(t,r,s,o){return i("dd",t,r,s,o)}}(f||(f={})),function(t){t.init=function(){t.PE_MGRS_STYLE_NEW=S.PeNotationMgrs.prototype.PE_MGRS_STYLE_NEW,t.PE_MGRS_STYLE_OLD=S.PeNotationMgrs.prototype.PE_MGRS_STYLE_OLD,t.PE_MGRS_STYLE_AUTO=S.PeNotationMgrs.prototype.PE_MGRS_STYLE_AUTO,t.PE_MGRS_180_ZONE_1_PLUS=S.PeNotationMgrs.prototype.PE_MGRS_180_ZONE_1_PLUS,t.PE_MGRS_ADD_SPACES=S.PeNotationMgrs.prototype.PE_MGRS_ADD_SPACES},t.geogToMgrsExtended=function(t,r,i,s,a,u,d){S.ensureCache.prepare();let c=0;t&&(c=S.getPointer(t));let p=O(i),h=S.ensureFloat64(p),f=R(r,o.PE_MGRS_MAX),y=S.ensureInt32(f),m=S._pe_geog_to_mgrs_extended(c,r,h,s,a,u,y);if(m)for(let t=0;t<r;t++)d[t]=S.UTF8ToString(f[t]);return m},t.mgrsToGeogExtended=function(t,r,i,s,o){S.ensureCache.prepare();let a=0;t&&(a=S.getPointer(t));let u=i.map(t=>S.ensureString(t)),d=S.ensureInt32(u),c=S.ensureFloat64(Array(2*r)),p=S._pe_mgrs_to_geog_extended(a,r,d,s,c);return p&&P(o,r,c),p}}(y||(y={})),function(t){t.geogToUsng=function(t,r,i,s,a,u,d){S.ensureCache.prepare();let c=0;t&&(c=S.getPointer(t));let p=O(i),h=S.ensureFloat64(p),f=R(r,o.PE_MGRS_MAX),y=S.ensureInt32(f),m=S._pe_geog_to_usng(c,r,h,s,a,u,y);if(m)for(let t=0;t<r;t++)d[t]=S.UTF8ToString(f[t]);return m},t.usngToGeog=function(t,r,i,s){S.ensureCache.prepare();let o=0;t&&(o=S.getPointer(t));let a=i.map(t=>S.ensureString(t)),u=S.ensureInt32(a),d=S.ensureFloat64(Array(2*r)),c=S._pe_usng_to_geog(o,r,u,d);return c&&P(s,r,d),c}}(m||(m={})),function(t){t.init=function(){t.PE_UTM_OPTS_NONE=S.PeNotationUtm.prototype.PE_UTM_OPTS_NONE,t.PE_UTM_OPTS_ADD_SPACES=S.PeNotationUtm.prototype.PE_UTM_OPTS_ADD_SPACES,t.PE_UTM_OPTS_NS=S.PeNotationUtm.prototype.PE_UTM_OPTS_NS},t.geogToUtm=function(t,r,i,s,a){S.ensureCache.prepare();let u=0;t&&(u=S.getPointer(t));let d=O(i),c=S.ensureFloat64(d),p=R(r,o.PE_UTM_MAX),h=S.ensureInt32(p),f=S._pe_geog_to_utm(u,r,c,s,h);if(f)for(let t=0;t<r;t++)a[t]=S.UTF8ToString(p[t]);return f},t.utmToGeog=function(t,r,i,s,o){S.ensureCache.prepare();let a=0;t&&(a=S.getPointer(t));let u=i.map(t=>S.ensureString(t)),d=S.ensureInt32(u),c=S.ensureFloat64(Array(2*r)),p=S._pe_utm_to_geog(a,r,d,s,c);return p&&P(o,r,c),p}}(g||(g={})),function(t){let r=new Map;t.init=function(){t.PE_PCSINFO_OPTION_NONE=S.PePCSInfo.prototype.PE_PCSINFO_OPTION_NONE,t.PE_PCSINFO_OPTION_DOMAIN=S.PePCSInfo.prototype.PE_PCSINFO_OPTION_DOMAIN,t.PE_POLE_OUTSIDE_BOUNDARY=S.PePCSInfo.prototype.PE_POLE_OUTSIDE_BOUNDARY,t.PE_POLE_POINT=S.PePCSInfo.prototype.PE_POLE_POINT},t.generate=function(i,s=t.PE_PCSINFO_OPTION_DOMAIN){let o=null,a=null;return r.has(i)&&(a=r.get(i))[s]&&(o=a[s]),o||(o=S.PePCSInfo.prototype.generate(i,s),a||(a=[],r.set(i,a)),a[s]=o),o}}(_||(_={})),(v||(v={})).versionString=function(){return S.PeVersion.prototype.version_string()};let N=Object.freeze(Object.defineProperty({__proto__:null,get PeCSTransformations(){return s},get PeDefs(){return o},get PeDouble(){return x},get PeFactory(){return a},get PeGCSExtent(){return E},get PeGTTransformations(){return c},get PeGTlistExtended(){return u},get PeGTlistExtendedEntry(){return d},get PeLineType(){return p},get PeMath(){return h},get PeNotationDms(){return f},get PeNotationMgrs(){return y},get PeNotationUsng(){return m},get PeNotationUtm(){return g},get PePCSInfo(){return _},get PeVersion(){return v},_init:I,get _pe(){return S},isLoaded:A,isSupported:function(){return!!(0,b.A)("esri-wasm")},load:T},Symbol.toStringTag,{value:"Module"}))},54335:(t,r,i)=>{i.d(r,{A:()=>N});var s,o,a=i(81856),u=i(74422),d=i(74652),c=i(19158),p=i(33715),h=i(98570);!function(t){t[t.ADD=1]="ADD",t[t.REMOVE=2]="REMOVE",t[t.MOVE=4]="MOVE"}(s||(s={}));var f=i(77089),y=i(86942),m=i(62761),g=i(91838),_=i(59106),v=i(12709),w=i(24965);class b{constructor(){this.target=null,this.cancellable=!1,this.defaultPrevented=!1,this.item=void 0,this.type=void 0}preventDefault(){this.cancellable&&(this.defaultPrevented=!0)}reset(t){this.defaultPrevented=!1,this.item=t}}class M{constructor(t,r,i,s,o){this.target=t,this.added=r,this.removed=i,this.start=s,this.deleteCount=o}}let S=new h.A(b,void 0,t=>{t.item=null,t.target=null,t.defaultPrevented=!1,t.cancellable=!1});function A(t){t&&"object"==typeof t&&"destroy"in t&&"function"==typeof t.destroy&&t.destroy()}function T(t){return t?t instanceof P?t.toArray():t.length?Array.prototype.slice.apply(t):[]:[]}function x(t){if(t?.length)return t[0]}let E=new Set,I=new Set,C=new Set,R=new Map,O=0,P=o=class extends d.A.EventedAccessor{static isCollection(t){return null!=t&&t instanceof o}constructor(t){super(t),this._chgListeners=[],this._notifications=null,this._updating=!1,this._timer=null,this._observable=new w.I,this.length=0,this._items=[],Object.defineProperty(this,"uid",{value:O++})}normalizeCtorArgs(t){return t?Array.isArray(t)||t instanceof o?{items:t}:t:{}}destroy(){this._removeAllRaw(),this._timer&&this._timer.remove(),this._emitter.destroy(),this._notifications=null}*[Symbol.iterator](){yield*this.items}get items(){return(0,m.gc)(this._observable),this._items}set items(t){this._emitBeforeChanges(s.ADD)||(this._splice(0,this.length,T(t)),this._emitAfterChanges(s.ADD))}hasEventListener(t){return!this.destroyed&&("change"===t?this._chgListeners.length>0:this._emitter.hasEventListener(t))}on(t,r){if(this.destroyed)return(0,c.hA)();if("change"===t){let t=this._chgListeners,i={removed:!1,callback:r};return t.push(i),this._notifications&&this._notifications.push({listeners:t.slice(),items:this._items.slice(),changes:[]}),(0,c.hA)(()=>{i.removed=!0,t.splice(t.indexOf(i),1)})}return this._emitter.on(t,r)}once(t,r){let i="deref"in r?()=>r.deref():()=>r,s=this.on(t,t=>{i()?.call(null,t),s.remove()});return s}add(t,r){if((0,m.gc)(this._observable),this._emitBeforeChanges(s.ADD))return this;let i=this.getNextIndex(r??null);return this._splice(i,0,[t]),this._emitAfterChanges(s.ADD),this}addMany(t,r=this._items.length){if((0,m.gc)(this._observable),!t?.length||this._emitBeforeChanges(s.ADD))return this;let i=this.getNextIndex(r);return this._splice(i,0,T(t)),this._emitAfterChanges(s.ADD),this}at(t){if((0,m.gc)(this._observable),(t=Math.trunc(t)||0)<0&&(t+=this.length),!(t<0||t>=this.length))return this._items[t]}removeAll(){if((0,m.gc)(this._observable),!this.length||this._emitBeforeChanges(s.REMOVE))return[];let t=this._removeAllRaw();return this._emitAfterChanges(s.REMOVE),t}_removeAllRaw(){return 0===this.length?[]:this._splice(0,this.length)||[]}clone(){return(0,m.gc)(this._observable),this._createNewInstance({items:this._items.map(p.o8)})}concat(...t){(0,m.gc)(this._observable);let r=t.map(T);return this._createNewInstance({items:this._items.concat(...r)})}drain(t,r){if((0,m.gc)(this._observable),!this.length||this._emitBeforeChanges(s.REMOVE))return;let i=this._splice(0,this.length),o=i.length;for(let s=0;s<o;s++)t.call(r,i[s],s,i);this._emitAfterChanges(s.REMOVE)}destroyAll(){this.drain(A)}destroyMany(t){let r=this.removeMany(t);return r.forEach(A),r}every(t,r){return(0,m.gc)(this._observable),this._items.every(t,r)}filter(t,r){(0,m.gc)(this._observable);let i=2==arguments.length?this._items.filter(t,r):this._items.filter(t);return this._createNewInstance({items:i})}find(t,r){return(0,m.gc)(this._observable),this._items.find(t,r)}findIndex(t,r){return(0,m.gc)(this._observable),this._items.findIndex(t,r)}flatten(t,r){(0,m.gc)(this._observable);let i=[];return function t(r,i,s,o){i&&i.forEach((i,a,u)=>{r.push(i),t(r,s.call(o,i,a,u),s,o)})}(i,this,t,r),new o(i)}forEach(t,r){return(0,m.gc)(this._observable),this._items.forEach(t,r)}getItemAt(t){return(0,m.gc)(this._observable),this._items[t]}getNextIndex(t){(0,m.gc)(this._observable);let r=this.length;return(t=t??r)<0?t=0:t>r&&(t=r),t}includes(t,r=0){return(0,m.gc)(this._observable),this._items.includes(t,r)}indexOf(t,r=0){return(0,m.gc)(this._observable),this._items.indexOf(t,r)}join(t=","){return(0,m.gc)(this._observable),this._items.join(t)}lastIndexOf(t,r=this.length-1){return(0,m.gc)(this._observable),this._items.lastIndexOf(t,r)}map(t,r){(0,m.gc)(this._observable);let i=this._items.map(t,r);return new o({items:i})}reorder(t,r=this.length-1){(0,m.gc)(this._observable);let i=this.indexOf(t);if(-1!==i){if(r<0?r=0:r>=this.length&&(r=this.length-1),i!==r){if(this._emitBeforeChanges(s.MOVE))return t;this._splice(i,1),this._splice(r,0,[t]),this._emitAfterChanges(s.MOVE)}return t}}pop(){if((0,m.gc)(this._observable),!this.length||this._emitBeforeChanges(s.REMOVE))return;let t=x(this._splice(this.length-1,1));return this._emitAfterChanges(s.REMOVE),t}push(...t){return(0,m.gc)(this._observable),this._emitBeforeChanges(s.ADD)||(this._splice(this.length,0,t),this._emitAfterChanges(s.ADD)),this.length}reduce(t,r){(0,m.gc)(this._observable);let i=this._items;return 2==arguments.length?i.reduce(t,r):i.reduce(t)}reduceRight(t,r){(0,m.gc)(this._observable);let i=this._items;return 2==arguments.length?i.reduceRight(t,r):i.reduceRight(t)}remove(t){return(0,m.gc)(this._observable),this.removeAt(this.indexOf(t))}removeAt(t){if((0,m.gc)(this._observable),t<0||t>=this.length||this._emitBeforeChanges(s.REMOVE))return;let r=x(this._splice(t,1));return this._emitAfterChanges(s.REMOVE),r}removeMany(t){if((0,m.gc)(this._observable),!t?.length||this._emitBeforeChanges(s.REMOVE))return[];let r=t instanceof o?t.toArray():t,i=this._items,a=[],u=r.length;for(let t=0;t<u;t++){let s=r[t],o=i.indexOf(s);if(o>-1){let s=1+function(t,r,i,s){let o=Math.min(t.length-i,r.length-s),a=0;for(;a<o&&t[i+a]===r[s+a];)a++;return a}(r,i,t+1,o+1),u=this._splice(o,s);u&&u.length>0&&a.push.apply(a,u),t+=s-1}}return this._emitAfterChanges(s.REMOVE),a}reverse(){if((0,m.gc)(this._observable),this._emitBeforeChanges(s.MOVE))return this;let t=this._splice(0,this.length);return t&&(t.reverse(),this._splice(0,0,t)),this._emitAfterChanges(s.MOVE),this}shift(){if((0,m.gc)(this._observable),!this.length||this._emitBeforeChanges(s.REMOVE))return;let t=x(this._splice(0,1));return this._emitAfterChanges(s.REMOVE),t}slice(t=0,r=this.length){return(0,m.gc)(this._observable),this._createNewInstance({items:this._items.slice(t,r)})}some(t,r){return(0,m.gc)(this._observable),this._items.some(t,r)}sort(t){if((0,m.gc)(this._observable),!this.length||this._emitBeforeChanges(s.MOVE)||!this._requiresSort(t))return this;let r=this._splice(0,this.length);return arguments.length?r.sort(t):r.sort(),this._splice(0,0,r),this._emitAfterChanges(s.MOVE),this}_requiresSort(t=(t,r)=>t===r?0:t<r?-1:1){let r=this.length-1;for(let i=0;i<r;i++)if(t(this.items[i],this.items[i+1])>0)return!0;return!1}splice(t,r,...i){(0,m.gc)(this._observable);let o=(r?s.REMOVE:0)|(i.length?s.ADD:0);if(this._emitBeforeChanges(o))return[];let a=this._splice(t,r,i)||[];return this._emitAfterChanges(o),a}toArray(){return(0,m.gc)(this._observable),this._items.slice()}toJSON(){return(0,m.gc)(this._observable),this.toArray()}toLocaleString(){return(0,m.gc)(this._observable),this._items.toLocaleString()}toString(){return(0,m.gc)(this._observable),this._items.toString()}unshift(...t){return(0,m.gc)(this._observable),!t.length||this._emitBeforeChanges(s.ADD)||(this._splice(0,0,t),this._emitAfterChanges(s.ADD)),this.length}_createNewInstance(t){return new this.constructor(t)}_splice(t,r,i){let s,o,a=this._items,u=this.itemType;if(!this._notifications&&this.hasEventListener("change")&&(this._notifications=[{listeners:this._chgListeners.slice(),items:this._items.slice(),changes:[]}],this._timer&&this._timer.remove(),this._updating=!0,this._timer=(0,f._)(()=>this._dispatchChange())),t<0&&(t+=this.length),r){if(o=a.splice(t,r),this.hasEventListener("before-remove")){let r=S.acquire();r.target=this,r.cancellable=!0;for(let i=0,u=o.length;i<u;i++)s=o[i],r.reset(s),this.emit("before-remove",r),r.defaultPrevented&&(o.splice(i,1),a.splice(t,0,s),t+=1,i-=1,u-=1);S.release(r)}if(this.length=this._items.length,this.hasEventListener("after-remove")){let t=S.acquire();t.target=this,t.cancellable=!1;let r=o.length;for(let i=0;i<r;i++)t.reset(o[i]),this.emit("after-remove",t);S.release(t)}}if(i?.length){if(u){let t=[];for(let r of i){let i=u.ensureType(r);null==i&&null!=r||t.push(i)}i=t}let r=this.hasEventListener("before-add"),s=this.hasEventListener("after-add"),o=t===this.length;if(r||s){let u=S.acquire();u.target=this,u.cancellable=!0;let d=S.acquire();for(let c of(d.target=this,d.cancellable=!1,i))r?(u.reset(c),this.emit("before-add",u),u.defaultPrevented||(o?a.push(c):a.splice(t++,0,c),this._set("length",a.length),s&&(d.reset(c),this.emit("after-add",d)))):(o?a.push(c):a.splice(t++,0,c),this._set("length",a.length),d.reset(c),this.emit("after-add",d));S.release(d),S.release(u)}else{if(o)for(let t of i)a.push(t);else a.splice(t,0,...i);this._set("length",a.length)}}if((i?.length||o?.length)&&this._notifyChangeEvent(i,o),this.hasEventListener("after-splice")){let s=new M(this,i,o,t,r);this.emit("after-splice",s)}return o}_emitBeforeChanges(t){let r=!1;if(this.hasEventListener("before-changes")){let i=S.acquire();i.target=this,i.cancellable=!0,i.type=t,this.emit("before-changes",i),r=i.defaultPrevented,S.release(i)}return r}_emitAfterChanges(t){if(this.hasEventListener("after-changes")){let r=S.acquire();r.target=this,r.cancellable=!1,r.type=t,this.emit("after-changes",r),S.release(r)}this._observable.notify()}_notifyChangeEvent(t,r){this.hasEventListener("change")&&this._notifications&&this._notifications[this._notifications.length-1].changes.push({added:t,removed:r})}get updating(){return this._updating}_dispatchChange(){if(this._timer&&(this._timer.remove(),this._timer=null),this._updating=!1,!this._notifications)return;let t=this._notifications;for(let r of(this._notifications=null,t)){let t=r.changes;for(let{added:r,removed:i}of(E.clear(),I.clear(),C.clear(),t)){if(r)if(0===C.size&&0===I.size)for(let t of r)E.add(t);else for(let t of r)I.has(t)?(C.add(t),I.delete(t)):C.has(t)||E.add(t);if(i)if(0===C.size&&0===E.size)for(let t of i)I.add(t);else for(let t of i)E.has(t)?E.delete(t):(C.delete(t),I.add(t))}let i=u.A.acquire();E.forEach(t=>{i.push(t)});let s=u.A.acquire();I.forEach(t=>{s.push(t)});let o=this._items,a=r.items,d=u.A.acquire();if(C.forEach(t=>{a.indexOf(t)!==o.indexOf(t)&&d.push(t)}),r.listeners&&(i.length||s.length||d.length)){let t={target:this,added:i,removed:s,moved:d},o=r.listeners.length;for(let i=0;i<o;i++){let s=r.listeners[i];s.removed||s.callback.call(this,t)}}u.A.release(i),u.A.release(s),u.A.release(d)}E.clear(),I.clear(),C.clear()}};P.ofType=t=>{if(!t)return o;if(R.has(t))return R.get(t);let r=null;if("function"==typeof t)r=t.prototype.declaredClass;else if(t.base)r=t.base.prototype.declaredClass;else for(let i in t.typeMap){let s=t.typeMap[i].prototype.declaredClass;r?r+=` | ${s}`:r=s}let i=class extends o{};return(0,a._)([(0,_.u)({Type:t,ensureType:"function"==typeof t?(0,y.dp)(t):(0,y.aq)(t)})],i.prototype,"itemType",void 0),i=(0,a._)([(0,v.$)(`esri.core.Collection<${r}>`)],i),R.set(t,i),i},(0,a._)([(0,g.MZ)()],P.prototype,"_updating",void 0),(0,a._)([(0,g.MZ)()],P.prototype,"length",void 0),(0,a._)([(0,g.MZ)()],P.prototype,"items",null),(0,a._)([(0,g.MZ)({readOnly:!0})],P.prototype,"updating",null);let N=P=o=(0,a._)([(0,v.$)("esri.core.Collection")],P)},54635:(t,r,i)=>{i.d(r,{c:()=>o});let s=0;function o(){return++s}},54843:(t,r,i)=>{i.d(r,{F:()=>p,Y:()=>c});var s=i(81856),o=i(91838);i(57845),i(61939),i(33638);var a=i(12709),u=i(51751);let d={write:{allowNull:!0}},c={type:u.A,json:{origins:{"web-map":d,"portal-item":d}}},p=t=>{let r=class extends t{constructor(){super(...arguments),this.featureEffect=null}};return(0,s._)([(0,o.MZ)(c)],r.prototype,"featureEffect",void 0),r=(0,s._)([(0,a.$)("esri.layers.mixins.FeatureEffectLayer")],r)}},54880:(t,r,i)=>{var s,o;function a(t){return t&&"esri.renderers.visualVariables.SizeVariable"===t.declaredClass}function u(t){return null!=t&&!isNaN(t)&&isFinite(t)}function d(t){return t.valueExpression?s.Expression:t.field&&"string"==typeof t.field?s.Field:s.Unknown}function c(t,r){let i=r||d(t),a=t.valueUnit||"unknown";return i===s.Unknown?o.Constant:t.stops?o.Stops:null!=t.minSize&&null!=t.maxSize&&null!=t.minDataValue&&null!=t.maxDataValue?o.ClampedLinear:"unknown"===a?null!=t.minSize&&null!=t.minDataValue?t.minSize&&t.minDataValue?o.Proportional:o.Additive:o.Identity:o.RealWorldSize}i.d(r,{KZ:()=>c,Yf:()=>s,_w:()=>o,eh:()=>d,gf:()=>u,of:()=>a}),function(t){t.Unknown="unknown",t.Expression="expression",t.Field="field"}(s||(s={})),function(t){t.Unknown="unknown",t.Stops="stops",t.ClampedLinear="clamped-linear",t.Proportional="proportional",t.Additive="additive",t.Constant="constant",t.Identity="identity",t.RealWorldSize="real-world-size"}(o||(o={}))},54882:(t,r,i)=>{i.d(r,{A:()=>T});var s=i(81856),o=i(48767),a=i(57664),u=i(39166),d=i(83610),c=i(32391),p=i(61939),h=i(40941),f=i(92753),y=i(90525),m=i(91838);i(57845),i(33638);var g=i(53480),_=i(12709),v=i(7780),w=i(71086),b=i(14307),M=i(28015),S=i(37360),A=i(23226);let T=t=>{let r=class extends t{constructor(){super(...arguments),this.resourceReferences={portalItem:null,paths:[]},this.userHasEditingPrivileges=!0,this.userHasFullEditingPrivileges=!1,this.userHasUpdateItemPrivileges=!1}destroy(){this.portalItem=(0,h.pR)(this.portalItem),this.resourceReferences.portalItem=null,this.resourceReferences.paths.length=0}set portalItem(t){t!==this._get("portalItem")&&(this.removeOrigin("portal-item"),this._set("portalItem",t))}readPortalItem(t,r,i){if(r.itemId)return new M.default({id:r.itemId,portal:i?.portal})}writePortalItem(t,r){t?.id&&(r.itemId=t.id)}async loadFromPortal(t,r){if(this.portalItem?.id)try{let{load:s}=await i.e(5545).then(i.bind(i,55545));return(0,f.Te)(r),await s({instance:this,supportedTypes:t.supportedTypes,validateItem:t.validateItem,supportsData:t.supportsData,layerModuleTypeMap:t.layerModuleTypeMap,populateGroupLayer:t.populateGroupLayer},r)}catch(t){throw(0,f.zf)(t)||p.A.getLogger(this).warn(`Failed to load layer (${this.title}, ${this.id}) portal item (${this.portalItem.id})
  ${t}`),t}}async finishLoadEditablePortalLayer(t){this._set("userHasEditingPrivileges",await this._fetchUserHasEditingPrivileges(t).catch(t=>((0,f.QP)(t),!0)))}async setUserPrivileges(t,r){if(!o.A.userPrivilegesApplied)return this.finishLoadEditablePortalLayer(r);if(this.url)try{let{features:{edit:i,fullEdit:s},content:{updateItem:o}}=await this._fetchUserPrivileges(t,r);this._set("userHasEditingPrivileges",i),this._set("userHasFullEditingPrivileges",s),this._set("userHasUpdateItemPrivileges",o)}catch(t){(0,f.QP)(t)}}async _fetchUserPrivileges(t,r){let i,s,o=this.portalItem;if(!t||!o||!o.loaded||o.sourceUrl)return this._fetchFallbackUserPrivileges(r);let u=!a.id?.findCredential(this.url),d=t===o.id;if(d&&o.portal.user)return this._getUserPrivileges(o,u);if(d)i=o.portal.url;else try{i=await (0,w.wI)(this.url,r)}catch(t){(0,f.QP)(t)}if(!i||!(0,y.b8)(i,o.portal.url))return this._fetchFallbackUserPrivileges(r);try{let t=null!=r?r.signal:null;s=await a.id?.getCredential(`${i}/sharing`,{prompt:!1,signal:t})}catch(t){(0,f.QP)(t)}if(!s)return{features:{edit:!0,fullEdit:!1},content:{updateItem:!1}};try{if(d?await o.reload():(o=new M.default({id:t,portal:{url:i}}),await o.load(r)),o.portal.user)return this._getUserPrivileges(o,u)}catch(t){(0,f.QP)(t)}return{features:{edit:!0,fullEdit:!1},content:{updateItem:!1}}}_getUserPrivileges(t,r){let i=(0,A.It)(t);return r&&(i.features.edit=!0),i}async _fetchFallbackUserPrivileges(t){let r=!0;try{r=await this._fetchUserHasEditingPrivileges(t)}catch(t){(0,f.QP)(t)}return{features:{edit:r,fullEdit:!1},content:{updateItem:!1}}}async _fetchUserHasEditingPrivileges(t){let r=this.url?a.id?.findCredential(this.url):null;if(!r)return!0;let i=x.credential===r?x.user:await this._fetchEditingUser(t);return x.credential=r,x.user=i,null==i?.privileges||i.privileges.includes("features:user:edit")}async _fetchEditingUser(t){let r=this.portalItem?.portal?.user;if(r)return r;let i=a.id?.findServerInfo(this.url??"");if(!i?.owningSystemUrl)return null;let s=`${i.owningSystemUrl}/sharing/rest`,o=b.A.getDefault();if(o&&o.loaded&&(0,y.S8)(o.restUrl)===(0,y.S8)(s))return o.user;let c=`${s}/community/self`,p=null!=t?t.signal:null,h=await (0,d.Ke)((0,u.A)(c,{authMode:"no-prompt",query:{f:"json"},signal:p}));return h.ok?S.A.fromJSON(h.value.data):null}read(t,r){r&&(r.layer=this),super.read(t,r)}write(t,r){let i=r?.portal,s=this.portalItem?.id&&(this.portalItem.portal||b.A.getDefault());return i&&s&&!(0,y.ut)(s.restUrl,i.restUrl)?(r.messages&&r.messages.push(new c.A("layer:cross-portal",`The layer '${this.title} (${this.id})' cannot be persisted because it refers to an item on a different portal than the one being saved to. To save, set layer.portalItem to null or save to the same portal as the item associated with the layer`,{layer:this})),null):super.write(t,{...r,layer:this})}};return(0,s._)([(0,m.MZ)({type:M.default})],r.prototype,"portalItem",null),(0,s._)([(0,g.w)("web-document","portalItem",["itemId"])],r.prototype,"readPortalItem",null),(0,s._)([(0,v.K)("web-document","portalItem",{itemId:{type:String}})],r.prototype,"writePortalItem",null),(0,s._)([(0,m.MZ)({clonable:!1})],r.prototype,"resourceReferences",void 0),(0,s._)([(0,m.MZ)({type:Boolean,readOnly:!0})],r.prototype,"userHasEditingPrivileges",void 0),(0,s._)([(0,m.MZ)({type:Boolean,readOnly:!0})],r.prototype,"userHasFullEditingPrivileges",void 0),(0,s._)([(0,m.MZ)({type:Boolean,readOnly:!0})],r.prototype,"userHasUpdateItemPrivileges",void 0),r=(0,s._)([(0,_.$)("esri.layers.mixins.PortalLayer")],r)},x={credential:null,user:null}},54903:(t,r,i)=>{i.d(r,{c:()=>d});var s=i(81856),o=i(92713),a=i(91838);i(57845),i(61939),i(33638);var u=i(12709);let d=class extends o.A{constructor(){super(...arguments),this.type=null}};(0,s._)([(0,a.MZ)({type:["selection","cluster","binning"],readOnly:!0,json:{read:!1,write:!0}})],d.prototype,"type",void 0),d=(0,s._)([(0,u.$)("esri.layers.support.FeatureReduction")],d)},54961:(t,r,i)=>{i.d(r,{A5:()=>f,Mh:()=>s});var s,o=i(82558),a=i(28346);!function(t){t.VALUE_OUT_OF_RANGE="domain-validation-error::value-out-of-range",t.INVALID_CODED_VALUE="domain-validation-error::invalid-coded-value"}(s||(s={}));let u=new Set(["integer","small-integer","big-integer","esriFieldTypeInteger","esriFieldTypeSmallInteger","esriFieldTypeBigInteger"]);function d(t){return null!=t&&("date-only"===t.type||"esriFieldTypeDateOnly"===t.type)}function c(t){return null!=t&&("timestamp-offset"===t.type||"esriFieldTypeTimestampOffset"===t.type)}function p(t){return null!=t&&("time-only"===t.type||"esriFieldTypeTimeOnly"===t.type)}let h=new Set(["single","double","esriFieldTypeSingle","esriFieldTypeDouble"]);function f(t,r){var i,s,o;let h=r??t?.domain;if(!h||"range"!==h.type)return;let f="range"in h?h.range[0]:h.minValue,y="range"in h?h.range[1]:h.maxValue,m=null!=t&&u.has(t.type);return d(t)||p(t)||c(t)?{...(i=t,s=y,o=f,d(i)?{min:(0,a.Xi)(o)?.toMillis(),max:(0,a.Xi)(s)?.toMillis(),rawMin:o,rawMax:s}:p(i)?{min:(0,a.UE)(o)?.toMillis(),max:(0,a.UE)(s)?.toMillis(),rawMin:o,rawMax:s}:c(i)?{min:(0,a.gz)(o)?.toMillis(),max:(0,a.gz)(s)?.toMillis(),rawMin:o,rawMax:s}:{max:null,min:null}),isInteger:m}:{min:null!=f&&"number"==typeof f?f:null,max:null!=y&&"number"==typeof y?y:null,rawMin:f,rawMax:y,isInteger:m}}(0,o.KC)(u,h)},55016:(t,r,i)=>{i.d(r,{Jz:()=>f,Mk:()=>_,Zk:()=>m,dP:()=>y,gz:()=>w,w6:()=>b});var s=i(81856),o=i(74652),a=i(33715),u=i(92753),d=i(91838);i(57845),i(61939);var c=i(12709),p=i(33237);let h=new o.A.EventEmitter;function f(t){return h.on("apply-edits",new WeakRef(t))}function y(t){return h.on("update-moment",new WeakRef(t))}function m(t,r,i=null,s=!1){let o=(0,u.Tw)();return s=null==r||s,h.emit("apply-edits",{serviceUrl:t,layerId:r,gdbVersion:i,mayReceiveServiceEdits:s,result:o.promise}),o}let g=Symbol();function _(t){return null!=t&&"object"==typeof t&&g in t}function v(t){return null!=t&&"object"==typeof t&&"gdbVersion"in t}function w(t,r,i){let s=new URL(t).host,o=p.Z3.get(s);return(!r||r===o)&&(!i||i===o)||r===i}let b=t=>{var r;let i=class extends t{constructor(...t){super(...t),this[r]=!0,this._applyEditsHandler=t=>{let{serviceUrl:r,layerId:i,gdbVersion:s,mayReceiveServiceEdits:o,result:u}=t,d=r===this.url,c=null!=i&&null!=this.layerId&&i===this.layerId,p=v(this),h=v(this)&&w(r,s,this.gdbVersion);if(!d||p&&!h||!c&&!o)return;let f=u.then(t=>{if(this.lastEditsEventDate=new Date,c&&(t.addedFeatures.length||t.updatedFeatures.length||t.deletedFeatures.length||t.addedAttachments.length||t.updatedAttachments.length||t.deletedAttachments.length))return this.emit("edits",(0,a.o8)(t)),t;let i=t.editedFeatures?.find(({layerId:t})=>t===this.layerId);if(i){let{adds:r,updates:s,deletes:o}=i.editedFeatures,u={edits:null,addedAttachments:[],deletedAttachments:[],updatedAttachments:[],addedFeatures:r?r.map(({attributes:t})=>({objectId:this.objectIdField&&t[this.objectIdField],globalId:this.globalIdField&&t[this.globalIdField]})):[],deletedFeatures:o?o.map(({attributes:t})=>({objectId:this.objectIdField&&t[this.objectIdField],globalId:this.globalIdField&&t[this.globalIdField]})):[],updatedFeatures:s?s.map(({current:{attributes:t}})=>({objectId:this.objectIdField&&t[this.objectIdField],globalId:this.globalIdField&&t[this.globalIdField]})):[],editedFeatures:(0,a.o8)(t.editedFeatures),exceededTransferLimit:!1,historicMoment:(0,a.o8)(t.historicMoment)};return this.emit("edits",u),u}let o={edits:null,addedAttachments:[],deletedAttachments:[],updatedAttachments:[],addedFeatures:[],deletedFeatures:[],updatedFeatures:[],editedFeatures:(0,a.o8)(t.editedFeatures),exceededTransferLimit:!1,historicMoment:(0,a.o8)(t.historicMoment)};return"historicMoment"in this&&this._shouldUpdateHistoricMoment(r,s,o.historicMoment)&&this.emit("edits",o),o}).then(t=>("historicMoment"in this&&this._shouldUpdateHistoricMoment(r,s,t.historicMoment)&&(this.historicMoment=t.historicMoment),t));this.emit("apply-edits",{result:f})},this._updateMomentHandler=t=>{let{serviceUrl:r,gdbVersion:i,moment:s}=t,o=r===this.url,a=v(this),u=v(this)&&w(r,i,this.gdbVersion),d=v(this)&&!w(r,this.gdbVersion,null);o&&a&&u&&d&&"historicMoment"in this&&this.historicMoment!==s&&(this.historicMoment=s)},this.when().then(()=>{this.addHandles(f(this._applyEditsHandler)),"historicMoment"in this&&this.addHandles(y(this._updateMomentHandler))},()=>{})}_shouldUpdateHistoricMoment(t,r,i){return"historicMoment"in this&&this.historicMoment!==i&&(0,p.w5)(t,r)}};return r=g,(0,s._)([(0,d.MZ)()],i.prototype,"lastEditsEventDate",void 0),i=(0,s._)([(0,c.$)("esri.layers.mixins.EditBusLayer")],i)}},55048:(t,r,i)=>{i.d(r,{Lz:()=>o,PN:()=>a,PR:()=>g,QG:()=>h,WA:()=>_,cr:()=>u,gs:()=>p,rX:()=>y,r_:()=>f,sc:()=>m,tc:()=>d,y8:()=>c});let s=/^-?(\d+(\.\d+)?)\s*((px)|(pt))?$/i;function o(t){return t?t/72*96:0}function a(t){return t?72*t/96:0}function u(t){if("string"==typeof t){let r=t.match(s);if(r){let i=Number(r[1]),s=r[3]&&r[3].toLowerCase(),o="-"===t.charAt(0),u="px"===s?a(i):i;return o?-u:u}return console.warn("screenUtils.toPt: input not recognized!"),null}return t}function d(t=0,r=0){return{x:t,y:r}}function c(t){return t?d(t.x,t.y):null}function p(t=0,r=0){return[t,r]}function h(t=0,r=0){return[t,r]}function f(t=0,r=0,i=0){return[t,r,i]}function y(t){return t}function m(t){return t}function g(t){return t}function _(t,r){return r?(r[0]=t.x,r[1]=t.y,r.length>2&&(r[2]=0),r):[t.x,t.y]}},55130:(t,r,i)=>{function s(){return[1,0,0,1,0,0]}function o(t){return[t[0],t[1],t[2],t[3],t[4],t[5]]}i.d(r,{o8:()=>o,vt:()=>s}),Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:s(),clone:o,create:s,createView:function(t,r){return new Float64Array(t,r,6)},fromValues:function(t,r,i,s,o,a){return[t,r,i,s,o,a]}},Symbol.toStringTag,{value:"Module"}))},55355:(t,r,i)=>{i.d(r,{K:()=>y,Q:()=>p});var s=i(81856),o=i(30781),a=i(61939),u=i(91838);i(57845),i(33638);var d=i(33498),c=i(12709);let p=(0,o.O)()({naturalLog:"natural-log",squareRoot:"square-root",percentOfTotal:"percent-of-total",log:"log",field:"field"}),h="percent-of-total",f="field",y=t=>{let r=class extends t{constructor(){super(...arguments),this.normalizationField=null,this.normalizationMaxValue=null,this.normalizationMinValue=null,this.normalizationTotal=null}get normalizationType(){let t=this._get("normalizationType"),r=!!this.normalizationField,i=null!=this.normalizationTotal;return r||i?(t=r&&f||i&&h||null,r&&i&&a.A.getLogger(this).warn("warning: both normalizationField and normalizationTotal are set!")):t!==f&&t!==h||(t=null),t}set normalizationType(t){this._set("normalizationType",t)}};return(0,s._)([(0,u.MZ)({type:String,json:{name:"parameters.normalizationField",write:!0}})],r.prototype,"normalizationField",void 0),(0,s._)([(0,u.MZ)({type:Number,json:{name:"parameters.normalizationMaxValue",write:!0}})],r.prototype,"normalizationMaxValue",void 0),(0,s._)([(0,u.MZ)({type:Number,json:{name:"parameters.normalizationMinValue",write:!0}})],r.prototype,"normalizationMinValue",void 0),(0,s._)([(0,u.MZ)({type:Number,json:{name:"parameters.normalizationTotal",write:!0}})],r.prototype,"normalizationTotal",void 0),(0,s._)([(0,d.e)(p,{name:"parameters.normalizationType"})],r.prototype,"normalizationType",null),r=(0,s._)([(0,c.$)("esri.rest.support.NormalizationBinParametersMixin")],r)}},55390:(t,r,i)=>{i.d(r,{r:()=>d,v:()=>c});var s=i(50424),o=i(56396),a=i(41846),u=i(76465);let d={types:{key:"type",base:a.A,typeMap:{style:u.A}},json:{write:!0}},c={types:{key:"type",base:s.A,typeMap:{style:o.A}},json:{write:!0}}},55434:(t,r,i)=>{i.d(r,{A:()=>o});var s=i(37914);class o{constructor(){this._groups=new Map}destroy(){this.removeAll()}get size(){let t=0;return this._groups.forEach(r=>{t+=r.length}),t}add(t,r){if((0,s.xZ)(t)){let i=this._getOrCreateGroup(r);for(let r of t)d(r)&&i.push(r)}else d(t)&&this._getOrCreateGroup(r).push(t);return this}forEach(t,r){if("function"==typeof t)this._groups.forEach(r=>r.forEach(t));else{let i=this._getGroup(t);i&&r&&i.forEach(r)}}has(t){return this._groups.has(a(t))}remove(t){if("string"!=typeof t&&(0,s.xZ)(t)){for(let r of t)this.remove(r);return this}return this.has(t)&&(u(this._getGroup(t)),this._groups.delete(a(t))),this}removeAll(){return this._groups.forEach(u),this._groups.clear(),this}removeReference(t){return this._groups.delete(t),this}_getOrCreateGroup(t){if(this.has(t))return this._getGroup(t);let r=[];return this._groups.set(a(t),r),r}_getGroup(t){return this._groups.get(a(t))}}function a(t){return t||"_default_"}function u(t){for(let r of t)r instanceof o?r.removeAll():r.remove()}function d(t){return null!=t&&(!!t.remove||t instanceof o)}},55630:(t,r,i)=>{i.d(r,{A:()=>h});var s,o=i(81856),a=i(28690),u=i(61451),d=i(91838);i(57845),i(61939),i(33638);var c=i(12709);let p=s=class extends u.A.IdentifiableMixin(a.A){constructor(t){super(t),this.active=!1,this.className=null,this.disabled=!1,this.icon=null,this.id=null,this.indicator=!1,this.title=null,this.type=null,this.visible=!0}clone(){return new s({active:this.active,className:this.className,disabled:this.disabled,icon:this.icon,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible})}};(0,o._)([(0,d.MZ)()],p.prototype,"active",void 0),(0,o._)([(0,d.MZ)()],p.prototype,"className",void 0),(0,o._)([(0,d.MZ)()],p.prototype,"disabled",void 0),(0,o._)([(0,d.MZ)()],p.prototype,"icon",void 0),(0,o._)([(0,d.MZ)()],p.prototype,"id",void 0),(0,o._)([(0,d.MZ)()],p.prototype,"indicator",void 0),(0,o._)([(0,d.MZ)()],p.prototype,"title",void 0),(0,o._)([(0,d.MZ)()],p.prototype,"type",void 0),(0,o._)([(0,d.MZ)()],p.prototype,"visible",void 0);let h=p=s=(0,o._)([(0,c.$)("esri.support.actions.ActionBase")],p)},56121:(t,r,i)=>{i.d(r,{M5:()=>g,eV:()=>f,xR:()=>h});var s=i(39166),o=i(32391),a=i(92753),u=i(90525),d=i(82279);let c=null,p=!0;function h(t,r,i){if(!t||!r)throw Error("Cannot construct image data without dimensions");if(p)try{return new ImageData(t,r)}catch(t){p=!1}return y(t,r,i)}function f(t,r,i,s){if(!r||!i)throw Error("Cannot construct image data without dimensions");if(p)try{return new ImageData(t,r,i)}catch(t){p=!1}let o=y(r,i,s);return o.data.set(t,0),o}function y(t,r,i){return i||(c||((c=document.createElement("canvas")).width=1,c.height=1),i=c),i.getContext("2d").createImageData(t,r)}async function m(t,r){let i=window.URL.createObjectURL(t);try{let{data:t}=await (0,s.A)(i,{...r,responseType:"image"});return t}catch(t){if(!(0,a.zf)(t))throw new o.A("invalid-image",`Could not fetch requested image at ${i}`);throw t}finally{window.URL.revokeObjectURL(i)}}async function g(t,r){let{arrayBuffer:s,mediaType:o}=await _(t,r),a="image/png"===o;if("image/gif"===o){let{isAnimatedGIF:t,parseGif:o}=await i.e(5241).then(i.bind(i,95241));if(t(s))return o(s,r)}if(a){let{isAnimatedPNG:t,parseApng:o}=await i.e(1995).then(i.bind(i,51995));if(t(s))return o(s,r)}return m(new Blob([s],{type:o}),r)}async function _(t,r){let i=(0,u.r$)(t);if(i?.isBase64)return{arrayBuffer:(0,d.M)(i.data),mediaType:i.mediaType};let o=await (0,s.A)(t,{responseType:"array-buffer",...r});return{arrayBuffer:o.data,mediaType:o.getHeader?.("Content-Type")??""}}},56358:(t,r,i)=>{i.d(r,{A:()=>m});var s,o=i(81856),a=i(70152),u=i(33715),d=i(91838),c=i(86942),p=i(33498),h=i(12709),f=i(86629);let y=s=class extends f.A{constructor(t){super(t),this.color=g.clone(),this.type="water",this.waterbodySize="medium",this.waveDirection=null,this.waveStrength="moderate"}clone(){return new s({color:(0,u.o8)(this.color),waterbodySize:this.waterbodySize,waveDirection:this.waveDirection,waveStrength:this.waveStrength})}};(0,o._)([(0,d.MZ)({type:a.A,nonNullable:!0,json:{type:[c.jz],write:(t,r,i)=>r[i]=t.toArray(a.A.AlphaMode.UNLESS_OPAQUE),default:()=>g.clone(),defaultEquals:t=>t.toCss(!0)===g.toCss(!0)}})],y.prototype,"color",void 0),(0,o._)([(0,p.e)({Water:"water"},{readOnly:!0})],y.prototype,"type",void 0),(0,o._)([(0,d.MZ)({type:["small","medium","large"],json:{write:!0,default:"medium"}})],y.prototype,"waterbodySize",void 0),(0,o._)([(0,d.MZ)({type:Number,json:{write:!0,default:null}})],y.prototype,"waveDirection",void 0),(0,o._)([(0,d.MZ)({type:["calm","rippled","slight","moderate"],json:{write:!0,default:"moderate"}})],y.prototype,"waveStrength",void 0);let m=y=s=(0,o._)([(0,h.$)("esri.symbols.WaterSymbol3DLayer")],y),g=new a.A([0,119,190])},56396:(t,r,i)=>{i.d(r,{A:()=>y});var s,o=i(81856),a=i(30781),u=i(91838);i(57845),i(61939),i(33638);var d=i(33498),c=i(12709),p=i(50424);let h=(0,a.O)()({dash:"dash","dash-dot":"dash-dot","dash-dot-dot":"long-dash-dot-dot",dot:"dot","long-dash":"long-dash","long-dash-dot":"long-dash-dot",null:"none","short-dash":"short-dash","short-dash-dot":"short-dash-dot","short-dash-dot-dot":"short-dash-dot-dot","short-dot":"short-dot",solid:"solid"}),f=s=class extends p.A{constructor(t){super(t),this.type="style",this.style="solid"}clone(){let t={style:this.style};return new s(t)}};(0,o._)([(0,u.MZ)({type:["style"],json:{write:{isRequired:!0}}})],f.prototype,"type",void 0),(0,o._)([(0,d.e)(h),(0,u.MZ)({type:["dash","dash-dot","dot","long-dash","long-dash-dot","long-dash-dot-dot","none","short-dash","short-dash-dot","short-dash-dot-dot","short-dot","solid"],json:{write:{isRequired:!0}}})],f.prototype,"style",void 0);let y=f=s=(0,o._)([(0,c.$)("esri.symbols.patterns.LineStylePattern3D")],f)},56547:(t,r,i)=>{i.d(r,{S:()=>h,d:()=>f});var s=i(57845),o=i(21371),a=i(92528);function u(t,r,i){return!!d(t,r,i)}function d(t,r,i){return t&&t.hasOwnProperty(r)?t[r]:i}let c={name:"supportsName",size:"supportsSize",contentType:"supportsContentType",keywords:"supportsKeywords",exifInfo:"supportsExifInfo"};function p(t,r){let i=t?.supportedOperationsWithCacheHint?.map(t=>t.toLowerCase());return!!i?.includes(r.toLowerCase())}function h(t,r){var i;return{analytics:{supportsCacheHint:p(t.advancedQueryCapabilities,"queryAnalytics")},attachment:function(t){let r=t.attachmentProperties,i={supportsName:!1,supportsSize:!1,supportsContentType:!1,supportsKeywords:!1,supportsExifInfo:!1,supportsCacheHint:p(t.advancedQueryCapabilities,"queryAttachments"),supportsOrderByFields:u(t.advancedQueryCapabilities,"supportsQueryAttachmentOrderByFields",!1),supportsResize:u(t,"supportsAttachmentsResizing",!1)};return r&&Array.isArray(r)&&r.forEach(t=>{let r=c[t.name];r&&(i[r]=!!t.isEnabled)}),i}(t),data:{isVersioned:u(i=t,"isDataVersioned",!1),isBranchVersioned:u(i,"isDataBranchVersioned",!1),supportsAttachment:u(i,"hasAttachments",!1),supportsM:u(i,"hasM",!1),supportsZ:u(i,"hasZ",!1)},metadata:{supportsAdvancedFieldProperties:u(t,"supportsFieldDescriptionProperty",!1)},operations:function(t,r,i){let s=t?t.toLowerCase().split(",").map(t=>t.trim()):[],a=i?(0,o.qg)(i):null,d=s.includes(null!=a&&"MapServer"===a.serverType?"data":"query"),c=s.includes("editing")&&!r.datesInUnknownTimezone,p=c&&s.includes("create"),h=c&&s.includes("delete"),f=c&&s.includes("update"),y=s.includes("changetracking"),m=r.advancedQueryCapabilities;return c&&!(p||h||f)&&(p=h=f=!0),{supportsCalculate:u(r,"supportsCalculate",!1),supportsTruncate:u(r,"supportsTruncate",!1),supportsValidateSql:u(r,"supportsValidateSql",!1),supportsAdd:p,supportsDelete:h,supportsEditing:c,supportsChangeTracking:y,supportsQuery:d,supportsQueryAnalytics:u(m,"supportsQueryAnalytic",!1),supportsQueryAttachments:u(m,"supportsQueryAttachments",!1),supportsQueryBins:u(m,"supportsQueryBins",!1),supportsQueryTopFeatures:u(m,"supportsTopFeaturesQuery",!1),supportsResizeAttachments:u(r,"supportsAttachmentsResizing",!1),supportsSync:s.includes("sync"),supportsUpdate:f,supportsExceedsLimitStatistics:u(r,"supportsExceedsLimitStatistics",!1),supportsAsyncConvert3D:u(r,"supportsAsyncConvert3D",!1)}}(t.capabilities,t,r),query:function(t,r){let i=t.advancedQueryCapabilities,c=t.ownershipBasedAccessControlForFeatures,h=t.archivingInfo,f=t.currentVersion,y=!r?.includes("MapServer")||f>=(0,s.A)("mapserver-pbf-version-support"),m=(0,o.Wo)(r),g=new Set((t.supportedQueryFormats??"").split(",").map(t=>t.toLowerCase().trim()));return{maxRecordCount:d(t,"maxRecordCount",void 0),maxRecordCountFactor:d(t,"maxRecordCountFactor",void 0),standardMaxRecordCount:d(t,"standardMaxRecordCount",void 0),supportedSpatialAggregationStatistics:function(t){let r=t?.supportedSpatialAggregationStatistics?.map(t=>t.toLowerCase());return{envelope:!!r?.includes("envelopeaggregate"),centroid:!!r?.includes("centroidaggregate"),convexHull:!!r?.includes("convexhullaggregate")}}(i),supportsCacheHint:u(i,"supportsQueryWithCacheHint",!1)||p(i,"query"),supportsCentroid:u(i,"supportsReturningGeometryCentroid",!1),supportsCompactGeometry:m,supportsCurrentUser:u(i,"supportsCurrentUserQueries",!1),supportsDefaultSpatialReference:u(i,"supportsDefaultSR",!1),supportsDisjointSpatialRelationship:u(i,"supportsDisjointSpatialRel",!1),supportsDistance:u(i,"supportsQueryWithDistance",!1),supportsDistinct:u(i,"supportsDistinct",t.supportsAdvancedQueries),supportsExtent:u(i,"supportsReturningQueryExtent",!1),supportsFormatPBF:y&&g.has("pbf"),supportsFullTextSearch:u(i,"supportsFullTextSearch",!1),supportsGeometryProperties:u(i,"supportsReturningGeometryProperties",!1),supportsHavingClause:u(i,"supportsHavingClause",!1),supportsHistoricMoment:u(h,"supportsQueryWithHistoricMoment",!1),supportsMaxRecordCountFactor:u(i,"supportsMaxRecordCountFactor",!1),supportsOrderBy:u(i,"supportsOrderBy",t.supportsAdvancedQueries),supportsPagination:u(i,"supportsPagination",!1),supportsPercentileStatistics:u(i,"supportsPercentileStatistics",!1),supportsQuantization:u(t,"supportsCoordinatesQuantization",!1),supportsQuantizationEditMode:u(t,"supportsQuantizationEditMode",!1),supportsQueryByAnonymous:u(c,"allowAnonymousToQuery",!0),supportsQueryByOthers:u(c,"allowOthersToQuery",!0),supportsQueryGeometry:u(t,"supportsReturningQueryGeometry",!1),supportsResultType:u(i,"supportsQueryWithResultType",!1),supportsReturnMesh:!!(0,a.Hz)(t.infoFor3D),supportsSpatialAggregationStatistics:u(i,"supportsSpatialAggregationStatistics",!1),supportsSqlExpression:u(i,"supportsSqlExpression",!1),supportsStandardizedQueriesOnly:u(t,"useStandardizedQueries",!1),supportsStatistics:u(i,"supportsStatistics",t.supportsStatistics),supportsTopFeaturesQuery:u(i,"supportsTopFeaturesQuery",!1),supportsTrueCurve:u(i,"supportsTrueCurve",!1),tileMaxRecordCount:d(t,"tileMaxRecordCount",void 0)}}(t,r),queryAttributeBins:function(t){let r=t?t.queryBinsCapabilities:void 0;return{supportsDate:u(r,"supportsDateBin",!1),supportsFixedInterval:u(r,"supportsFixedIntervalBin",!1),supportsAutoInterval:u(r,"supportsAutoIntervalBin",!1),supportsFixedBoundaries:u(r,"supportsFixedBoundariesBin",!1),supportsStackBy:u(r,"supportsStackBy",!1),supportsSplitBy:u(r,"supportsSplitBy",!1),supportsSnapToData:u(r,"supportsSnapToData",!1),supportsReturnFullIntervalBin:u(r,"supportsReturnFullIntervalBin",!1),supportsFirstDayOfWeek:u(r,"supportsFirstDayOfWeek",!1),supportsNormalization:u(r,"supportsNormalization",!1),supportedStatistics:function(t){let r=t?.supportedStatisticTypes?.map(t=>t.toLowerCase());return{count:!!r?.includes("count"),sum:!!r?.includes("sum"),min:!!r?.includes("min"),max:!!r?.includes("max"),avg:!!r?.includes("avg"),var:!!r?.includes("var"),stddev:!!r?.includes("stddev"),percentileContinuous:!!r?.includes("percentile_continuous"),percentileDiscrete:!!r?.includes("percentile_discrete"),envelope:!!r?.includes("envelopeaggregate"),centroid:!!r?.includes("centroidaggregate"),convexHull:!!r?.includes("convexhullaggregate")}}(r),supportedNormalizationTypes:function(t){let r=t?.supportedNormalizationTypes?.map(t=>t.toLowerCase());return{field:!!r?.includes("field"),log:!!r?.includes("log"),naturalLog:!!r?.includes("naturallog"),percentOfTotal:!!r?.includes("percentoftotal"),squareRoot:!!r?.includes("squareroot")}}(r)}}(t),queryRelated:function(t){let r=t.advancedQueryCapabilities,i=u(r,"supportsAdvancedQueryRelated",!1);return{supportsPagination:u(r,"supportsQueryRelatedPagination",!1),supportsCount:i,supportsOrderBy:i,supportsCacheHint:p(r,"queryRelated")}}(t),queryTopFeatures:{supportsCacheHint:p(t.advancedQueryCapabilities,"queryTopFilter")},editing:function(t){let r=t.ownershipBasedAccessControlForFeatures,i=t?t.advancedEditingCapabilities:void 0;return{supportsGeometryUpdate:u(t,"allowGeometryUpdates",!0),supportsGlobalId:u(t,"supportsApplyEditsWithGlobalIds",!1),supportsReturnServiceEditsInSourceSpatialReference:u(t,"supportsReturnServiceEditsInSourceSR",!1),supportsRollbackOnFailure:u(t,"supportsRollbackOnFailureParameter",!1),supportsUpdateWithoutM:u(t,"allowUpdateWithoutMValues",!1),supportsUploadWithItemId:u(t,"supportsAttachmentsByUploadId",!1),supportsDeleteByAnonymous:u(r,"allowAnonymousToDelete",!0),supportsDeleteByOthers:u(r,"allowOthersToDelete",!0),supportsUpdateByAnonymous:u(r,"allowAnonymousToUpdate",!0),supportsUpdateByOthers:u(r,"allowOthersToUpdate",!0),supportsAsyncApplyEdits:u(i,"supportsAsyncApplyEdits",!1),zDefault:d(t,"zDefault",void 0)}}(t)}}function f(t){return{operations:{supportsAppend:u(t,"supportsAppend",!1),supportsCoverageQuery:t?.playbackInfo?.klv["0601"]??!1,supportsExportClip:u(t,"supportsExportClip",!1),supportsExportFrameset:u(t,"supportsExportFrameset",!1),supportsMensuration:u(t,"supportsMensuration",!1),supportsUpdate:u(t,"supportsUpdate",!1)}}}},56879:(t,r,i)=>{i.d(r,{A:()=>h});var s,o=i(81856),a=i(92713),u=i(55048),d=i(91838);i(57845),i(61939),i(33638);var c=i(12709);let p=s=class extends a.A{constructor(t){super(t),this.label=null,this.size=null,this.value=null,this.useMinValue=null,this.useMaxValue=null}clone(){return new s({label:this.label,size:this.size,value:this.value,useMaxValue:this.useMaxValue,useMinValue:this.useMinValue})}};(0,o._)([(0,d.MZ)({type:String,json:{write:!0}})],p.prototype,"label",void 0),(0,o._)([(0,d.MZ)({type:Number,cast:u.cr,json:{write:{isRequired:!0}}})],p.prototype,"size",void 0),(0,o._)([(0,d.MZ)({type:Number,json:{write:{isRequired:!0}}})],p.prototype,"value",void 0),(0,o._)([(0,d.MZ)({type:Boolean,json:{write:!1}})],p.prototype,"useMinValue",void 0),(0,o._)([(0,d.MZ)({type:Boolean,json:{write:!1}})],p.prototype,"useMaxValue",void 0);let h=p=s=(0,o._)([(0,c.$)("esri.renderers.visualVariables.support.SizeStop")],p)},56911:(t,r,i)=>{function s(){return[0,0,0]}function o(t){return[t[0],t[1],t[2]]}function a(t,r,i){return[t,r,i]}function u(t,r,i){return[t,r,i]}function d(t,r=s()){let i=Math.min(3,t.length);for(let s=0;s<i;++s)r[s]=t[s];return r}function c(){return s()}function p(){return a(1,1,1)}function h(){return a(1,0,0)}function f(){return a(0,1,0)}function y(){return a(0,0,1)}i.d(r,{CN:()=>u,Cb:()=>w,Cw:()=>_,JP:()=>v,S:()=>p,Ul:()=>c,Un:()=>g,ci:()=>d,fA:()=>a,o8:()=>o,uY:()=>m,vt:()=>s});let m=c(),g=p(),_=h(),v=f(),w=y();Object.freeze(Object.defineProperty({__proto__:null,ONES:g,UNIT_X:_,UNIT_Y:v,UNIT_Z:w,ZEROS:m,clone:o,create:s,createView:function(t,r){return new Float64Array(t,r,3)},freeze:u,fromArray:d,fromValues:a,ones:p,unitX:h,unitY:f,unitZ:y,zeros:c},Symbol.toStringTag,{value:"Module"}))},57136:(t,r,i)=>{i.d(r,{A:()=>S});var s,o=i(81856),a=i(70152),u=i(54335),d=i(33715),c=i(91838);i(57845),i(61939);var p=i(33498),h=i(12709),f=i(89050),y=i(72025),m=i(16876),g=i(46567),_=i(5342),v=i(59044),w=i(85225);let b=u.A.ofType({base:null,key:"type",typeMap:{icon:f.A,object:y.A,text:g.A}}),M=s=class extends m.A{constructor(t){super(t),this.verticalOffset=null,this.callout=null,this.symbolLayers=new b,this.type="point-3d"}supportsCallout(){if((this.symbolLayers?this.symbolLayers.length:0)<1)return!1;for(let t of this.symbolLayers.items)switch(t.type){case"icon":case"text":case"object":continue;default:return!1}return!0}hasVisibleCallout(){return(0,_.LH)(this)}hasVisibleVerticalOffset(){return(0,_.Yq)(this)}clone(){return new s({verticalOffset:(0,d.o8)(this.verticalOffset),callout:(0,d.o8)(this.callout),styleOrigin:(0,d.o8)(this.styleOrigin),symbolLayers:(0,d.o8)(this.symbolLayers),thumbnail:(0,d.o8)(this.thumbnail)})}static fromSimpleMarkerSymbol(t){return new s({symbolLayers:new u.A([f.A.fromSimpleMarkerSymbol(t)])})}static fromPictureMarkerSymbol(t){return new s({symbolLayers:new u.A([f.A.fromPictureMarkerSymbol(t)])})}static fromCIMSymbol(t){if("CIMPointSymbol"!==t.data?.symbol?.type)return null;let r=t.data.symbol;return new s(r?.callout?{symbolLayers:new u.A([f.A.fromCIMSymbol(t)]),callout:new v.A({size:.5,color:new a.A([0,0,0])}),verticalOffset:new w.A({screenLength:40})}:{symbolLayers:new u.A([f.A.fromCIMSymbol(t)])})}static fromTextSymbol(t){return new s({symbolLayers:new u.A([g.A.fromTextSymbol(t)])})}};(0,o._)([(0,c.MZ)({type:w.A,json:{write:!0}})],M.prototype,"verticalOffset",void 0),(0,o._)([(0,c.MZ)(_.oG)],M.prototype,"callout",void 0),(0,o._)([(0,c.MZ)({type:b,json:{origins:{"web-scene":{write:!0}}}})],M.prototype,"symbolLayers",void 0),(0,o._)([(0,p.e)({PointSymbol3D:"point-3d"},{readOnly:!0})],M.prototype,"type",void 0);let S=M=s=(0,o._)([(0,h.$)("esri.symbols.PointSymbol3D")],M)},57248:(t,r,i)=>{i.d(r,{J:()=>C});var s=i(81856),o=i(45257),a=i(91838),u=i(57845),d=i(61939);i(33638);var c=i(12709),p=i(12073),h=i(74817),f=i(21221),y=i(11004),m=i(56879),g=i(32391),_=i(50765),v=i(25930),w=i(37996),b=i(22191);let M=()=>d.A.getLogger("esri.views.2d.layers.support.clusterUtils");u.A.add("esri-cluster-arcade-enabled",!0);let S=(0,u.A)("esri-cluster-arcade-enabled"),A=new Set(["simple-line","simple-fill","picture-fill"]);function T(t,r){let i=r.clone();if(!x(i))return i;if(r.symbols.some(t=>A.has(t.type))&&(i=new f.A({symbol:new b.A})),i.authoringInfo||(i.authoringInfo=new w.A),i.authoringInfo.isAutoGenerated=!0,"visualVariables"in i){let r=(i.visualVariables||[]).filter(t=>"$view.scale"!==t.valueExpression);r.forEach(r=>{"rotation"===r.type?r.field?r.field=I(t,r.field,"avg_angle","number"):r.valueExpression&&(r.field=E(t,r.valueExpression,"avg_angle","number"),r.valueExpression=null):r.normalizationField?(r.field=I(t,r.field,"avg_norm","number",r.normalizationField),r.normalizationField=null):r.field?r.field=I(t,r.field,"avg","number"):r.valueExpression&&(r.field=E(t,r.valueExpression,"avg","number"),r.valueExpression=null)}),i.visualVariables=r}switch(i.type){case"simple":break;case"pie-chart":for(let r of i.attributes)r.field?r.field=I(t,r.field,"sum","number"):r.valueExpression&&(r.field=E(t,r.valueExpression,"sum","number"),r.valueExpression=null);break;case"unique-value":i.field?i.field=I(t,i.field,"mode","string"):i.valueExpression&&(i.field=E(t,i.valueExpression,"mode","string"),i.valueExpression=null);break;case"class-breaks":i.normalizationField?(i.field=I(t,i.field,"avg_norm","number",i.normalizationField),i.normalizationField=null):i.field?i.field=I(t,i.field,"avg","number"):i.valueExpression&&(i.field=E(t,i.valueExpression,"avg","number"),i.valueExpression=null)}return i}let x=t=>{let r=r=>M().error(new g.A("Unsupported-renderer",r,{renderer:t}));if(!t)return!1;switch(t.type){case"unique-value":if(t.field2||t.field3)return r("FeatureReductionCluster does not support multi-field UniqueValueRenderers"),!1;break;case"class-breaks":if(t.normalizationField){let i=t.normalizationType;if("field"!==i)return r(`FeatureReductionCluster does not support a normalizationType of ${i}`),!1}break;case"simple":case"pie-chart":break;default:return r(`FeatureReductionCluster does not support renderers of type ${t.type}`),!1}if(!S){if("valueExpression"in t&&t.valueExpression)return r("FeatureReductionCluster does not currently support renderer.valueExpression. Support will be added in a future release"),!1;if(("visualVariables"in t&&t.visualVariables||[]).some(t=>!(!("valueExpression"in t)||!t.valueExpression)))return r("FeatureReductionCluster does not currently support visualVariables with a valueExpression. Support will be added in a future release"),!1}return!0};function E(t,r,i,s){let o=(0,_.d)(r),a="mode"===i?`cluster_type_${o}`:"sum"===i?`cluster_sum_${o}`:`cluster_avg_${o}`;return t.some(t=>t.name===a)||t.push(new p.A({name:a,isAutoGenerated:!0,onStatisticExpression:new v.A({expression:r,returnType:s}),statisticType:i})),a}function I(t,r,i,s,o){if("cluster_count"===r||t.some(t=>t.name===r))return r;let a=function(t,r,i){switch(t){case"sum":return`cluster_sum_${r}`;case"avg":case"avg_angle":return`cluster_avg_${r}`;case"mode":return`cluster_type_${r}`;case"avg_norm":{let t=r.toLowerCase()+",norm:field,"+i.toLowerCase();return"cluster_avg_"+(0,_.d)(t)}}}(i,r,o);return t.some(t=>t.name===a)||("avg_norm"===i?t.push(new p.A({name:a,isAutoGenerated:!0,onStatisticExpression:new v.A({expression:`$feature.${r} / $feature.${o}`,returnType:s}),statisticType:"avg"})):t.push(new p.A({name:a,isAutoGenerated:!0,onStatisticField:r,statisticType:i}))),a}let C=t=>{let r=class extends t{constructor(...t){super(...t),this.addHandles((0,o.wB)(()=>this.renderer,()=>{if(this.featureReduction){let t=this._normalizeFeatureReduction(this.featureReduction);this._set("featureReduction",t)}},o.OH))}set featureReduction(t){let r=this._normalizeFeatureReduction(t);this._set("featureReduction",r)}set renderer(t){}_withClusterVariable(t,r,i){let s=t.clone();return"visualVariables"in s&&(s.visualVariables||(s.visualVariables=[]),s.visualVariables.some(t=>"size"===t.type)||s.visualVariables.push(new y.A({field:"cluster_count",stops:[new m.A({value:1}),new m.A({useMinValue:!0,size:r}),new m.A({useMaxValue:!0,size:i})]}))),s}_normalizeFeatureReduction(t){if("cluster"!==t?.type)return t;let r=t.clone(),i=[new p.A({name:"cluster_count",alias:"cluster_count",isAutoGenerated:!0,statisticType:"count"})],s=(r.fields??[]).filter(t=>!t.isAutoGenerated),o=t.renderer&&!t.renderer.authoringInfo?.isAutoGenerated,{clusterMinSize:a,clusterMaxSize:u}=r;if(o){r.fields=[...i,...s];let t=this._withClusterVariable(r.renderer,a,u);return r.effectiveFeatureRenderer=t,r.effectiveClusterRenderer=t,r}if(t.symbol){if(r.fields=[...i,...s],r.renderer=null,!this.renderer)return r.effectiveFeatureRenderer=null,r.effectiveClusterRenderer=null,r;let o=T(i,this.renderer),d=this._withClusterVariable(o,a,u),c="visualVariables"in d&&d.visualVariables?d.visualVariables:[],p=new f.A({symbol:t.symbol,visualVariables:c});return r.fields=[...i,...s],r.effectiveFeatureRenderer=d,r.effectiveClusterRenderer=p,r}if(!this.renderer)return t;let d=T(i,this.renderer);r.fields=[...i,...s],r.renderer=d;let c=this._withClusterVariable(d,a,u);return r.effectiveFeatureRenderer=c,r.effectiveClusterRenderer=c,r}};return(0,s._)([(0,a.MZ)(h.d)],r.prototype,"featureReduction",null),r=(0,s._)([(0,c.$)("esri.layers.mixins.FeatureReductionLayer")],r)}},57421:(t,r,i)=>{i.d(r,{A:()=>y});var s=i(81856),o=i(71017),a=i(92713),u=i(72359),d=i(91838);i(57845),i(61939),i(33638);var c=i(33498),p=i(12709),h=i(61200);let f=class extends o.A.ClonableMixin(a.A){constructor(t){super(t),this.unit="milliseconds",this.value=0}toMilliseconds(){return(0,u.t)(this.value,this.unit,"milliseconds")}};(0,s._)([(0,c.e)(h.j,{nonNullable:!0})],f.prototype,"unit",void 0),(0,s._)([(0,d.MZ)({type:Number,json:{write:!0},nonNullable:!0})],f.prototype,"value",void 0);let y=f=(0,s._)([(0,p.$)("esri.time.TimeInterval")],f)},57664:(t,r,i)=>{i.d(r,{Aq:()=>c,Y3:()=>p,id:()=>u,ol:()=>d,rE:()=>a});var s=i(57845),o=i(90525);Symbol.dispose??=Symbol("Symbol.dispose"),Symbol.asyncDispose??=Symbol("Symbol.asyncDispose");let a="4.32",u,d=a;function c(t){u=t}function p(t){let r=u?.findCredential(t);return r?.token?(0,o.rs)(t,"token",r.token):t}d="4.32.9",(0,s.A)("host-webworker")||globalThis.$arcgis||Object.defineProperty(globalThis,"$arcgis",{configurable:!1,enumerable:!0,writable:!1,value:{}}),(0,s.A)("host-webworker")},57845:(t,r,i)=>{let s;function o(t){return"function"==typeof s[t]?s[t]=s[t](globalThis):s[t]}i.d(r,{A:()=>o}),s=globalThis.dojoConfig?.has||globalThis.esriConfig?.has?{...globalThis.dojoConfig?.has,...globalThis.esriConfig?.has}:{},o.add=(t,r,i,a)=>{(a||void 0===s[t])&&(s[t]=r),i&&o(t)},o.cache=s,o.add("big-integer-warning-enabled",!0),o.add("esri-deprecation-warnings",!0),o.add("esri-tests-disable-screenshots",!1),o.add("esri-tests-use-full-window",!1),o.add("esri-tests-post-to-influx",!0),o.add("esri-cim-animations-enable-status","enabled"),o.add("esri-cim-animations-spotlight",!1),o.add("esri-cim-animations-freeze-time",!1),o.add("enable-feature:multiple-highlights",!0),(()=>{o.add("host-webworker",void 0!==globalThis.WorkerGlobalScope&&self instanceof globalThis.WorkerGlobalScope);let t="undefined"!=typeof window&&"undefined"!=typeof location&&"undefined"!=typeof document&&window.location===location&&window.document===document;if(o.add("host-browser",t),o.add("host-node","object"==typeof globalThis.process&&globalThis.process.versions?.node&&globalThis.process.versions.v8),o.add("dom",t),o("host-browser")){let t=navigator,r=t.userAgent,i=t.appVersion,s=parseFloat(i);if(o.add("wp",parseFloat(r.split("Windows Phone")[1])||void 0),o.add("msapp",parseFloat(r.split("MSAppHost/")[1])||void 0),o.add("khtml",i.includes("Konqueror")?s:void 0),o.add("edge",parseFloat(r.split("Edge/")[1])||void 0),o.add("opr",parseFloat(r.split("OPR/")[1])||void 0),o.add("webkit",!o("wp")&&!o("edge")&&parseFloat(r.split("WebKit/")[1])||void 0),o.add("chrome",!o("edge")&&!o("opr")&&parseFloat(r.split("Chrome/")[1])||void 0),o.add("android",!o("wp")&&parseFloat(r.split("Android ")[1])||void 0),o.add("safari",!i.includes("Safari")||o("wp")||o("chrome")||o("android")||o("edge")||o("opr")?void 0:parseFloat(i.split("Version/")[1])),o.add("mac",i.includes("Macintosh")),!o("wp")&&/(iPhone|iPod|iPad)/.test(r)){let t=RegExp.$1.replace(/P/,"p"),i=parseFloat((/OS ([\d_]+)/.test(r)?RegExp.$1:"1").replace(/_/,".").replaceAll("_",""));o.add(t,i),o.add("ios",i)}o("webkit")||(!r.includes("Gecko")||o("wp")||o("khtml")||o("edge")||o.add("mozilla",s),o("mozilla")&&o.add("ff",parseFloat(r.split("Firefox/")[1]||r.split("Minefield/")[1])||void 0))}})(),(()=>{if(globalThis.navigator){let t=navigator.userAgent,r=/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini|IEMobile/i.test(t),i=/iPhone/i.test(t);r&&o.add("esri-mobile",r),i&&o.add("esri-iPhone",i),o.add("esri-geolocation",!!navigator.geolocation)}o.add("esri-wasm","WebAssembly"in globalThis),o.add("esri-performance-mode-frames-between-render",20),o.add("esri-force-performance-mode",!1),o.add("esri-shared-array-buffer",()=>{let t=!1===globalThis.crossOriginIsolated;return"SharedArrayBuffer"in globalThis&&!t}),o.add("wasm-simd",()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,5,1,96,0,1,123,3,2,1,0,10,10,1,8,0,65,0,253,15,253,98,11]))),o.add("esri-atomics","Atomics"in globalThis),o.add("esri-workers","Worker"in globalThis),o.add("web-feat:cache","caches"in globalThis),o.add("esri-workers-arraybuffer-transfer",!o("safari")||Number(o("safari"))>=12),o.add("workers-pool-size",8),o.add("featurelayer-simplify-thresholds",[.5,.5,.5,.5]),o.add("featurelayer-simplify-payload-size-factors",[1,1,4]),o.add("featurelayer-fast-triangulation-enabled",!0),o.add("featurelayer-animation-enabled",!0),o.add("featurelayer-snapshot-enabled",!0),o.add("featurelayer-snapshot-point-min-threshold",8e4),o.add("featurelayer-snapshot-point-max-threshold",4e5),o.add("featurelayer-snapshot-point-coverage",.1),o.add("featurelayer-query-max-depth",4),o.add("featurelayer-query-pausing-enabled",!1),o.add("featurelayer-advanced-symbols",!1),o.add("featurelayer-pbf",!0),o.add("featurelayer-pbf-statistics",!1),o.add("feature-layers-workers",!0),o.add("feature-polyline-generalization-factor",1),o.add("mapview-transitions-duration",200),o.add("mapview-essential-goto-duration",200),o.add("mapview-srswitch-adjust-rotation-scale-threshold",24e6),o.add("mapserver-pbf-version-support",10.81),o.add("mapservice-popup-identify-max-tolerance",20),o.add("request-queue-concurrency-hosted",16),o.add("request-queue-concurrency-non-hosted",4),o.add("curve-densification-coarse-segments",128),o.add("curve-densification-max-segments",2e3),o.add("curve-densification-min-segments",3),o.add("curve-densification-pixels-per-segment",16),o.add("view-readyState-waiting-delay",1e3),o.add("gradient-depth-bias",.01),o.add("gradient-depth-epsilon",1e-8),o("host-webworker")||o("host-browser")&&(o.add("esri-csp-restrictions",()=>{try{Function()}catch{return!0}return!1}),o.add("esri-image-decode",()=>{if("decode"in new Image){let t=new Image;return t.src='data:image/svg+xml;charset=UTF-8,<svg version="1.1" xmlns="http://www.w3.org/2000/svg"></svg>',void t.decode().then(()=>{o.add("esri-image-decode",!0,!0,!0)}).catch(()=>{o.add("esri-image-decode",!1,!0,!0)})}return!1}),o.add("esri-url-encodes-apostrophe",()=>{let t=window.document.createElement("a");return t.href="?'",t.href.includes("?%27")}))})()},57942:(t,r,i)=>{i.d(r,{lY:()=>f,mT:()=>y});var s,o=i(45714),a=i(87303),u=i(29593);(s||(s={})).TimeZoneNotRecognized="TimeZoneNotRecognized";let d={[s.TimeZoneNotRecognized]:"Timezone identifier has not been recognized."};class c extends Error{constructor(t,r){super((0,o.HC)(d[t],r)),this.declaredRootClass="esri.arcade.arcadedate.dateerror",Error.captureStackTrace&&Error.captureStackTrace(this,c)}}function p(t,r,i){return t<r?t-r:t>i?t-i:0}function h(t,r,i){return t<r?r:t>i?i:t}class f{constructor(t){this._date=t,this.declaredRootClass="esri.arcade.arcadedate"}static fromParts(t=0,r=1,i=1,s=0,o=0,a=0,d=0,c){if(isNaN(t)||isNaN(r)||isNaN(i)||isNaN(s)||isNaN(o)||isNaN(a)||isNaN(d))return null;let m=u.c9.local(t,r).daysInMonth,g=u.c9.fromObject({day:h(i,1,m),year:t,month:h(r,1,12),hour:h(s,0,23),minute:h(o,0,59),second:h(a,0,59),millisecond:h(d,0,999)},{zone:y(c)});return new f(g=g.plus({months:p(r,1,12),days:p(i,1,m),hours:p(s,0,23),minutes:p(o,0,59),seconds:p(a,0,59),milliseconds:p(d,0,999)}))}static get systemTimeZoneCanonicalName(){return Intl.DateTimeFormat().resolvedOptions().timeZone??"system"}static arcadeDateAndZoneToArcadeDate(t,r){let i=y(r);return t.isUnknownTimeZone||i===a.GB.instance?f.fromParts(t.year,t.monthJS+1,t.day,t.hour,t.minute,t.second,t.millisecond,i):new f(t._date.setZone(i))}static dateJSToArcadeDate(t){return new f(u.c9.fromJSDate(t,{zone:"system"}))}static dateJSAndZoneToArcadeDate(t,r="system"){let i=y(r);return new f(u.c9.fromJSDate(t,{zone:i}))}static unknownEpochToArcadeDate(t){return new f(u.c9.fromMillis(t,{zone:a.GB.instance}))}static unknownDateJSToArcadeDate(t){return new f(u.c9.fromMillis(t.getTime(),{zone:a.GB.instance}))}static epochToArcadeDate(t,r="system"){let i=y(r);return new f(u.c9.fromMillis(t,{zone:i}))}static dateTimeToArcadeDate(t){return new f(t)}clone(){return new f(this._date)}changeTimeZone(t){let r=y(t);return f.dateTimeToArcadeDate(this._date.setZone(r))}static dateTimeAndZoneToArcadeDate(t,r){let i=y(r);return t.zone===a.GB.instance||i===a.GB.instance?f.fromParts(t.year,t.month,t.day,t.hour,t.minute,t.second,t.millisecond,i):new f(t.setZone(i))}static nowToArcadeDate(t){let r=y(t);return new f(u.c9.fromJSDate(new Date,{zone:r}))}static nowUTCToArcadeDate(){return new f(u.c9.utc())}get isSystem(){return"system"===this.timeZone||this.timeZone===f.systemTimeZoneCanonicalName}equals(t){return this.isSystem&&t.isSystem?this.toNumber()===t.toNumber():this.isUnknownTimeZone===t.isUnknownTimeZone&&this._date.equals(t._date)}get isUnknownTimeZone(){return this._date.zone===a.GB.instance}get isValid(){return this._date.isValid}get hour(){return this._date.hour}get second(){return this._date.second}get day(){return this._date.day}get dayOfWeekISO(){return this._date.weekday}get dayOfWeekJS(){let t=this._date.weekday;return t>6&&(t=0),t}get millisecond(){return this._date.millisecond}get monthISO(){return this._date.month}get weekISO(){return this._date.weekNumber}get yearISO(){return this._date.weekYear}get monthJS(){return this._date.month-1}get year(){return this._date.year}get minute(){return this._date.minute}get zone(){return this._date.zone}get timeZoneOffset(){return this.isUnknownTimeZone?0:this._date.offset}get timeZone(){if(this.isUnknownTimeZone)return"unknown";if("system"===this._date.zone.type)return"system";let t=this.zone;return"fixed"===t.type?0===t.fixed?"UTC":t.formatOffset(0,"short"):t.name}stringify(){return JSON.stringify(this.toJSDate())}plus(t){return new f(this._date.plus(t))}diff(t,r="milliseconds"){return this._date.diff(t._date,r)[r]}toISODate(){return this._date.toISODate()}toISOString(t){return t?this._date.toISO({suppressMilliseconds:!0,includeOffset:!this.isUnknownTimeZone}):this._date.toISO({includeOffset:!this.isUnknownTimeZone})}toISOTime(t,r){return this._date.toISOTime({suppressMilliseconds:t,includeOffset:r&&!this.isUnknownTimeZone})}toFormat(t,r){return this.isUnknownTimeZone&&(t=t.replaceAll("Z","")),this._date.toFormat(t,r)}toJSDate(){return this._date.toJSDate()}toSQLValue(){return this._date.toFormat("yyyy-LL-dd HH:mm:ss")}toSQLWithKeyword(){return`timestamp '${this.toSQLValue()}'`}toDateTime(){return this._date}toNumber(){return this._date.toMillis()}getTime(){return this._date.toMillis()}toUTC(){return new f(this._date.toUTC())}toLocal(){return new f(this._date.toLocal())}toString(){return this.toISOString(!0)}static fromReaderAsTimeStampOffset(t){return t?new f(u.c9.fromISO(t,{setZone:!0})):null}}function y(t,r=!0){if(t instanceof u.bo)return t;if("system"===t.toLowerCase())return"system";if("utc"===t.toLowerCase())return"UTC";if("unknown"===t.toLowerCase())return a.GB.instance;if(/^[+-]?[0-9]{1,2}([:][0-9]{2})?$/.test(t)){let r=u.mQ.parseSpecifier("UTC"+(t.startsWith("+")||t.startsWith("-")?"":"+")+t);if(r)return r}let i=u.oh.create(t);if(!i.isValid){if(r)throw new c(s.TimeZoneNotRecognized);return null}return i}},58081:(t,r,i)=>{i.d(r,{A:()=>h});var s,o=i(81856),a=i(91838);i(57845),i(61939),i(33638);var u=i(33498),d=i(12709),c=i(95048);let p=s=class extends c.A{constructor(t){super(t),this.maxValue=null,this.minValue=null,this.type="range"}clone(){return new s({maxValue:this.maxValue,minValue:this.minValue,name:this.name})}};(0,o._)([(0,a.MZ)({json:{type:[Number],read:{source:"range",reader:(t,r)=>r.range?.[1]},write:{enabled:!1,overridePolicy(){return{enabled:null!=this.maxValue&&null==this.minValue}},target:"range",writer(t,r,i){r[i]=[this.minValue||0,t]},isRequired:!0}}})],p.prototype,"maxValue",void 0),(0,o._)([(0,a.MZ)({json:{type:[Number],read:{source:"range",reader:(t,r)=>r.range?.[0]},write:{target:"range",writer(t,r,i){r[i]=[t,this.maxValue||0]},isRequired:!0}}})],p.prototype,"minValue",void 0),(0,o._)([(0,u.e)({range:"range"})],p.prototype,"type",void 0);let h=p=s=(0,o._)([(0,d.$)("esri.layers.support.RangeDomain")],p)},58546:(t,r,i)=>{i.d(r,{N:()=>u});var s=i(8922),o=i(69752),a=i(71760);function u(t,r,i){if(null==r||null==i||i.vcsWkid||(0,a.aI)(r,i)||(0,o.xP)(r)||(0,o.xP)(i))return null;let u=(0,s.G9)(r)/(0,s.G9)(i);if(1===u)return null;switch(t){case"point":case"esriGeometryPoint":return t=>{var r,i;return r=t,i=u,void(null!=r?.z&&(r.z*=i))};case"polyline":case"esriGeometryPolyline":return t=>(function(t,r){if(t)for(let i of t.paths)for(let t of i)t.length>2&&(t[2]*=r)})(t,u);case"polygon":case"esriGeometryPolygon":return t=>(function(t,r){if(t)for(let i of t.rings)for(let t of i)t.length>2&&(t[2]*=r)})(t,u);case"multipoint":case"esriGeometryMultipoint":return t=>(function(t,r){if(t)for(let i of t.points)i.length>2&&(i[2]*=r)})(t,u);case"extent":case"esriGeometryEnvelope":return t=>{var r,i;return r=t,i=u,void(r&&null!=r.zmin&&null!=r.zmax&&(r.zmin*=i,r.zmax*=i))};default:return null}}},58605:(t,r,i)=>{i.d(r,{A:()=>h});var s,o=i(81856),a=i(54335),u=i(92713),d=i(91838);i(57845),i(61939),i(33638);var c=i(12709);let p=s=class extends u.A{constructor(t){super(t),this.floorField=null,this.viewAllMode=!1,this.viewAllLevelIds=new a.A}clone(){return new s({floorField:this.floorField,viewAllMode:this.viewAllMode,viewAllLevelIds:this.viewAllLevelIds})}};(0,o._)([(0,d.MZ)({type:String,json:{write:{isRequired:!0}}})],p.prototype,"floorField",void 0),(0,o._)([(0,d.MZ)({json:{read:!1,write:!1}})],p.prototype,"viewAllMode",void 0),(0,o._)([(0,d.MZ)({json:{read:!1,write:!1}})],p.prototype,"viewAllLevelIds",void 0);let h=p=s=(0,o._)([(0,c.$)("esri.layers.support.LayerFloorInfo")],p)},58647:(t,r,i)=>{i.d(r,{EA:()=>A,UF:()=>a,ao:()=>u,cY:()=>s,hd:()=>m,j1:()=>_,kn:()=>y,oK:()=>w}),i(49509);var s=class{resolve(t){}reject(t){}constructor(){this.promise=new Promise((t,r)=>{this.resolve=t,this.reject=r})}},o={};function a(t,r,...i){try{return t?.call(r,...i)}catch(r){console.error(r,t)}}async function u(t,r,...i){try{let s=t?.call(r,...i);return s instanceof Promise?await s:s}catch(r){console.error(r,t)}}var d=new Set(["ar","bg","bs","ca","cs","da","de","el","en","es","et","fi","fr","he","hr","hu","id","it","ja","ko","lt","lv","nl","nb","no","pl","pt-BR","pt-PT","ro","ru","sk","sl","sr","sv","th","tr","uk","vi","zh-CN","zh-HK","zh-TW"]),c={pt:"pt-PT",nb:"no",zh:"zh-CN"};async function p(t,r,i=""){let s=`${r}/${i}`,o=`${s}${t}.json`;return h[o]??(h[o]=f(t,s)),await h[o]}var h={};async function f(t,r){let i=`${r}${t}.json`;try{let t=await fetch(i);if(t.ok)return await t.json()}catch(t){return console.error(t),{}}return"en"===t?{}:await f("en",r)}function y(t){let r=function(t,r,i){let s=function(t,r){let i=t;for(;i;){let t=i.closest?.(r);if(t)return t;let s=i.getRootNode?.();if(s===globalThis.document)break;i=s.host}return null}(t,`[${r}]`);return s?.getAttribute(r)??i}(t,"lang",globalThis.navigator?.language||"en");return{lang:r,t9nLocale:function t(r){let[i,s]=r.split("-"),o=i.toLowerCase(),a=o;return(s&&(a=`${o}-${s.toUpperCase()}`),a=c[a]??a,d.has(a))?a:s?t(o):"en"}(r)}}function m(t,r,i,s){let a,u=()=>void g(t,r(),s).then(t=>{(a?.lang!==t.lang||a.t9nLocale!==t.t9nLocale||a.t9nStrings!==t.t9nStrings)&&i(t),a=t}).catch(console.error);queueMicrotask(u);let{subscribe:d}=function(t){let r=t.join(","),i=o[r];if(void 0!==i)return i;let s=new Set,a=new MutationObserver(t=>s.forEach(r=>r(t)));globalThis.document&&a.observe(document.documentElement,{attributes:!0,attributeFilter:t,subtree:!0});let u={subscribe:t=>(s.add(t),()=>{s.delete(t),0===s.size&&(a.disconnect(),o[r]=void 0)})};return o[r]=u,u}(["lang"]);return d(r=>{r.some(r=>(function(t,r){let i=t;for(;i;){if(i===r)return!0;if(!i.parentNode)break;i=i.parentNode instanceof ShadowRoot?i.parentNode.host:i.parentNode}return!1})(t,r.target))&&u()})}async function g(t,r,i=t.tagName.toLowerCase().split("-").slice(1).join("-")){let{lang:s,t9nLocale:o}=y(t),a=`${r}/${i}/t9n`,u=null===i?{}:await p(o,a,"messages.");return{lang:s,t9nLocale:o,t9nStrings:u}}var _=t=>t.replace(v,(t,r)=>`${0===r?"":"-"}${t.toLowerCase()}`),v=/[A-Z]+(?![a-z])|[A-Z]/gu;function w(t,r){let i=r>b?M:r/S,s=0,o=setInterval(()=>{(s+=i)>=r&&(clearInterval(o),t())},i);return o}var b=4e3,M=2e3,S=4;function A(t){return void 0!==t}},58672:(t,r,i)=>{i.d(r,{jg:()=>M,cF:()=>y,bo:()=>m,yA:()=>v,o5:()=>g});var s=i(39166),o=i(32391),a=i(57845),u=i(92753),d=i(90525),c=i(14307),p=i(78616);let h=new Map;async function f(t,r){try{return{data:(await v(t,r)).data,baseUrl:(0,d.nM)(t),styleUrl:t}}catch(t){return(0,u.QP)(t),null}}function y(t,r,i){return null!=t?.styleUrl?f(t.styleUrl,i):null!=t?.styleName?function(t,r,i){var s,a,u;let d,f=null!=r.portal?r.portal:c.A.getDefault(),y=`${f.url} - ${f.user?.username} - ${t}`,m=h.get(y);if(m)return m;let g=(s=t,a=f,u=i,a.load(u).then(()=>{let t=new p.A({disableExtraQuery:!0,query:`owner:${w} AND type:${b} AND typekeywords:"${s}"`});return a.queryItems(t,u)}).then(({results:t})=>{let r=null,i=s.toLowerCase();if(t&&Array.isArray(t)){for(let s of t)if(s.typeKeywords?.some(t=>t.toLowerCase()===i)&&s.type===b&&s.owner===w){r=s;break}}if(!r)throw new o.A("symbolstyleutils:style-not-found",`The style '${s}' could not be found`,{styleName:s});return r.load(u)})).then(t=>(d=t,t.fetchData())).then(r=>({data:r,baseUrl:d.itemUrl??"",styleName:t}));return h.set(y,g),g}(t.styleName,r,i):Promise.reject(new o.A("symbolstyleutils:style-url-and-name-missing","Either styleUrl or styleName is required to resolve a style"))}function m(t){return null===t||"CIMSymbolReference"===t.type?t:{type:"CIMSymbolReference",symbol:t}}function g(t,r){for(let i of r)switch(i){case"cim":if(t.cimRef)return{format:i,url:encodeURI(t.cimRef)};break;case"web-gltf-basisu":{let r=_(t,"gltf_basisu");if(r)return{format:i,url:r};break}case"web-gltf":{let r=_(t,"gltf");if(r)return{format:i,url:r};break}case"web":{let r=_(t,"gltf");if(r)return{format:"web-gltf",url:r};if(t.webRef)return{format:i,url:encodeURI(t.webRef)}}}}function _(t,r){if(!(0,a.A)("enable-feature:force-wosr"))return t.formatInfos?.find(t=>t.type===r)?.href}function v(t,r){let i={responseType:"json",query:{f:"json"},...r};return(0,s.A)((0,d.S8)(t),i)}let w="esri_en",b="Style",M="https://cdn.arcgis.com/sharing/rest/content/items/220936cc6ed342c9937abd8f180e7d1e/resources/styles/cim/{SymbolName}.json?f=json"},58985:(t,r,i)=>{i.d(r,{A:()=>o});var s=i(1766);class o extends s.A{constructor(t,r,i){super(t,r,i)}}o.prototype.type="warning"},59044:(t,r,i)=>{i.d(r,{A:()=>_});var s,o=i(81856),a=i(70152),u=i(33715),d=i(55048),c=i(91838);i(57845),i(61939);var p=i(33498),h=i(12709),f=i(84278),y=i(49702),m=i(37211);let g=s=class extends f.A{constructor(t){super(t),this.type="line",this.color=new a.A([0,0,0,1]),this.size=(0,d.PN)(1),this.border=null}get visible(){return this.size>0&&null!=this.color&&this.color.a>0}clone(){return new s({color:(0,u.o8)(this.color),size:this.size,border:(0,u.o8)(this.border)})}};(0,o._)([(0,p.e)({line:"line"})],g.prototype,"type",void 0),(0,o._)([(0,c.MZ)((0,m.E)({colorRequiredOnWrite:!0}))],g.prototype,"color",void 0),(0,o._)([(0,c.MZ)({...m.p,json:{write:{isRequired:!0}}})],g.prototype,"size",void 0),(0,o._)([(0,c.MZ)({type:y.A,json:{write:!0}})],g.prototype,"border",void 0),(0,o._)([(0,c.MZ)({readOnly:!0})],g.prototype,"visible",null);let _=g=s=(0,o._)([(0,h.$)("esri.symbols.callouts.LineCallout3D")],g)},59106:(t,r,i)=>{i.d(r,{u:()=>s});function s(t){return(r,i)=>{r[i]=t}}},59217:(t,r,i)=>{function s(t,r){return new Proxy({},{get:(i,s,o)=>(...i)=>{var o;let a,u,d=i[i.length-1];return"object"==typeof(o=d)&&!Array.isArray(o)&&null!=o&&("signal"in o||"transferList"in o||0===Object.keys(o).length)&&(a=d.signal,u=d.transferList,i.pop()),t.apply(r?`${r}.${s.toString()}`:s.toString(),i,{transferList:u,signal:a})}})}i.d(r,{L:()=>s})},59274:(t,r,i)=>{i.d(r,{A:()=>m});var s=i(81856),o=i(71017),a=i(92713),u=i(91838);i(57845),i(61939),i(33638);var d=i(53480),c=i(12709),p=i(7780),h=i(66389),f=i(848);let y=class extends o.A.ClonableMixin(a.A){constructor(t){super(t),this.id=null,this.name=null,this.domains=null,this.templates=null}readDomains(t){let r={};for(let i of Object.keys(t))r[i]=(0,h.rS)(t[i]);return r}writeDomains(t,r){let i={};for(let r of Object.keys(t))t[r]&&(i[r]=t[r]?.toJSON());r.domains=i}};(0,s._)([(0,u.MZ)({json:{write:!0}})],y.prototype,"id",void 0),(0,s._)([(0,u.MZ)({json:{write:!0}})],y.prototype,"name",void 0),(0,s._)([(0,u.MZ)({json:{write:!0}})],y.prototype,"domains",void 0),(0,s._)([(0,d.w)("domains")],y.prototype,"readDomains",null),(0,s._)([(0,p.K)("domains")],y.prototype,"writeDomains",null),(0,s._)([(0,u.MZ)({type:[f.A],json:{write:!0}})],y.prototype,"templates",void 0);let m=y=(0,s._)([(0,c.$)("esri.layers.support.FeatureType")],y)},59276:(t,r,i)=>{i.d(r,{A:()=>_});var s,o=i(81856),a=i(70152),u=i(30781),d=i(33715),c=i(91838);i(57845),i(61939);var p=i(33498),h=i(12709),f=i(50558),y=i(71230);let m=new u.J({esriSFSSolid:"solid",esriSFSNull:"none",esriSFSHorizontal:"horizontal",esriSFSVertical:"vertical",esriSFSForwardDiagonal:"forward-diagonal",esriSFSBackwardDiagonal:"backward-diagonal",esriSFSCross:"cross",esriSFSDiagonalCross:"diagonal-cross"}),g=s=class extends f.A{constructor(...t){super(...t),this.color=new a.A([0,0,0,.25]),this.outline=new y.A,this.type="simple-fill",this.style="solid"}normalizeCtorArgs(t,r,i){if(t&&"string"!=typeof t)return t;let s={};return t&&(s.style=t),r&&(s.outline=r),i&&(s.color=i),s}clone(){return new s({color:(0,d.o8)(this.color),outline:this.outline&&this.outline.clone(),style:this.style})}hash(){return`${super.hash()}${this.style}.${this.color&&this.color.hash()}`}};(0,o._)([(0,c.MZ)()],g.prototype,"color",void 0),(0,o._)([(0,c.MZ)()],g.prototype,"outline",void 0),(0,o._)([(0,p.e)({esriSFS:"simple-fill"},{readOnly:!0})],g.prototype,"type",void 0),(0,o._)([(0,c.MZ)({type:m.apiValues,json:{read:m.read,write:m.write}})],g.prototype,"style",void 0);let _=g=s=(0,o._)([(0,h.$)("esri.symbols.SimpleFillSymbol")],g)},59491:(t,r,i)=>{i.d(r,{A:()=>L});var s,o=i(81856),a=i(91838);i(57845),i(61939),i(33638);var u=i(12709),d=i(91766),c=i(16352),p=i(53480),h=i(7780),f=i(71017),y=i(92713);let m=class extends f.A.ClonableMixin(y.A){constructor(t){super(t),this.type=null}};(0,o._)([(0,a.MZ)()],m.prototype,"type",void 0);let g=m=(0,o._)([(0,u.$)("esri.form.elements.inputs.attachments.Input")],m);var _=i(86942);let v=["any","capture","upload"],w=class extends g{constructor(t){super(t),this.type="audio",this.inputMethod="any",this.maxDuration=null}};(0,o._)([(0,a.MZ)({type:["audio"],readOnly:!0,json:{write:!0}})],w.prototype,"type",void 0),(0,o._)([(0,a.MZ)({type:v,json:{write:!0}})],w.prototype,"inputMethod",void 0),(0,o._)([(0,a.MZ)({type:Number,json:{write:!0}})],w.prototype,"maxDuration",void 0);let b=w=(0,o._)([(0,u.$)("esri.form.elements.inputs.attachments.AudioInput")],w),M=class extends g{constructor(t){super(t),this.type="document",this.maxFileSize=null}};(0,o._)([(0,a.MZ)({type:["document"],readOnly:!0,json:{write:!0}})],M.prototype,"type",void 0),(0,o._)([(0,a.MZ)({type:Number,json:{write:!0}})],M.prototype,"maxFileSize",void 0);let S=M=(0,o._)([(0,u.$)("esri.form.elements.inputs.attachments.DocumentInput")],M),A=class extends g{constructor(t){super(t),this.type="image",this.inputMethod="any",this.maxImageSize=null}};(0,o._)([(0,a.MZ)({type:["image"],readOnly:!0,json:{write:!0}})],A.prototype,"type",void 0),(0,o._)([(0,a.MZ)({type:v,json:{write:!0}})],A.prototype,"inputMethod",void 0),(0,o._)([(0,a.MZ)({type:Number,json:{write:!0}})],A.prototype,"maxImageSize",void 0);let T=A=(0,o._)([(0,u.$)("esri.form.elements.inputs.attachments.ImageInput")],A),x=class extends g{constructor(t){super(t),this.type="signature",this.inputMethod="any"}};(0,o._)([(0,a.MZ)({type:["signature"],readOnly:!0,json:{write:!0}})],x.prototype,"type",void 0),(0,o._)([(0,a.MZ)({type:v,json:{write:!0}})],x.prototype,"inputMethod",void 0);let E=x=(0,o._)([(0,u.$)("esri.form.elements.inputs.attachments.SignatureInput")],x),I=class extends g{constructor(t){super(t),this.type="video",this.inputMethod="any",this.maxDuration=null}};(0,o._)([(0,a.MZ)({type:["video"],readOnly:!0,json:{write:!0}})],I.prototype,"type",void 0),(0,o._)([(0,a.MZ)({type:v,json:{write:!0}})],I.prototype,"inputMethod",void 0),(0,o._)([(0,a.MZ)({type:Number,json:{write:!0}})],I.prototype,"maxDuration",void 0);let C=I=(0,o._)([(0,u.$)("esri.form.elements.inputs.attachments.VideoInput")],I);function R(t){return{nestableTypes:{base:g,key:"type",typeMap:{audio:b,document:S,image:T,signature:E,video:C}},allTypes:{base:g,key:"type",typeMap:{attachment:t,audio:b,document:S,image:T,signature:E,video:C}}}}let O=class extends g{constructor(t){super(t),this.type="attachment",this.attachmentAssociationType="exact",this.inputTypes=null}castInputs(t){return t?t.map(t=>(0,_.aq)((0,P.nestableTypes),t)):null}readInputs(t,r){return function(t,r,i){if(!t)return null;let s=i?r.nestableTypes.typeMap:r.allTypes.typeMap;return t.filter(t=>s[t.type]).map(t=>s[t.type].fromJSON(t))}(r.inputTypes,P,!0)}writeInputs(t,r){r.inputTypes=function(t,r,i){if(!t)return null;let s=i?r.nestableTypes.typeMap:r.allTypes.typeMap;return t.filter(t=>s[t.type]).map(t=>t.toJSON())}(t,P,!0)}};(0,o._)([(0,a.MZ)({type:["attachment"],readOnly:!0,json:{write:!0}})],O.prototype,"type",void 0),(0,o._)([(0,a.MZ)({type:["any","exact","exactOrNone"],json:{write:!0}})],O.prototype,"attachmentAssociationType",void 0),(0,o._)([(0,a.MZ)({json:{write:{isRequired:!0}}})],O.prototype,"inputTypes",void 0),(0,o._)([(0,c.w)("inputTypes")],O.prototype,"castInputs",null),(0,o._)([(0,p.w)("inputTypes")],O.prototype,"readInputs",null),(0,o._)([(0,h.K)("inputTypes")],O.prototype,"writeInputs",null);let P=R(O=(0,o._)([(0,u.$)("esri.form.elements.inputs.attachments.AttachmentInput")],O)),N=R(O),k=s=class extends d.A{constructor(t){super(t),this.allowUserRename=!0,this.attachmentKeyword=null,this.displayFilename=!1,this.editableExpression=null,this.filenameExpression="{attachmentKeyword}_{now}",this.input=null,this.maxAttachmentCount=null,this.minAttachmentCount=null,this.type="attachment",this.useOriginalFilename=!0}clone(){return new s({allowUserRename:this.allowUserRename,attachmentKeyword:this.attachmentKeyword,description:this.description,displayFilename:this.displayFilename,editableExpression:this.editableExpression,filenameExpression:this.filenameExpression,input:this.input?.clone(),label:this.label,maxAttachmentCount:this.maxAttachmentCount,minAttachmentCount:this.minAttachmentCount,useOriginalFilename:this.useOriginalFilename,visibilityExpression:this.visibilityExpression})}};(0,o._)([(0,a.MZ)({type:Boolean,json:{write:!0}})],k.prototype,"allowUserRename",void 0),(0,o._)([(0,a.MZ)({type:String,json:{write:{isRequired:!0}}})],k.prototype,"attachmentKeyword",void 0),(0,o._)([(0,a.MZ)({type:Boolean,json:{write:!0}})],k.prototype,"displayFilename",void 0),(0,o._)([(0,a.MZ)({type:String,json:{write:!0}})],k.prototype,"editableExpression",void 0),(0,o._)([(0,a.MZ)({type:String,json:{write:!0}})],k.prototype,"filenameExpression",void 0),(0,o._)([(0,a.MZ)({types:N.allTypes,json:{read:{source:"inputType"},write:{target:"inputType",isRequired:!0}}})],k.prototype,"input",void 0),(0,o._)([(0,a.MZ)({type:Number,json:{write:!0}})],k.prototype,"maxAttachmentCount",void 0),(0,o._)([(0,a.MZ)({type:Number,json:{write:!0}})],k.prototype,"minAttachmentCount",void 0),(0,o._)([(0,a.MZ)({type:["attachment"],readOnly:!0,json:{read:!1,write:!0}})],k.prototype,"type",void 0),(0,o._)([(0,a.MZ)({type:Boolean,json:{write:!0}})],k.prototype,"useOriginalFilename",void 0);let L=k=s=(0,o._)([(0,u.$)("esri.form.elements.AttachmentElement")],k)},59630:(t,r,i)=>{i.d(r,{A:()=>w});var s,o,a=i(81856),u=i(91838);i(57845),i(61939),i(33638);var d=i(12709),c=i(86926),p=i(92713),h=i(86942),f=i(53480),y=i(7780),m=i(24860);let g=s=class extends p.A{constructor(t){super(t),this.label=null,this.opacity=null,this.value=null}readOpacity(t,r){return(0,m.D)(r.transparency)}writeOpacity(t,r,i){r[i]=(0,m.p)(t)}clone(){return new s({label:this.label,opacity:this.opacity,value:this.value})}};(0,a._)([(0,u.MZ)({type:String,json:{write:!0}})],g.prototype,"label",void 0),(0,a._)([(0,u.MZ)({type:Number,json:{type:h.jz,write:{target:"transparency",isRequired:!0}}})],g.prototype,"opacity",void 0),(0,a._)([(0,f.w)("opacity",["transparency"])],g.prototype,"readOpacity",null),(0,a._)([(0,y.K)("opacity")],g.prototype,"writeOpacity",null),(0,a._)([(0,u.MZ)({type:Number,json:{write:{isRequired:!0}}})],g.prototype,"value",void 0);let _=g=s=(0,a._)([(0,d.$)("esri.renderers.visualVariables.support.OpacityStop")],g),v=o=class extends c.A{constructor(t){super(t),this.type="opacity",this.normalizationField=null}get cache(){return{ipData:this._interpolateData(),hasExpression:!!this.valueExpression,compiledFunc:null}}set stops(t){t&&Array.isArray(t)&&(t=t.filter(t=>!!t)).sort((t,r)=>t.value-r.value),this._set("stops",t)}clone(){return new o({field:this.field,normalizationField:this.normalizationField,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,stops:this.stops&&this.stops.map(t=>t.clone()),legendOptions:this.legendOptions?.clone()})}getAttributeHash(){return`${super.getAttributeHash()}-${this.normalizationField}`}_interpolateData(){return this.stops&&this.stops.map(t=>t.value||0)}};(0,a._)([(0,u.MZ)({readOnly:!0})],v.prototype,"cache",null),(0,a._)([(0,u.MZ)({type:["opacity"],json:{type:["transparencyInfo"]}})],v.prototype,"type",void 0),(0,a._)([(0,u.MZ)({type:String,json:{write:!0}})],v.prototype,"normalizationField",void 0),(0,a._)([(0,u.MZ)({type:[_],json:{write:!0}})],v.prototype,"stops",null);let w=v=o=(0,a._)([(0,d.$)("esri.renderers.visualVariables.OpacityVariable")],v)},59879:(t,r,i)=>{i.d(r,{Ye:()=>f,gy:()=>h,yR:()=>y});var s=i(30781),o=i(61414),a=i(88070),u=i(147),d=i(39960),c=i(87960),p=i(65442);let h=(0,s.O)()({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon"}),f=(0,s.O)()({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryEnvelope:"extent",mesh:"mesh"}),y={base:a.A,key:"type",typeMap:{extent:o.A,multipoint:u.A,point:d.A,polyline:p.A,polygon:c.A}}},59983:(t,r,i)=>{i.d(r,{Ey:()=>O,F8:()=>R,J2:()=>E,Yq:()=>I,_v:()=>S,iS:()=>C,wj:()=>P});var s=i(30781),o=i(28105),a=i(93682);i(90628);var u=i(29593);let d={year:void 0,month:void 0,day:void 0,weekday:void 0},c={hour:void 0,minute:void 0,second:void 0},p={timeZone:a.n$},h={year:"numeric",month:"numeric",day:"numeric"},f={year:"numeric",month:"long",day:"numeric"},y={year:"numeric",month:"short",day:"numeric"},m={year:"numeric",month:"long",weekday:"long",day:"numeric"},g={hour:"numeric",minute:"numeric"},_={...g,second:"numeric"},v={hourCycle:"h23"},w={...g,...v},b={..._,...v},M={"short-date":h,"short-date-short-time":{...h,...g},"short-date-short-time-24":{...h,...w},"short-date-long-time":{...h,..._},"short-date-long-time-24":{...h,...b},"short-date-le":h,"short-date-le-short-time":{...h,...g},"short-date-le-short-time-24":{...h,...w},"short-date-le-long-time":{...h,..._},"short-date-le-long-time-24":{...h,...b},"long-month-day-year":f,"long-month-day-year-short-time":{...f,...g},"long-month-day-year-short-time-24":{...f,...w},"long-month-day-year-long-time":{...f,..._},"long-month-day-year-long-time-24":{...f,...b},"day-short-month-year":y,"day-short-month-year-short-time":{...y,...g},"day-short-month-year-short-time-24":{...y,...w},"day-short-month-year-long-time":{...y,..._},"day-short-month-year-long-time-24":{...y,...b},"long-date":m,"long-date-short-time":{...m,...g},"long-date-short-time-24":{...m,...w},"long-date-long-time":{...m,..._},"long-date-long-time-24":{...m,...b},"long-month-year":{month:"long",year:"numeric"},"short-month-year":{month:"short",year:"numeric"},year:{year:"numeric"},"short-time":g,"long-time":_},S=(0,s.O)()({shortDate:"short-date",shortDateShortTime:"short-date-short-time",shortDateShortTime24:"short-date-short-time-24",shortDateLongTime:"short-date-long-time",shortDateLongTime24:"short-date-long-time-24",shortDateLE:"short-date-le",shortDateLEShortTime:"short-date-le-short-time",shortDateLEShortTime24:"short-date-le-short-time-24",shortDateLELongTime:"short-date-le-long-time",shortDateLELongTime24:"short-date-le-long-time-24",longMonthDayYear:"long-month-day-year",longMonthDayYearShortTime:"long-month-day-year-short-time",longMonthDayYearShortTime24:"long-month-day-year-short-time-24",longMonthDayYearLongTime:"long-month-day-year-long-time",longMonthDayYearLongTime24:"long-month-day-year-long-time-24",dayShortMonthYear:"day-short-month-year",dayShortMonthYearShortTime:"day-short-month-year-short-time",dayShortMonthYearShortTime24:"day-short-month-year-short-time-24",dayShortMonthYearLongTime:"day-short-month-year-long-time",dayShortMonthYearLongTime24:"day-short-month-year-long-time-24",longDate:"long-date",longDateShortTime:"long-date-short-time",longDateShortTime24:"long-date-short-time-24",longDateLongTime:"long-date-long-time",longDateLongTime24:"long-date-long-time-24",longMonthYear:"long-month-year",shortMonthYear:"short-month-year",year:"year"}),A={ar:"ar-u-nu-latn-ca-gregory"},T=new WeakMap,x=M["short-date-short-time"];function E(t){return M[t]}function I(t,r=x){return(function(t){let r=T.get(t);if(!r){let i=(0,o.JK)(),s=A[i]||i,u=P(t.timeZone??a.qU),d={...t,timeZone:u};r=new Intl.DateTimeFormat(s,d),T.set(t,r)}return r})(r).format(t)}function C(t,r=x){return I(new Date(t),{...r,...p,...c})}function R(t,r=x){return I(new Date(`1970-01-01T${t}Z`),{...r,...p,...d})}function O(t,r=x){if(r.timeZone)return I(new Date(t),r);let i=u.c9.fromISO(t,{setZone:!0}),s=(0,o.JK)(),d=A[s]??s,c=0===i.offset?a.n$:r.timeZone,p={...r,timeZone:c};return i.toLocaleString(p,{locale:d})}function P(t){switch(t){case a.qU:return a.N5;case a.L5:return a.n$;default:return t}}(0,o.Ml)(()=>{T=new WeakMap})},59988:(t,r,i)=>{i.d(r,{A:()=>h});var s=i(81856),o=i(54335),a=i(45257),u=i(91838),d=i(12709),c=i(17058);let p=class extends o.A{constructor(t){super(t),this.getCollections=null}initialize(){this.addHandles((0,c.fm)(()=>this._refresh(),a.OH))}destroy(){this.getCollections=null}_refresh(){let t=null!=this.getCollections?this.getCollections():null;if(null==t)return void this.removeAll();let r=0;for(let i of t)null!=i&&(r=this._processCollection(r,i));this.splice(r,this.length)}_createNewInstance(t){return new o.A(t)}_processCollection(t,r){if(!r)return t;let i=this.itemFilterFunction??(t=>!!t);for(let s of r)if(s){if(i(s)){let r=this.indexOf(s,t);r>=0?r!==t&&this.reorder(s,t):this.add(s,t),++t}if(this.getChildrenFunction){let r=this.getChildrenFunction(s);if(Array.isArray(r))for(let i of r)t=this._processCollection(t,i);else t=this._processCollection(t,r)}}return t}};(0,s._)([(0,u.MZ)()],p.prototype,"getCollections",void 0),(0,s._)([(0,u.MZ)()],p.prototype,"getChildrenFunction",void 0),(0,s._)([(0,u.MZ)()],p.prototype,"itemFilterFunction",void 0);let h=p=(0,s._)([(0,d.$)("esri.core.CollectionFlattener")],p)},60028:(t,r,i)=>{i.d(r,{bv:()=>g,Fk:()=>_,yG:()=>v,$b:()=>w,Nd:()=>b,jm:()=>M,sK:()=>A});var s=i(50737),o=i(55048);function a(){let t=new Float32Array(16);return t[0]=1,t[5]=1,t[10]=1,t[15]=1,t}Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:a(),clone:function(t){let r=new Float32Array(16);return r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=t[3],r[4]=t[4],r[5]=t[5],r[6]=t[6],r[7]=t[7],r[8]=t[8],r[9]=t[9],r[10]=t[10],r[11]=t[11],r[12]=t[12],r[13]=t[13],r[14]=t[14],r[15]=t[15],r},create:a,createView:function(t,r){return new Float32Array(t,r,16)},fromValues:function(t,r,i,s,o,a,u,d,c,p,h,f,y,m,g,_){let v=new Float32Array(16);return v[0]=t,v[1]=r,v[2]=i,v[3]=s,v[4]=o,v[5]=a,v[6]=u,v[7]=d,v[8]=c,v[9]=p,v[10]=h,v[11]=f,v[12]=y,v[13]=m,v[14]=g,v[15]=_,v}},Symbol.toStringTag,{value:"Module"}));var u=i(40998);let d=(t,r)=>{let i=(0,u.hZ)(t,r,0,0,0,0,r,0,0,0,0,r,0,0,0,0,1);return(0,u.mg)(i,i)},c=(t,r)=>{let i=(0,u.hZ)(t,r,0,0,.5-.5*r,0,r,0,.5-.5*r,0,0,r,.5-.5*r,0,0,0,1);return(0,u.mg)(i,i)},p=(t,r)=>{let i=1-r,s=(0,u.hZ)(t,.2126+.7874*i,.7152-.7152*i,.0722-.0722*i,0,.2126-.2126*i,.7152+.2848*i,.0722-.0722*i,0,.2126-.2126*i,.7152-.7152*i,.0722+.9278*i,0,0,0,0,1);return(0,u.mg)(s,s)},h=(t,r)=>{let i=Math.sin(r*Math.PI/180),s=Math.cos(r*Math.PI/180),o=(0,u.hZ)(t,.213+.787*s-.213*i,.715-.715*s-.715*i,.072-.072*s+.928*i,0,.213-.213*s+.143*i,.715+.285*s+.14*i,.072-.072*s-.283*i,0,.213-.213*s-.787*i,.715-.715*s+.715*i,.072+.928*s+.072*i,0,0,0,0,1);return(0,u.mg)(o,o)},f=(t,r)=>{let i=1-2*r,s=(0,u.hZ)(t,i,0,0,r,0,i,0,r,0,0,i,r,0,0,0,1);return(0,u.mg)(s,s)},y=(t,r)=>{let i=(0,u.hZ)(t,.213+.787*r,.715-.715*r,.072-.072*r,0,.213-.213*r,.715+.285*r,.072-.072*r,0,.213-.213*r,.715-.715*r,.072+.928*r,0,0,0,0,1);return(0,u.mg)(i,i)},m=(t,r)=>{let i=1-r,s=(0,u.hZ)(t,.393+.607*i,.769-.769*i,.189-.189*i,0,.349-.349*i,.686+.314*i,.168-.168*i,0,.272-.272*i,.534-.534*i,.131+.869*i,0,0,0,0,1);return(0,u.mg)(s,s)};class g{constructor(t,r,i){this.strength=t,this.radius=r,this.threshold=i,this.type="bloom"}interpolate(t,r,i){var s,o,a,u,d,c;this.strength=(s=t.strength,o=r.strength,s+(o-s)*i),this.radius=(a=t.radius,u=r.radius,a+(u-a)*i),this.threshold=(d=t.threshold,c=r.threshold,d+(c-d)*i)}clone(){return new g(this.strength,this.radius,this.threshold)}toJSON(){return{type:"bloom",radius:S(this.radius),strength:this.strength,threshold:this.threshold}}}class _{constructor(t){this.radius=t,this.type="blur"}interpolate(t,r,i){var s,o;this.radius=Math.round((s=t.radius,o=r.radius,s+(o-s)*i))}clone(){return new _(this.radius)}toJSON(){return{type:"blur",radius:S(this.radius)}}}class v{constructor(t,r){this.type=t,this.amount=r,"invert"!==this.type&&"grayscale"!==this.type&&"sepia"!==this.type||(this.amount=Math.min(this.amount,1))}get colorMatrix(){return this._colorMatrix||this._updateMatrix(),this._colorMatrix}interpolate(t,r,i){var s,o;this.amount=(s=t.amount,o=r.amount,s+(o-s)*i),this._updateMatrix()}clone(){return new v(this.type,this.amount)}toJSON(){return{type:this.type,amount:this.amount}}_updateMatrix(){let t=this._colorMatrix||a();switch(this.type){case"brightness":this._colorMatrix=d(t,this.amount);break;case"contrast":this._colorMatrix=c(t,this.amount);break;case"grayscale":this._colorMatrix=p(t,this.amount);break;case"invert":this._colorMatrix=f(t,this.amount);break;case"saturate":this._colorMatrix=y(t,this.amount);break;case"sepia":this._colorMatrix=m(t,this.amount)}}}class w{constructor(t,r,i,s){this.offsetX=t,this.offsetY=r,this.blurRadius=i,this.color=s,this.type="drop-shadow"}interpolate(t,r,i){var s,o,a,u,d,c,p,h,f,y,m,g,_,v;this.offsetX=(s=t.offsetX,o=r.offsetX,s+(o-s)*i),this.offsetY=(a=t.offsetY,u=r.offsetY,a+(u-a)*i),this.blurRadius=(d=t.blurRadius,c=r.blurRadius,d+(c-d)*i),this.color[0]=Math.round((p=t.color[0],h=r.color[0],p+(h-p)*i)),this.color[1]=Math.round((f=t.color[1],y=r.color[1],f+(y-f)*i)),this.color[2]=Math.round((m=t.color[2],g=r.color[2],m+(g-m)*i)),this.color[3]=(_=t.color[3],v=r.color[3],_+(v-_)*i)}clone(){return new w(this.offsetX,this.offsetY,this.blurRadius,[...this.color])}toJSON(){let t=[...this.color];return t[3]*=255,{type:"drop-shadow",xoffset:S(this.offsetX),yoffset:S(this.offsetY),blurRadius:S(this.blurRadius),color:t}}}class b{constructor(t){this.angle=t,this.type="hue-rotate"}get colorMatrix(){return this._colorMatrix||this._updateMatrix(),this._colorMatrix}interpolate(t,r,i){var s,o;this.angle=(s=t.angle,o=r.angle,s+(o-s)*i),this._updateMatrix()}clone(){return new b(this.angle)}toJSON(){return{type:"hue-rotate",angle:this.angle}}_updateMatrix(){let t=this._colorMatrix||a();this._colorMatrix=h(t,this.angle)}}class M{constructor(t){this.amount=t,this.type="opacity",this.amount=Math.min(this.amount,1)}interpolate(t,r,i){var s,o;this.amount=(s=t.amount,o=r.amount,s+(o-s)*i)}clone(){return new M(this.amount)}toJSON(){return{type:"opacity",amount:this.amount}}}function S(t){return Math.round(1e3*(0,o.PN)(t))/1e3}function A(t){switch(t.type){case"grayscale":case"sepia":case"invert":return new v(t.type,0);case"saturate":case"brightness":case"contrast":return new v(t.type,1);case"opacity":return new M(1);case"hue-rotate":return new b(0);case"blur":return new _(0);case"drop-shadow":return new w(0,0,0,[...(0,s.TS)("transparent")]);case"bloom":return new g(0,0,1)}}},60236:(t,r,i)=>{i.d(r,{A:()=>p});var s,o=i(81856),a=i(91838);i(57845),i(61939),i(33638);var u=i(12709),d=i(5741);let c=s=class extends d.A{constructor(t){super(t),this.text=null,this.type="text"}clone(){return new s({text:this.text})}};(0,o._)([(0,a.MZ)({type:String,json:{write:!0}})],c.prototype,"text",void 0),(0,o._)([(0,a.MZ)({type:["text"],readOnly:!0,json:{read:!1,write:{isRequired:!0}}})],c.prototype,"type",void 0);let p=c=s=(0,o._)([(0,u.$)("esri.popup.content.TextContent")],c)},60349:(t,r,i)=>{i.d(r,{d:()=>u});var s=i(81856),o=i(91838);i(57845),i(61939),i(33638);var a=i(12709);let u=t=>{let r=class extends t{constructor(){super(...arguments),this.customParameters=null}};return(0,s._)([(0,o.MZ)({type:Object,json:{write:{overridePolicy:t=>({enabled:!!(t&&Object.keys(t).length>0)})}}})],r.prototype,"customParameters",void 0),r=(0,s._)([(0,a.$)("esri.layers.mixins.CustomParametersMixin")],r)}},60470:(t,r,i)=>{i.d(r,{$3:()=>_,$H:()=>g,$K:()=>u,B1:()=>p,It:()=>A,JM:()=>S,Ng:()=>f,R3:()=>d,Yl:()=>m,_7:()=>M,gR:()=>h,m3:()=>b,t9:()=>y,uC:()=>w});var s=i(31461),o=i(97067),a=i(71760);function u(t){if(!t)return null;if(Array.isArray(t))return t;let r=t.hasZ,i=t.hasM;if("point"===t.type)return i&&r?[t.x,t.y,t.z,t.m]:r?[t.x,t.y,t.z]:i?[t.x,t.y,t.m]:[t.x,t.y];if("polygon"===t.type)return t.rings.slice();if("polyline"===t.type)return t.paths.slice();if("multipoint"===t.type)return t.points.slice();if("extent"===t.type){let r=t.clone().normalize();if(!r)return null;let i=!1,s=!1;return r.forEach(t=>{t.hasZ&&(i=!0),t.hasM&&(s=!0)}),r.map(t=>{let r=[[t.xmin,t.ymin],[t.xmin,t.ymax],[t.xmax,t.ymax],[t.xmax,t.ymin],[t.xmin,t.ymin]];if(i&&t.hasZ){let i=.5*(t.zmax-t.zmin);for(let t=0;t<r.length;t++)r[t].push(i)}if(s&&t.hasM){let i=.5*(t.mmax-t.mmin);for(let t=0;t<r.length;t++)r[t].push(i)}return r})}return null}function d(t,r){let i=r[0]-t[0],s=r[1]-t[1];if(t.length>2&&r.length>2){let o=t[2]-r[2];return Math.sqrt(i*i+s*s+o*o)}return Math.sqrt(i*i+s*s)}function c(t,r,i){let s=t[0]+i*(r[0]-t[0]),o=t[1]+i*(r[1]-t[1]);return t.length>2&&r.length>2?[s,o,t[2]+i*(r[2]-t[2])]:[s,o]}function p(t,r,i,s){return h(t,r,i[s],i[s+1])}function h(t,r,i,s){let[o,a]=r,[u,d]=i,[c,p]=s,h=c-u,f=p-d,y=Math.min(1,Math.max(0,((o-u)*h+(a-d)*f)/(h*h+f*f)));return t[0]=u+h*y,t[1]=d+f*y,t}function f(t,r,i,s,o,a){let u=i,d=s,c=o-u,p=a-d;if(0!==c||0!==p){let i=((t-u)*c+(r-d)*p)/(c*c+p*p);i>1?(u=o,d=a):i>0&&(u+=c*i,d+=p*i)}return(c=t-u)*c+(p=r-d)*p}function y(t,r){return c(t,r,.5)}function m(t){let r=t.length,i=0;for(let s=0;s<r-1;++s)i+=d(t[s],t[s+1]);return i}function g(t,r){if(r<=0)return t[0];let i=t.length,s=0;for(let o=0;o<i-1;++o){let i=d(t[o],t[o+1]);if(r-s<i){let a=(r-s)/i;return c(t[o],t[o+1],a)}s+=i}return t[i-1]}function _(t,r=o._.X,i=o._.Y){let s=0,a=t.length,u=t[0];for(let o=1;o<a;o++){let a=t[o];s+=(a[r]-u[r])*(a[i]+u[i]),u=a}if(!v(t)){let o=t[0];s+=(o[r]-u[r])*(o[i]+u[i])}return s>=0}function v(t){let r=t.length;return r<3||(0,s.aI)(t[0],t[r-1])}function w(t){"rings"in t&&(b(t),function(t){if(!(!("rings"in t)||0===t.rings.length||_(t.rings[0])))for(let r of t.rings)r.reverse()}(t))}function b(t){if(!("rings"in t))return!1;let r=!1;for(let i of t.rings)v(i)||(i.push(i[0].slice()),r=!0);return r}function M(t){return"polygon"!==t.type&&"polyline"!==t.type||S("polygon"===t.type?t.rings:t.paths,t.spatialReference),t}function S(t,r){let i=(0,a.Vp)(r);if(!i)return;let s=i.valid[0],o=i.valid[1],u=o-s;for(let r of t){let t=1/0,i=-1/0;for(let a of r){let r=function(t,r,i){let s=i-r;return t<r?i-(r-t)%s:t>i?r+(t-r)%s:t}(a[0],s,o);t=Math.min(t,r),i=Math.max(i,r),a[0]=r}let a=i-t;u-a<a&&r.forEach(t=>{t[0]<0&&(t[0]+=u)})}}function A(t,r){if(t===r)return!0;if(t.type!==r.type)return!1;if("point"===t.type||"mesh"===t.type||"extent"===t.type)return!0;if("multipoint"===t.type)return t.points.length===r.points.length;let[i,s]="polyline"===t.type?[t.paths,r.paths]:[t.rings,r.rings];return i.length===s.length&&i.every((t,r)=>t.length===s[r].length)}},60733:(t,r,i)=>{i.d(r,{A:()=>y});var s=i(81856),o=i(70152),a=i(92713),u=i(33715),d=i(55048),c=i(91838);i(57845),i(61939);var p=i(12709),h=i(37211);let f=class extends a.A{constructor(t){super(t),this.color=new o.A([0,0,0,1]),this.extensionLength=0,this.size=(0,d.PN)(1)}clone(){}cloneProperties(){return{color:(0,u.o8)(this.color),size:this.size,extensionLength:this.extensionLength}}};(0,s._)([(0,c.MZ)({type:["solid","sketch"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0,isRequired:!0}}})],f.prototype,"type",void 0),(0,s._)([(0,c.MZ)((0,h.E)({colorRequiredOnWrite:!0}))],f.prototype,"color",void 0),(0,s._)([(0,c.MZ)({...h.p,json:{write:{overridePolicy:t=>({enabled:!!t})}}})],f.prototype,"extensionLength",void 0),(0,s._)([(0,c.MZ)(h.p)],f.prototype,"size",void 0);let y=f=(0,s._)([(0,p.$)("esri.symbols.edges.Edges3D")],f)},61096:(t,r,i)=>{i.d(r,{H:()=>a,V:()=>o});var s=i(54335);function o(t,r,i=s.A){var a;return r||(r=new i),r===t||(r.removeAll(),(a=t)&&(Array.isArray(a)||"items"in a&&Array.isArray(a.items))?r.addMany(t):t&&r.add(t)),r}function a(t){return t}},61192:(t,r,i)=>{i.d(r,{q:()=>p});var s=i(50737),o=i(32391),a=i(60028),u=i(18876);function d(t,r,i,s){var o=Error.call(this,t);return Object.setPrototypeOf&&Object.setPrototypeOf(o,d.prototype),o.expected=r,o.found=i,o.location=s,o.name="SyntaxError",o}function c(t,r,i){return i=i||" ",t.length>r?t:(r-=t.length,t+(i+=i.repeat(r)).slice(0,r))}function p(t){if(!t||0===t.length)return null;if("string"==typeof t){let r=h(t);return r&&0!==r.length?r:null}let r=t.map(t=>{if(!Number.isFinite(t.scale)||t.scale<=0)throw new o.A("effect:invalid-scale","scale must be finite and greater than 0",{stop:t});return{scale:t.scale,effects:h(t.value)}});r.sort((t,r)=>r.effects.length-t.effects.length);for(let t=0;t<r.length-1;t++){if(!(0,u.mj)(r[t].effects,r[t+1].effects))throw new o.A("effect:interpolation-impossible","Cannot interpolate by scale between 2 lists of mixed effects",{a:r[t].effects,b:r[t+1].effects});(0,u.O9)(r[t].effects,r[t+1].effects)}return r.sort((t,r)=>r.scale-t.scale),r}function h(t){let r;if(!t)return[];try{r=function(t,r){var i,s,o,a,u,c,p,h,f,y={},m=(r=void 0!==r?r:{}).grammarSource,g={start:eg},_=eg,v="none",w="grad",b="turn",M=/^[ \t\n\r]/,S=/^[a-z\-]/,A=/^[0-9a-fA-F]/,T=/^[+\-]/,x=/^[0-9]/,E=ef("none"),I=ep("none",!1),C=ep(")",!1),R=ep(",",!1),O=ef("whitespace"),P=eh([" ","	","\n","\r"],!1,!1),N=ef("function"),k=ep("(",!1),L=ef("identifier"),F=eh([["a","z"],"-"],!1,!1),Z=ef("percentage"),D=ep("%",!1),j=ef("length"),U=ep("px",!1),V=ep("cm",!1),z=ep("mm",!1),G=ep("in",!1),$=ep("pt",!1),B=ep("pc",!1),q=ef("angle"),H=ep("deg",!1),W=ep("rad",!1),J=ep("grad",!1),K=ep("turn",!1),Y=ef("number"),X=ef("color"),Q=ep("#",!1),ee=eh([["0","9"],["a","f"],["A","F"]],!1,!1),et=eh(["+","-"],!1,!1),er=eh([["0","9"]],!1,!1),ei=ep(".",!1),en=ep("e",!1),es=0|r.peg$currPos,eo=es,ea=[{line:1,column:1}],el=es,eu=r.peg$maxFailExpected||[],ed=0|r.peg$silentFails;if(r.startRule){if(!(r.startRule in g))throw Error("Can't start parsing from rule \""+r.startRule+'".');_=g[r.startRule]}function ec(){return t.substring(eo,es)}function ep(t,r){return{type:"literal",text:t,ignoreCase:r}}function eh(t,r,i){return{type:"class",parts:t,inverted:r,ignoreCase:i}}function ef(t){return{type:"other",description:t}}function ey(r){var i,s=ea[r];if(s)return s;if(r>=ea.length)i=ea.length-1;else for(i=r;!ea[--i];);for(s={line:(s=ea[i]).line,column:s.column};i<r;)10===t.charCodeAt(i)?(s.line++,s.column=1):s.column++,i++;return ea[r]=s,s}function em(t){es<el||(es>el&&(el=es,eu=[]),eu.push(t))}function eg(){var r,i,s;return ed++,i=es,ew(),t.substr(es,4)===v?(s=v,es+=4):(s=y,0===ed&&em(I)),s!==y?(ew(),eo=i,i=[]):(es=i,i=y),ed--,i===y&&0===ed&&em(E),(r=i)===y&&(r=function(){var t,r;if(t=[],(r=e_())!==y)for(;r!==y;)t.push(r),r=e_();else t=y;return t}()),r}function e_(){var r,i,s,o,a,u,d;return r=es,ew(),(ed++,a=es,(u=eb())!==y?(40===t.charCodeAt(es)?(d="(",es++):(d=y,0===ed&&em(k)),d!==y?(eo=a,a=u):(es=a,a=y)):(es=a,a=y),ed--,a===y&&(u=y,0===ed&&em(N)),(i=a)!==y)?(ew(),(s=function(){var r,i,s,o,a,u,d,c;if(r=es,(i=ev())!==y){for(s=[],o=es,a=ew(),44===t.charCodeAt(es)?(u=",",es++):(u=y,0===ed&&em(R)),u===y&&(u=null),d=ew(),(c=ev())!==y?o=a=[a,u,d,c]:(es=o,o=y);o!==y;)s.push(o),o=es,a=ew(),44===t.charCodeAt(es)?(u=",",es++):(u=y,0===ed&&em(R)),u===y&&(u=null),d=ew(),(c=ev())!==y?o=a=[a,u,d,c]:(es=o,o=y);eo=r,r=s.length>0?function(t,r,i){return[t].concat(r.map(function(t){return t[i]}))}(i,s,3):[i]}else es=r,r=y;return r}())===y&&(s=null),ew(),41===t.charCodeAt(es)?(o=")",es++):(o=y,0===ed&&em(C)),o!==y?(ew(),eo=r,r={type:"function",name:i,parameters:s||[]}):(es=r,r=y)):(es=r,r=y),r}function ev(){var r,i,s,o,a,u,d,c,p,h,f,m,g,_,v;return r=es,ed++,a=es,ew(),(u=eM())!==y?(37===t.charCodeAt(es)?(d="%",es++):(d=y,0===ed&&em(D)),d!==y?(eo=a,a={value:u,unit:"%"}):(es=a,a=y)):(es=a,a=y),ed--,a===y&&0===ed&&em(Z),(i=a)===y&&(ed++,c=es,ew(),(p=eM())!==y?("px"===t.substr(es,2)?(h="px",es+=2):(h=y,0===ed&&em(U)),h!==y?(eo=c,c={value:p,unit:"px"}):(es=c,c=y)):(es=c,c=y),c===y&&(c=es,ew(),(p=eM())!==y?("cm"===t.substr(es,2)?(h="cm",es+=2):(h=y,0===ed&&em(V)),h!==y?(eo=c,c={value:p,unit:"cm"}):(es=c,c=y)):(es=c,c=y),c===y&&(c=es,ew(),(p=eM())!==y?("mm"===t.substr(es,2)?(h="mm",es+=2):(h=y,0===ed&&em(z)),h!==y?(eo=c,c={value:p,unit:"mm"}):(es=c,c=y)):(es=c,c=y),c===y&&(c=es,ew(),(p=eM())!==y?("in"===t.substr(es,2)?(h="in",es+=2):(h=y,0===ed&&em(G)),h!==y?(eo=c,c={value:p,unit:"in"}):(es=c,c=y)):(es=c,c=y),c===y&&(c=es,ew(),(p=eM())!==y?("pt"===t.substr(es,2)?(h="pt",es+=2):(h=y,0===ed&&em($)),h!==y?(eo=c,c={value:p,unit:"pt"}):(es=c,c=y)):(es=c,c=y),c===y&&(c=es,ew(),(p=eM())!==y?("pc"===t.substr(es,2)?(h="pc",es+=2):(h=y,0===ed&&em(B)),h!==y?(eo=c,c={value:p,unit:"pc"}):(es=c,c=y)):(es=c,c=y)))))),ed--,c===y&&0===ed&&em(j),(i=c)===y)&&(ed++,f=es,(m=eM())!==y?("deg"===t.substr(es,3)?(g="deg",es+=3):(g=y,0===ed&&em(H)),g!==y?(eo=f,f={value:m,unit:"deg"}):(es=f,f=y)):(es=f,f=y),f===y&&(f=es,(m=eM())!==y?("rad"===t.substr(es,3)?(g="rad",es+=3):(g=y,0===ed&&em(W)),g!==y?(eo=f,f={value:m,unit:"rad"}):(es=f,f=y)):(es=f,f=y),f===y&&(f=es,(m=eM())!==y?(t.substr(es,4)===w?(g=w,es+=4):(g=y,0===ed&&em(J)),g!==y?(eo=f,f={value:m,unit:"grad"}):(es=f,f=y)):(es=f,f=y),f===y&&(f=es,(m=eM())!==y?(t.substr(es,4)===b?(g=b,es+=4):(g=y,0===ed&&em(K)),g!==y?(eo=f,f={value:m,unit:"turn"}):(es=f,f=y)):(es=f,f=y)))),ed--,f===y&&(m=y,0===ed&&em(q)),(i=f)===y)&&(ed++,_=es,ew(),(v=eM())!==y?(eo=_,_={value:v,unit:null}):(es=_,_=y),ed--,_===y&&0===ed&&em(Y),i=_),i!==y&&(eo=r,i={type:"quantity",value:(s=i).value,unit:s.unit}),(r=i)===y&&(r=es,(i=function(){var r,i,s,o;if(ed++,r=es,35===t.charCodeAt(es)?(i="#",es++):(i=y,0===ed&&em(Q)),i!==y){if(s=[],o=t.charAt(es),A.test(o)?es++:(o=y,0===ed&&em(ee)),o!==y)for(;o!==y;)s.push(o),o=t.charAt(es),A.test(o)?es++:(o=y,0===ed&&em(ee));else s=y;s!==y?(eo=r,r={type:"hex",value:ec()}):(es=r,r=y)}else es=r,r=y;return r===y&&(r=es,(i=e_())!==y&&(eo=r,i={type:"function",value:i}),(r=i)===y&&(r=es,(i=eb())!==y&&(eo=r,i={type:"named",value:ec()}),r=i)),ed--,r===y&&(i=y,0===ed&&em(X)),r}())!==y&&(eo=r,i={type:"color",colorType:(o=i).type,value:o.value}),r=i),r}function ew(){var r,i;for(ed++,r=[],i=t.charAt(es),M.test(i)?es++:(i=y,0===ed&&em(P));i!==y;)r.push(i),i=t.charAt(es),M.test(i)?es++:(i=y,0===ed&&em(P));return ed--,i=y,0===ed&&em(O),r}function eb(){var r,i,s;if(ed++,r=es,i=[],s=t.charAt(es),S.test(s)?es++:(s=y,0===ed&&em(F)),s!==y)for(;s!==y;)i.push(s),s=t.charAt(es),S.test(s)?es++:(s=y,0===ed&&em(F));else i=y;return i!==y&&(eo=r,i=ec()),ed--,(r=i)===y&&(i=y,0===ed&&em(L)),r}function eM(){var r,i,s,o,a,u,d,c;for(r=es,i=t.charAt(es),T.test(i)?es++:(i=y,0===ed&&em(et)),i===y&&(i=null),s=es,o=[],a=t.charAt(es),x.test(a)?es++:(a=y,0===ed&&em(er));a!==y;)o.push(a),a=t.charAt(es),x.test(a)?es++:(a=y,0===ed&&em(er));if(46===t.charCodeAt(es)?(a=".",es++):(a=y,0===ed&&em(ei)),a!==y){if(u=[],d=t.charAt(es),x.test(d)?es++:(d=y,0===ed&&em(er)),d!==y)for(;d!==y;)u.push(d),d=t.charAt(es),x.test(d)?es++:(d=y,0===ed&&em(er));else u=y;u!==y?s=o=[o,a,u]:(es=s,s=y)}else es=s,s=y;if(s===y)if(s=[],o=t.charAt(es),x.test(o)?es++:(o=y,0===ed&&em(er)),o!==y)for(;o!==y;)s.push(o),o=t.charAt(es),x.test(o)?es++:(o=y,0===ed&&em(er));else s=y;if(s!==y){if(o=es,101===t.charCodeAt(es)?(a="e",es++):(a=y,0===ed&&em(en)),a!==y){if(u=t.charAt(es),T.test(u)?es++:(u=y,0===ed&&em(et)),u===y&&(u=null),d=[],c=t.charAt(es),x.test(c)?es++:(c=y,0===ed&&em(er)),c!==y)for(;c!==y;)d.push(c),c=t.charAt(es),x.test(c)?es++:(c=y,0===ed&&em(er));else d=y;d!==y?o=a=[a,u,d]:(es=o,o=y)}else es=o,o=y;o===y&&(o=null),eo=r,r=parseFloat(ec())}else es=r,r=y;return r}if(f=_(),r.peg$library)return{peg$result:f,peg$currPos:es,peg$FAILED:y,peg$maxFailExpected:eu,peg$maxFailPos:el};if(f!==y&&es===t.length)return f;throw f!==y&&es<t.length&&em({type:"end"}),c=eu,p=el<t.length?t.charAt(el):null,i=el,s=el<t.length?el+1:el,a=ey(i),u=ey(s),h={source:m,start:{offset:i,line:a.line,column:a.column},end:{offset:s,line:u.line,column:u.column}},new d(d.buildMessage(c,p),c,p,h)}(t)}catch(r){throw new o.A("effect:invalid-syntax","Invalid effect syntax",{value:t,error:r})}return r.map(t=>(function(t){try{switch(t.name){case"grayscale":case"sepia":case"saturate":case"invert":case"brightness":case"contrast":let _;return r=t,_=1,f(r.parameters,1),1===r.parameters.length&&(_=v(r.parameters[0])),new a.yG(r.name,_);case"opacity":let A;return i=t,A=1,f(i.parameters,1),1===i.parameters.length&&(A=v(i.parameters[0])),new a.jm(A);case"hue-rotate":let T;return u=t,T=0,f(u.parameters,1),1===u.parameters.length&&(d=u.parameters[0],function(t){if("quantity"!==t.type||!(0===t.value&&null===t.unit||t.unit&&null!=g[t.unit]))throw new o.A("effect:type-error",`Expected <angle>, Actual: ${y(t)}`,{term:t})}(d),T=d.value*g[d.unit]||0),new a.Nd(T);case"blur":let x;return c=t,x=0,f(c.parameters,1),1===c.parameters.length&&m(x=w(c.parameters[0]),c.parameters[0]),new a.Fk(x);case"drop-shadow":var r,i,u,d,c,p,h=t;let E=[],I=null;for(let t of h.parameters)if("color"===t.type){if(E.length&&Object.freeze(E),I)throw new o.A("effect:type-error","Accepts only one color",{});I=function(t){switch(t.colorType){case"hex":return(0,s.qh)(t.value);case"named":return b(t.value);case"function":var r,i=t.value;if(f(i.parameters,4),M.test(i.name))return[v(i.parameters[0]),v(i.parameters[1]),v(i.parameters[2]),i.parameters[3]?v(i.parameters[3]):1];if(S.test(i.name)){return(0,s.z$)((function(t){if("quantity"!==t.type||null!==t.unit)throw new o.A("effect:type-error",`Expected <double>, Actual: ${y(t)}`,{term:t})}(r=i.parameters[0]),m(r.value,r),r.value),v(i.parameters[1]),v(i.parameters[2]),i.parameters[3]?v(i.parameters[3]):1)}throw new o.A("effect:syntax-error",`Invalid color function '${i.name}'`,{colorFunction:i})}}(t)}else{let r=w(t);if(Object.isFrozen(E))throw new o.A("effect:type-error","<length> parameters not consecutive",{lengths:E});E.push(r),3===E.length&&m(r,t)}if(E.length<2||E.length>3)throw new o.A("effect:type-error",`Expected <length>{2,3}, Actual: <length>{${E.length}}`,{lengths:E});return new a.$b(E[0],E[1],E[2]||0,I||b("black"));case"bloom":let C,R,O;return p=t,C=1,R=0,O=0,f(p.parameters,3),p.parameters[0]&&(C=v(p.parameters[0])),p.parameters[1]&&m(R=w(p.parameters[1]),p.parameters[1]),p.parameters[2]&&(O=v(p.parameters[2])),new a.bv(C,R,O)}}catch(r){throw r.details.filter=t,r}throw new o.A("effect:unknown-effect",`Effect '${t.name}' is not supported`,{effect:t})})(t))}function f(t,r){if(t.length>r)throw new o.A("effect:type-error",`Function supports up to ${r} parameters, Actual: ${t.length}`,{parameters:t})}function y(t){if("color"===t.type)return"<color>";if(t.unit){if(t.unit in _)return"<length>";if(t.unit in g)return"<angle>";if("%"===t.unit)return"<percentage>"}return"<double>"}function m(t,r){if(t<0)throw new o.A("effect:type-error",`Negative values are not allowed, Actual: ${t}`,{term:r})}(function(t,r){function i(){this.constructor=t}i.prototype=r.prototype,t.prototype=new i})(d,Error),d.prototype.format=function(t){var r="Error: "+this.message;if(this.location){var i,s=null;for(i=0;i<t.length;i++)if(t[i].source===this.location.source){s=t[i].text.split(/\r\n|\n|\r/g);break}var o=this.location.start,a=this.location.source&&"function"==typeof this.location.source.offset?this.location.source.offset(o):o,u=this.location.source+":"+a.line+":"+a.column;if(s){var d=this.location.end,p=c("",a.line.toString().length," "),h=s[o.line-1],f=(o.line===d.line?d.column:h.length+1)-o.column||1;r+="\n --\x3e "+u+"\n"+p+" |\n"+a.line+" | "+h+"\n"+p+" | "+c("",o.column-1," ")+c("",f,"^")}else r+="\n at "+u}return r},d.buildMessage=function(t,r){var i={literal:function(t){return'"'+o(t.text)+'"'},class:function(t){var r=t.parts.map(function(t){return Array.isArray(t)?a(t[0])+"-"+a(t[1]):a(t)});return"["+(t.inverted?"^":"")+r.join("")+"]"},any:function(){return"any character"},end:function(){return"end of input"},other:function(t){return t.description}};function s(t){return t.charCodeAt(0).toString(16).toUpperCase()}function o(t){return t.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(t){return"\\x0"+s(t)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(t){return"\\x"+s(t)})}function a(t){return t.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(t){return"\\x0"+s(t)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(t){return"\\x"+s(t)})}function u(t){return i[t.type](t)}return"Expected "+function(t){var r,i,s=t.map(u);if(s.sort(),s.length>0){for(r=1,i=1;r<s.length;r++)s[r-1]!==s[r]&&(s[i]=s[r],i++);s.length=i}switch(s.length){case 1:return s[0];case 2:return s[0]+" or "+s[1];default:return s.slice(0,-1).join(", ")+", or "+s[s.length-1]}}(t)+" but "+(r?'"'+o(r)+'"':"end of input")+" found."};let g={deg:1,grad:.9,rad:180/Math.PI,turn:360},_={px:1,cm:96/2.54,mm:96/2.54/10,in:96,pc:16,pt:96/72};function v(t){if("quantity"!==t.type||null!==t.unit&&"%"!==t.unit)throw new o.A("effect:type-error",`Expected <double> or <percentage>, Actual: ${y(t)}`,{term:t});let r=t.value;return m(r,t),"%"===t.unit?.01*r:r}function w(t){return function(t){if("quantity"!==t.type||!(0===t.value&&null===t.unit||t.unit&&null!=_[t.unit]))throw new o.A("effect:type-error",`Expected <length>, Actual: ${y(t)}`,{term:t})}(t),t.value*_[t.unit]||0}function b(t){if(!(0,s.V6)(t))throw new o.A("effect:unknown-color",`color '${t}' isn't valid`,{namedColor:t});return(0,s.c4)(t)}let M=/^rgba?/i,S=/^hsla?/i},61200:(t,r,i)=>{i.d(r,{j:()=>s});let s=(0,i(30781).O)()({esriTimeUnitsMilliseconds:"milliseconds",esriTimeUnitsSeconds:"seconds",esriTimeUnitsMinutes:"minutes",esriTimeUnitsHours:"hours",esriTimeUnitsDays:"days",esriTimeUnitsWeeks:"weeks",esriTimeUnitsMonths:"months",esriTimeUnitsYears:"years",esriTimeUnitsDecades:"decades",esriTimeUnitsCenturies:"centuries",esriTimeUnitsUnknown:void 0})},61414:(t,r,i)=>{i.d(r,{A:()=>b});var s,o=i(81856),a=i(45714),u=i(91838);i(57845),i(61939),i(33638);var d=i(12709),c=i(88070),p=i(39960),h=i(91463),f=i(98083),y=i(11317),m=i(71760),g=i(6322);function _(t,r,i){return null==r?i:null==i?r:t(r,i)}let v=s=class extends c.A{constructor(...t){super(...t),this.type="extent",this.xmin=0,this.ymin=0,this.mmin=void 0,this.zmin=void 0,this.xmax=0,this.ymax=0,this.mmax=void 0,this.zmax=void 0}normalizeCtorArgs(t,r,i,s,o){return t&&("esri.geometry.SpatialReference"===t.declaredClass||null!=t.wkid)?{spatialReference:t,xmin:0,ymin:0,xmax:0,ymax:0}:"object"==typeof t?(t.spatialReference=null==t.spatialReference?h.A.WGS84:t.spatialReference,t):{xmin:t,ymin:r,xmax:i,ymax:s,spatialReference:o??h.A.WGS84}}static fromPoint(t){return new s({xmin:t.x,ymin:t.y,zmin:t.z,xmax:t.x,ymax:t.y,zmax:t.z,spatialReference:t.spatialReference})}get cache(){return this.commitProperty("xmin"),this.commitProperty("ymin"),this.commitProperty("zmin"),this.commitProperty("mmin"),this.commitProperty("xmax"),this.commitProperty("ymax"),this.commitProperty("zmax"),this.commitProperty("mmax"),this.commitProperty("spatialReference"),{}}get center(){let t=new p.A({x:.5*(this.xmin+this.xmax),y:.5*(this.ymin+this.ymax),spatialReference:this.spatialReference});return this.hasZ&&(t.z=.5*(this.zmin+this.zmax)),this.hasM&&(t.m=.5*(this.mmin+this.mmax)),t}get extent(){return this.clone()}get hasM(){return null!=this.mmin&&null!=this.mmax}get hasZ(){return null!=this.zmin&&null!=this.zmax}get height(){return Math.abs(this.ymax-this.ymin)}get width(){return Math.abs(this.xmax-this.xmin)}centerAt(t){let r=this.center;return null!=t.z&&this.hasZ?this.offset(t.x-r.x,t.y-r.y,t.z-r.z):this.offset(t.x-r.x,t.y-r.y)}clone(){let t=new s;return t.xmin=this.xmin,t.ymin=this.ymin,t.xmax=this.xmax,t.ymax=this.ymax,t.spatialReference=this.spatialReference,null!=this.zmin&&(t.zmin=this.zmin,t.zmax=this.zmax),null!=this.mmin&&(t.mmin=this.mmin,t.mmax=this.mmax),t}contains(t){if(!t)return!1;let r=this.spatialReference,i=t.spatialReference;return r&&i&&!r.equals(i)&&(0,g.y7)(r,i)&&(t=r.isWebMercator?(0,g.Gh)(t):(0,g.ci)(t,!0)),"point"===t.type?(0,f.qz)(this,t):"extent"===t.type&&(0,f.gH)(this,t)}equals(t){if(this===t)return!0;if(null==t)return!1;let r=this.spatialReference,i=t.spatialReference;return r&&i&&!r.equals(i)&&(0,g.y7)(r,i)&&(t=r.isWebMercator?(0,g.Gh)(t):(0,g.ci)(t,!0)),this.xmin===t.xmin&&this.ymin===t.ymin&&this.zmin===t.zmin&&this.mmin===t.mmin&&this.xmax===t.xmax&&this.ymax===t.ymax&&this.zmax===t.zmax&&this.mmax===t.mmax}expand(t){let r=.5*(1-t),i=this.width*r,s=this.height*r;if(this.xmin+=i,this.ymin+=s,this.xmax-=i,this.ymax-=s,this.hasZ){let t=(this.zmax-this.zmin)*r;this.zmin+=t,this.zmax-=t}if(this.hasM){let t=(this.mmax-this.mmin)*r;this.mmin+=t,this.mmax-=t}return this}intersects(t){if(null==t)return!1;"mesh"===t.type&&(t=t.extent);let r=this.spatialReference,i=t.spatialReference;return r&&i&&!(0,m.aI)(r,i)&&(0,g.y7)(r,i)&&(t=r.isWebMercator?(0,g.Gh)(t):(0,g.ci)(t,!0)),(0,y.xK)(t.type)(this,t)}normalize(){let t=this._normalize(!1,!0);return Array.isArray(t)?t:[t]}offset(t,r,i){return this.xmin+=t,this.ymin+=r,this.xmax+=t,this.ymax+=r,null!=i&&(this.zmin+=i,this.zmax+=i),this}shiftCentralMeridian(){return this._normalize(!0)}union(t){return this===t||(this.xmin=Math.min(this.xmin,t.xmin),this.ymin=Math.min(this.ymin,t.ymin),this.xmax=Math.max(this.xmax,t.xmax),this.ymax=Math.max(this.ymax,t.ymax),(this.hasZ||t.hasZ)&&(this.zmin=_(Math.min,this.zmin,t.zmin),this.zmax=_(Math.max,this.zmax,t.zmax)),(this.hasM||t.hasM)&&(this.mmin=_(Math.min,this.mmin,t.mmin),this.mmax=_(Math.max,this.mmax,t.mmax))),this}intersection(t){return this===t?this:null!=t&&this.intersects(t)?(this.xmin=Math.max(this.xmin,t.xmin),this.ymin=Math.max(this.ymin,t.ymin),this.xmax=Math.min(this.xmax,t.xmax),this.ymax=Math.min(this.ymax,t.ymax),(this.hasZ||t.hasZ)&&(this.zmin=_(Math.max,this.zmin,t.zmin),this.zmax=_(Math.min,this.zmax,t.zmax)),(this.hasM||t.hasM)&&(this.mmin=_(Math.max,this.mmin,t.mmin),this.mmax=_(Math.min,this.mmax,t.mmax)),this):null}toJSON(t){return this.write({},t)}_shiftCM(t=(0,m.Vp)(this.spatialReference)){if(!t||!this.spatialReference)return this;let r=this.spatialReference,i=this._getCM(t);if(i){let s=r.isWebMercator?(0,g.ci)(i):i;this.xmin-=i.x,this.xmax-=i.x,r.isWebMercator||(s.x=w(s.x,t).x),this.spatialReference=new h.A((0,a.HC)((r.isWGS84?t.altTemplate:null)??t.wkTemplate,{Central_Meridian:s.x}))}return this}_getCM(t){let r=null,[i,s]=t.valid,o=this.xmin,a=this.xmax;return o>=i&&o<=s&&a>=i&&a<=s||(r=this.center),r}_normalize(t,r,i){let s=this.spatialReference;if(!s)return this;let o=i??(0,m.Vp)(s);if(null==o)return this;let a=this._getParts(o).map(t=>t.extent);if(a.length<2)return a[0]||this;if(a.length>2)return t?this._shiftCM(o):this.set({xmin:o.valid[0],xmax:o.valid[1]});if(t)return this._shiftCM(o);if(r)return a;let u=!0,d=!0;return a.forEach(t=>{t.hasZ||(u=!1),t.hasM||(d=!1)}),{rings:a.map(t=>{let r=[[t.xmin,t.ymin],[t.xmin,t.ymax],[t.xmax,t.ymax],[t.xmax,t.ymin],[t.xmin,t.ymin]];if(u){let i=(t.zmax-t.zmin)/2;for(let t=0;t<r.length;t++)r[t].push(i)}if(d){let i=(t.mmax-t.mmin)/2;for(let t=0;t<r.length;t++)r[t].push(i)}return r}),hasZ:u,hasM:d,spatialReference:s}}_getParts(t){let r=this.cache._parts;if(!r){let i;r=[];let{ymin:o,ymax:a,spatialReference:u}=this,d=this.width,c=this.xmin,p=this.xmax,[h,f]=(t=t||(0,m.Vp)(u)).valid,y=(i=w(this.xmin,t)).x,g=i.frameId,_=(i=w(this.xmax,t)).x,v=i.frameId,b=y===_&&d>0;if(d>2*f){let t=new s(c<p?y:_,o,f,a,u),i=new s(h,o,c<p?_:y,a,u),d=new s(0,o,f,a,u),m=new s(h,o,0,a,u),w=[],b=[];t.contains(d)&&w.push(g),t.contains(m)&&b.push(g),i.contains(d)&&w.push(v),i.contains(m)&&b.push(v);for(let t=g+1;t<v;t++)w.push(t),b.push(t);r.push({extent:t,frameIds:[g]},{extent:i,frameIds:[v]},{extent:d,frameIds:w},{extent:m,frameIds:b})}else y>_||b?r.push({extent:new s(y,o,f,a,u),frameIds:[g]},{extent:new s(h,o,_,a,u),frameIds:[v]}):r.push({extent:new s(y,o,_,a,u),frameIds:[g]});this.cache._parts=r}let i=this.hasZ,o=this.hasM;if(i||o){let t={};i&&(t.zmin=this.zmin,t.zmax=this.zmax),o&&(t.mmin=this.mmin,t.mmax=this.mmax);for(let i=0;i<r.length;i++)r[i].extent.set(t)}return r}};function w(t,r){let[i,s]=r.valid,o=2*s,a,u=0;return t>s?(a=Math.ceil(Math.abs(t-s)/o),t-=a*o,u=a):t<i&&(a=Math.ceil(Math.abs(t-i)/o),t+=a*o,u=-a),{x:t,frameId:u}}(0,o._)([(0,u.MZ)({readOnly:!0})],v.prototype,"cache",null),(0,o._)([(0,u.MZ)({readOnly:!0})],v.prototype,"center",null),(0,o._)([(0,u.MZ)({readOnly:!0})],v.prototype,"extent",null),(0,o._)([(0,u.MZ)({readOnly:!0,json:{write:{enabled:!1,overridePolicy:null}}})],v.prototype,"hasM",null),(0,o._)([(0,u.MZ)({readOnly:!0,json:{write:{enabled:!1,overridePolicy:null}}})],v.prototype,"hasZ",null),(0,o._)([(0,u.MZ)({readOnly:!0})],v.prototype,"height",null),(0,o._)([(0,u.MZ)({readOnly:!0})],v.prototype,"width",null),(0,o._)([(0,u.MZ)({type:Number,json:{type:[Number,String],write:{enabled:!0,allowNull:!0}}})],v.prototype,"xmin",void 0),(0,o._)([(0,u.MZ)({type:Number,json:{write:!0}})],v.prototype,"ymin",void 0),(0,o._)([(0,u.MZ)({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasM}}}}})],v.prototype,"mmin",void 0),(0,o._)([(0,u.MZ)({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasZ}}}}})],v.prototype,"zmin",void 0),(0,o._)([(0,u.MZ)({type:Number,json:{write:!0}})],v.prototype,"xmax",void 0),(0,o._)([(0,u.MZ)({type:Number,json:{write:!0}})],v.prototype,"ymax",void 0),(0,o._)([(0,u.MZ)({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasM}}}}})],v.prototype,"mmax",void 0),(0,o._)([(0,u.MZ)({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasZ}}}}})],v.prototype,"zmax",void 0),(v=s=(0,o._)([(0,d.$)("esri.geometry.Extent")],v)).prototype.toJSON.isDefaultToJSON=!0;let b=v},61451:(t,r,i)=>{i.d(r,{A:()=>p});var s=i(81856),o=i(12709);let a=0,u=t=>{let r=class extends t{constructor(...t){super(...t),Object.defineProperty(this,"uid",{writable:!1,configurable:!1,value:Date.now().toString(16)+"-object-"+a++})}};return(0,s._)([(0,o.$)("esri.core.Identifiable")],r)},d=t=>{let r=class extends t{constructor(...t){super(...t),Object.defineProperty(this,"uid",{writable:!1,configurable:!1,value:a++})}};return(0,s._)([(0,o.$)("esri.core.Identifiable.NumericIdentifiable")],r)},c=class extends u(class{}){};!function(t){t.IdentifiableMixin=u,t.NumericIdentifiableMixin=d}((c=(0,s._)([(0,o.$)("esri.core.Identifiable")],c))||(c={}));let p=c},61631:(t,r,i)=>{i.d(r,{A:()=>F});var s,o,a,u,d,c=i(81856),p=i(92713),h=i(33715),f=i(91838),y=i(16352),m=i(53480),g=i(12709),_=i(7780);i(57845),i(61939),i(33638);let v=class extends p.A{constructor(t){super(t),this.description=null,this.label=null,this.type=null}};(0,c._)([(0,f.MZ)({type:String,json:{write:!0}})],v.prototype,"description",void 0),(0,c._)([(0,f.MZ)({type:String,json:{write:!0}})],v.prototype,"label",void 0),(0,c._)([(0,f.MZ)()],v.prototype,"type",void 0);let w=v=(0,c._)([(0,g.$)("esri.tables.elements.AttributeTableElement")],v),b=s=class extends w{constructor(t){super(t),this.displayType="auto",this.type="attachment"}clone(){return new s({description:this.description,displayType:this.displayType,label:this.label})}};(0,c._)([(0,f.MZ)({type:["auto"],json:{write:!0}})],b.prototype,"displayType",void 0),(0,c._)([(0,f.MZ)({type:["attachment"],readOnly:!0,json:{read:!1,write:!0}})],b.prototype,"type",void 0);let M=b=s=(0,c._)([(0,g.$)("esri.tables.elements.AttributeTableAttachmentElement")],b),S=o=class extends w{constructor(t){super(t),this.fieldName=null,this.type="field"}clone(){return new o({description:this.description,fieldName:this.fieldName,label:this.label})}};(0,c._)([(0,f.MZ)({type:String,json:{write:!0}})],S.prototype,"fieldName",void 0),(0,c._)([(0,f.MZ)({type:String,json:{read:!1,write:!0}})],S.prototype,"type",void 0);let A=S=o=(0,c._)([(0,g.$)("esri.tables.elements.AttributeTableFieldElement")],S);var T=i(86942);let x=a=class extends w{constructor(t){super(t),this.relationshipId=null,this.type="relationship"}clone(){return new a({description:this.description,label:this.label,relationshipId:this.relationshipId})}};(0,c._)([(0,f.MZ)({type:Number,json:{write:!0}})],x.prototype,"relationshipId",void 0),(0,c._)([(0,f.MZ)({type:["relationship"],json:{read:!1,write:!0}})],x.prototype,"type",void 0);let E=x=a=(0,c._)([(0,g.$)("esri.tables.elements.AttributeTableRelationshipElement")],x);function I(t){return{typesWithGroup:{base:w,key:"type",typeMap:{attachment:M,field:A,group:t,relationship:E}},typesWithoutGroup:{base:w,key:"type",typeMap:{attachment:M,field:A,relationship:E}}}}function C(t,r,i=!0){if(!t)return null;let s=i?r.typesWithGroup.typeMap:r.typesWithoutGroup.typeMap;return t.filter(t=>s[t.type]).map(t=>s[t.type].fromJSON(t))}function R(t,r,i=!0){if(!t)return null;let s=i?r.typesWithGroup.typeMap:r.typesWithoutGroup.typeMap;return t.filter(t=>s[t.type]).map(t=>t.toJSON())}function O(t,r,i=!0){return t?t.map(t=>(0,T.aq)(i?r.typesWithGroup:r.typesWithoutGroup,t)):null}let P=u=class extends w{constructor(t){super(t),this.elements=null,this.type="group"}castElements(t){return O(t,N,!1)}readElements(t,r){return C(r.attributeTableElements,N,!1)}writeElements(t,r){r.attributeTableElements=R(t,N,!1)}clone(){return new u({description:this.description,elements:(0,h.o8)(this.elements),label:this.label})}};(0,c._)([(0,f.MZ)({json:{write:!0}})],P.prototype,"elements",void 0),(0,c._)([(0,y.w)("elements")],P.prototype,"castElements",null),(0,c._)([(0,m.w)("elements",["attributeTableElements"])],P.prototype,"readElements",null),(0,c._)([(0,_.K)("elements")],P.prototype,"writeElements",null),(0,c._)([(0,f.MZ)({type:String,json:{read:!1,write:!0}})],P.prototype,"type",void 0);let N=I(P=u=(0,c._)([(0,g.$)("esri.tables.elements.AttributeTableGroupElement")],P)),k=I(P),L=d=class extends p.A{constructor(t){super(t),this.elements=null,this.orderByFields=null}castElements(t){return O(t,k)}readElements(t,r){return C(r.attributeTableElements,k)}writeElements(t,r){r.attributeTableElements=R(t,k)}clone(){return new d({elements:(0,h.o8)(this.elements),orderByFields:this.orderByFields})}};(0,c._)([(0,f.MZ)({json:{write:!0}})],L.prototype,"elements",void 0),(0,c._)([(0,y.w)("elements")],L.prototype,"castElements",null),(0,c._)([(0,m.w)("elements",["attributeTableElements"])],L.prototype,"readElements",null),(0,c._)([(0,_.K)("elements")],L.prototype,"writeElements",null),(0,c._)([(0,f.MZ)({type:[Object],json:{write:!0}})],L.prototype,"orderByFields",void 0);let F=L=d=(0,c._)([(0,g.$)("esri.tables.AttributeTableTemplate")],L)},61830:(t,r,i)=>{i.d(r,{C:()=>d,D:()=>c,c:()=>_,f:()=>f,g:()=>v,i:()=>g,l:()=>y,s:()=>w});var s=i(8781),o=i(29363);let a="calcite-mode-auto",u="calcite-mode-dark",d={autoMode:a,darkMode:u,lightMode:"calcite-mode-light",rtl:"calcite--rtl",calciteAnimate:"calcite-animate",calciteAnimateInUp:"calcite-animate__in-up",calciteAnimateInDown:"calcite-animate__in-down",calciteAnimateInRight:"calcite-animate__in-right",calciteAnimateInLeft:"calcite-animate__in-left"},c={filter:250,nextTick:0,resize:150,reposition:100};function p(){let{classList:t}=document.body,r=window.matchMedia("(prefers-color-scheme: dark)").matches,i=()=>t.contains(u)||t.contains(a)&&r?"dark":"light",s=t=>document.body.dispatchEvent(new CustomEvent("calciteModeChange",{bubbles:!0,detail:{mode:t}})),o=t=>{d!==t&&s(t),d=t},d=i();s(d),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",t=>o(t.matches?"dark":"light")),new MutationObserver(()=>o(i())).observe(document.body,{attributes:!0,attributeFilter:["class"]})}let h=globalThis.calciteConfig,f=h?.focusTrapStack||[],y=h?.logLevel||"info",m="3.0.3",g=()=>!o.S&&"u">typeof navigator&&"u">typeof window&&"u">typeof location&&"u">typeof document&&window.location===location&&window.document===document;g()&&("interactive"===document.readyState?p():document.addEventListener("DOMContentLoaded",()=>p(),{once:!0})),function(){if(h&&h.version)return;console.info(`Using Calcite Components ${m} [Date: 2025-02-19, Revision: 0b0b89f59]`);let t=h||globalThis.calciteConfig||{};Object.defineProperty(t,"version",{value:m,writable:!1}),globalThis.calciteConfig=t}();let{customElement:_,getAssetPath:v,setAssetPath:w}=(0,s.le)({defaultAssetPath:"https://js.arcgis.com/calcite-components/3.0.3/",hydratedAttribute:"calcite-hydrated"})},61849:(t,r,i)=>{i.d(r,{A:()=>m});var s=i(71760),o=i(79378);function a(t,r,i){return t[0]=r,t[1]=i,t}let u=new o.A("0/0/0/0");class d{static create(t,r,i=null){let o,u,c,p,h=(0,s.Vp)(t.spatialReference),f=r.origin||[t.origin.x,t.origin.y],y=[t.size[0]*r.resolution,t.size[1]*r.resolution],m=[-1/0,-1/0],g=[1/0,1/0],_=[1/0,1/0];null!=i&&(a(m,Math.max(0,Math.floor((i.xmin-f[0])/y[0])),Math.max(0,Math.floor((f[1]-i.ymax)/y[1]))),a(g,Math.max(0,Math.floor((i.xmax-f[0])/y[0])),Math.max(0,Math.floor((f[1]-i.ymin)/y[1]))),a(_,g[0]-m[0]+1,g[1]-m[1]+1));let{cols:v,rows:w}=r;return!i&&v&&w&&(a(m,v[0],w[0]),a(g,v[1],w[1]),a(_,v[1]-v[0]+1,w[1]-w[0]+1)),t.isWrappable?(o=[Math.ceil(Math.round((h.valid[1]-h.valid[0])/r.resolution)/t.size[0]),_[1]],u=!0,c=h.origin,p=h.valid):(o=_,u=!1),new d(r.level,r.resolution,r.scale,f,m,g,_,y,o,u,c,p)}constructor(t,r,i,s,o,a,u,d,c,p,h,f){this.level=t,this.resolution=r,this.scale=i,this.origin=s,this.first=o,this.last=a,this.size=u,this.norm=d,this.worldSize=c,this.wrap=p,this._spatialReferenceOrigin=h,this._spatialReferenceValid=f}normalizeCol(t){if(!this.wrap)return t;let r=this.worldSize[0];return t<0?r-1-Math.abs((t+1)%r):t%r}normalizeKey(t){if(!this.wrap)return;let r=this.worldSize[0],i=t.col;i<0?(t.col=i+r,t.world-=1):i>=r&&(t.col=i-r,t.world+=1)}denormalizeCol(t,r){return this.wrap?this.worldSize[0]*r+t:t}getWorldForColumn(t){return this.wrap?Math.floor(t/this.worldSize[0]):0}getFirstColumnForWorld(t){return t*this.worldSize[0]+this.first[0]}getLastColumnForWorld(t){return t*this.worldSize[0]+this.first[0]+this.size[0]-1}getColumnForX(t){return(t-this.origin[0])/this.norm[0]}getXForColumn(t){let r=this.origin[0]+t*this.norm[0],i=this._spatialReferenceOrigin,s=this._spatialReferenceValid;return this.wrap&&i&&s?r===i[0]?s[0]:this.origin[0]===i[0]&&t===this.worldSize[0]?s[1]:r:r}getRowForY(t){return(this.origin[1]-t)/this.norm[1]}getYForRow(t){return this.origin[1]-t*this.norm[1]}getTileBounds(t,r,i=!1){var s,o,a,d;u.set(r);let c=i?u.col:this.denormalizeCol(u.col,u.world),p=u.row;return s=this.getXForColumn(c),o=this.getYForRow(p+1),a=this.getXForColumn(c+1),d=this.getYForRow(p),t[0]=s,t[1]=o,t[2]=a,t[3]=d,t}getTileCoords(t,r,i=!1){u.set(r);let s=i?u.col:this.denormalizeCol(u.col,u.world);return Array.isArray(t)?a(t,this.getXForColumn(s),this.getYForRow(u.row)):(t.x=this.getXForColumn(s),t.y=this.getYForRow(u.row)),t}}var c=i(39137);class p{constructor(t,r,i){this.row=t,this.colFrom=r,this.colTo=i}}let h=new o.A("0/0/0/0");class f{static create(t,r){t[1]>r[1]&&([t,r]=[r,t]);let[i,s]=t,[o,a]=r,u=o-i,d=a-s,c=0!==d?u/d:0,p=(Math.ceil(s)-s)*c,h=(Math.floor(s)-s)*c;return new f(i,Math.floor(s),Math.ceil(a),c,u<0?p:h,u<0?h:p,u<0?o:i,u<0?i:o)}constructor(t,r,i,s,o,a,u,d){this.x=t,this.ymin=r,this.ymax=i,this.invM=s,this.leftAdjust=o,this.rightAdjust=a,this.leftBound=u,this.rightBound=d}incrRow(){this.x+=this.invM}getLeftCol(){return Math.max(this.x+this.leftAdjust,this.leftBound)}getRightCol(){return Math.min(this.x+this.rightAdjust,this.rightBound)}}let y=[[0,0],[0,0],[0,0],[0,0]];class m{constructor(t,r=null,i=t.lods[0].level,s=t.lods[t.lods.length-1].level){this.tileInfo=t,this.fullExtent=r,this.scales=[],this._infoByScale={},this._infoByLevel={};let o=t.lods.filter(t=>t.level>=i&&t.level<=s);this.minScale=o[0].scale,this.maxScale=o[o.length-1].scale;let a=this._lodInfos=o.map(i=>d.create(t,i,r));o.forEach((t,r)=>{this._infoByLevel[t.level]=a[r],this._infoByScale[t.scale]=a[r],this.scales[r]=t.scale},this),this._wrap=t.isWrappable}get spatialReference(){return this.tileInfo.spatialReference}getLODInfoAt(t){return this._infoByLevel["number"==typeof t?t:t.level]}getTileBounds(t,r,i=!1){h.set(r);let s=this._infoByLevel[h.level];return s?s.getTileBounds(t,h,i):t}getTileCoords(t,r,i=!1){h.set(r);let s=this._infoByLevel[h.level];return s?s.getTileCoords(t,h,i):t}getTileCoverage(t,r=192,i=!0,s="closest"){if(!i&&(t.scale>this.minScale||t.scale<this.maxScale))return null;let o="closest"===s?this.getClosestInfoForScale(t.scale):this.getSmallestInfoForScale(t.scale),a=c.A.pool.acquire(o),u=this._wrap,d,h,m,g=1/0,_=-1/0,v=a.spans;for(let i of(y[0][0]=y[0][1]=y[1][1]=y[3][0]=-r,y[1][0]=y[2][0]=t.size[0]+r,y[2][1]=y[3][1]=t.size[1]+r,y))t.toMap(i,i),i[0]=o.getColumnForX(i[0]),i[1]=o.getRowForY(i[1]);let w=[],b=3;for(let t=0;t<4;t++){if(y[t][1]===y[b][1]){b=t;continue}let r=f.create(y[t],y[b]);g=Math.min(r.ymin,g),_=Math.max(r.ymax,_),void 0===w[r.ymin]&&(w[r.ymin]=[]),w[r.ymin].push(r),b=t}if(null==g||null==_||_-g>100)return null;let M=[];for(d=g;d<_;){null!=w[d]&&(M=M.concat(w[d])),h=1/0,m=-1/0;for(let t=M.length-1;t>=0;t--){let r=M[t];h=Math.min(h,r.getLeftCol()),m=Math.max(m,r.getRightCol())}if(h=Math.floor(h),m=Math.floor(m),d>=o.first[1]&&d<=o.last[1])if(u)if(o.size[0]<o.worldSize[0]){let t=Math.floor(m/o.worldSize[0]);for(let r=Math.floor(h/o.worldSize[0]);r<=t;r++)v.push(new p(d,Math.max(o.getFirstColumnForWorld(r),h),Math.min(o.getLastColumnForWorld(r),m)))}else v.push(new p(d,h,m));else h>o.last[0]||m<o.first[0]||(h=Math.max(h,o.first[0]),m=Math.min(m,o.last[0]),v.push(new p(d,h,m)));d+=1;for(let t=M.length-1;t>=0;t--){let r=M[t];r.ymax>=d?r.incrRow():M.splice(t,1)}}return a}getTileParentId(t){h.set(t);let r=this._infoByLevel[h.level],i=this._lodInfos.indexOf(r)-1;return i<0?null:(this._getTileIdAtLOD(h,this._lodInfos[i],h),h.id)}getTileResolution(t){let r=this._infoByLevel["object"==typeof t?t.level:t];return r?r.resolution:-1}getTileScale(t){let r=this._infoByLevel[t.level];return r?r.scale:-1}intersects(t,r){h.set(r);let i=this._infoByLevel[h.level],s=t.lodInfo;if(s.resolution>i.resolution){this._getTileIdAtLOD(h,s,h);let r=s.denormalizeCol(h.col,h.world);for(let i of t.spans)if(i.row===h.row&&i.colFrom<=r&&i.colTo>=r)return!0}if(s.resolution<i.resolution){let[r,o,a,u]=t.spans.reduce((t,r)=>(t[0]=Math.min(t[0],r.row),t[1]=Math.max(t[1],r.row),t[2]=Math.min(t[2],r.colFrom),t[3]=Math.max(t[3],r.colTo),t),[1/0,-1/0,1/0,-1/0]),d=i.denormalizeCol(h.col,h.world),c=s.getColumnForX(i.getXForColumn(d)),p=s.getRowForY(i.getYForRow(h.row)),f=s.getColumnForX(i.getXForColumn(d+1))-1,y=s.getRowForY(i.getYForRow(h.row+1))-1;return!(c>u||f<a||p>o||y<r)}let o=s.denormalizeCol(h.col,h.world);return t.spans.some(t=>t.row===h.row&&t.colFrom<=o&&t.colTo>=o)}normalizeBounds(t,r,i){if(t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],this._wrap){let r=(0,s.Vp)(this.tileInfo.spatialReference),o=-i*(r.valid[1]-r.valid[0]);t[0]+=o,t[2]+=o}return t}getSmallestInfoForScale(t){let r=this.scales;if(this._infoByScale[t])return this._infoByScale[t];if(t>r[0])return this._infoByScale[r[0]];for(let i=1;i<r.length-1;i++)if(t>r[i]+1e-6)return this._infoByScale[r[i-1]];return this._infoByScale[r[r.length-1]]}getClosestInfoForScale(t){let r=this.scales;return this._infoByScale[t]||(t=r.reduce((r,i)=>Math.abs(i-t)<Math.abs(r-t)?i:r,r[0])),this._infoByScale[t]}scaleToLevel(t){let r=this.scales;if(this._infoByScale[t])return this._infoByScale[t].level;for(let i=r.length-1;i>=0;i--)if(t<r[i]){if(i===r.length-1)return this._infoByScale[r[r.length-1]].level;return this._infoByScale[r[i]].level+(r[i]-t)/(r[i]-r[i+1])}return this._infoByScale[r[0]].level}scaleToZoom(t){return this.tileInfo.scaleToZoom(t)}zoomToScale(t){return this.tileInfo.zoomToScale(t)}_getTileIdAtLOD(t,r,i){let s=this._infoByLevel[i.level];return t.set(i),r.resolution<s.resolution?null:(r.resolution===s.resolution||(t.level=r.level,t.col=Math.floor(i.col*s.resolution/r.resolution+.01),t.row=Math.floor(i.row*s.resolution/r.resolution+.01)),t)}}},61939:(t,r,i)=>{i.d(r,{A:()=>u});var s=i(48767);i(57845);var o=i(45714);let a={info:0,warn:1,error:2,none:3};class u{constructor(t){this.level=null,this._module="",this._parent=null,this.writer=null,this._loggedMessages={error:new Map,warn:new Map,info:new Map},null!=t.level&&(this.level=t.level),null!=t.writer&&(this.writer=t.writer),this._module=t.module,u._loggers.set(this.module,this);let r=this.module.lastIndexOf(".");-1!==r&&(this._parent=u.getLogger(this.module.slice(0,r)))}get module(){return this._module}get parent(){return this._parent}error(...t){this._log("error","always",...t)}warn(...t){this._log("warn","always",...t)}info(...t){this._log("info","always",...t)}errorOnce(...t){this._log("error","once",...t)}warnOnce(...t){this._log("warn","once",...t)}infoOnce(...t){this._log("info","once",...t)}errorOncePerTick(...t){this._log("error","oncePerTick",...t)}warnOncePerTick(...t){this._log("warn","oncePerTick",...t)}infoOncePerTick(...t){this._log("info","oncePerTick",...t)}get test(){}static get test(){}static getLogger(t){return t="string"!=typeof t?t.declaredClass:t,u._loggers.get(t)||new u({module:t})}_log(t,r,...i){if(this._matchLevel(t)){if("always"!==r&&!u._throttlingDisabled){let s=function(...t){return(0,o.Wm)(JSON.stringify(t,(t,r)=>"object"!=typeof r||Array.isArray(r)?r:"[Object]"))}(i),a=this._loggedMessages[t].get(s);if("once"===r&&null!=a||"oncePerTick"===r&&a&&a>=u._tickCounter)return;this._loggedMessages[t].set(s,u._tickCounter),u._scheduleTickCounterIncrement()}for(let r of s.A.log.interceptors)if(r(t,this.module,...i))return;this._inheritedWriter()(t,this.module,...i)}}_parentWithMember(t,r){let i=this;for(;null!=i;){let r=i[t];if(null!=r)return r;i=i.parent}return r}_inheritedWriter(){return this._parentWithMember("writer",d)}_matchLevel(t){let r=s.A.log.level||"warn";return a[this._parentWithMember("level",r)]<=a[t]}static _scheduleTickCounterIncrement(){u._tickCounterScheduled||(u._tickCounterScheduled=!0,Promise.resolve().then(()=>{u._tickCounter++,u._tickCounterScheduled=!1}))}}function d(t,r,...i){console[t](`[${r}]`,...i)}u._loggers=new Map,u._tickCounter=0,u._tickCounterScheduled=!1,u._throttlingDisabled=!1},62160:(t,r,i)=>{i.d(r,{O:()=>u,p:()=>a});var s=i(98083);let o=t=>parseFloat(t)/100;function a(t,r,i){let s="string"==typeof t.left?o(t.left)*r:t.left,a="string"==typeof t.right?o(t.right)*r:t.right,u="string"==typeof t.top?o(t.top)*i:t.top,d="string"==typeof t.bottom?o(t.bottom)*i:t.bottom;return{xmin:s,xmax:Math.max(r-a,s),ymin:u,ymax:Math.max(i-d,u)}}function u(t,r,i,o){switch(r.type){case"rect":{let{width:s,height:o}=t,{xmin:u,xmax:d,ymin:c,ymax:p}=a(r,s,o),{x:h,y:f}=i;return h>u&&h<d&&f>c&&f<p}case"path":return 0===r.path.length||!Array.isArray(r.path[0][0])||(0,s.t1)(r.path,[i.x,i.y]);case"geometry":return null==r.geometry||("polygon"===r.geometry.type?(0,s.m3)(r.geometry,o):(0,s.qz)(r.geometry,o))}}},62543:(t,r,i)=>{i.d(r,{fJ:()=>a,g4:()=>o,hY:()=>u});let s="calcite-mode-";function o(){return getComputedStyle(document.body).getPropertyValue("--esri-calcite-mode-name").replaceAll(/\s|'|"/g,"").startsWith("dark")}function a(){return`${s}${o()?"dark":"light"}`}function u(t){var r;Array.from((r=t).classList).forEach(t=>{t.startsWith(s)&&r.classList.remove(t)}),t.classList.add(a())}},62607:(t,r,i)=>{i.d(r,{c:()=>b,t:()=>M});var s=i(32391),o=i(67844),a=i(10098),u=i(46633),d=i(41989),c=i(57136),p=i(26232),h=i(59276),f=i(71230),y=i(22191),m=i(7644),g=i(11584),_=i(9882),v=i(76558);let w="#useCIMFallbackSymbology()",b={retainId:!1,ignoreDrivers:!1,hasLabelingContext:!0};function M(t,r=b){if(!t)return{symbol:null};let{retainId:i=b.retainId,ignoreDrivers:S=b.ignoreDrivers,hasLabelingContext:A=b.hasLabelingContext,retainCIM:T=b.retainCIM,cimFallbackEnabled:x=b.cimFallbackEnabled}=r,E=null;if((0,v.wk)(t)||t instanceof g.A)E=t.clone();else if("cim"===t.type){let i=t.data?.symbol?.type;switch(i){case"CIMPointSymbol":E=T?t.clone():c.A.fromCIMSymbol(t);break;case"CIMLineSymbol":x&&(E=_.al.clone(),r?.logWarning?.(w,"Unsupported CIM line symbology converted to fallback 3D line symbology"));break;case"CIMPolygonSymbol":x&&(E=_.af.clone(),r?.logWarning?.(w,"Unsupported CIM polygon symbology converted to fallback 3D polygon symbology"))}if(!E)return{error:new s.A("symbol-conversion:unsupported-cim-symbol",`CIM symbol of type '${i||"unknown"}' is unsupported in 3D`,{symbol:t})}}else if(t instanceof f.A)E=a.A.fromSimpleLineSymbol(t);else if(t instanceof y.A)E=c.A.fromSimpleMarkerSymbol(t);else if(t instanceof d.A)E=c.A.fromPictureMarkerSymbol(t);else if(t instanceof h.A)E=r.geometryType&&"mesh"===r.geometryType?u.A.fromSimpleFillSymbol(t):p.A.fromSimpleFillSymbol(t);else{if(!(t instanceof m.A))return{error:new s.A("symbol-conversion:unsupported-2d-symbol",`2D symbol of type '${t.type||t.declaredClass}' is unsupported in 3D`,{symbol:t})};E=A?o.A.fromTextSymbol(t):c.A.fromTextSymbol(t)}return i&&E&&"cim"!==E.type&&(E.id=t.id),!S||"cim"===E.type||E instanceof g.A||E.symbolLayers.forEach(t=>t.ignoreDrivers=!0),{symbol:E}}},62761:(t,r,i)=>{i.d(r,{F_:()=>m,Xr:()=>M,a:()=>y,fE:()=>w,gc:()=>p}),i(57845);var s=i(61939),o=i(30225),a=i(25765);let u=new(i(6270)).R,d=[],c=u;function p(t){c.onAccessed(t)}let h=!1,f=!1;function y(t,r,i){if(h)return g(t,r,i);let s=null;return _(t),s=r.call(i),v(),s}function m(t,r){return y(u,t,r)}function g(t,r,i){let o=h;h=!0,_(t);let a=null;try{a=r.call(i)}catch(t){f&&s.A.getLogger("esri.core.accessorSupport.tracking").error(t)}return v(),h=o,a}function _(t){c=t,d.push(t)}function v(){let t=d.length;if(t>1){let r=d.pop();c=d[t-2],r.onTrackingEnd()}else if(1===t){let t=d.pop();c=u,t.onTrackingEnd()}else c=u}function w(t,r){if(r.flags&a.i.DepTrackingInitialized)return;r.flags|=a.i.DepTrackingInitialized;let i=f;f=!1,r.flags&a.i.AutoTracked?g(r.trackingTarget,r.metadata.get,t):M(t,r),f=i}let b=[];function M(t,r){r.flags&a.i.ExplicitlyTracking||(r.flags|=a.i.ExplicitlyTracking,g(r.trackingTarget,()=>{for(let i of r.metadata.dependsOn||b)if("string"!=typeof i||i.includes(".")){let r=(0,o.AH)(i);for(let i=0,s=t;i<r.length&&null!=s&&"object"==typeof s;++i)s=S(s,r[i],i!==r.length-1)}else S(t,i,!1)}),r.flags&=~a.i.ExplicitlyTracking)}function S(t,r,i){let s="?"===r[r.length-1]?r.slice(0,-1):r;if(null!=t.getItemAt||Array.isArray(t)){let r=parseInt(s,10);if(!isNaN(r))return Array.isArray(t)?t[r]:t.at(r)}let a=(0,o.oY)(t);if(a){let r=a.propertiesByName.get(s);r&&(p(r),w(t,r))}return i?t[s]:void 0}},63145:(t,r,i)=>{i.d(r,{D:()=>a});var s=i(21371);let o=[];function a(t,r){if((0,s.Wo)(t.url??""))return!0;let{wkid:i}=r;for(let r of o){if((t.version??0)>=r[0])break;if("function"==typeof r[1]&&(r[1]=r[1]()),r[1].has(i))return!1}return!0}o.push([10.91,()=>{let t=new Set([9709,9716,9741,9761,9766]);for(let r=9712;r<=9713;r++)t.add(r);for(let r=9748;r<=9749;r++)t.add(r);for(let r=20904;r<=20932;r++)t.add(r);for(let r=21004;r<=21032;r++)t.add(r);for(let r=21207;r<=21264;r++)t.add(r);for(let r=21307;r<=21364;r++)t.add(r);for(let r=23301;r<=23333;r++)t.add(r);for(let r=102759;r<=102760;r++)t.add(r);for(let r=102934;r<=102955;r++)t.add(r);return t}]),o.push([10.9,()=>{let t=new Set([9300,9354,9364,9367,9373,9377,9387,9456,9473,9498,9678,9680,29874,103599,103872,104028]);for(let r=9356;r<=9360;r++)t.add(r);for(let r=9404;r<=9407;r++)t.add(r);for(let r=9476;r<=9482;r++)t.add(r);for(let r=9487;r<=9494;r++)t.add(r);for(let r=9697;r<=9699;r++)t.add(r);return t}]),o.push([10.81,()=>{let t=new Set([9265,9333,103598,103699]);for(let r=9248;r<=9254;r++)t.add(r);for(let r=9271;r<=9273;r++)t.add(r);for(let r=9284;r<=9285;r++)t.add(r);for(let r=21453;r<=21463;r++)t.add(r);return t}]),o.push([10.8,()=>{let t=new Set([8088,8395,8428,8433,8531,8687,8692,8694,8699,8900,9003,9006,9009,9012,9017,9191]);for(let r=8035;r<=8036;r++)t.add(r);for(let r=8455;r<=8456;r++)t.add(r);for(let r=8518;r<=8529;r++)t.add(r);for(let r=8533;r<=8536;r++)t.add(r);for(let r=8538;r<=8540;r++)t.add(r);for(let r=8677;r<=8679;r++)t.add(r);for(let r=8902;r<=8903;r++)t.add(r);for(let r=8907;r<=8910;r++)t.add(r);for(let r=8949;r<=8951;r++)t.add(r);for(let r=8972;r<=8987;r++)t.add(r);for(let r=9039;r<=9040;r++)t.add(r);for(let r=9068;r<=9069;r++)t.add(r);for(let r=9140;r<=9141;r++)t.add(r);for(let r=9148;r<=9150;r++)t.add(r);for(let r=9153;r<=9159;r++)t.add(r);for(let r=9205;r<=9218;r++)t.add(r);for(let r=9221;r<=9222;r++)t.add(r);for(let r=54098;r<=54101;r++)t.add(r);return t}]),o.push([10.71,()=>{let t=new Set([6316]);for(let r=8351;r<=8353;r++)t.add(r);for(let r=9294;r<=9297;r++)t.add(r);for(let r=22619;r<=22621;r++)t.add(r);for(let r=103586;r<=103594;r++)t.add(r);return t}])},63188:(t,r,i)=>{var s;i.d(r,{v:()=>s}),function(t){t[t.INITIALIZING=0]="INITIALIZING",t[t.CONSTRUCTING=1]="CONSTRUCTING",t[t.CONSTRUCTED=2]="CONSTRUCTED",t[t.DESTROYED=3]="DESTROYED"}(s||(s={}))},63430:(t,r,i)=>{function s(t){return t}function o(t){return 1e3*t}function a(t){return t}function u(t){return .001*t}i.d(r,{Kp:()=>a,gr:()=>o,l5:()=>s,y:()=>u})},63599:(t,r,i)=>{i.d(r,{A:()=>g,B:()=>m,C:()=>h,D:()=>_,E:()=>f,F:()=>v,G:()=>z,H:()=>$,I:()=>j,L:()=>k,a:()=>V,b:()=>b,c:()=>u,d:()=>p,e:()=>C,f:()=>I,g:()=>c,h:()=>w,i:()=>d,j:()=>M,k:()=>A,l:()=>a,m:()=>R,n:()=>E,o:()=>U,p:()=>D,q:()=>P,r:()=>L,s:()=>S,t:()=>O,u:()=>x,v:()=>T,w:()=>N,x:()=>y,y:()=>G,z:()=>B});var s=i(56911),o=i(19461);function a(t){let r=t[0],i=t[1],s=t[2];return Math.sqrt(r*r+i*i+s*s)}function u(t,r){return t[0]=r[0],t[1]=r[1],t[2]=r[2],t}function d(t,r,i,s){return t[0]=r,t[1]=i,t[2]=s,t}function c(t,r,i){return t[0]=r[0]+i[0],t[1]=r[1]+i[1],t[2]=r[2]+i[2],t}function p(t,r,i){return t[0]=r[0]-i[0],t[1]=r[1]-i[1],t[2]=r[2]-i[2],t}function h(t,r,i){return t[0]=r[0]*i[0],t[1]=r[1]*i[1],t[2]=r[2]*i[2],t}function f(t,r,i){return t[0]=r[0]/i[0],t[1]=r[1]/i[1],t[2]=r[2]/i[2],t}function y(t,r){return t[0]=Math.abs(r[0]),t[1]=Math.abs(r[1]),t[2]=Math.abs(r[2]),t}function m(t,r){return t[0]=Math.sign(r[0]),t[1]=Math.sign(r[1]),t[2]=Math.sign(r[2]),t}function g(t,r,i){return t[0]=Math.min(r[0],i[0]),t[1]=Math.min(r[1],i[1]),t[2]=Math.min(r[2],i[2]),t}function _(t,r,i){return t[0]=Math.max(r[0],i[0]),t[1]=Math.max(r[1],i[1]),t[2]=Math.max(r[2],i[2]),t}function v(t,r=0,i=1){return t[0]=Math.min(Math.max(t[0],r),i),t[1]=Math.min(Math.max(t[1],r),i),t[2]=Math.min(Math.max(t[2],r),i),t}function w(t,r,i){return t[0]=r[0]*i,t[1]=r[1]*i,t[2]=r[2]*i,t}function b(t,r,i,s){return t[0]=r[0]+i[0]*s,t[1]=r[1]+i[1]*s,t[2]=r[2]+i[2]*s,t}function M(t,r){let i=r[0]-t[0],s=r[1]-t[1],o=r[2]-t[2];return Math.sqrt(i*i+s*s+o*o)}function S(t,r){let i=r[0]-t[0],s=r[1]-t[1],o=r[2]-t[2];return i*i+s*s+o*o}function A(t){let r=t[0],i=t[1],s=t[2];return r*r+i*i+s*s}function T(t,r){return t[0]=-r[0],t[1]=-r[1],t[2]=-r[2],t}function x(t,r){return t[0]=1/r[0],t[1]=1/r[1],t[2]=1/r[2],t}function E(t,r){let i=r[0],s=r[1],o=r[2],a=i*i+s*s+o*o;return a>0&&(a=1/Math.sqrt(a),t[0]=r[0]*a,t[1]=r[1]*a,t[2]=r[2]*a),t}function I(t,r){return t[0]*r[0]+t[1]*r[1]+t[2]*r[2]}function C(t,r,i){let s=r[0],o=r[1],a=r[2],u=i[0],d=i[1],c=i[2];return t[0]=o*c-a*d,t[1]=a*u-s*c,t[2]=s*d-o*u,t}function R(t,r,i,s){let o=r[0],a=r[1],u=r[2];return t[0]=o+s*(i[0]-o),t[1]=a+s*(i[1]-a),t[2]=u+s*(i[2]-u),t}function O(t,r,i){let s=r[0],o=r[1],a=r[2];return t[0]=i[0]*s+i[4]*o+i[8]*a+i[12],t[1]=i[1]*s+i[5]*o+i[9]*a+i[13],t[2]=i[2]*s+i[6]*o+i[10]*a+i[14],t}function P(t,r,i){let s=r[0],o=r[1],a=r[2];return t[0]=s*i[0]+o*i[3]+a*i[6],t[1]=s*i[1]+o*i[4]+a*i[7],t[2]=s*i[2]+o*i[5]+a*i[8],t}function N(t,r,i){let s=i[0],o=i[1],a=i[2],u=i[3],d=r[0],c=r[1],p=r[2],h=o*p-a*c,f=a*d-s*p,y=s*c-o*d,m=2*u;return t[0]=d+h*m+2*(o*y-a*f),t[1]=c+f*m+2*(a*h-s*y),t[2]=p+y*m+2*(s*f-o*h),t}function k(t,r,i,s){let o=[],a=[];return o[0]=r[0]-i[0],o[1]=r[1]-i[1],o[2]=r[2]-i[2],a[0]=o[0]*Math.cos(s)-o[1]*Math.sin(s),a[1]=o[0]*Math.sin(s)+o[1]*Math.cos(s),a[2]=o[2],t[0]=a[0]+i[0],t[1]=a[1]+i[1],t[2]=a[2]+i[2],t}function L(t,r){E(F,t),E(Z,r);let i=I(F,Z);return i>1?0:i<-1?Math.PI:Math.acos(i)}let F=(0,s.vt)(),Z=(0,s.vt)();function D(t,r){return t[0]===r[0]&&t[1]===r[1]&&t[2]===r[2]}function j(t,r){if(t===r)return!0;let i=t[0],s=t[1],a=t[2],u=r[0],d=r[1],c=r[2],p=(0,o.FD)();return Math.abs(i-u)<=p*Math.max(1,Math.abs(i),Math.abs(u))&&Math.abs(s-d)<=p*Math.max(1,Math.abs(s),Math.abs(d))&&Math.abs(a-c)<=p*Math.max(1,Math.abs(a),Math.abs(c))}function U(t,r,i){let s=i[0]-r[0],o=i[1]-r[1],a=i[2]-r[2],u=s*s+o*o+a*a;return u>0?(u=1/Math.sqrt(u),t[0]=s*u,t[1]=o*u,t[2]=a*u):(t[0]=0,t[1]=0,t[2]=0),t}let V=p,z=M,G=S,$=a,B=A;Object.freeze(Object.defineProperty({__proto__:null,abs:y,add:c,angle:L,bezier:function(t,r,i,s,o,a){let u=1-a,d=u*u,c=a*a,p=d*u,h=3*a*d,f=3*c*u,y=c*a;return t[0]=r[0]*p+i[0]*h+s[0]*f+o[0]*y,t[1]=r[1]*p+i[1]*h+s[1]*f+o[1]*y,t[2]=r[2]*p+i[2]*h+s[2]*f+o[2]*y,t},ceil:function(t,r){return t[0]=Math.ceil(r[0]),t[1]=Math.ceil(r[1]),t[2]=Math.ceil(r[2]),t},clamp:v,copy:u,cross:C,crossAndNormalize:function(t,r,i){let s=r[0],o=r[1],a=r[2],u=i[0],d=i[1],c=i[2],p=o*c-a*d,h=a*u-s*c,f=s*d-o*u,y=Math.sqrt(p*p+h*h+f*f);return t[0]=p/y,t[1]=h/y,t[2]=f/y,t},direction:U,dist:z,distance:M,div:f,divide:f,dot:I,equals:j,exactEquals:D,floor:function(t,r){return t[0]=Math.floor(r[0]),t[1]=Math.floor(r[1]),t[2]=Math.floor(r[2]),t},hermite:function(t,r,i,s,o,a){let u=a*a,d=u*(2*a-3)+1,c=u*(a-2)+a,p=u*(a-1),h=u*(3-2*a);return t[0]=r[0]*d+i[0]*c+s[0]*p+o[0]*h,t[1]=r[1]*d+i[1]*c+s[1]*p+o[1]*h,t[2]=r[2]*d+i[2]*c+s[2]*p+o[2]*h,t},inverse:x,len:$,length:a,lerp:R,max:_,min:g,mul:h,multiply:h,negate:T,normalize:E,random:function(t,r=1){let i=o.Ov,s=2*i()*Math.PI,a=2*i()-1,u=Math.sqrt(1-a*a)*r;return t[0]=Math.cos(s)*u,t[1]=Math.sin(s)*u,t[2]=a*r,t},rotateX:function(t,r,i,s){let o=[],a=[];return o[0]=r[0]-i[0],o[1]=r[1]-i[1],o[2]=r[2]-i[2],a[0]=o[0],a[1]=o[1]*Math.cos(s)-o[2]*Math.sin(s),a[2]=o[1]*Math.sin(s)+o[2]*Math.cos(s),t[0]=a[0]+i[0],t[1]=a[1]+i[1],t[2]=a[2]+i[2],t},rotateY:function(t,r,i,s){let o=[],a=[];return o[0]=r[0]-i[0],o[1]=r[1]-i[1],o[2]=r[2]-i[2],a[0]=o[2]*Math.sin(s)+o[0]*Math.cos(s),a[1]=o[1],a[2]=o[2]*Math.cos(s)-o[0]*Math.sin(s),t[0]=a[0]+i[0],t[1]=a[1]+i[1],t[2]=a[2]+i[2],t},rotateZ:k,round:function(t,r){return t[0]=Math.round(r[0]),t[1]=Math.round(r[1]),t[2]=Math.round(r[2]),t},scale:w,scaleAndAdd:b,set:d,sign:m,sqrDist:G,sqrLen:B,squaredDistance:S,squaredLength:A,str:function(t){return"vec3("+t[0]+", "+t[1]+", "+t[2]+")"},sub:V,subtract:p,transformMat3:P,transformMat4:O,transformQuat:N},Symbol.toStringTag,{value:"Module"}))},63875:(t,r,i)=>{i.d(r,{A:()=>h});var s,o=i(81856),a=i(92713),u=i(91838);i(57845),i(61939),i(33638);var d=i(12709),c=i(23356);let p=s=class extends a.A{constructor(t){super(t),this.description=null,this.label=null,this.minValue=null,this.maxValue=0,this.symbol=null}clone(){return new s({description:this.description,label:this.label,minValue:this.minValue,maxValue:this.maxValue,symbol:this.symbol?.clone()??null})}getMeshHash(){let t=JSON.stringify(this.symbol);return`${this.minValue}.${this.maxValue}.${t}`}};(0,o._)([(0,u.MZ)({type:String,json:{write:!0}})],p.prototype,"description",void 0),(0,o._)([(0,u.MZ)({type:String,json:{write:!0}})],p.prototype,"label",void 0),(0,o._)([(0,u.MZ)({type:Number,json:{read:{source:"classMinValue"},write:{target:"classMinValue"}}})],p.prototype,"minValue",void 0),(0,o._)([(0,u.MZ)({type:Number,json:{read:{source:"classMaxValue"},write:{target:"classMaxValue"}}})],p.prototype,"maxValue",void 0),(0,o._)([(0,u.MZ)(c.Wp)],p.prototype,"symbol",void 0);let h=p=s=(0,o._)([(0,d.$)("esri.renderers.support.ClassBreakInfo")],p)},64171:(t,r,i)=>{i.d(r,{A:()=>A});var s=i(81856),o=i(39166),a=i(32391),u=i(74652),d=i(61451),c=i(31551),p=i(61939),h=i(92753),f=i(90525),y=i(91838);i(57845),i(33638);var m=i(12709),g=i(61414),_=i(91463),v=i(48767);async function w(t){let r="portalItem"in t?t:{portalItem:t},{fromItem:s}=await i.e(9232).then(i.bind(i,9232));try{return await s(r)}catch(o){let t=r?.portalItem,i=t?.id||"unset",s=t?.portal?.url||v.A.portalUrl;throw p.A.getLogger("esri.layers.support.fromPortalItem").error("#fromPortalItem()","Failed to create layer from portal item (portal: '"+s+"', id: '"+i+"')",o),o}}var b=i(47840);let M=0,S=class extends u.A.EventedMixin(d.A.IdentifiableMixin(c.A)){constructor(){super(...arguments),this.attributionDataUrl=null,this.fullExtent=new g.A(-180,-90,180,90,_.A.WGS84),this.id=Date.now().toString(16)+"-layer-"+M++,this.legendEnabled=!0,this.listMode="show",this.opacity=1,this.parent=null,this.persistenceEnabled=!1,this.popupEnabled=!0,this.attributionVisible=!0,this.spatialReference=_.A.WGS84,this.title=null,this.type=null,this.url=null,this.visibilityTimeExtent=null,this.visible=!0}static async fromArcGISServerUrl(t){return(await i.e(1507).then(i.bind(i,51507))).fromUrl("string"==typeof t?{url:t}:t)}static fromPortalItem(t){return w(t)}initialize(){this.when().catch(t=>{(0,h.zf)(t)||p.A.getLogger(this).error("#load()",`Failed to load layer (title: '${this.title??"no title"}', id: '${this.id??"no id"}')`,{error:t})})}destroy(){let t=this.parent;t&&("layers"in t&&t.layers.includes(this)?t.layers.remove(this):"tables"in t&&t.tables.includes(this)?t.tables.remove(this):"baseLayers"in t&&t.baseLayers.includes(this)?t.baseLayers.remove(this):"referenceLayers"in t&&t.referenceLayers.includes(this)&&t.referenceLayers.remove(this),this._set("parent",null))}get effectiveVisible(){let t=this.visible,r=this.parent;return t&&r&&"effectiveVisible"in r&&(t&&=r.effectiveVisible),t}get hasAttributionData(){return null!=this.attributionDataUrl}get parsedUrl(){return(0,f.An)(this.url)}createLayerView(t,r){return Promise.reject(new a.A("layer:create-layer-view","Layer does not support creating a layer view"))}async fetchAttributionData(){let t=this.attributionDataUrl;if(this.hasAttributionData&&t)return(await (0,o.A)(t,{query:{f:"json"},responseType:"json"})).data;throw new a.A("layer:no-attribution-data","Layer does not have attribution data")}};(0,s._)([(0,y.MZ)({type:String})],S.prototype,"attributionDataUrl",void 0),(0,s._)([(0,y.MZ)({readOnly:!0})],S.prototype,"effectiveVisible",null),(0,s._)([(0,y.MZ)({type:g.A})],S.prototype,"fullExtent",void 0),(0,s._)([(0,y.MZ)({readOnly:!0})],S.prototype,"hasAttributionData",null),(0,s._)([(0,y.MZ)({type:String,clonable:!1})],S.prototype,"id",void 0),(0,s._)([(0,y.MZ)({type:Boolean,nonNullable:!0})],S.prototype,"legendEnabled",void 0),(0,s._)([(0,y.MZ)({type:["show","hide","hide-children"]})],S.prototype,"listMode",void 0),(0,s._)([(0,y.MZ)({type:Number,range:{min:0,max:1},nonNullable:!0})],S.prototype,"opacity",void 0),(0,s._)([(0,y.MZ)({clonable:!1})],S.prototype,"parent",void 0),(0,s._)([(0,y.MZ)({readOnly:!0})],S.prototype,"parsedUrl",null),(0,s._)([(0,y.MZ)({type:Boolean,readOnly:!0})],S.prototype,"persistenceEnabled",void 0),(0,s._)([(0,y.MZ)({type:Boolean})],S.prototype,"popupEnabled",void 0),(0,s._)([(0,y.MZ)({type:Boolean})],S.prototype,"attributionVisible",void 0),(0,s._)([(0,y.MZ)({type:_.A})],S.prototype,"spatialReference",void 0),(0,s._)([(0,y.MZ)({type:String})],S.prototype,"title",void 0),(0,s._)([(0,y.MZ)({readOnly:!0,json:{read:!1}})],S.prototype,"type",void 0),(0,s._)([(0,y.MZ)()],S.prototype,"url",void 0),(0,s._)([(0,y.MZ)({type:b.A})],S.prototype,"visibilityTimeExtent",void 0),(0,s._)([(0,y.MZ)({type:Boolean,nonNullable:!0})],S.prototype,"visible",void 0);let A=S=(0,s._)([(0,m.$)("esri.layers.Layer")],S)},64388:(t,r,i)=>{i.d(r,{Ci:()=>u,HQ:()=>o,XK:()=>a,aY:()=>s});let s=1,o=[0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1],a=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],u=256},64547:(t,r,i)=>{i.d(r,{Cb:()=>a,HW:()=>h,JR:()=>o,JZ:()=>c,WR:()=>d,b6:()=>f,fT:()=>s,nC:()=>p,yM:()=>u});let s=[252,146,31,255],o=[153,153,153,255],a={type:"esriSMS",style:"esriSMSCircle",size:6,color:s,outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[153,153,153,255]}},u={type:"esriSLS",style:"esriSLSSolid",width:.75,color:s},d={type:"esriSFS",style:"esriSFSSolid",color:[252,146,31,196],outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[255,255,255,191]}},c={type:"esriTS",color:[255,255,255,255],font:{family:"arial-unicode-ms",size:10,weight:"bold"},horizontalAlignment:"center",kerning:!0,haloColor:[0,0,0,255],haloSize:1,rotated:!1,text:"",xoffset:0,yoffset:0,angle:0},p={type:"esriSMS",style:"esriSMSCircle",color:[0,0,0,255],outline:null,size:10.5},h={type:"esriSLS",style:"esriSLSSolid",color:[0,0,0,255],width:1.5},f={type:"esriSFS",style:"esriSFSSolid",color:[0,0,0,255],outline:null}},65111:(t,r,i)=>{i.r(r),i.d(r,{canProjectWithoutEngine:()=>H,getTransformation:()=>U,getTransformations:()=>V,initializeProjection:()=>J,isEqualBaseGCS:()=>W,isLoaded:()=>O,isLoadedOrLoad:()=>P,isLoadedOrLoadFor:()=>N,load:()=>L,project:()=>F,projectExtent:()=>es,projectMany:()=>Z,projectMultipoint:()=>Q,projectOrLoad:()=>D,projectOrLoadMany:()=>j,projectPoint:()=>Y,projectPolygon:()=>ei,projectPolyline:()=>et,projectWithZConversion:()=>q,projectWithoutEngine:()=>K,requiresLoad:()=>k,test:()=>$,tryProjectWithZConversion:()=>B,unload:()=>G});var s=i(32391),o=i(92753),a=i(62761),u=i(24965),d=i(56911),c=i(70433),p=i(69752),h=i(61414),f=i(147),y=i(54143),m=i(39960),g=i(87960),_=i(65442),v=i(91463),w=i(70983),b=i(9245),M=i(86578),S=i(4078),A=i(71760),T=i(58546);let x=null,E=null,I=null,C={},R=new u.I;function O(){return!!x&&(0,y.i)()}function P(){return!!O()||((0,a.gc)(R),L(),!1)}function N(t,r){return!t||!r||H(t,r)||P()}function k(t,r){return!H(t,r)&&!O()}function L(t){return null==I&&(I=Promise.all([(0,y.l)(),Promise.all([i.e(472),i.e(8160)]).then(i.bind(i,71599)).then(t=>t.g),i.e(526).then(i.bind(i,10526))])),I.then(([,r,{hydratedAdapter:i}])=>{(0,o.Te)(t),E=i,(x=r.default)._enableProjection(y.p),R.notify()})}function F(t,r,i=null,s=null){return Array.isArray(t)?0===t.length?[]:((0,c.H)(t),Z(E,t,t[0].spatialReference,r,i,s)):((0,c.f)(t),Z(E,[t],t.spatialReference,r,i,s)[0])}function Z(t,r,i,s,o=null,a=null){if(null==i||null==s)return r;if(H(i,s,o))return r.map(t=>K(t,i,s));if(null==o&&(0,p.jA)(i))return r.map(t=>K(t,i,v.A.WGS84)).map(t=>B(t,s));if(null==o&&(0,p.jA)(s))return r.map(t=>B(t,v.A.WGS84)).map(t=>K(t,v.A.WGS84,s));if(null==o){let t=S.A.cacheKey(i,s);void 0!==C[t]?o=C[t]:(null==(o=U(i,s,void 0))&&(o=new S.A),C[t]=o)}if(null==x||null==t)throw new z;return null!=a?x._project(t,r,i,s,o,a):x._project(t,r,i,s,o)}function D(t,r){let i=j([t],r);return null!=i.pending?{pending:i.pending,geometry:null}:null!=i.geometries?{pending:null,geometry:i.geometries[0]}:{pending:null,geometry:null}}function j(t,r){if(!O()){for(let i of t)if(null!=i&&!(0,A.aI)(i.spatialReference,r)&&(0,A.fn)(i.spatialReference)&&(0,A.fn)(r)&&!H(i.spatialReference,r))return(0,a.gc)(R),{pending:L(),geometries:null}}return{pending:null,geometries:t.map(t=>null==t?null:(0,A.aI)(t.spatialReference,r)?t:(0,A.fn)(t.spatialReference)&&(0,A.fn)(r)?B(t,r):null)}}function U(t,r,i=null){if(null==t||null==r)return null;if(null==x||null==E)throw new z;let s=x._getTransformation(E,t,r,i,i?.spatialReference);return null!==s?S.A.fromGE(s):null}function V(t,r,i=null){if(null==x||null==E)throw new z;let s=x._getTransformationBySuitability(E,t,r,i,i?.spatialReference);if(null!==s){let t=[];for(let r of s)t.push(S.A.fromGE(r));return t}return[]}class z extends s.A{constructor(){super("projection:not-loaded","projection engine not fully loaded yet, please call load()")}}function G(){x=null,E=null,I=null,C={}}let $={get loadPromise(){return I}};function B(t,r){try{let i=F(t,r);if(null==i)return null;"xmin"in t&&"xmin"in i&&(i.zmin=t.zmin,i.zmax=t.zmax);let s=(0,T.N)(i.type,t.spatialReference,r);return null!=s&&s(i),i}catch(t){if(!(t instanceof z))throw t;return null}}async function q(t,r,i){let s=t.spatialReference;return null!=s&&null!=r&&await J(s,r,null,i),B(t,r)}function H(t,r,i){return!i&&(!!(0,A.aI)(t,r)||(0,A.fn)(t)&&(0,A.fn)(r)&&!!(0,b.jd)(t,r))}function W(t,r){if((0,A.aI)(t,r))return!0;if(!(0,A.fn)(t)||!(0,A.fn)(r))return!1;let i=(0,A.oT)(t)||(0,A.K8)(t)||(0,A.x1)(t),s=(0,A.oT)(r)||(0,A.K8)(r)||(0,A.x1)(r);return i&&s}async function J(t,r,i,s){if(O())return(0,o.NO)(s);if(Array.isArray(t)){for(let{source:r,dest:i,geographicTransformation:o}of t)if(r&&i&&!H(r,i,o))return L(s)}else if(t&&r&&!H(t,r,i))return L(s);return(0,o.NO)(s)}function K(t,r,i){return t?"x"in t?X(t,r,new m.A,i,0):"xmin"in t?eo(t,r,new h.A,i,0):"rings"in t?en(t,r,new g.A,i,0):"paths"in t?er(t,r,new _.A,i,0):"points"in t?ee(t,r,new f.A,i,0):null:null}function Y(t,r,i=r.spatialReference,s=0){return null!=i&&null!=t.spatialReference&&null!=X(t,t.spatialReference,r,i,s)}function X(t,r,i,s,o){el[0]=t.x,el[1]=t.y;let a=t.z;return el[2]=void 0!==a?a:o,(0,w.projectBuffer)(el,r,0,el,s,0)?(i.x=el[0],i.y=el[1],i.spatialReference=s,void 0!==a||(0,p.xP)(s)?(i.z=el[2],i.hasZ=!0):(i.z=void 0,i.hasZ=!1),void 0===t.m?(i.m=void 0,i.hasM=!1):(i.m=t.m,i.hasM=!0),i):null}function Q(t,r,i=r.spatialReference,s=0){return null!=t.spatialReference&&null!=i&&null!=ee(t,t.spatialReference,r,i,s)}function ee(t,r,i,s,o){let{points:a,hasZ:u,hasM:d}=t,c=[],h=a.length,f=[];for(let t of a)f.push(t[0],t[1],u?t[2]:o);if(!(0,w.projectBuffer)(f,r,0,f,s,0,h))return null;let y=u||(0,p.xP)(s);for(let t=0;t<h;++t){let r=3*t,i=f[r],s=f[r+1];y&&d?c.push([i,s,f[r+2],a[t][3]]):y?c.push([i,s,f[r+2]]):d?c.push([i,s,a[t][2]]):c.push([i,s])}return i.points=c,i.spatialReference=s,i.hasZ=u,i.hasM=d,i}function et(t,r,i=r.spatialReference,s=0){return null!=t.spatialReference&&null!=i&&null!=er(t,t.spatialReference,r,i,s)}function er(t,r,i,s,o){let{paths:a,hasZ:u,hasM:d}=t,c=[];if(!ea(a,u??!1,d??!1,r,c,s,o))return null;let h=u||(0,p.xP)(s);return i.paths=c,i.spatialReference=s,i.hasZ=h,i.hasM=d,i}function ei(t,r,i=r.spatialReference,s=0){return null!=t.spatialReference&&null!=i&&null!=en(t,t.spatialReference,r,i,s)}function en(t,r,i,s,o){let{rings:a,hasZ:u,hasM:d}=t,c=[];if(!ea(a,u??!1,d??!1,r,c,s,o))return null;let h=u||(0,p.xP)(s);return i.rings=c,i.spatialReference=s,i.hasZ=h,i.hasM=d,i}function es(t,r,i=r.spatialReference,s=0){return null!=t.spatialReference&&null!=i&&null!=eo(t,t.spatialReference,r,i,s)}function eo(t,r,i,s,o){let{xmin:a,ymin:u,xmax:d,ymax:c,hasZ:h,hasM:f}=t,y=h?t.zmin:o;if(!(0,M.L)(a,u,y,r,el,s))return null;let m=h||(0,p.xP)(s);i.xmin=el[0],i.ymin=el[1],m&&(i.zmin=el[2]);let g=h?t.zmax:o;return(0,M.L)(d,c,g,r,el,s)?(i.xmax=el[0],i.ymax=el[1],m&&(i.zmax=el[2]),f&&(i.mmin=t.mmin,i.mmax=t.mmax),i.spatialReference=s,i):null}function ea(t,r,i,s,o,a,u=0){let d=[];for(let i of t)for(let t of i)d.push(t[0],t[1],r?t[2]:u);if(!(0,w.projectBuffer)(d,s,0,d,a,0))return!1;let c=0;o.length=0;let h=r||(0,p.xP)(a);for(let r of t){let t=[];for(let s of r)h&&i?t.push([d[c++],d[c++],d[c++],s[3]]):h?t.push([d[c++],d[c++],d[c++]]):(i?t.push([d[c++],d[c++],s[2]]):t.push([d[c++],d[c++]]),c++);o.push(t)}return!0}let el=(0,d.vt)()},65372:(t,r,i)=>{i.d(r,{Y:()=>p});var s=i(81856),o=i(97135);i(61939);var a=i(86942);i(57845),i(33638),i(32391);var u=i(59106),d=i(12709),c=i(40211);let p=class extends c.X{_own(t){t.layer&&"remove"in t.layer&&t.layer!==this.owner&&t.layer.remove(t),t.layer=this.owner}_release(t){t.layer===this.owner&&(t.layer=null)}};(0,s._)([(0,u.u)({Type:o.A,ensureType:(0,a.dp)(o.A)})],p.prototype,"itemType",void 0),p=(0,s._)([(0,d.$)("esri.support.GraphicsCollection")],p)},65442:(t,r,i)=>{i.d(r,{A:()=>v});var s,o=i(81856),a=i(33715),u=i(91838);i(57845),i(61939);var d=i(12709),c=i(7780),p=i(61414),h=i(88070),f=i(39960),y=i(91463),m=i(1967),g=i(28580);let _=s=class extends h.A{constructor(t){super(function(t){var r;if(!t)return;let{paths:i,hasM:s,hasZ:o,spatialReference:a}=t;switch(i??=[],r=i,"number"==typeof r[0]?.[0]&&(i=[i]),i[0]?.[0]?.length){case 4:o??=!0,s??=!0;break;case 3:o??=!0!==s,s??=!o;break;default:o??=!1,s??=!1}return a??=y.A.WGS84,{...t,hasM:s,hasZ:o,paths:i,spatialReference:a}}(t)),this.curvePaths=void 0,this.paths=[],this.type="polyline"}get cache(){return this.commitProperty("curvePaths"),this.commitProperty("hasM"),this.commitProperty("hasZ"),this.commitProperty("paths"),this.commitProperty("spatialReference"),{}}writeCurvePaths(t,r){r.curvePaths=(0,a.o8)(t)}get extent(){let t=(0,m.Z3)(this),{spatialReference:r}=this;return t?new p.A({...t,spatialReference:r}):null}writePaths(t,r){r.paths=(0,a.o8)(this.paths)}addPath(t){if(!t)return;let r=this.paths,i=r.length;if(Array.isArray(t[0]))r[i]=t.slice();else{let s=[];for(let r=0,i=t.length;r<i;r++)s[r]=t[r].toArray();r[i]=s}return this.notifyChange("paths"),this}clone(){let t=new s;return t.spatialReference=this.spatialReference,t.paths=(0,a.o8)(this.paths),t.curvePaths=(0,a.o8)(this.curvePaths),t.hasZ=this.hasZ,t.hasM=this.hasM,t}getPoint(t,r){if(!this._validateInputs(t,r))return null;let i=this.paths[t][r],s=this.hasZ,o=this.hasM;return s&&!o?new f.A(i[0],i[1],i[2],void 0,this.spatialReference):o&&!s?new f.A(i[0],i[1],void 0,i[2],this.spatialReference):s&&o?new f.A(i[0],i[1],i[2],i[3],this.spatialReference):new f.A(i[0],i[1],this.spatialReference)}insertPoint(t,r,i){return this._validateInputs(t,r,!0)&&((0,g.h)(this,i),Array.isArray(i)||(i=i.toArray()),this.paths[t].splice(r,0,i),this.notifyChange("paths")),this}removePath(t){if(!this._validateInputs(t,null))return null;let r=this.paths.splice(t,1)[0],i=this.spatialReference,s=r.map(t=>new f.A(t,i));return this.notifyChange("paths"),s}removePoint(t,r){if(!this._validateInputs(t,r))return null;let i=new f.A(this.paths[t].splice(r,1)[0],this.spatialReference);return this.notifyChange("paths"),i}setPoint(t,r,i){return this._validateInputs(t,r)&&((0,g.h)(this,i),Array.isArray(i)||(i=i.toArray()),this.paths[t][r]=i,this.notifyChange("paths")),this}_validateInputs(t,r,i=!1){if(null==t||t<0||t>=this.paths.length)return!1;if(null!=r){let s=this.paths[t];if(i&&(r<0||r>s.length)||!i&&(r<0||r>=s.length))return!1}return!0}toJSON(t){return this.write({},t)}};(0,o._)([(0,u.MZ)({readOnly:!0})],_.prototype,"cache",null),(0,o._)([(0,u.MZ)({json:{write:!0,origins:{"portal-item":{write:!1},"web-map":{write:!1},"web-scene":{write:!1}}}})],_.prototype,"curvePaths",void 0),(0,o._)([(0,c.K)("curvePaths")],_.prototype,"writeCurvePaths",null),(0,o._)([(0,u.MZ)({readOnly:!0})],_.prototype,"extent",null),(0,o._)([(0,u.MZ)({type:[[[Number]]],json:{write:{isRequired:!0}}})],_.prototype,"paths",void 0),(0,o._)([(0,c.K)("paths")],_.prototype,"writePaths",null);let v=_=s=(0,o._)([(0,d.$)("esri.geometry.Polyline")],_);_.prototype.toJSON.isDefaultToJSON=!0},65588:(t,r,i)=>{i.d(r,{A:()=>f});var s,o=i(81856),a=i(70152),u=i(28690),d=i(91838);i(57845),i(61939),i(33638);var c=i(12709),p=i(28544);let h=s=class extends u.A{constructor(t){super(t),this.name=p.Tv,this.color=p.fT.clone(),this.haloColor=null,this.haloOpacity=p.Zs,this.fillOpacity=p.mA,this.shadowColor=p.xc.clone(),this.shadowOpacity=p.Ps,this.shadowDifference=p.d2,this.haloWidth=2.1,this.haloBlur=.8/this.haloWidth}equals(t){return this.color.equals(t.color)&&(this.haloColor||this.color).equals(t.haloColor||t.color)&&this.haloOpacity===t.haloOpacity&&this.fillOpacity===t.fillOpacity&&this.haloWidth===t.haloWidth&&this.haloBlur===t.haloBlur&&this.shadowColor.equals(t.shadowColor)&&this.shadowOpacity===t.shadowOpacity&&this.shadowDifference===t.shadowDifference}clone(){return new s({...this,color:this.color.clone(),haloColor:this.haloColor?.clone(),shadowColor:this.shadowColor?.clone()})}assignFrom(t){this.color=t.color.clone(),this.haloColor=t.haloColor?.clone(),this.haloOpacity=t.haloOpacity,this.fillOpacity=t.fillOpacity,this.shadowColor=t.shadowColor.clone(),this.shadowDifference=t.shadowDifference,this.shadowOpacity=t.shadowOpacity,this.haloBlur=t.haloBlur,this.haloWidth=t.haloWidth}};(0,o._)([(0,d.MZ)({type:String,constructOnly:!0,nonNullable:!0})],h.prototype,"name",void 0),(0,o._)([(0,d.MZ)({type:a.A,nonNullable:!0})],h.prototype,"color",void 0),(0,o._)([(0,d.MZ)({type:a.A})],h.prototype,"haloColor",void 0),(0,o._)([(0,d.MZ)({nonNullable:!0})],h.prototype,"haloOpacity",void 0),(0,o._)([(0,d.MZ)({nonNullable:!0})],h.prototype,"fillOpacity",void 0),(0,o._)([(0,d.MZ)({type:a.A,nonNullable:!0})],h.prototype,"shadowColor",void 0),(0,o._)([(0,d.MZ)({nonNullable:!0})],h.prototype,"shadowOpacity",void 0),(0,o._)([(0,d.MZ)({nonNullable:!0})],h.prototype,"shadowDifference",void 0),(0,o._)([(0,d.MZ)({nonNullable:!0})],h.prototype,"haloWidth",void 0),(0,o._)([(0,d.MZ)({nonNullable:!0})],h.prototype,"haloBlur",void 0);let f=h=s=(0,o._)([(0,c.$)("esri.views.support.HighlightOptions")],h)},65628:(t,r,i)=>{i.d(r,{A:()=>d});var s=i(81856),o=i(40941),a=i(91838);i(57845),i(61939),i(33638);var u=i(12709);let d=t=>{let r=class extends t{constructor(...t){super(...t),this.goToOverride=null,this.view=null}callGoTo(t){let{view:r}=this;return(0,o.Lw)(r),this.goToOverride?this.goToOverride(r,t):r.goTo(t.target,t.options)}};return(0,s._)([(0,a.MZ)()],r.prototype,"goToOverride",void 0),(0,s._)([(0,a.MZ)()],r.prototype,"view",void 0),r=(0,s._)([(0,u.$)("esri.widgets.support.GoTo")],r)}},65985:(t,r,i)=>{i.d(r,{hr:()=>o,ie:()=>p,uC:()=>d,wf:()=>c});var s=i(20538);class o{constructor(t,r){this.min=t,this.max=r,this.range=r-t}normalize(t,r=0,i=!1){return a(this.range,this.min,this.max,t,r,i)}clamp(t,r=0){return(0,s.qE)(t-r,this.min,this.max)+r}monotonic(t,r,i){return t<r?r:r+u(this.range,t-r,i)}minimalMonotonic(t,r,i){return a(this.range,t,t+this.range,r,i)}center(t,r,i){return r=this.monotonic(t,r,i),this.normalize((t+r)/2,i)}diff(t,r,i){return this.monotonic(t,r,i)-t}shortestSignedDiff(t,r){t=this.normalize(t);let i=(r=this.normalize(r))-t,s=r<t?this.minimalMonotonic(t,r)-t:r-this.minimalMonotonic(r,t);return Math.abs(i)<Math.abs(s)?i:s}contains(t,r,i){return r=this.minimalMonotonic(t,r),(i=this.minimalMonotonic(t,i))>t&&i<r}}function a(t,r,i,s,o=0,d=!1){return(s-=o)<r?s+=u(t,r-s):s>i&&(s-=u(t,s-i)),d&&s===i&&(s=r),s+o}function u(t,r,i=0){return Math.ceil((r-i)/t)*t+i}let d=new o(0,2*Math.PI),c=new o(-Math.PI,Math.PI),p=new o(0,360)},66342:(t,r,i)=>{i.d(r,{A:()=>x});var s,o=i(81856),a=i(71017),u=i(91838);i(57845),i(61939),i(33638);var d=i(12709);let c=class extends a.A{constructor(t){super(t),this.row=0,this.column=0,this.rows=1,this.columns=1}equals(t){return null!=t&&this.row===t.row&&this.rows===t.rows&&this.column===t.column&&this.columns===t.columns}};(0,o._)([(0,u.MZ)({type:Number,nonNullable:!0,json:{read:!1,write:!1}})],c.prototype,"row",void 0),(0,o._)([(0,u.MZ)({type:Number,nonNullable:!0,json:{read:!1,write:!1}})],c.prototype,"column",void 0),(0,o._)([(0,u.MZ)({type:Number,nonNullable:!0,json:{read:!1,write:!1}})],c.prototype,"rows",void 0),(0,o._)([(0,u.MZ)({type:Number,nonNullable:!0,json:{read:!1,write:!1}})],c.prototype,"columns",void 0);let p=c=(0,o._)([(0,d.$)("esri.CameraLayout")],c);var h=i(65985),f=i(92713),y=i(20538),m=i(16352),g=i(53480),_=i(7780),v=i(86942),w=i(39960);let b=class extends a.A.ClonableMixin(f.A){constructor(...t){super(...t),this.position=new w.A([0,0,0]),this.heading=0,this.tilt=0,this.fov=55,this.layout=new p}normalizeCtorArgs(t,r,i,s){if(t&&"object"==typeof t&&("x"in t||Array.isArray(t))){let o={position:t};return null!=r&&(o.heading=r),null!=i&&(o.tilt=i),null!=s&&(o.fov=s),o}return t}writePosition(t,r,i,s){let o=t.clone();o.x=(0,v.GB)(t.x||0),o.y=(0,v.GB)(t.y||0),o.z=t.hasZ?(0,v.GB)(t.z||0):t.z,r[i]=o.write({},s)}readPosition(t,r){let i=new w.A;return i.read(t,r),i.x=(0,v.GB)(i.x||0),i.y=(0,v.GB)(i.y||0),i.z=i.hasZ?(0,v.GB)(i.z||0):i.z,i}equals(t){return null!=t&&this.tilt===t.tilt&&this.heading===t.heading&&this.fov===t.fov&&this.position.equals(t.position)&&this.layout.equals(t.layout)}};(0,o._)([(0,u.MZ)({type:w.A,json:{write:{isRequired:!0}}})],b.prototype,"position",void 0),(0,o._)([(0,_.K)("position")],b.prototype,"writePosition",null),(0,o._)([(0,g.w)("position")],b.prototype,"readPosition",null),(0,o._)([(0,u.MZ)({type:Number,nonNullable:!0,json:{write:{isRequired:!0}}}),(0,m.w)(t=>h.ie.normalize((0,v.GB)(t)))],b.prototype,"heading",void 0),(0,o._)([(0,u.MZ)({type:Number,nonNullable:!0,json:{write:{isRequired:!0}}}),(0,m.w)(t=>(0,y.qE)((0,v.GB)(t),-180,180))],b.prototype,"tilt",void 0),(0,o._)([(0,u.MZ)({type:Number,nonNullable:!0,json:{default:55,write:!0}}),(0,m.w)(t=>(0,y.qE)((0,v.GB)(t,55),1,170))],b.prototype,"fov",void 0),(0,o._)([(0,u.MZ)({type:p,nonNullable:!0,json:{read:!1,write:!1}})],b.prototype,"layout",void 0);let M=b=(0,o._)([(0,d.$)("esri.Camera")],b);var S=i(31789),A=i(59879);let T=s=class extends f.A{constructor(t){super(t),this.rotation=0,this.scale=0,this.targetGeometry=null,this.camera=null}castRotation(t){return(t%=360)<0&&(t+=360),t}clone(){return new s({rotation:this.rotation,scale:this.scale,targetGeometry:null!=this.targetGeometry?this.targetGeometry.clone():null,camera:null!=this.camera?this.camera.clone():null})}};(0,o._)([(0,u.MZ)({type:Number,json:{write:!0,origins:{"web-map":{default:0,write:!0},"web-scene":{write:{overridePolicy:E}}}}})],T.prototype,"rotation",void 0),(0,o._)([(0,m.w)("rotation")],T.prototype,"castRotation",null),(0,o._)([(0,u.MZ)({type:Number,json:{write:!0,origins:{"web-map":{default:0,write:!0},"web-scene":{write:{overridePolicy:E}}}}})],T.prototype,"scale",void 0),(0,o._)([(0,u.MZ)({types:A.yR,json:{read:S.rS,write:!0,origins:{"web-scene":{read:S.rS,write:{overridePolicy:E}}}}})],T.prototype,"targetGeometry",void 0),(0,o._)([(0,u.MZ)({type:M,json:{write:!0,origins:{"web-scene":{write:{isRequired:!0}}}}})],T.prototype,"camera",void 0);let x=T=s=(0,o._)([(0,d.$)("esri.Viewpoint")],T);function E(){return{enabled:!this.camera}}},66377:(t,r,i)=>{i.d(r,{A:()=>c});var s=i(81856),o=i(92713),a=i(91838);i(57845),i(61939),i(33638);var u=i(12709);let d=class extends o.A{constructor(t){super(t),this.altText=null,this.caption="",this.title="",this.type=null}};(0,s._)([(0,a.MZ)({type:String,json:{write:!0}})],d.prototype,"altText",void 0),(0,s._)([(0,a.MZ)({type:String,json:{write:!0}})],d.prototype,"caption",void 0),(0,s._)([(0,a.MZ)({type:String,json:{write:!0}})],d.prototype,"title",void 0),(0,s._)([(0,a.MZ)({type:["image","bar-chart","column-chart","line-chart","pie-chart"],readOnly:!0,json:{read:!1,write:!0}})],d.prototype,"type",void 0);let c=d=(0,s._)([(0,u.$)("esri.popup.content.mixins.MediaInfo")],d)},66389:(t,r,i)=>{i.d(r,{gK:()=>d,rS:()=>c}),i(57845);var s=i(79516),o=i(95048),a=i(26474),u=i(58081);let d={key:"type",base:o.A,typeMap:{range:u.A,"coded-value":s.A,inherited:a.A}};function c(t){if(!t?.type)return null;switch(t.type){case"range":return u.A.fromJSON(t);case"codedValue":return s.A.fromJSON(t);case"inherited":return a.A.fromJSON(t)}return null}},66802:(t,r,i)=>{i.d(r,{A:()=>h});var s,o=i(81856),a=i(91838);i(57845),i(61939),i(33638);var u=i(12709),d=i(18106),c=i(37261);let p=s=class extends d.A{constructor(t){super(t),this.type="line-chart"}clone(){return new s({altText:this.altText,title:this.title,caption:this.caption,value:this.value?.clone()})}};(0,o._)([(0,a.MZ)({type:["line-chart"],readOnly:!0,json:{type:["linechart"],read:!1,write:{writer:c.U.write,isRequired:!0}}})],p.prototype,"type",void 0);let h=p=s=(0,o._)([(0,u.$)("esri.popup.content.LineChartMediaInfo")],p)},67347:(t,r,i)=>{i.d(r,{A:()=>h});var s=i(81856),o=i(71017),a=i(92713),u=i(91838),d=i(86942);i(57845),i(33638);var c=i(12709);let p=class extends o.A.ClonableMixin(a.A){constructor(t){super(t),this.title=null,this.description=null,this.type=null,this.associatedNetworkSourceId=null,this.associatedAssetGroup=null,this.associatedAssetType=null}};(0,s._)([(0,u.MZ)({type:String,json:{write:!0}})],p.prototype,"title",void 0),(0,s._)([(0,u.MZ)({type:String,json:{write:!0}})],p.prototype,"description",void 0),(0,s._)([(0,u.MZ)({type:["attachment","connectivity","container","content","structure"],json:{write:!0}})],p.prototype,"type",void 0),(0,s._)([(0,u.MZ)({type:Number,json:{type:d.jz,write:!0}})],p.prototype,"associatedNetworkSourceId",void 0),(0,s._)([(0,u.MZ)({type:Number,json:{type:d.jz,write:!0}})],p.prototype,"associatedAssetGroup",void 0),(0,s._)([(0,u.MZ)({type:Number,json:{type:d.jz,write:!0}})],p.prototype,"associatedAssetType",void 0);let h=p=(0,s._)([(0,c.$)("esri.popup.support.UtilityNetworkAssociationType")],p)},67546:(t,r,i)=>{i.d(r,{M:()=>s,a:()=>w,b:()=>M,e:()=>_,f:()=>d,i:()=>m,p:()=>g,r:()=>p,t:()=>c,w:()=>h});var s,o=i(57664),a=i(90525),u=i(47326);function d(t,r){let i=r?.url?.path;if(t&&i&&(t=(0,a.s2)(t,i,{preserveProtocolRelative:!0}),r.portalItem&&r.readResourcePaths)){let i=(0,a.V1)(t,r.portalItem.itemUrl);null!=i&&y.test(i)&&r.readResourcePaths.push(r.portalItem.resourceFromPath(i).path)}return(t=v(t,r?.portal))&&f.test(t)?w(t):t}function c(t,r,i=s.YES){if(null==(t=t&&f.test(t)?b(t):t))return t;!(0,a.oP)(t)&&r?.blockedRelativeUrls&&r.blockedRelativeUrls.push(t);let o=(0,a.s2)(t);if(r){let i=r.verifyItemRelativeUrls?.rootPath||r.url?.path;if(i){let s=v(i,r.portal),u=v(o,r.portal);null!=(o=(0,a.V1)(u,s,s))&&o!==u&&o!==t&&r.verifyItemRelativeUrls&&r.verifyItemRelativeUrls.writtenUrls.push(o)}}return o=_(o,r?.portal),(0,a.oP)(o)&&(o=(0,a.S8)(o)),r?.resources&&r?.portalItem&&!(0,a.oP)(o)&&!(0,a.DB)(o)&&i===s.YES&&r.resources.toKeep.push({resource:r.portalItem.resourceFromPath(o),compress:!1}),o}function p(t,r,i){return d(t,i)}function h(t,r,i,s){let o=c(t,s);void 0!==o&&(r[i]=o)}let f=/\/items\/([^/]+)\/resources\/(.*)/,y=/^\.\/resources\//;function m(t){let r=t?.match(f)??null;return r?.[1]??null}function g(t){let r=t?.match(f)??null;if(null==r)return null;let i=r[2],s=i.lastIndexOf("/");if(-1===s){let{path:t,extension:r}=(0,a.xw)(i);return{prefix:null,filename:t,extension:r}}let{path:o,extension:u}=(0,a.xw)(i.slice(s+1));return{prefix:i.slice(0,s),filename:o,extension:u}}function _(t,r){return r&&!r.isPortal&&r.urlKey&&r.customBaseUrl?(0,a.T1)(t,`${r.urlKey}.${r.customBaseUrl}`,r.portalHostname):t}function v(t,r){if(!r||r.isPortal||!r.urlKey||!r.customBaseUrl)return t;let i=`${r.urlKey}.${r.customBaseUrl}`,s=(0,a.Xq)();return(0,a.FX)(s,`${s.scheme}://${i}`)?(0,a.T1)(t,r.portalHostname,i):(0,a.T1)(t,i,r.portalHostname)}function w(t){if(!t)return t||null;let r=t;return r&&o.id&&!o.id.findCredential(r)&&(r=(r=(r=(r=(0,u.qG)(r)).replace(/^https?:\/\/www\.arcgis\.com/,"https://cdn.arcgis.com")).replace(/^https?:\/\/devext\.arcgis\.com/,"https://cdndev.arcgis.com")).replace(/^https?:\/\/qaext\.arcgis\.com/,"https://cdnqa.arcgis.com")),r}function b(t){if(!t)return t||null;let r=t;return(r=(r=(r=r.replace(/^https?:\/\/cdn\.arcgis\.com/,"https://www.arcgis.com")).replace(/^https?:\/\/cdndev\.arcgis\.com/,"https://devext.arcgis.com")).replace(/^https?:\/\/cdnqa\.arcgis\.com/,"https://qaext.arcgis.com"))&&o.id&&!o.id.findCredential(r)&&(r=(0,u.qG)(r)),r}!function(t){t[t.YES=0]="YES",t[t.NO=1]="NO"}(s||(s={}));let M=Object.freeze(Object.defineProperty({__proto__:null,get MarkKeep(){return s},ensureMainOnlineDomain:_,fromCDNUrl:b,fromJSON:d,itemIdFromResourceUrl:m,prefixAndFilenameFromResourceUrl:g,read:p,toCDNUrl:w,toJSON:c,write:h},Symbol.toStringTag,{value:"Module"}))},67844:(t,r,i)=>{i.d(r,{A:()=>v});var s,o=i(81856),a=i(54335),u=i(33715),d=i(91838);i(57845),i(61939);var c=i(33498),p=i(12709),h=i(16876),f=i(46567),y=i(5342),m=i(85225);let g=a.A.ofType({base:null,key:"type",typeMap:{text:f.A}}),_=s=class extends h.A{constructor(t){super(t),this.verticalOffset=null,this.callout=null,this.styleOrigin=null,this.symbolLayers=new g,this.type="label-3d"}supportsCallout(){return!0}hasVisibleCallout(){return(0,y.LH)(this)}hasVisibleVerticalOffset(){return(0,y.Yq)(this)}clone(){return new s({styleOrigin:(0,u.o8)(this.styleOrigin),symbolLayers:(0,u.o8)(this.symbolLayers),thumbnail:(0,u.o8)(this.thumbnail),callout:(0,u.o8)(this.callout),verticalOffset:(0,u.o8)(this.verticalOffset)})}static fromTextSymbol(t){return new s({symbolLayers:new a.A([f.A.fromTextSymbol(t)])})}};(0,o._)([(0,d.MZ)({type:m.A,json:{write:!0}})],_.prototype,"verticalOffset",void 0),(0,o._)([(0,d.MZ)(y.oG)],_.prototype,"callout",void 0),(0,o._)([(0,d.MZ)({json:{read:!1,write:!1}})],_.prototype,"styleOrigin",void 0),(0,o._)([(0,d.MZ)({type:g})],_.prototype,"symbolLayers",void 0),(0,o._)([(0,c.e)({LabelSymbol3D:"label-3d"},{readOnly:!0})],_.prototype,"type",void 0);let v=_=s=(0,o._)([(0,p.$)("esri.symbols.LabelSymbol3D")],_)},68266:(t,r,i)=>{i.d(r,{w:()=>c,z:()=>h});var s=i(32391),o=i(61939),a=i(21798);let u=()=>o.A.getLogger("esri.layers.support.labelingInfo"),d=/\[([^[\]]+)\]/gi;function c(t,r,i){return t?t.map(t=>{let s=new a.A;if(s.read(t,i),s.labelExpression){let t=r.fields||r.layerDefinition?.fields||this.fields;s.labelExpression=s.labelExpression.replaceAll(d,(r,i)=>`[${function(t,r){if(!r)return t;let i=t.toLowerCase();for(let t=0;t<r.length;t++){let s=r[t].name;if(s.toLowerCase()===i)return s}return t}(i,t)}]`)}return s}):null}let p={esriGeometryPoint:["above-right","above-center","above-left","center-center","center-left","center-right","below-center","below-left","below-right"],esriGeometryMultiPatch:["always-horizontal"],esriGeometryPolygon:["always-horizontal"],esriGeometryPolyline:["center-along","above-along","below-along"],esriGeometryMultipoint:null,esriGeometryEnvelope:null};function h(t,r){let i=[];for(let o of t){let t=o.labelPlacement,a=p[r];if(!o.symbol)return u().warn("No ILabelClass symbol specified."),[];if(!a)return u().error(new s.A("labeling:unsupported-geometry-type",`Unable to create labels for layer, geometry type '${r}' is not supported`)),[];if(a.includes(t))i.push(o);else{let s=a[0];t&&u().warn(`Found invalid label placement type ${t} for ${r}. Defaulting to ${s}`);let d=o.clone();d.labelPlacement=s,i.push(d)}}return i}},68547:(t,r,i)=>{i.d(r,{A:()=>c});var s=i(81856),o=i(92713),a=i(91838);i(57845),i(61939),i(33638);var u=i(12709);let d=class extends o.A{constructor(t){super(t),this.type=null}};(0,s._)([(0,a.MZ)({readOnly:!0,json:{read:!1,write:!0}})],d.prototype,"type",void 0);let c=d=(0,s._)([(0,u.$)("esri.rest.support.ColorRamp")],d)},68704:(t,r,i)=>{i.d(r,{A:()=>g});var s,o=i(81856),a=i(71017),u=i(30781),d=i(92713),c=i(91838),p=i(86942);i(57845),i(33638);var h=i(33498),f=i(12709);let y=(0,u.O)()({ascendingValues:"ascending-values",descendingValues:"descending-values"}),m=s=class extends a.A.ClonableMixin(d.A){static from(t){return(0,p.PZ)(s,t)}constructor(t){super(t),this.title=null,this.order=null}};(0,o._)([(0,c.MZ)({type:String,json:{write:!0}})],m.prototype,"title",void 0),(0,o._)([(0,h.e)(y)],m.prototype,"order",void 0);let g=m=s=(0,o._)([(0,f.$)("esri.renderers.support.RendererLegendOptions")],m)},68972:(t,r,i)=>{i.d(r,{A:()=>c});var s=i(81856),o=i(28690),a=i(91838);i(57845),i(61939),i(33638);var u=i(12709);let d=class extends o.A{constructor(){super(...arguments),this.SCHEDULER_LOG_SLOW_TASKS=!1,this.FEATURE_SERVICE_SNAPPING_SOURCE_TILE_TREE_SHOW_TILES=!1}};(0,s._)([(0,a.MZ)()],d.prototype,"SCHEDULER_LOG_SLOW_TASKS",void 0),(0,s._)([(0,a.MZ)()],d.prototype,"FEATURE_SERVICE_SNAPPING_SOURCE_TILE_TREE_SHOW_TILES",void 0);let c=new(d=(0,s._)([(0,u.$)("esri.views.support.debugFlags")],d))},69288:(t,r,i)=>{i.d(r,{r:()=>o});var s=i(70115);function o(t,r){if(!(this instanceof o))return new o(t,r);this._maxEntries=Math.max(4,t||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),r&&("function"==typeof r?this.toBBox=r:this._initFormat(r)),this.clear()}function a(t,r){u(t,0,t.children.length,r,t)}function u(t,r,i,s,o){o||(o=g(null)),o.minX=1/0,o.minY=1/0,o.maxX=-1/0,o.maxY=-1/0;for(var a,u=r;u<i;u++)a=t.children[u],d(o,t.leaf?s(a):a);return o}function d(t,r){return t.minX=Math.min(t.minX,r.minX),t.minY=Math.min(t.minY,r.minY),t.maxX=Math.max(t.maxX,r.maxX),t.maxY=Math.max(t.maxY,r.maxY),t}function c(t,r){return t.minX-r.minX}function p(t,r){return t.minY-r.minY}function h(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function f(t){return t.maxX-t.minX+(t.maxY-t.minY)}function y(t,r){return t.minX<=r.minX&&t.minY<=r.minY&&r.maxX<=t.maxX&&r.maxY<=t.maxY}function m(t,r){return r.minX<=t.maxX&&r.minY<=t.maxY&&r.maxX>=t.minX&&r.maxY>=t.minY}function g(t){return{children:t,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function _(t,r,i,o,a){for(var u,d=[r,i];d.length;)(i=d.pop())-(r=d.pop())<=o||(u=r+Math.ceil((i-r)/o/2)*o,(0,s.q)(t,u,r,i,a),d.push(r,u,u,i))}o.prototype={all:function(){return this._all(this.data,[])},search:function(t){var r=this.data,i=[],s=this.toBBox;if(!m(t,r))return i;for(var o,a,u,d,c=[];r;){for(o=0,a=r.children.length;o<a;o++)u=r.children[o],m(t,d=r.leaf?s(u):u)&&(r.leaf?i.push(u):y(t,d)?this._all(u,i):c.push(u));r=c.pop()}return i},collides:function(t){var r=this.data,i=this.toBBox;if(!m(t,r))return!1;for(var s,o,a,u,d=[];r;){for(s=0,o=r.children.length;s<o;s++)if(a=r.children[s],m(t,u=r.leaf?i(a):a)){if(r.leaf||y(t,u))return!0;d.push(a)}r=d.pop()}return!1},load:function(t){if(!t||!t.length)return this;if(t.length<this._minEntries){for(var r=0,i=t.length;r<i;r++)this.insert(t[r]);return this}var s=this._build(t.slice(),0,t.length-1,0);if(this.data.children.length)if(this.data.height===s.height)this._splitRoot(this.data,s);else{if(this.data.height<s.height){var o=this.data;this.data=s,s=o}this._insert(s,this.data.height-s.height-1,!0)}else this.data=s;return this},insert:function(t){return null!=t&&this._insert(t,this.data.height-1),this},clear:function(){return this.data=g([]),this},remove:function(t,r){if(null==t)return this;for(var i,s,o,a,u=this.data,d=this.toBBox(t),c=[],p=[];u||c.length;){if(u||(u=c.pop(),s=c[c.length-1],i=p.pop(),a=!0),u.leaf&&-1!==(o=function(t,r,i){if(!i)return r.indexOf(t);for(var s=0;s<r.length;s++)if(i(t,r[s]))return s;return -1}(t,u.children,r)))return u.children.splice(o,1),c.push(u),this._condense(c),this;a||u.leaf||!y(u,d)?s?(i++,u=s.children[i],a=!1):u=null:(c.push(u),p.push(i),i=0,s=u,u=u.children[0])}return this},toBBox:function(t){return t},compareMinX:c,compareMinY:p,toJSON:function(){return this.data},fromJSON:function(t){return this.data=t,this},_all:function(t,r){for(var i=[];t;)t.leaf?r.push.apply(r,t.children):i.push.apply(i,t.children),t=i.pop();return r},_build:function(t,r,i,s){var o,u=i-r+1,d=this._maxEntries;if(u<=d)return a(o=g(t.slice(r,i+1)),this.toBBox),o;s||(s=Math.ceil(Math.log(u)/Math.log(d)),d=Math.ceil(u/Math.pow(d,s-1))),(o=g([])).leaf=!1,o.height=s;var c,p,h,f,y=Math.ceil(u/d),m=y*Math.ceil(Math.sqrt(d));for(_(t,r,i,m,this.compareMinX),c=r;c<=i;c+=m)for(_(t,c,h=Math.min(c+m-1,i),y,this.compareMinY),p=c;p<=h;p+=y)f=Math.min(p+y-1,h),o.children.push(this._build(t,p,f,s-1));return a(o,this.toBBox),o},_chooseSubtree:function(t,r,i,s){for(var o,a,u,d,c,p,f,y;s.push(r),!r.leaf&&s.length-1!==i;){for(f=y=1/0,o=0,a=r.children.length;o<a;o++)c=h(u=r.children[o]),(p=(Math.max(u.maxX,t.maxX)-Math.min(u.minX,t.minX))*(Math.max(u.maxY,t.maxY)-Math.min(u.minY,t.minY))-c)<y?(y=p,f=c<f?c:f,d=u):p===y&&c<f&&(f=c,d=u);r=d||r.children[0]}return r},_insert:function(t,r,i){var s=this.toBBox,o=i?t:s(t),a=[],u=this._chooseSubtree(o,this.data,r,a);for(u.children.push(t),d(u,o);r>=0&&a[r].children.length>this._maxEntries;)this._split(a,r),r--;this._adjustParentBBoxes(o,a,r)},_split:function(t,r){var i=t[r],s=i.children.length,o=this._minEntries;this._chooseSplitAxis(i,o,s);var u=this._chooseSplitIndex(i,o,s),d=g(i.children.splice(u,i.children.length-u));d.height=i.height,d.leaf=i.leaf,a(i,this.toBBox),a(d,this.toBBox),r?t[r-1].children.push(d):this._splitRoot(i,d)},_splitRoot:function(t,r){this.data=g([t,r]),this.data.height=t.height+1,this.data.leaf=!1,a(this.data,this.toBBox)},_chooseSplitIndex:function(t,r,i){var s,o,a,d,c,p,f,y;for(p=f=1/0,s=r;s<=i-r;s++)d=function(t,r){var i=Math.max(t.minX,r.minX),s=Math.max(t.minY,r.minY);return Math.max(0,Math.min(t.maxX,r.maxX)-i)*Math.max(0,Math.min(t.maxY,r.maxY)-s)}(o=u(t,0,s,this.toBBox),a=u(t,s,i,this.toBBox)),c=h(o)+h(a),d<p?(p=d,y=s,f=c<f?c:f):d===p&&c<f&&(f=c,y=s);return y},_chooseSplitAxis:function(t,r,i){var s=t.leaf?this.compareMinX:c,o=t.leaf?this.compareMinY:p;this._allDistMargin(t,r,i,s)<this._allDistMargin(t,r,i,o)&&t.children.sort(s)},_allDistMargin:function(t,r,i,s){t.children.sort(s);var o,a,c=this.toBBox,p=u(t,0,r,c),h=u(t,i-r,i,c),y=f(p)+f(h);for(o=r;o<i-r;o++)a=t.children[o],d(p,t.leaf?c(a):a),y+=f(p);for(o=i-r-1;o>=r;o--)a=t.children[o],d(h,t.leaf?c(a):a),y+=f(h);return y},_adjustParentBBoxes:function(t,r,i){for(var s=i;s>=0;s--)d(r[s],t)},_condense:function(t){for(var r,i=t.length-1;i>=0;i--)0===t[i].children.length?i>0?(r=t[i-1].children).splice(r.indexOf(t[i]),1):this.clear():a(t[i],this.toBBox)},_initFormat:function(t){var r=["return a"," - b",";"];this.compareMinX=Function("a","b",r.join(t[0])),this.compareMinY=Function("a","b",r.join(t[1])),this.toBBox=Function("a","return {minX: a"+t[0]+", minY: a"+t[1]+", maxX: a"+t[2]+", maxY: a"+t[3]+"};")}}},69358:(t,r,i)=>{i.d(r,{A:()=>a});var s=i(62761),o=i(24965);class a{constructor(t){this._observable=new o.I,this._map=new Map(t)}get size(){return(0,s.gc)(this._observable),this._map.size}clear(){this._map.size>0&&(this._map.clear(),this._observable.notify())}delete(t){let r=this._map.delete(t);return r&&this._observable.notify(),r}entries(){return(0,s.gc)(this._observable),this._map.entries()}forEach(t,r){(0,s.gc)(this._observable),this._map.forEach((i,s)=>t.call(r,i,s,this),r)}get(t){return(0,s.gc)(this._observable),this._map.get(t)}has(t){return(0,s.gc)(this._observable),this._map.has(t)}keys(){return(0,s.gc)(this._observable),this._map.keys()}set(t,r){return this._map.set(t,r),this._observable.notify(),this}values(){return(0,s.gc)(this._observable),this._map.values()}[Symbol.iterator](){return(0,s.gc)(this._observable),this._map[Symbol.iterator]()}[Symbol.dispose](){this._observable.destroy()}get[Symbol.toStringTag](){return this._map[Symbol.toStringTag]}}},69720:(t,r,i)=>{i.d(r,{d:()=>T});var s=i(81856),o=i(91838);i(57845),i(61939),i(33638);var a=i(12709),u=i(39267),d=i(71017),c=i(92713),p=i(34184),h=i(7780),f=i(12073),y=i(76572),m=i(21798),g=i(73358);let _=class extends d.A.ClonableMixin(c.A){constructor(t){super(t),this.labelingInfo=null,this.labelsVisible=!0,this.renderer=null,this.visible=!0}};(0,s._)([(0,o.MZ)({type:[m.A],json:{write:!0}})],_.prototype,"labelingInfo",void 0),(0,s._)([(0,o.MZ)(y.kF)],_.prototype,"labelsVisible",void 0),(0,s._)([(0,o.MZ)({types:g.Hg,json:{write:!0}})],_.prototype,"renderer",void 0),(0,s._)([(0,o.MZ)({type:Boolean,json:{write:!0}})],_.prototype,"visible",void 0);let v=_=(0,s._)([(0,a.$)("esri.layers.support.TrackPartInfo")],_);var w=i(21221),b=i(1345),M=i(57421);let S=class extends d.A.ClonableMixin(c.A){constructor(t){super(t),this.enabled=!0,this.fields=[],this.latestObservations=new v({renderer:new w.A({symbol:b.UK.clone()})}),this.maxDisplayDuration=null,this.maxDisplayObservationsPerTrack=0,this.popupEnabled=!0,this.popupTemplate=null,this.previousObservations=new v({renderer:new w.A({symbol:b.UK.clone()})}),this.trackLines=new v({renderer:new w.A({symbol:b.A7.clone()})}),this.timeField="startTimeField"}writeFields(t,r,i){let s=t.filter(t=>"avg_angle"!==t.statisticType).map(t=>t.toJSON());(0,p.sM)(i,s,r)}};(0,s._)([(0,o.MZ)({type:Boolean,json:{write:!0}})],S.prototype,"enabled",void 0),(0,s._)([(0,o.MZ)({type:[f.A],json:{write:!0}})],S.prototype,"fields",void 0),(0,s._)([(0,h.K)("fields")],S.prototype,"writeFields",null),(0,s._)([(0,o.MZ)({type:v,json:{write:!0}})],S.prototype,"latestObservations",void 0),(0,s._)([(0,o.MZ)({type:M.A,json:{write:!0}})],S.prototype,"maxDisplayDuration",void 0),(0,s._)([(0,o.MZ)({type:Number,json:{write:!0}})],S.prototype,"maxDisplayObservationsPerTrack",void 0),(0,s._)([(0,o.MZ)(y.M6)],S.prototype,"popupEnabled",void 0),(0,s._)([(0,o.MZ)({type:u.A,json:{name:"popupInfo",write:!0}})],S.prototype,"popupTemplate",void 0),(0,s._)([(0,o.MZ)({type:v,json:{write:!0}})],S.prototype,"previousObservations",void 0),(0,s._)([(0,o.MZ)({type:v,json:{write:!0}})],S.prototype,"trackLines",void 0),(0,s._)([(0,o.MZ)({type:["timeReceived","startTimeField","endTimeField"],json:{read:!0,write:!0}})],S.prototype,"timeField",void 0);let A=S=(0,s._)([(0,a.$)("esri.layers.support.TrackInfo")],S),T=t=>{let r=class extends t{constructor(){super(...arguments),this.trackInfo=null}};return(0,s._)([(0,o.MZ)({type:A})],r.prototype,"trackInfo",void 0),r=(0,s._)([(0,a.$)("esri.layers.mixins.TrackableLayer")],r)}},69752:(t,r,i)=>{i.d(r,{FY:()=>d,LJ:()=>c,Ro:()=>p,fv:()=>u,jA:()=>g,tO:()=>y,xP:()=>_,y7:()=>m});var s=i(54015),o=i(71760);function a(t){return{wkt:`GEOCCS["Spherical geocentric",
    DATUM["Not specified",
      SPHEROID["Sphere",${t.radius},0]],
    PRIMEM["Greenwich",0.0,
      AUTHORITY["EPSG","8901"]],
    UNIT["m",1.0],
    AXIS["Geocentric X",OTHER],
    AXIS["Geocentric Y",EAST],
    AXIS["Geocentric Z",NORTH]
  ]`}}let u=a(s.$O),d=a(s.sH),c=a(s.Sw),p={wkt:`GEOCCS["WGS 84",
  DATUM["WGS_1984",
    SPHEROID["WGS 84",${s.$O.radius},298.257223563,
      AUTHORITY["EPSG","7030"]],
    AUTHORITY["EPSG","6326"]],
  PRIMEM["Greenwich",0,
    AUTHORITY["EPSG","8901"]],
  UNIT["m",1.0,
    AUTHORITY["EPSG","9001"]],
  AXIS["Geocentric X",OTHER],
  AXIS["Geocentric Y",OTHER],
  AXIS["Geocentric Z",NORTH],
  AUTHORITY["EPSG","4978"]
]`},h=d.wkt.toUpperCase(),f=c.wkt.toUpperCase();function y(t){if(null!=t&&(0,o.fn)(t)){let r=t.wkid,i=t.wkt2??t.wkt;if((0,o.tl)(r))return s.sH;let a=i?.toUpperCase();if(i&&a===h)return s.sH;if((0,o.ZL)(r)||a&&a===f)return s.Sw}return s.$O}function m(t){return(0,o.tl)(t)?s.sH:(0,o.ZL)(t)?s.Sw:s.$O}function g(t){return(0,o.aI)(t,u)}function _(t){return g(t)||(0,o.aI)(t,d)||(0,o.aI)(t,c)}},69931:(t,r,i)=>{i.d(r,{H_:()=>A,u4:()=>T,Oq:()=>E,lB:()=>x,eh:()=>S});var s=i(31461),o=i(54335),a=i(30781),u=i(48271),d=i(61939),c=i(94360),p=i(64388),h=i(65588),f=i(93446),y=i(87155),m=i(15494);let g=()=>d.A.getLogger("esri.views.2d.engine.webgl.painter.highlight.HighlightGradient"),_=[0,0,0,0];class v{constructor(){this.type="single",this._highlightOptions=new h.A,this._convertedHighlightOptions={fillColor:[0,0,0,0],outlineColor:[0,0,0,0],outlinePosition:0,outlineWidth:0,innerHaloWidth:0,outerHaloWidth:0},this._optionsShadeTexKey="",this._texelData=new Uint8Array(4*p.Ci),this._minMaxDistance=[0,0]}setHighlightOptions(t){this._highlightOptions=t}applyHighlightOptions(t,r){this._updateGradientTexture(t),t.bindTexture(this._shadeTex,c.CR),r.setUniform2fv("u_minMaxDistance",this._minMaxDistance)}destroy(){this._shadeTex?.dispose(),this._shadeTex=null}getReasonsWithGradients(){return[{activeReasons:(1<<c.U5)-1,activeGradient:this}]}_updateGradientTexture(t){var r,i,s;let o,a=(s=this._highlightOptions,`${s.color};${s.haloColor};${s.haloOpacity};${s.fillOpacity};${s.haloWidth};${s.haloBlur}`);if(a===this._optionsShadeTexKey)return;this._optionsShadeTexKey=a,r=this._highlightOptions,(i=this._convertedHighlightOptions).fillColor[0]=r.color.r/255,i.fillColor[1]=r.color.g/255,i.fillColor[2]=r.color.b/255,i.fillColor[3]=r.color.a,r.haloColor?(i.outlineColor[0]=r.haloColor.r/255,i.outlineColor[1]=r.haloColor.g/255,i.outlineColor[2]=r.haloColor.b/255,i.outlineColor[3]=r.haloColor.a):(i.outlineColor[0]=i.fillColor[0],i.outlineColor[1]=i.fillColor[1],i.outlineColor[2]=i.fillColor[2],i.outlineColor[3]=i.fillColor[3]),i.fillColor[3]*=r.fillOpacity,i.outlineColor[3]*=r.haloOpacity,i.fillColor[0]*=i.fillColor[3],i.fillColor[1]*=i.fillColor[3],i.fillColor[2]*=i.fillColor[3],i.outlineColor[0]*=i.outlineColor[3],i.outlineColor[1]*=i.outlineColor[3],i.outlineColor[2]*=i.outlineColor[3],i.outlineWidth=(1-r.haloBlur)*r.haloWidth,i.outerHaloWidth=r.haloBlur*r.haloWidth/2,i.innerHaloWidth=r.haloBlur*r.haloWidth/2,i.outlinePosition=0;let u=this._convertedHighlightOptions,d=u.outlinePosition-u.outlineWidth/2-u.outerHaloWidth,c=u.outlinePosition-u.outlineWidth/2,h=u.outlinePosition+u.outlineWidth/2,v=u.outlinePosition+u.outlineWidth/2+u.innerHaloWidth,w=Math.sqrt(Math.PI/2)*p.aY,b=Math.abs(d)>w?Math.round(10*(Math.abs(d)-w))/10:0,M=Math.abs(v)>w?Math.round(10*(Math.abs(v)-w))/10:0;b&&!M?g().error("The outer rim of the highlight is "+b+"px away from the edge of the feature; consider reducing some width values or shifting the outline position towards positive values (inwards)."):!b&&M?g().error("The inner rim of the highlight is "+M+"px away from the edge of the feature; consider reducing some width values or shifting the outline position towards negative values (outwards)."):b&&M&&g().error("The highlight is "+Math.max(b,M)+"px away from the edge of the feature; consider reducing some width values.");let S=[void 0,void 0,void 0,void 0];function A(t,r,i){S[0]=(1-i)*t[0]+i*r[0],S[1]=(1-i)*t[1]+i*r[1],S[2]=(1-i)*t[2]+i*r[2],S[3]=(1-i)*t[3]+i*r[3]}let{_texelData:T}=this;for(let t=0;t<p.Ci;++t)(o=d+t/(p.Ci-1)*(v-d))<d?(S[0]=0,S[1]=0,S[2]=0,S[3]=0):o<c?A(_,u.outlineColor,(o-d)/(c-d)):o<h?[S[0],S[1],S[2],S[3]]=u.outlineColor:o<v?A(u.outlineColor,u.fillColor,(o-h)/(v-h)):[S[0],S[1],S[2],S[3]]=u.fillColor,T[4*t]=255*S[0],T[4*t+1]=255*S[1],T[4*t+2]=255*S[2],T[4*t+3]=255*S[3];if(this._minMaxDistance[0]=d,this._minMaxDistance[1]=v,!this._shadeTex){let r=new m.R;r.wrapMode=f.pF.CLAMP_TO_EDGE,r.width=p.Ci,r.height=1,this._shadeTex=new y.g(t,r)}this._shadeTex.updateData(0,0,0,p.Ci,1,this._texelData)}}class w{constructor(){this.type="multi",this.gradients=[]}setHighlightOptions(t){for(let r=0;r<t.length;r++)this.gradients[r]||(this.gradients[r]=new v),this.gradients[r].setHighlightOptions(t[r]);for(let r=t.length+1;r<this.gradients.length;r++)this.gradients[r].destroy();this.gradients.length=t.length}destroy(){for(let t of this.gradients)t.destroy()}getReasonsWithGradients(){let t=1,r=[];for(let i=0;i<this.gradients.length;i++){let s=this.gradients[i];r.push({activeReasons:t,activeGradient:s}),t<<=1}return r}}var b=i(74723);let M=new a.J({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryMultiPatch:"multipatch",mesh:"mesh"});function S(t){return M.toJSON(t)}function A(t){let{bandCount:r,attributeTable:i,colormap:s,pixelType:o}=t.raster.rasterInfo;return 1===r&&(null!=i||null!=s||"u8"===o||"s8"===o)}function T(t,r){return null==r?(t?.destroy(),null):("single"===t?.type&&Array.isArray(r)&&(t.destroy(),t=null),"multi"!==t?.type||Array.isArray(r)||(t.destroy(),t=null),t||(t=Array.isArray(r)?new w:new v),Array.isArray(r)?"multi"===t.type&&t.setHighlightOptions(r):"single"===t.type&&t.setHighlightOptions(r),t)}function x(t,r,i,s){let{painter:o,highlightGradient:a}=t,{highlight:u}=o.effects;if(!a)return;let d=t.passOptions,c=a.getReasonsWithGradients();for(let a=0;a<c.length;a++){let d={...t,passOptions:{type:"highlight",activeGradient:null!=s?c[s].activeGradient:c[a].activeGradient,activeReasons:c[a].activeReasons,stepType:"burn",highlightAll:r}};if(u.bind(d),i(d),a<c.length-1){let o=0;for(let t=a+1;t<c.length;t++)o|=c[t].activeReasons;i({...t,passOptions:{type:"highlight",activeGradient:null!=s?c[s].activeGradient:c[a].activeGradient,activeReasons:o,stepType:"clear",highlightAll:r}})}let p={...t,passOptions:{type:"highlight",activeGradient:null!=s?c[s].activeGradient:c[a].activeGradient,activeReasons:c[a].activeReasons,stepType:"draw",highlightAll:r}};o.setPipelineState((0,b.Qu)(t)),o.updatePipelineState(t.context),u.draw(p),u.unbind()}t.passOptions=d}function E(t){if(!t)return[];let r=(0,u.DU)(t)?[t]:o.A.isCollection(t)?t.toArray():Array.isArray(t)?t:[];return r=r?.filter(s.Ru),0===(r?.length??0)?[]:r}},70115:(t,r,i)=>{function s(t,r,i,s,u){!function t(r,i,s,a,u){for(;a>s;){if(a-s>600){var d=a-s+1,c=i-s+1,p=Math.log(d),h=.5*Math.exp(2*p/3),f=.5*Math.sqrt(p*h*(d-h)/d)*(c-d/2<0?-1:1);t(r,i,Math.max(s,Math.floor(i-c*h/d+f)),Math.min(a,Math.floor(i+(d-c)*h/d+f)),u)}var y=r[i],m=s,g=a;for(o(r,s,i),u(r[a],y)>0&&o(r,s,a);m<g;){for(o(r,m,g),m++,g--;0>u(r[m],y);)m++;for(;u(r[g],y)>0;)g--}0===u(r[s],y)?o(r,s,g):o(r,++g,a),g<=i&&(s=g+1),i<=g&&(a=g-1)}}(t,r,i||0,s||t.length-1,u||a)}function o(t,r,i){var s=t[r];t[r]=t[i],t[i]=s}function a(t,r){return t<r?-1:+(t>r)}i.d(r,{q:()=>s})},70128:(t,r,i)=>{i.d(r,{EB:()=>y,Im:()=>function t(r){if(null==r)return!0;switch(r.type){case"complete":return!1;case"collection":for(let i of r.added)if(!t(i))return!1;for(let i of r.removed)if(!t(i))return!1;for(let i of r.changed)if(!t(i))return!1;return!0;case"partial":for(let i in r.diff)if(!t(r.diff[i]))return!1;return!0}},Mj:()=>f,Ui:()=>g,w2:()=>m});var s=i(28690),o=i(54335),a=i(30225);let u=new Set(["esri.Color","esri.portal.Portal","esri.symbols.support.Symbol3DAnchorPosition2D","esri.symbols.support.Symbol3DAnchorPosition3D"]);function d(t){return t instanceof s.A}function c(t){return t instanceof o.A?Object.keys(t.items):d(t)?(0,a.oY)(t).keys():t?Object.keys(t):[]}function p(t,r){return t instanceof o.A?t.items[r]:t[r]}function h(t){return t?t.declaredClass:null}function f(t,r){return y(t,r)}function y(t,r){if(null==t)return!1;let i=r.split("."),s=t;for(let t of i){if("complete"===s.type)break;if("partial"!==s.type)return!1;{let r=s.diff[t];if(!r)return!1;s=r}}return!0}function m(t,r){if(!t)return!1;if("partial"===t.type){let i=Object.keys(t.diff);return 1===i.length&&i[0]===r}return!1}function g(t,r){if("function"!=typeof t&&"function"!=typeof r&&(null!=t||null!=r))return null==t||null==r||"object"==typeof t&&"object"==typeof r&&h(t)!==h(r)?{type:"complete",oldValue:t,newValue:r}:function t(r,i){let s,o=r.diff;if(o&&"function"==typeof o)return o(r,i);let a=c(r),f=c(i);if(0===a.length&&0===f.length)return;if(!a.length||!f.length||!(!Array.isArray(r)||!Array.isArray(i))&&r.length!==i.length)return{type:"complete",oldValue:r,newValue:i};let y=f.filter(t=>!a.includes(t)),m=a.filter(t=>!f.includes(t)),g=a.filter(t=>f.includes(t)&&p(r,t)!==p(i,t)).concat(y,m).sort(),_=h(r);if(_&&u.has(_)&&g.length)return{type:"complete",oldValue:r,newValue:i};let v=d(r)&&d(i);for(let a of g){let u,d=p(r,a),c=p(i,a);if((v||"function"!=typeof d&&"function"!=typeof c)&&d!==c&&(null!=d||null!=c)){if(o&&o[a]&&"function"==typeof o[a])u=o[a]?.(d,c);else if(d instanceof Date&&c instanceof Date){if(d.getTime()===c.getTime())continue;u={type:"complete",oldValue:d,newValue:c}}else u="object"==typeof d&&"object"==typeof c&&h(d)===h(c)?t(d,c):{type:"complete",oldValue:d,newValue:c};null!=u&&(null!=s?s.diff[a]=u:s={type:"partial",diff:{[a]:u}})}}return s}(t,r)}},70152:(t,r,i)=>{i.d(r,{A:()=>p});var s=i(50737),o=i(20538),a=i(86942);function u(t){return(0,o.qE)((0,a.Vr)(t),0,255)}function d(t,r,i){return isNaN(t=Number(t))?i:t<r?r:t>i?i:t}function c(t,r){let i=t.toString(16).padStart(2,"0");return r?i.slice(0,1):i}class p{static blendColors(t,r,i,s=new p){return s.r=Math.round(t.r+(r.r-t.r)*i),s.g=Math.round(t.g+(r.g-t.g)*i),s.b=Math.round(t.b+(r.b-t.b)*i),s.a=t.a+(r.a-t.a)*i,s._sanitize()}static fromRgb(t,r){let i=t.toLowerCase().match(/^(rgba?|hsla?)\(([\s.\-,%0-9]+)\)/);if(i){let t=i[2].split(/\s*,\s*/),o=i[1];if("rgb"===o&&3===t.length||"rgba"===o&&4===t.length){let i=t[0];if("%"===i.charAt(i.length-1)){let i=t.map(t=>2.56*parseFloat(t));return 4===t.length&&(i[3]=parseFloat(t[3])),p.fromArray(i,r)}return p.fromArray(t.map(t=>parseFloat(t)),r)}if("hsl"===o&&3===t.length||"hsla"===o&&4===t.length)return p.fromArray((0,s.z$)(parseFloat(t[0]),parseFloat(t[1])/100,parseFloat(t[2])/100,parseFloat(t[3])),r)}return null}static fromHex(t,r=new p){if("#"!==t[0]||isNaN(Number(`0x${t.slice(1)}`)))return null;switch(t.length){case 4:case 5:{let i=parseInt(t.slice(1,2),16),s=parseInt(t.slice(2,3),16),o=parseInt(t.slice(3,4),16),a=5===t.length?15:parseInt(t.slice(4),16);return p.fromArray([i+16*i,s+16*s,o+16*o,(a+16*a)/255],r)}case 7:case 9:{let i=parseInt(t.slice(1,3),16),s=parseInt(t.slice(3,5),16),o=parseInt(t.slice(5,7),16),a=7===t.length?255:parseInt(t.slice(7),16);return p.fromArray([i,s,o,a/255],r)}default:return null}}static fromArray(t,r=new p){return r._set(Number(t[0]),Number(t[1]),Number(t[2]),Number(t[3])),isNaN(r.a)&&(r.a=1),r._sanitize()}static fromString(t,r){let i=(0,s.V6)(t)?(0,s.TS)(t):null;return i&&p.fromArray(i,r)||p.fromRgb(t,r)||p.fromHex(t,r)}static fromJSON(t){return null!=t?new p([t[0],t[1],t[2],(t[3]??255)/255]):void 0}static toUnitRGB(t){return null!=t?[t.r/255,t.g/255,t.b/255]:null}static toUnitRGBA(t){return null!=t?[t.r/255,t.g/255,t.b/255,null!=t.a?t.a:1]:null}constructor(t){this.r=255,this.g=255,this.b=255,this.a=1,t&&this.setColor(t)}get isBright(){return .299*this.r+.587*this.g+.114*this.b>=127}setColor(t){return"string"==typeof t?p.fromString(t,this):Array.isArray(t)?p.fromArray(t,this):(this._set(t.r??0,t.g??0,t.b??0,t.a??1),t instanceof p||this._sanitize()),this}toRgb(){return[this.r,this.g,this.b]}toRgba(){return[this.r,this.g,this.b,this.a]}toHex(t){let r=t?.capitalize??!1,i=t?.digits??6,s=3===i||4===i,o=`#${c(this.r,s)}${c(this.g,s)}${c(this.b,s)}${4===i||8===i?c(Math.round(255*this.a),s):""}`;return r?o.toUpperCase():o}toCss(t=!1){let r=this.r+", "+this.g+", "+this.b;return t?`rgba(${r}, ${this.a})`:`rgb(${r})`}toString(){return this.toCss(!0)}toJSON(){return this.toArray()}toArray(t=p.AlphaMode.ALWAYS){let r=u(this.r),i=u(this.g),s=u(this.b);return t===p.AlphaMode.ALWAYS||1!==this.a?[r,i,s,u(255*this.a)]:[r,i,s]}clone(){return new p(this.toRgba())}hash(){return this.r<<24|this.g<<16|this.b<<8|255*this.a}equals(t){return null!=t&&t.r===this.r&&t.g===this.g&&t.b===this.b&&t.a===this.a}_sanitize(){return this.r=Math.round(d(this.r,0,255)),this.g=Math.round(d(this.g,0,255)),this.b=Math.round(d(this.b,0,255)),this.a=d(this.a,0,1),this}_set(t,r,i,s){this.r=t,this.g=r,this.b=i,this.a=s}}p.prototype.declaredClass="esri.Color",function(t){var r;(r=t.AlphaMode||(t.AlphaMode={}))[r.ALWAYS=0]="ALWAYS",r[r.UNLESS_OPAQUE=1]="UNLESS_OPAQUE"}(p)},70429:(t,r,i)=>{i.d(r,{X_:()=>a,i1:()=>u,oW:()=>c,zx:()=>d});var s=i(20538),o=i(8922);function a(t,r){let i=r||t.extent,s=t.width,a=(0,o.GA)(i?.spatialReference);return i&&s?i.width/s*a*o.dy*96:0}function u(t,r){return t/((0,o.GA)(r)*o.dy*96)}function d(t,r,i){var o,a,u,d;return o=t,(0===(a=r)||(0,s.Sp)(o,a)||o<a)&&(u=t,0===(d=i)||(0,s.Sp)(u,d)||u>d)}function c(t,r){return(0,s.Sp)(t,r)?0:(t||Number.POSITIVE_INFINITY)>(r||Number.POSITIVE_INFINITY)?1:-1}},70433:(t,r,i)=>{i.d(r,{H:()=>a,f:()=>o});var s=i(32391);function o(t){if(t&&"object"==typeof t&&"type"in t&&"mesh"===t.type)throw new s.A("Mesh geometries are not supported for this operation")}function a(t){t.forEach(o)}},70442:(t,r,i)=>{i.d(r,{B:()=>m,e:()=>g});var s=i(81856),o=i(91838);i(57845),i(61939),i(33638);var a=i(53480),u=i(12709),d=i(89800),c=i(39265),p=i(18845),h=i(61200),f=i(47840),y=i(57421);let m={type:Boolean,json:{read:{source:"timeAnimation"},write:{target:"timeAnimation",layerContainerTypes:d.K}}},g=t=>{let r=class extends t{constructor(){super(...arguments),this.timeExtent=null,this.timeOffset=null,this.useViewTime=!0}readOffset(t,r){let i=r.timeInfo.exportOptions;if(!i)return null;let s=i.timeOffset,o=h.j.fromJSON(i.timeOffsetUnits);return s&&o?new y.A({value:s,unit:o}):null}set timeInfo(t){(0,c.sv)(t,this.fieldsIndex),this._set("timeInfo",t)}};return(0,s._)([(0,o.MZ)({type:f.A,json:{write:!1}})],r.prototype,"timeExtent",void 0),(0,s._)([(0,o.MZ)({type:y.A})],r.prototype,"timeOffset",void 0),(0,s._)([(0,a.w)("service","timeOffset",["timeInfo.exportOptions"])],r.prototype,"readOffset",null),(0,s._)([(0,o.MZ)({value:null,type:p.A,json:{write:!0,origins:{"web-document":{read:!1,write:!1},"portal-item":{read:!1,write:!1}}}})],r.prototype,"timeInfo",null),(0,s._)([(0,o.MZ)(m)],r.prototype,"useViewTime",void 0),r=(0,s._)([(0,u.$)("esri.layers.mixins.TemporalLayer")],r)}},70881:(t,r,i)=>{i.d(r,{A:()=>c});var s=i(81856),o=i(91838);i(57845),i(61939),i(33638);var a=i(12709),u=i(86790);let d=class extends u.A{constructor(t){super(t),this.filterBarriers=[],this.arcadeExpressionBarrier=null,this.domainNetworkName=null,this.filterBitsetNetworkAttributeName=null,this.filterFunctionBarriers=[],this.filterScope=null,this.includeContainers=null,this.includeContent=null,this.includeIsolated=null,this.includeStructures=null,this.allowIndeterminateFlow=null,this.includeUpToFirstSpatialContainer=null,this.nearestNeighbor=null,this.outputFilterCategories=[],this.outputFilters=[],this.propagators=[],this.subnetworkName=null,this.targetTierName=null,this.diagramTemplateName=null,this.tierName=null,this.validateLocatability=null}};(0,s._)([(0,o.MZ)({type:[Object],json:{write:!0}})],d.prototype,"filterBarriers",void 0),(0,s._)([(0,o.MZ)({type:String,json:{write:!0}})],d.prototype,"arcadeExpressionBarrier",void 0),(0,s._)([(0,o.MZ)({type:String,json:{write:!0}})],d.prototype,"domainNetworkName",void 0),(0,s._)([(0,o.MZ)({type:String,json:{write:!0}})],d.prototype,"filterBitsetNetworkAttributeName",void 0),(0,s._)([(0,o.MZ)({type:[Object],json:{write:!0}})],d.prototype,"filterFunctionBarriers",void 0),(0,s._)([(0,o.MZ)({type:["junctions","edges","junctionsAndEdges"],json:{write:!0}})],d.prototype,"filterScope",void 0),(0,s._)([(0,o.MZ)({type:Boolean,json:{write:!0}})],d.prototype,"includeContainers",void 0),(0,s._)([(0,o.MZ)({type:Boolean,json:{write:!0}})],d.prototype,"includeContent",void 0),(0,s._)([(0,o.MZ)({type:Boolean,json:{write:!0}})],d.prototype,"includeIsolated",void 0),(0,s._)([(0,o.MZ)({type:Boolean,json:{write:!0}})],d.prototype,"includeStructures",void 0),(0,s._)([(0,o.MZ)({type:Boolean,json:{write:!0}})],d.prototype,"allowIndeterminateFlow",void 0),(0,s._)([(0,o.MZ)({type:Boolean,json:{write:!0}})],d.prototype,"includeUpToFirstSpatialContainer",void 0),(0,s._)([(0,o.MZ)({type:Object,json:{write:!0}})],d.prototype,"nearestNeighbor",void 0),(0,s._)([(0,o.MZ)({type:[Object],json:{write:!0}})],d.prototype,"outputFilterCategories",void 0),(0,s._)([(0,o.MZ)({type:[Object],json:{write:!0}})],d.prototype,"outputFilters",void 0),(0,s._)([(0,o.MZ)({type:[Object],json:{write:!0}})],d.prototype,"propagators",void 0),(0,s._)([(0,o.MZ)({type:String,json:{write:!0}})],d.prototype,"subnetworkName",void 0),(0,s._)([(0,o.MZ)({type:String,json:{write:!0}})],d.prototype,"targetTierName",void 0),(0,s._)([(0,o.MZ)({type:String,json:{write:!0}})],d.prototype,"diagramTemplateName",void 0),(0,s._)([(0,o.MZ)({type:String,json:{write:!0}})],d.prototype,"tierName",void 0),(0,s._)([(0,o.MZ)({type:Boolean,json:{write:!0}})],d.prototype,"validateLocatability",void 0);let c=d=(0,s._)([(0,a.$)("esri.networks.support.UNTraceConfiguration")],d)},70983:(t,r,i)=>{i.r(r),i.d(r,{projectBuffer:()=>o});var s=i(9245);function o(t,r,i,a,u,d,c=Math.floor(t.length/3)){let p=(0,s.jd)(r,u);if(null==p)return!1;if(p===s.pO){if(t===a&&i===d)return!0;let r=i+3*c;for(let s=i,o=d;s<r;s++,o++)a[o]=t[s];return!0}let h=i+3*c;for(let r=i,s=d;r<h;r+=3,s+=3)p(t,r,a,s);return!0}},71017:(t,r,i)=>{i.d(r,{A:()=>y});var s=i(81856),o=i(28690);i(57845);var a=i(33715);i(61939);var u=i(40941),d=i(44151),c=i(30225),p=i(12709);let h=t=>{let r=class extends t{clone(){let t=(0,c.oY)(this);(0,u.Lw)(t,"unable to clone instance of non-accessor class");let r=t.metadata,i=t.store,s={},o=new Map;for(let t in r){let u=r[t],c=i?.originOf(t),p=u.clonable;if(u.readOnly||!1===p||c!==d.Gr.USER&&c!==d.Gr.DEFAULTS&&c!==d.Gr.WEB_MAP&&c!==d.Gr.WEB_SCENE)continue;let h=this[t],f=null;f="function"==typeof p?p(h):"reference"===p?h:(0,a.TU)(h),null!=h&&null==f||(c===d.Gr.DEFAULTS?o.set(t,f):s[t]=f)}let p=new(0,Object.getPrototypeOf(this).constructor)(s);if(o.size){let t=(0,c.oY)(p)?.store;if(t)for(let[r,i]of o)t.set(r,i,d.Gr.DEFAULTS)}return p}};return(0,s._)([(0,p.$)("esri.core.Clonable")],r)},f=class extends h(o.A){};((f=(0,s._)([(0,p.$)("esri.core.Clonable")],f))||(f={})).ClonableMixin=h;let y=f},71086:(t,r,i)=>{i.d(r,{BR:()=>_,CF:()=>g,Eq:()=>h,F2:()=>u,Ov:()=>f,Sv:()=>d,TU:()=>p,W_:()=>y,XX:()=>c,tk:()=>v,wI:()=>m,yZ:()=>a});var s=i(57664),o=i(39166);function a(t){return null!=t&&"object"==typeof t&&"type"in t&&"feature"===t.type}function u(t){return null!=t&&"object"==typeof t&&"type"in t&&"subtype-group"===t.type&&"sublayers"in t}function d(t){return"subtype-sublayer"===t?.type}let c={Point:"SceneLayer","3DObject":"SceneLayer",IntegratedMesh:"IntegratedMeshLayer",PointCloud:"PointCloudLayer",Building:"BuildingSceneLayer"};function p(t){let r=t?.type;return"building-scene"===r||"integrated-mesh"===r||"point-cloud"===r||"scene"===r}function h(t){return"integrated-mesh"===t||"integrated-mesh-3dtiles"===t}function f(t){return"feature"===t?.type&&!t.url&&"memory"===t.source?.type}function y(t){let r=t?.type;return("feature"===r||"subtype-group"===r||"oriented-imagery"===r)&&"feature-layer"===t?.source?.type}async function m(t,r){let i=s.id?.findServerInfo(t);if(null!=i?.currentVersion)return i.owningSystemUrl||null;let a=t.toLowerCase().indexOf("/rest/services");if(-1===a)return null;let u=`${t.slice(0,a)}/rest/info`,d=null!=r?r.signal:null,{data:c}=await (0,o.A)(u,{query:{f:"json"},responseType:"json",signal:d});return c?.owningSystemUrl||null}function g(t){if(!("capabilities"in t))return!1;switch(t.type){case"catalog":case"catalog-footprint":case"csv":case"feature":case"geojson":case"imagery":case"knowledge-graph-sublayer":case"ogc-feature":case"oriented-imagery":case"scene":case"sublayer":case"subtype-group":case"subtype-sublayer":case"wfs":return!0;default:return!1}}function _(t){return g(t)?"effectiveCapabilities"in t?t.effectiveCapabilities:t.capabilities:null}function v(t){return!!function(t){if(!("editingEnabled"in t))return!1;switch(t.type){case"csv":case"feature":case"geojson":case"oriented-imagery":case"scene":case"subtype-group":case"subtype-sublayer":return!0;default:return!1}}(t)&&("effectiveEditingEnabled"in t?t.effectiveEditingEnabled:t.editingEnabled)}},71230:(t,r,i)=>{i.d(r,{A:()=>E});var s,o,a=i(81856),u=i(30781),d=i(33715),c=i(55048),p=i(91838);i(57845),i(61939);var h=i(33498),f=i(12709);i(33638);var y=i(6015);let m=class extends y.A{constructor(t){super(t),this.type="simple-line",this.width=.75}hash(){return`${this.type}.${this.width}`}};(0,a._)([(0,h.e)({esriSLS:"simple-line"},{readOnly:!0})],m.prototype,"type",void 0),(0,a._)([(0,p.MZ)({type:Number,cast:c.cr,json:{write:!0}})],m.prototype,"width",void 0);let g=m=(0,a._)([(0,f.$)("esri.symbols.LineSymbol")],m);var _=i(70152),v=i(92713),w=i(53480),b=i(7780),M=i(31952);let S=s=class extends v.A{constructor(t){super(t),this.placement="begin-end",this.type="line-marker",this.style="arrow"}writeStyle(t,r,i,s){r[i]="web-map"===s?.origin?"arrow":t}set color(t){this._set("color",t)}readColor(t){return null!=t?.[0]?[t[0],t[1],t[2],t[3]/255]:t}writeColor(t,r,i,s){"web-map"===s?.origin||(r[i]=t)}clone(){return new s({color:(0,d.o8)(this.color),placement:this.placement,style:this.style})}hash(){return`${this.placement}.${this.color?.hash()}.${this.style}`}};(0,a._)([(0,p.MZ)({type:["begin","end","begin-end"],json:{write:!0}})],S.prototype,"placement",void 0),(0,a._)([(0,h.e)({"line-marker":"line-marker"},{readOnly:!0}),(0,p.MZ)({json:{origins:{"web-map":{write:!1}}}})],S.prototype,"type",void 0),(0,a._)([(0,p.MZ)({type:M.z})],S.prototype,"style",void 0),(0,a._)([(0,b.K)("style")],S.prototype,"writeStyle",null),(0,a._)([(0,p.MZ)({type:_.A,value:null,json:{write:{allowNull:!0}}})],S.prototype,"color",null),(0,a._)([(0,w.w)("color")],S.prototype,"readColor",null),(0,a._)([(0,b.K)("color")],S.prototype,"writeColor",null);let A=S=s=(0,a._)([(0,f.$)("esri.symbols.LineSymbolMarker")],S),T=new u.J({esriSLSSolid:"solid",esriSLSDash:"dash",esriSLSDot:"dot",esriSLSDashDot:"dash-dot",esriSLSDashDotDot:"long-dash-dot-dot",esriSLSNull:"none",esriSLSShortDash:"short-dash",esriSLSShortDot:"short-dot",esriSLSShortDashDot:"short-dash-dot",esriSLSShortDashDotDot:"short-dash-dot-dot",esriSLSLongDash:"long-dash",esriSLSLongDashDot:"long-dash-dot"}),x=o=class extends g{constructor(...t){super(...t),this.type="simple-line",this.style="solid",this.cap="round",this.join="round",this.marker=null,this.miterLimit=2}normalizeCtorArgs(t,r,i,s,o,a){if(t&&"string"!=typeof t)return t;let u={};return null!=t&&(u.style=t),null!=r&&(u.color=r),null!=i&&(u.width=(0,c.cr)(i)),null!=s&&(u.cap=s),null!=o&&(u.join=o),null!=a&&(u.miterLimit=(0,c.cr)(a)),u}clone(){return new o({color:(0,d.o8)(this.color),style:this.style,width:this.width,cap:this.cap,join:this.join,miterLimit:this.miterLimit,marker:this.marker?.clone()})}hash(){return`${super.hash()}.${this.color?.hash()}.${this.style}.${this.cap}.${this.join}.${this.miterLimit}.${this.marker?.hash()}`}};(0,a._)([(0,h.e)({esriSLS:"simple-line"},{readOnly:!0})],x.prototype,"type",void 0),(0,a._)([(0,p.MZ)({type:T.apiValues,json:{read:T.read,write:T.write}})],x.prototype,"style",void 0),(0,a._)([(0,p.MZ)({type:["butt","round","square"],json:{write:{overridePolicy:(t,r,i)=>({enabled:"round"!==t&&null==i?.origin})}}})],x.prototype,"cap",void 0),(0,a._)([(0,p.MZ)({type:["miter","round","bevel"],json:{write:{overridePolicy:(t,r,i)=>({enabled:"round"!==t&&null==i?.origin})}}})],x.prototype,"join",void 0),(0,a._)([(0,p.MZ)({types:{key:"type",base:null,defaultKeyValue:"line-marker",typeMap:{"line-marker":A}},json:{write:!0,origins:{"web-scene":{write:!1}}}})],x.prototype,"marker",void 0),(0,a._)([(0,p.MZ)({type:Number,json:{read:!1,write:!1}})],x.prototype,"miterLimit",void 0);let E=x=o=(0,a._)([(0,f.$)("esri.symbols.SimpleLineSymbol")],x)},71396:(t,r,i)=>{i.d(r,{A:()=>p});var s,o=i(81856),a=i(92713),u=i(91838);i(57845),i(61939),i(33638);var d=i(12709);let c=s=class extends a.A{constructor(t){super(t),this.title=null,this.expression=null,this.returnType="dictionary"}clone(){return new s({title:this.title,expression:this.expression})}};(0,o._)([(0,u.MZ)({type:String,json:{write:!0}})],c.prototype,"title",void 0),(0,o._)([(0,u.MZ)({type:String,json:{write:!0}})],c.prototype,"expression",void 0),(0,o._)([(0,u.MZ)({type:["dictionary"],readOnly:!0,json:{read:!1,write:!0}})],c.prototype,"returnType",void 0);let p=c=s=(0,o._)([(0,d.$)("esri.popup.ElementExpressionInfo")],c)},71538:(t,r,i)=>{i.d(r,{$J:()=>h,ZV:()=>p,yx:()=>c});var s=i(28105);let o={ar:"ar-u-nu-latn"},a=new WeakMap,u={};function d(t){let r=t||u;if(!a.has(r)){let i=(0,s.JK)(),u=o[(0,s.JK)()]||i;a.set(r,new Intl.NumberFormat(u,t))}return a.get(r)}function c(t={}){let r={};return null!=t.digitSeparator&&(r.useGrouping=t.digitSeparator),null!=t.places&&(r.minimumFractionDigits=r.maximumFractionDigits=t.places),r}function p(t,r){return Object.is(t,-0)&&(t=0),d(r).format(t)}function h(t,r=(0,s.JK)()){if(!t)return null;let i=f.get(r);if(!i){let t=d().formatToParts(12345.6),s=[...d({useGrouping:!1}).format(0x24cb016ea)].reverse(),o=new Map(s.map((t,r)=>[t,r])),a=RegExp(`[${t.find(t=>"group"===t.type)?.value}]`,"g"),u=RegExp(`[${t.find(t=>"decimal"===t.type)?.value}]`),c=RegExp(`[${s.join("")}]`,"g"),p=/[\u200E\u200F\u202A\u202B\u202C\u202D\u202E\u2066\u2067\u2068\u2069\u061C]/g,h=/[-\u2212\u2013\u2014\u2015]/g;i=t=>{if(""===(t=t.trim().replaceAll(a,"").replace(u,".").replace(c,t=>String(o.get(t))).replaceAll(p,"").replaceAll(h,"-")))return null;let r=Number(t);return isNaN(r)?null:r},f.set(r,i)}return i(t)}(0,s.Ml)(()=>{a=new WeakMap,u={}});let f=new Map},71750:(t,r,i)=>{i.d(r,{A:()=>c});var s=i(81856),o=i(92713),a=i(91838);i(57845),i(61939),i(33638);var u=i(12709);let d=class extends o.A{constructor(t){super(t),this.assetGroupCode=null,this.assetTypeCode=null,this.globalId=null,this.networkSourceId=null,this.objectId=null,this.positionFrom=null,this.positionTo=null,this.terminalId=null}};(0,s._)([(0,a.MZ)({type:Number,json:{write:!0}})],d.prototype,"assetGroupCode",void 0),(0,s._)([(0,a.MZ)({type:Number,json:{write:!0}})],d.prototype,"assetTypeCode",void 0),(0,s._)([(0,a.MZ)({type:String,json:{write:!0}})],d.prototype,"globalId",void 0),(0,s._)([(0,a.MZ)({type:Number,json:{write:!0}})],d.prototype,"networkSourceId",void 0),(0,s._)([(0,a.MZ)({type:Number,json:{write:!0}})],d.prototype,"objectId",void 0),(0,s._)([(0,a.MZ)({type:Number,json:{write:!0}})],d.prototype,"positionFrom",void 0),(0,s._)([(0,a.MZ)({type:Number,json:{write:!0}})],d.prototype,"positionTo",void 0),(0,s._)([(0,a.MZ)({type:Number,json:{write:!0}})],d.prototype,"terminalId",void 0);let c=d=(0,s._)([(0,u.$)("esri.rest.networks.support.NetworkElement")],d)},71760:(t,r,i)=>{i.d(r,{B3:()=>v,EA:()=>_,K8:()=>S,KK:()=>O,KQ:()=>I,Mc:()=>c,Vp:()=>m,YX:()=>g,ZL:()=>E,aI:()=>y,ch:()=>P,d9:()=>C,fn:()=>R,jp:()=>b,oT:()=>w,q8:()=>x,r1:()=>A,tQ:()=>N,tl:()=>T,x1:()=>M});var s=i(45714);i(54143);var o=i(92773),a=i(93767);let u=[102100,102113,3857,3785,900913],d=[4326,...u,104905,104971],c=[-20037508.342788905,20037508.342788905],p=[-20037508.342787,20037508.342787],h={wkTemplate:'PROJCS["WGS_1984_Web_Mercator_Auxiliary_Sphere",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator_Auxiliary_Sphere"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],PARAMETER["Auxiliary_Sphere_Type",0.0],UNIT["Meter",1.0]]',valid:c,origin:p,dx:1e-5},f={102113:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator",GEOGCS["GCS_WGS_1984_Major_Auxiliary_Sphere",DATUM["D_WGS_1984_Major_Auxiliary_Sphere",SPHEROID["WGS_1984_Major_Auxiliary_Sphere",6378137.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],UNIT["Meter",1.0]]',valid:c,origin:p,dx:1e-5},102100:h,3785:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator",GEOGCS["GCS_WGS_1984_Major_Auxiliary_Sphere",DATUM["D_WGS_1984_Major_Auxiliary_Sphere",SPHEROID["WGS_1984_Major_Auxiliary_Sphere",6378137.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],UNIT["Meter",1.0]]',valid:c,origin:p,dx:1e-5},3857:h,4326:{wkTemplate:'GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",{Central_Meridian}],UNIT["Degree",0.0174532925199433]]',altTemplate:'PROJCS["WGS_1984_Plate_Carree",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Plate_Carree"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],UNIT["Degrees",111319.491]]',valid:[-180,180],origin:[-180,90],dx:1e-5},104971:{wkTemplate:'GEOGCS["Mars_2000_(Sphere)",DATUM["Mars_2000_(Sphere)",SPHEROID["Mars_2000_(Sphere)",3396190.0,0.0]],PRIMEM["Reference_Meridian",0.0],UNIT["Degree",0.0174532925199433]]',valid:[-180,180],origin:[-180,90],dx:1e-5},104905:{wkTemplate:'GEOGCS["GCS_Mars_2000",DATUM["D_Mars_2000",SPHEROID["Mars_2000_IAU_IAG",3396190.0,169.8944472236118]],PRIMEM["Reference_Meridian",0.0],UNIT["Degree",0.0174532925199433]]',valid:[-180,180],origin:[-180,90],dx:1e-5},900913:h};function y(t,r){let i,s;if(t===r)return!0;if(null==t||null==r)return!1;let o=t.wkid,a=r.wkid;if(null!=o||null!=a){if(o===a||S(t)&&S(r))return!0;let i=t.latestWkid;if(null!=i&&a===i)return!0;let s=r.latestWkid;return null!=s&&o===s}return t.wkt2&&r.wkt2?(i=t.wkt2,s=r.wkt2):t.wkt&&r.wkt&&(i=t.wkt,s=r.wkt),!(!i||!s)&&i.toUpperCase()===s.toUpperCase()}function m(t){let r=t?.wkid;return null!=r&&r>=2e3&&f[r]||null}function g(t){if(!t)return;let{wkid:r,vcsWkid:i}=t;if(r)return i?JSON.stringify({wkid:r,vcsWkid:i}):String(r);let s=t.wkt||t.wkt2;return JSON.stringify(s?i?{wkt:s,vcsWkid:i}:{wkt:s}:{})}function _(t){if(!R(t))return!1;let{wkid:r}=t;if(r)return null==a.A[r];let i=t.wkt2||t.wkt;return!!i&&/^\s*(?:GEOGCS|GEOGCRS|GEOGRAPHICCRS)/i.test(i)}function v(t){return!(x(t)||I(t))}function w(t){return 4326===t?.wkid}function b(t){return/^\s*(?:GEOD|GEODETIC|GEOG|GEOGRAPHIC|PROJ|PROJECTED|VERT|VERTICAL|ENG|ENGINEERING|PARAMETRIC|TIME|DERIVEDPROJ|COMPOUND|BOUND)CRS/i.test(t)}function M(t){return t?.wkid===o.Y.CGCS2000}function S(t){let r=t?.wkid;return null!=r&&r>=2e3&&u.includes(r)}function A(t){return 32662===t?.wkid}function T(t){return t===o.Y.GCSMARS2000||t===o.Y.GCSMARS2000_SPHERE}function x(t){return T(t?.wkid)}function E(t){return t===o.Y.GCSMOON2000}function I(t){return E(t?.wkid)}function C(t){let r=t?.wkid;return null!=r&&r>=2e3&&d.includes(r)}function R(t){if(null==t)return!1;let r=t.wkid;return null!=r&&r>=2e3||null!=t.wkt2||null!=t.wkt}let O={wkid:4326,wkt:(0,s.HC)(f[4326].wkTemplate,{Central_Meridian:"0.0"})},P={wkid:102100,latestWkid:3857},N={wkid:32662}},71924:(t,r,i)=>{i.d(r,{A:()=>y});var s,o=i(81856),a=i(91838);i(57845),i(61939),i(33638);var u=i(33498),d=i(12709),c=i(86629),p=i(25954),h=i(93165);let f=s=class extends c.A{constructor(t){super(t),this.type="extrude",this.size=1,this.material=null,this.castShadows=!0,this.edges=null}clone(){return new s({edges:this.edges?.clone(),enabled:this.enabled,material:this.material?.clone(),castShadows:this.castShadows,size:this.size})}};(0,o._)([(0,u.e)({Extrude:"extrude"},{readOnly:!0})],f.prototype,"type",void 0),(0,o._)([(0,a.MZ)({type:Number,json:{write:{enabled:!0,isRequired:!0}},nonNullable:!0})],f.prototype,"size",void 0),(0,o._)([(0,a.MZ)({type:h.N,json:{write:!0}})],f.prototype,"material",void 0),(0,o._)([(0,a.MZ)({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],f.prototype,"castShadows",void 0),(0,o._)([(0,a.MZ)(p.J)],f.prototype,"edges",void 0);let y=f=s=(0,o._)([(0,d.$)("esri.symbols.ExtrudeSymbol3DLayer")],f)},72025:(t,r,i)=>{i.d(r,{A:()=>_});var s,o,a=i(81856),u=i(91838);i(57845),i(61939),i(33638);var d=i(33498),c=i(12709),p=i(86629),h=i(50460),f=i(28690);let y=s=class extends f.A{constructor(){super(...arguments),this.x=0,this.y=0,this.z=0}clone(){return new s({x:this.x,y:this.y,z:this.z})}};(0,a._)([(0,u.MZ)({type:Number})],y.prototype,"x",void 0),(0,a._)([(0,u.MZ)({type:Number})],y.prototype,"y",void 0),(0,a._)([(0,u.MZ)({type:Number})],y.prototype,"z",void 0),y=s=(0,a._)([(0,c.$)("esri.symbols.support.Symbol3DAnchorPosition3D")],y);var m=i(93165);let g=o=class extends p.A{constructor(t){super(t),this.material=null,this.castShadows=!0,this.resource=null,this.type="object",this.width=void 0,this.height=void 0,this.depth=void 0,this.anchor=void 0,this.anchorPosition=void 0,this.heading=void 0,this.tilt=void 0,this.roll=void 0}clone(){return new o({heading:this.heading,tilt:this.tilt,roll:this.roll,anchor:this.anchor,anchorPosition:this.anchorPosition?.clone(),depth:this.depth,enabled:this.enabled,height:this.height,material:this.material?.clone()??null,castShadows:this.castShadows,resource:this.resource?.clone(),width:this.width})}get isPrimitive(){return!this.resource||"string"!=typeof this.resource.href}};(0,a._)([(0,u.MZ)({type:m.N,json:{write:!0}})],g.prototype,"material",void 0),(0,a._)([(0,u.MZ)({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],g.prototype,"castShadows",void 0),(0,a._)([(0,u.MZ)({type:h.E,json:{write:!0}})],g.prototype,"resource",void 0),(0,a._)([(0,d.e)({Object:"object"},{readOnly:!0})],g.prototype,"type",void 0),(0,a._)([(0,u.MZ)({type:Number,json:{write:!0}})],g.prototype,"width",void 0),(0,a._)([(0,u.MZ)({type:Number,json:{write:!0}})],g.prototype,"height",void 0),(0,a._)([(0,u.MZ)({type:Number,json:{write:!0}})],g.prototype,"depth",void 0),(0,a._)([(0,d.e)({center:"center",top:"top",bottom:"bottom",origin:"origin",relative:"relative"},{default:"origin"})],g.prototype,"anchor",void 0),(0,a._)([(0,u.MZ)({type:y,json:{type:[Number],read:{reader:t=>new y({x:t[0],y:t[1],z:t[2]})},write:{writer:(t,r)=>{r.anchorPosition=[t.x,t.y,t.z]},overridePolicy(){return{enabled:"relative"===this.anchor}}}}})],g.prototype,"anchorPosition",void 0),(0,a._)([(0,u.MZ)({type:Number,json:{write:!0}})],g.prototype,"heading",void 0),(0,a._)([(0,u.MZ)({type:Number,json:{write:!0}})],g.prototype,"tilt",void 0),(0,a._)([(0,u.MZ)({type:Number,json:{write:!0}})],g.prototype,"roll",void 0),(0,a._)([(0,u.MZ)({readOnly:!0})],g.prototype,"isPrimitive",null);let _=g=o=(0,a._)([(0,c.$)("esri.symbols.ObjectSymbol3DLayer")],g)},72082:(t,r,i)=>{i.d(r,{A:()=>_});var s,o=i(81856),a=i(33715),u=i(45714),d=i(91838);i(57845),i(61939);var c=i(33498),p=i(53480),h=i(12709),f=i(7780),y=i(39265),m=i(6015);let g=s=class extends m.A{constructor(t){super(t),this.data=null,this.type="cim"}readData(t,r){return r}writeData(t,r){Object.assign(r,t)}async collectRequiredFields(t,r){if("CIMSymbolReference"===this.data?.type){let i=this.data.primitiveOverrides;if(i){let s=i.map(i=>{let s=i.valueExpressionInfo;return s?(0,y.Dx)(t,r,s.expression):null});await Promise.all(s)}}}clone(){return new s({data:(0,a.o8)(this.data)})}hash(){return(0,u.Wm)(JSON.stringify(this.data)).toString()}};(0,o._)([(0,d.MZ)({json:{write:!1}})],g.prototype,"color",void 0),(0,o._)([(0,d.MZ)({json:{write:!0}})],g.prototype,"data",void 0),(0,o._)([(0,p.w)("data",["symbol"])],g.prototype,"readData",null),(0,o._)([(0,f.K)("data",{})],g.prototype,"writeData",null),(0,o._)([(0,c.e)({CIMSymbolReference:"cim"},{readOnly:!0})],g.prototype,"type",void 0);let _=g=s=(0,o._)([(0,h.$)("esri.symbols.CIMSymbol")],g)},72359:(t,r,i)=>{i.d(r,{S1:()=>d,lL:()=>p,mi:()=>c,pJ:()=>f,t:()=>h,vf:()=>u});var s=i(59983),o=i(93682),a=i(29593);let u={milliseconds:1,seconds:1e3,minutes:6e4,hours:36e5,days:864e5,weeks:6048e5,months:26784e5,years:31536e6,decades:31536e7,centuries:31536e8};function d(t,r,i,u=o.qU){let c=new a.oh((0,s.wj)(u)),p=a.c9.fromJSDate(t,{zone:c}),h="decades"===i||"centuries"===i?"year":y(i);return"decades"===i&&(r*=10),"centuries"===i&&(r*=100),p.plus({[h]:r}).toJSDate()}function c(t,r,i="milliseconds"){return new Date(t.getTime()+h(r,i,"milliseconds"))}function p(t,r,i=o.qU){let u=new a.oh((0,s.wj)(i)),d=a.c9.fromJSDate(t,{zone:u});if("decades"===r||"centuries"===r){let t=d.startOf("year"),{year:i}=t,s=i-i%("decades"===r?10:100);return t.set({year:s}).toJSDate()}let c=y(r);return d.startOf(c).toJSDate()}function h(t,r,i){return 0===t?0:t*u[r]/u[i]}function f(t,r){return t&&r?t.intersection(r):t||r}function y(t){switch(t){case"milliseconds":return"millisecond";case"seconds":return"second";case"minutes":return"minute";case"hours":return"hour";case"days":return"day";case"weeks":return"week";case"months":return"month";case"years":return"year"}}},72621:(t,r,i)=>{i.d(r,{A:()=>f});var s,o=i(81856),a=i(30781),u=i(92713),d=i(91838);i(57845),i(61939),i(33638);var c=i(12709);let p=new a.J({asc:"ascending",desc:"descending"}),h=s=class extends u.A{constructor(t){super(t),this.field=null,this.valueExpression=null,this.order="ascending"}clone(){return new s({field:this.field,valueExpression:this.valueExpression,order:this.order})}};(0,o._)([(0,d.MZ)({type:String,json:{write:!0}})],h.prototype,"field",void 0),(0,o._)([(0,d.MZ)({type:String,json:{write:!0,origins:{"web-scene":{read:!1,write:!1}}}})],h.prototype,"valueExpression",void 0),(0,o._)([(0,d.MZ)({type:p.apiValues,json:{type:p.jsonValues,read:p.read,write:p.write}})],h.prototype,"order",void 0);let f=h=s=(0,o._)([(0,c.$)("esri.layers.support.OrderByInfo")],h)},72919:(t,r,i)=>{i.r(r),i.d(r,{getAllSizes:()=>I,getColor:()=>_,getOpacity:()=>v,getRotationAngle:()=>w,getSize:()=>b,getSizeForValue:()=>A,getSizeFromNumberOrVariable:()=>M,getSizeRangeAtScale:()=>T,getVisualVariableValues:()=>x,viewScaleRE:()=>g});var s=i(70152),o=i(97135),a=i(28255),u=i(61939),d=i(81713),c=i(54880);let p=()=>u.A.getLogger("esri.renderers.visualVariables.support.visualVariableUtils"),h=t=>p().warn(`The visualVariable should be an instance of esri.renderers.visualVariables.${t}`),f=()=>p().error("Use of arcade expressions requires an arcade context"),y=new o.A,m=Math.PI,g=/^\s*(return\s+)?\$view\.scale\s*(;)?\s*$/i;function _(t,r,i){let o="visualVariables"in t&&t.visualVariables?t.visualVariables.find(t=>"color"===t.type):t;if(!o)return;if("esri.renderers.visualVariables.ColorVariable"!==o.declaredClass)return void h("ColorVariable");let a="number"==typeof r,u=a?null:r,d=u?.attributes,c=a?r:null,p=o.field,{ipData:y,hasExpression:m}=o.cache,g=o.cache.compiledFunc;if(!p&&!m){let t=o.stops;return t&&t[0]&&t[0].color}if("number"!=typeof c)if(m){if(null==i?.arcade)return void f();let t={viewingMode:i.viewingMode,scale:i.scale,spatialReference:i.spatialReference},r=i.arcade.arcadeUtils,s=r.getViewInfo(t),a=r.createExecContext(u,s,i.timeZone);if(!g){let t=r.createSyntaxTree(o.valueExpression);g=r.createFunction(t),o.cache.compiledFunc=g}c=r.executeFunction(g,a)}else d&&(c=d[p]);let _=o.normalizationField,v=null!=d&&null!=_?parseFloat(d[_]):void 0;if(null!=c&&(!_||a||!isNaN(v)&&0!==v)){isNaN(v)||a||(c/=v);let t=E(c,y);if(t){let r=t[0],a=t[1],u=r===a?o.stops[r].color:s.A.blendColors(o.stops[r].color,o.stops[a].color,t[2],null!=i?i.color:void 0);return new s.A(u)}}}function v(t,r,i){let s="visualVariables"in t&&t.visualVariables?t.visualVariables.find(t=>"opacity"===t.type):t;if(!s)return;if("esri.renderers.visualVariables.OpacityVariable"!==s.declaredClass)return void h("OpacityVariable");let o="number"==typeof r,a=o?null:r,u=a?.attributes,d=o?r:null,c=s.field,{ipData:p,hasExpression:y}=s.cache,m=s.cache.compiledFunc;if(!c&&!y){let t=s.stops;return t&&t[0]&&t[0].opacity}if("number"!=typeof d)if(y){if(null==i?.arcade)return void f();let t={viewingMode:i.viewingMode,scale:i.scale,spatialReference:i.spatialReference},r=i.arcade.arcadeUtils,o=r.getViewInfo(t),u=r.createExecContext(a,o,i.timeZone);if(!m){let t=r.createSyntaxTree(s.valueExpression);m=r.createFunction(t),s.cache.compiledFunc=m}d=r.executeFunction(m,u)}else u&&(d=u[c]);let g=s.normalizationField,_=null!=u&&null!=g?parseFloat(u[g]):void 0;if(null!=d&&(!g||o||!isNaN(_)&&0!==_)){isNaN(_)||o||(d/=_);let t=E(d,p);if(t){let r=t[0],i=t[1];if(r===i)return s.stops[r].opacity;{let o=s.stops[r].opacity;return o+(s.stops[i].opacity-o)*t[2]}}}}function w(t,r,i){let s="visualVariables"in t&&t.visualVariables?t.visualVariables.find(t=>"rotation"===t.type):t;if(!s)return;if("esri.renderers.visualVariables.RotationVariable"!==s.declaredClass)return void h("RotationVariable");let o=s.axis||"heading",a=90*("heading"===o&&"arithmetic"===s.rotationType),u="heading"===o&&"arithmetic"===s.rotationType?-1:1,d="number"==typeof r?null:r,c=d?.attributes,p=s.field,{hasExpression:y}=s.cache,m=s.cache.compiledFunc,g=0;if(!p&&!y)return g;if(y){if(null==i?.arcade)return void f();let t={viewingMode:i.viewingMode,scale:i.scale,spatialReference:i.spatialReference},r=i.arcade.arcadeUtils,o=r.getViewInfo(t),a=r.createExecContext(d,o,i.timeZone);if(!m){let t=r.createSyntaxTree(s.valueExpression);m=r.createFunction(t),s.cache.compiledFunc=m}g=r.executeFunction(m,a)}else c&&(g=c[p]||0);return"number"!=typeof g||isNaN(g)?null:a+u*g}function b(t,r,i){let s="visualVariables"in t&&t.visualVariables?t.visualVariables.find(t=>"size"===t.type):t;if(!s)return;if("esri.renderers.visualVariables.SizeVariable"!==s.declaredClass)return void h("SizeVariable");let o=A(function(t,r,i){let s="number"==typeof r,o=s?null:r,a=o?.attributes,u=s?r:null,{isScaleDriven:d}=t.cache,p=t.cache.compiledFunc;if(d){let r=null!=i?i.scale:void 0,s=null!=i?i.view:void 0;u=null==r||"3d"===s?function(t){let r=null,i=null,s=t.stops;return s?(r=s[0].value,i=s[s.length-1].value):(r=t.minDataValue||0,i=t.maxDataValue||0),(r+i)/2}(t):r}else if(!s)switch(t.inputValueType){case c.Yf.Expression:{if(null==i?.arcade)return void f();let r={viewingMode:i.viewingMode,scale:i.scale,spatialReference:i.spatialReference},s=i.arcade.arcadeUtils,a=s.getViewInfo(r),d=s.createExecContext(o,a,i.timeZone);if(!p){let r=s.createSyntaxTree(t.valueExpression);p=s.createFunction(r),t.cache.compiledFunc=p}u=s.executeFunction(p,d);break}case c.Yf.Field:a&&(u=a[t.field]);break;case c.Yf.Unknown:u=null}if(!(0,c.gf)(u))return null;if(s||!t.normalizationField)return u;let h=a?parseFloat(a[t.normalizationField]):null;return(0,c.gf)(h)&&0!==h?u/h:null}(s,r,i),s,r,i,s.cache.ipData);return null==o||isNaN(o)?0:o}function M(t,r,i){return null==t?null:(0,c.of)(t)?b(t,r,i):(0,c.gf)(t)?t:null}function S(t,r,i){return(0,c.gf)(i)&&t>i?i:(0,c.gf)(r)&&t<r?r:t}function A(t,r,i,s,o){switch(r.transformationType){case c._w.Additive:return t+((M(r.minSize,i,s)||r.minDataValue)??0);case c._w.Constant:let a=r.stops,u=a?.length&&a[0].size;return null==u&&(u=r.minSize),M(u,i,s);case c._w.ClampedLinear:return function(t,r,i,s){let o=(t-r.minDataValue)/(r.maxDataValue-r.minDataValue),a=M(r.minSize,i,s),u=M(r.maxSize,i,s),d=null!=s?s.shape:void 0;if(t<=r.minDataValue)return a;if(t>=r.maxDataValue)return u;if(null==a||null==u)return null;if("area"===r.scaleBy&&d){let t="circle"===d,r=t?m*(a/2)**2:a*a,i=r+o*((t?m*(u/2)**2:u*u)-r);return t?2*Math.sqrt(i/m):Math.sqrt(i)}return a+o*(u-a)}(t,r,i,s);case c._w.Proportional:return function(t,r,i,s){let o=null!=s?s.shape:void 0,a=t/r.minDataValue,u=M(r.minSize,i,s),d=M(r.maxSize,i,s),c=null;return S("circle"===o?2*Math.sqrt(a*(u/2)**2):"square"===o||"diamond"===o||"image"===o?Math.sqrt(a*u**2):a*u,u,d)}(t,r,i,s);case c._w.Stops:let[p,h,f]=E(t,o);if(p===h)return M(r.stops?.[p].size,i,s);{let t=M(r.stops?.[p].size,i,s);return t+(M(r.stops?.[h].size,i,s)-t)*f}case c._w.RealWorldSize:return function(t,r,i,s){let o=(s?.resolution??1)*d.j[r.valueUnit],a=M(r.minSize,i,s),u=M(r.maxSize,i,s),{valueRepresentation:c}=r,p=null;return S("area"===c?2*Math.sqrt(t/m)/o:"radius"===c||"distance"===c?2*t/o:t/o,a,u)}(t,r,i,s);case c._w.Identity:return t;case c._w.Unknown:return null}}function T(t,r,i){let{isScaleDriven:s}=t.cache;if(!(s&&"3d"===i||r))return null;let o={scale:r,view:i},a=M(t.minSize,y,o),u=M(t.maxSize,y,o);if(null!=a||null!=u){if(a>u){let t=u;u=a,a=t}return{minSize:a,maxSize:u}}}function x(t,r,i){if(!t.visualVariables)return;let s=[],o=[],a=[],u=[],d=[];for(let r of t.visualVariables)switch(r.type){case"color":o.push(r);break;case"opacity":a.push(r);break;case"rotation":d.push(r);break;case"size":u.push(r)}return o.forEach(t=>{let o=_(t,r,i);s.push({variable:t,value:o})}),a.forEach(t=>{let o=v(t,r,i);s.push({variable:t,value:o})}),d.forEach(t=>{let o=w(t,r,i);s.push({variable:t,value:o})}),u.forEach(t=>{let o=b(t,r,i);s.push({variable:t,value:o})}),s.filter(t=>null!=t.value)}function E(t,r){if(!r)return;let i=0,s=r.length-1;return r.some((r,o)=>t<r?(s=o,!0):(i=o,!1)),[i,s,(t-r[i])/(r[s]-r[i])]}function I(t,r,i){let s=["proportional","proportional","proportional"];for(let o of t){let t=o.useSymbolValue?"symbol-value":b(o,r,i);switch(o.axis){case"width":s[0]=t;break;case"depth":s[1]=t;break;case"height":s[2]=t;break;case"width-and-depth":s[0]=t,s[1]=t;break;case"all":case void 0:case null:s[0]=t,s[1]=t,s[2]=t;break;default:(0,a.Xb)(o.axis)}}return s}},73225:(t,r,i)=>{i.d(r,{G:()=>s});function s(t){return(r,i)=>{r.hasOwnProperty("_messageBundleProps")||(r._messageBundleProps=r._messageBundleProps?r._messageBundleProps.slice():[]),r._messageBundleProps.push({bundlePath:t,propertyName:i})}}},73358:(t,r,i)=>{i.d(r,{Hg:()=>em,XJ:()=>eg});var s,o,a,u,d,c=i(61939),p=i(74935),h=i(81856),f=i(33715),y=i(91838);i(57845);var m=i(12709),g=i(7780),_=i(39265),v=i(28763),w=i(22812),b=i(70152),M=i(39166),S=i(32391),A=i(16082),T=i(92753),x=i(12513),E=i(31789),I=i(47823),C=i(20703),R=i(72082),O=i(95832);let P="esri.renderers.support.DictionaryLoader",N={type:"CIMSimpleLineCallout",lineSymbol:{type:"CIMLineSymbol",symbolLayers:[{type:"CIMSolidStroke",width:.5,color:[0,0,0,255]}]}};class k{constructor(t,r,i){this.config=null,this.fieldMap=null,this.url=null,this._ongoingRequests=new Map,this._symbolCache=new A.q(100),this._dictionaryVersion=null,this._fieldIndex=null,this._dictionaryPromise=null,this.url=t,this.config=r,this.fieldMap=i}getSymbolFields(){return this._symbolFields}async getSymbolAsync(t,r){let i;this._dictionaryPromise||(this._dictionaryPromise=this.fetchResources(r));try{i=await this._dictionaryPromise}catch(t){if((0,T.zf)(t))return this._dictionaryPromise=null,null}let s=this._dictionaryVersion?.greaterEqual(4,0),o={};if(this.fieldMap)for(let r of this._symbolFields){let i=(0,O.MO)(this.fieldMap[r],this._fieldIndex);if(i){let a=t.attributes[i];o[r]=s?a:null!=a?""+t.attributes[i]:""}else o[r]=""}let a=null;try{a=i?.(o,r)}catch(t){return null}if(!a||"string"!=typeof a||"invalid"===a)return null;let u=a.split(";"),d=[],c=[];for(let r=0;r<u.length;r++){let i=u[r];if(i){if(i.includes("po:")){let r=i.slice(3).split("|");if(3===r.length){let i=r[0],s=r[1],o=r[2],a="countrylabel";if(i===a&&"TextString"===s){if(null!=this.fieldMap){let r=this.fieldMap[a];null==r&&(r=a,this.fieldMap[r]=r),t.attributes[r]=o}continue}if("DashTemplate"===s)o=o.split(" ").map(t=>Number(t));else if("Color"===s){let t=new b.A(o).toRgba();o=[t[0],t[1],t[2],255*t[3]]}else o=Number(o);c.push({primitiveName:i,propertyName:s,value:o,defaultValue:null})}}else if(i.includes("|")){for(let t of i.split("|"))if(this._itemNames.has(t)){d.push(t);break}}else if(this._itemNames.has(i))d.push(i);else if(0===r){d.length=0;let r="Invalid_P";null!=t.geometry&&((0,E.Bi)(t.geometry)?r="Invalid_A":(0,E.Rg)(t.geometry)&&(r="Invalid_L")),d.push(r);break}}}let p=null==t.geometry||!t.geometry.hasZ&&"point"===t.geometry.type;return this._cimPartsToCIMSymbol(t,d,c,p,r)}async fetchResources(t){if(this._dictionaryPromise)return this._dictionaryPromise;if(!this.url)return void c.A.getLogger(P).error("no valid URL!");let r=(0,M.A)(this.url+"/resources/styles/dictionary-info.json",{responseType:"json",query:{f:"json"},signal:null!=t?t.signal:null}),[{data:i}]=await Promise.all([r,(0,C.lw)()]);if(!i)throw this._dictionaryPromise=null,new S.A("esri.renderers.DictionaryRenderer","Bad dictionary data!");let{authoringInfo:s,dictionary_version:o,expression:a,itemsNames:u}=i,d=!1;o&&(this._dictionaryVersion=x.R.parse(o),d=this._dictionaryVersion.greaterEqual(4,0)),this._refSymbolUrlTemplate=this.url+"/"+i.cimRefTemplateUrl,this._itemNames=new Set(u),this._symbolFields=s.symbol;let p={};if(this.config){let t=this.config;for(let r in t)p[r]=t[r]}if(s.configuration)for(let t of s.configuration)p.hasOwnProperty(t.name)||(p[t.name]=t.value);let h=[];if(t?.fields&&this.fieldMap)for(let r in this.fieldMap){let i=this.fieldMap[r],s=t.fields.filter(t=>t.name.toLowerCase()===i?.toLowerCase());s.length>0&&h.push({...s[0],type:d?s[0].type:"esriFieldTypeString"})}h.length>0&&(this._fieldIndex=new I.A(h));let f=(0,C.xR)(a,null!=t?t.spatialReference:null,h,p).then(t=>{let r={scale:0};return(i,s)=>{if(null==t)return null;let o=t.repurposeFeature({geometry:null,attributes:i});return r.scale=null!=s?s.scale??void 0:void 0,t.evaluate({$feature:o,$view:r},t.services)}}).catch(t=>(c.A.getLogger(P).error("Creating dictionary expression failed:",t),null));return this._dictionaryPromise=f,f}async _cimPartsToCIMSymbol(t,r,s,o,a){let u=Array(r.length);for(let t=0;t<r.length;t++)u[t]=this._getSymbolPart(r[t],a);let d=await Promise.all(u),c=this.fieldMap;if(c&&d.length>0){let{OverrideHelper:r}=await i.e(9063).then(i.bind(i,89063));for(let i of d=(0,f.o8)(d))r.applyDictionaryTextOverrides(i,t,c,this._fieldIndex,(0,O.bs)(i))}return new R.A({data:function(t,r,i){if(!t||0===t.length)return null;let s={...t[0]};if(t.length>1)for(let r of(s.effects=null,s.symbolLayers=[],t)){if(null!=r.effects)for(let t of r.symbolLayers)null==t.effects?t.effects=r.effects:t.effects.unshift(...r.effects);s.symbolLayers.unshift(...r.symbolLayers)}return i&&(s.callout=N),{type:"CIMSymbolReference",symbol:s,primitiveOverrides:r}}(d,s,o)})}async _getSymbolPart(t,r){let i=this._symbolCache.get(t);if(i)return i;if(this._ongoingRequests.has(t))return this._ongoingRequests.get(t).then(t=>t.data);let s=this._refSymbolUrlTemplate.replaceAll(/\{itemName\}/gi,t),o=(0,M.A)(s,{responseType:"json",query:{f:"json"},...r});this._ongoingRequests.set(t,o),o.finally(()=>this._ongoingRequests.delete(t));try{let r=await o;return this._symbolCache.put(t,r.data),r.data}catch(t){throw t}}}let L=s=class extends(0,w.h)(v.A){constructor(t){super(t),this.config=null,this.fieldMap=null,this.scaleExpression=null,this.scaleExpressionTitle=null,this.url=null,this.type="dictionary"}get _loader(){return new k(this.url,this.config,this.fieldMap)}writeData(t,r){t&&(r.scalingExpressionInfo={expression:t,returnType:"number"})}writeVisualVariables(t,r,i,s){s?.origin||super.writeVisualVariables(t,r,i,s)}clone(){return new s({config:(0,f.o8)(this.config),scaleExpression:this.scaleExpression,scaleExpressionTitle:this.scaleExpressionTitle,fieldMap:(0,f.o8)(this.fieldMap),url:(0,f.o8)(this.url),visualVariables:(0,f.o8)(this.visualVariables)})}async getSymbolAsync(t,r){return this._loader.getSymbolAsync(t,r)}async collectRequiredFields(t,r){for(let i in await this.collectVVRequiredFields(t,r),this.scaleExpression&&await (0,_.Dx)(t,r,this.scaleExpression),this.fieldMap){let s=this.fieldMap[i];r.has(s)&&t.add(s)}}get arcadeRequired(){return!0}getSymbol(){return null}get symbols(){return[]}getAttributeHash(){return this.visualVariables?.reduce((t,r)=>t+r.getAttributeHash(),"")??""}getMeshHash(){return`${this.url}-${JSON.stringify(this.fieldMap)}`}getSymbolFields(){return this._loader.getSymbolFields()}};(0,h._)([(0,y.MZ)({type:k})],L.prototype,"_loader",null),(0,h._)([(0,y.MZ)({type:Object,json:{read:{source:"configuration"},write:{target:"configuration"}}})],L.prototype,"config",void 0),(0,h._)([(0,y.MZ)({type:Object,json:{write:!0}})],L.prototype,"fieldMap",void 0),(0,h._)([(0,y.MZ)({type:String,json:{read:{source:"scalingExpressionInfo.expression"},write:!0}})],L.prototype,"scaleExpression",void 0),(0,h._)([(0,g.K)("scaleExpression")],L.prototype,"writeData",null),(0,h._)([(0,y.MZ)({type:String,json:{read:{source:"scalingExpressionInfo.title"},write:{target:"scalingExpressionInfo.title",overridePolicy(t){return{enabled:!!t&&!!this.scaleExpression}}}}})],L.prototype,"scaleExpressionTitle",void 0),(0,h._)([(0,y.MZ)({type:String,json:{write:!0}})],L.prototype,"url",void 0),(0,h._)([(0,g.K)("visualVariables")],L.prototype,"writeVisualVariables",null);let F=L=s=(0,h._)([(0,m.$)("esri.renderers.DictionaryRenderer")],L);var Z=i(33498),D=i(92713),j=i(16352);i(33638);var U=i(86942);let V=o=class extends D.A{constructor(t){super(t),this.color=null,this.field=null,this.label=null,this.valueExpression=null,this.valueExpressionTitle=null}castField(t){return null==t?t:"function"==typeof t?(c.A.getLogger(this).error(".field: field must be a string value"),null):(0,U.GX)(t)}getAttributeHash(){return`${this.field}-${this.valueExpression}`}clone(){return new o({color:this.color?.clone(),field:this.field,label:this.label,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle})}};(0,h._)([(0,y.MZ)({type:b.A,json:{type:[Number],write:!0}})],V.prototype,"color",void 0),(0,h._)([(0,y.MZ)({type:String,json:{write:!0}})],V.prototype,"field",void 0),(0,h._)([(0,j.w)("field")],V.prototype,"castField",null),(0,h._)([(0,y.MZ)({type:String,json:{write:!0}})],V.prototype,"label",void 0),(0,h._)([(0,y.MZ)({type:String,json:{write:!0}})],V.prototype,"valueExpression",void 0),(0,h._)([(0,y.MZ)({type:String,json:{write:!0}})],V.prototype,"valueExpressionTitle",void 0);let z=V=o=(0,h._)([(0,m.$)("esri.renderers.support.AttributeColorInfo")],V),G=a=class extends D.A{constructor(){super(...arguments),this.unit=null}clone(){return new a({unit:this.unit})}};(0,h._)([(0,y.MZ)({type:String,json:{write:!0}})],G.prototype,"unit",void 0);let $=G=a=(0,h._)([(0,m.$)("esri.renderers.support.DotDensityLegendOptions")],G);var B=i(59276),q=i(71230);let H=u=class extends(0,w.h)(v.A){constructor(t){super(t),this.attributes=null,this.backgroundColor=new b.A([0,0,0,0]),this.dotBlendingEnabled=!0,this.dotShape="square",this.dotSize=1,this.legendOptions=null,this.outline=new q.A,this.dotValue=null,this.referenceScale=null,this.seed=1,this.type="dot-density"}calculateDotValue(t){if(null==this.referenceScale)return this.dotValue;let r=t/this.referenceScale*this.dotValue;return r<1?1:r}getSymbol(){return new B.A({outline:this.outline})}async getSymbolAsync(){return this.getSymbol()}get symbols(){return[this.getSymbol()]}getAttributeHash(){return this.attributes?.reduce((t,r)=>t+r.getAttributeHash(),"")??""}getMeshHash(){return JSON.stringify(this.outline)}clone(){return new u({attributes:(0,f.o8)(this.attributes),backgroundColor:(0,f.o8)(this.backgroundColor),dotBlendingEnabled:(0,f.o8)(this.dotBlendingEnabled),dotShape:(0,f.o8)(this.dotShape),dotSize:(0,f.o8)(this.dotSize),dotValue:(0,f.o8)(this.dotValue),legendOptions:(0,f.o8)(this.legendOptions),outline:(0,f.o8)(this.outline),referenceScale:(0,f.o8)(this.referenceScale),seed:(0,f.o8)(this.seed),visualVariables:(0,f.o8)(this.visualVariables),authoringInfo:(0,f.o8)(this.authoringInfo)})}getControllerHash(){let t=this.attributes?.map(t=>t.field||t.valueExpression||"");return`${t}-${this.outline&&JSON.stringify(this.outline.toJSON())||""}`}async collectRequiredFields(t,r){for(let i of(await this.collectVVRequiredFields(t,r),this.attributes??[]))i.valueExpression&&await (0,_.Dx)(t,r,i.valueExpression),i.field&&t.add(i.field)}};(0,h._)([(0,y.MZ)({type:[z],json:{write:!0}})],H.prototype,"attributes",void 0),(0,h._)([(0,y.MZ)({type:b.A,json:{write:!0}})],H.prototype,"backgroundColor",void 0),(0,h._)([(0,y.MZ)({type:Boolean,json:{write:!0}})],H.prototype,"dotBlendingEnabled",void 0),(0,h._)([(0,y.MZ)({type:String,json:{write:!1}})],H.prototype,"dotShape",void 0),(0,h._)([(0,y.MZ)({type:Number,json:{write:!0}})],H.prototype,"dotSize",void 0),(0,h._)([(0,y.MZ)({type:$,json:{write:!0}})],H.prototype,"legendOptions",void 0),(0,h._)([(0,y.MZ)({type:q.A,json:{default:null,write:!0}})],H.prototype,"outline",void 0),(0,h._)([(0,y.MZ)({type:Number,json:{write:!0}})],H.prototype,"dotValue",void 0),(0,h._)([(0,y.MZ)({type:Number,json:{write:!0}})],H.prototype,"referenceScale",void 0),(0,h._)([(0,y.MZ)({type:Number,json:{write:!0}})],H.prototype,"seed",void 0),(0,h._)([(0,Z.e)({dotDensity:"dot-density"})],H.prototype,"type",void 0);let W=H=u=(0,h._)([(0,m.$)("esri.renderers.DotDensityRenderer")],H);var J=i(55048),K=i(37996),Y=i(77903),X=i(71017);let Q=class extends X.A.ClonableMixin(D.A){constructor(){super(...arguments),this.minLabel=null,this.maxLabel=null,this.title=null}};(0,h._)([(0,y.MZ)({type:String,json:{write:!0}})],Q.prototype,"minLabel",void 0),(0,h._)([(0,y.MZ)({type:String,json:{write:!0}})],Q.prototype,"maxLabel",void 0),(0,h._)([(0,y.MZ)({type:String,json:{write:!0}})],Q.prototype,"title",void 0),Q=(0,h._)([(0,m.$)("esri.renderers.support.HeatmapLegendOptions")],Q);var ee=i(6469),et=i(22191);function er(t){if(null!=t){let{maxDensity:r,minDensity:i,radius:s}=t;if(null!=r||null!=i||null!=s){let{blurRadius:r,maxPixelIntensity:i,minPixelIntensity:s,...o}=t;return o}}return t}let ei=d=class extends v.A{constructor(t){super(t),this.authoringInfo=null,this.colorStops=[new Y.A({ratio:0,color:new b.A("rgba(255, 140, 0, 0)")}),new Y.A({ratio:.75,color:new b.A("rgba(255, 140, 0, 1)")}),new Y.A({ratio:.9,color:new b.A("rgba(255, 0,   0, 1)")})],this.field=null,this.legendOptions=null,this.maxDensity=.04,this.minDensity=0,this.radius=18,this.referenceScale=0,this.type="heatmap",this.valueExpression=null,this.valueExpressionTitle=null}normalizeCtorArgs(t){return er(t)}get blurRadius(){return(0,ee.PU)(this.radius)}set blurRadius(t){let r=this.maxPixelIntensity,i=this.minPixelIntensity;this._set("radius",(0,ee.zp)(t)),this._set("maxDensity",r*this._pixelIntensityToDensity),this._set("minDensity",i*this._pixelIntensityToDensity)}get maxPixelIntensity(){return this.maxDensity/this._pixelIntensityToDensity}set maxPixelIntensity(t){this._set("maxDensity",t*this._pixelIntensityToDensity)}get minPixelIntensity(){return this.minDensity/this._pixelIntensityToDensity}set minPixelIntensity(t){this._set("minDensity",t*this._pixelIntensityToDensity)}get _pixelIntensityToDensity(){return 24/(ee.ex**2*this.blurRadius**4)}read(t,r){t=er(t),super.read(t,r)}getSymbol(){return new et.A}async getSymbolAsync(){return this.getSymbol()}get symbols(){return[this.getSymbol()]}async collectRequiredFields(t,r){let i=this.field,s=this.valueExpression;i&&"string"==typeof i&&(0,_.rq)(t,r,i),s&&"string"==typeof s&&await (0,_.Dx)(t,r,s)}getAttributeHash(){return""}getMeshHash(){return`${JSON.stringify(this.colorStops)}.${this.blurRadius}.${this.field}`}clone(){return new d({authoringInfo:this.authoringInfo&&this.authoringInfo.clone(),colorStops:(0,f.o8)(this.colorStops),field:this.field,legendOptions:(0,f.o8)(this.legendOptions),maxDensity:this.maxDensity,minDensity:this.minDensity,radius:this.radius,referenceScale:this.referenceScale,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle})}};(0,h._)([(0,y.MZ)({type:K.A,json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],ei.prototype,"authoringInfo",void 0),(0,h._)([(0,y.MZ)({type:Number,json:{origins:{"portal-item":{write:!0},"web-map":{write:!0}}}})],ei.prototype,"blurRadius",null),(0,h._)([(0,y.MZ)({type:[Y.A],json:{write:{isRequired:!0}}})],ei.prototype,"colorStops",void 0),(0,h._)([(0,y.MZ)({type:String,json:{write:!0}})],ei.prototype,"field",void 0),(0,h._)([(0,y.MZ)({type:Q,json:{write:!0}})],ei.prototype,"legendOptions",void 0),(0,h._)([(0,y.MZ)({type:Number,json:{write:!0}})],ei.prototype,"maxDensity",void 0),(0,h._)([(0,y.MZ)({type:Number,json:{origins:{"portal-item":{write:!0},"web-map":{write:!0}}}})],ei.prototype,"maxPixelIntensity",null),(0,h._)([(0,y.MZ)({type:Number,json:{write:!0}})],ei.prototype,"minDensity",void 0),(0,h._)([(0,y.MZ)({type:Number,json:{origins:{"portal-item":{write:!0},"web-map":{write:!0}}}})],ei.prototype,"minPixelIntensity",null),(0,h._)([(0,y.MZ)({type:Number,cast:J.cr,json:{write:!0}})],ei.prototype,"radius",void 0),(0,h._)([(0,y.MZ)({type:Number,range:{min:0},json:{default:0,write:!0}})],ei.prototype,"referenceScale",void 0),(0,h._)([(0,Z.e)({heatmap:"heatmap"})],ei.prototype,"type",void 0),(0,h._)([(0,y.MZ)({type:String,json:{write:!0,origins:{"web-document":{write:!1},"portal-item":{write:!1}}}})],ei.prototype,"valueExpression",void 0),(0,h._)([(0,y.MZ)({type:String})],ei.prototype,"valueExpressionTitle",void 0),(0,h._)([(0,y.MZ)({readOnly:!0})],ei.prototype,"_pixelIntensityToDensity",null);let en=ei=d=(0,h._)([(0,m.$)("esri.renderers.HeatmapRenderer")],ei);var es=i(31461),eo=i(23356);let ea=class extends X.A.ClonableMixin(D.A){constructor(){super(...arguments),this.color=new b.A([0,0,0,0]),this.label=null,this.threshold=0}};(0,h._)([(0,y.MZ)({type:b.A,json:{write:!0}})],ea.prototype,"color",void 0),(0,h._)([(0,y.MZ)({type:String,json:{write:!0}})],ea.prototype,"label",void 0),(0,h._)([(0,y.MZ)({type:Number,range:{min:0,max:1},json:{write:!0}})],ea.prototype,"threshold",void 0),ea=(0,h._)([(0,m.$)("esri.renderers.support.OthersCategory")],ea);var el=i(68704),eu=i(59630),ed=i(11004);let ec={base:i(86926).A,key:"type",typeMap:{size:ed.A,opacity:eu.A}},ep=class extends(0,w.h)(X.A.ClonableMixin(v.A)){constructor(t){super(t),this.attributes=null,this.backgroundFillSymbol=null,this.defaultColor=new b.A([0,0,0,0]),this.defaultLabel=null,this.holePercentage=0,this.othersCategory=new ea,this.legendOptions=null,this.outline=null,this.size=12,this.type="pie-chart",this.visualVariables=null}getSymbol(){return new et.A({size:this.size?this.size/2+(this.outline?.width||0):0})}async getSymbolAsync(){return this.getSymbol()}get symbols(){return[this.getSymbol(),this.backgroundFillSymbol].filter(es.Ru)}getAttributeHash(){return this.visualVariables?.reduce((t,r)=>t+r.getAttributeHash(),"")??""}getMeshHash(){return this.symbols.reduce((t,r)=>t+JSON.stringify(r),"")}async collectRequiredFields(t,r){for(let i of(await this.collectVVRequiredFields(t,r),this.attributes))i.valueExpression&&await (0,_.Dx)(t,r,i.valueExpression),i.field&&t.add(i.field)}};(0,h._)([(0,y.MZ)({type:[z],json:{write:!0}})],ep.prototype,"attributes",void 0),(0,h._)([(0,y.MZ)(eo.As)],ep.prototype,"backgroundFillSymbol",void 0),(0,h._)([(0,y.MZ)({type:b.A,json:{write:!0}})],ep.prototype,"defaultColor",void 0),(0,h._)([(0,y.MZ)({type:String,json:{write:!0}})],ep.prototype,"defaultLabel",void 0),(0,h._)([(0,y.MZ)({type:Number,range:{min:0,max:1},json:{write:!0}})],ep.prototype,"holePercentage",void 0),(0,h._)([(0,y.MZ)({type:ea,json:{write:!0}})],ep.prototype,"othersCategory",void 0),(0,h._)([(0,y.MZ)({type:el.A,json:{write:!0}})],ep.prototype,"legendOptions",void 0),(0,h._)([(0,y.MZ)({type:q.A,json:{default:null,write:!0}})],ep.prototype,"outline",void 0),(0,h._)([(0,y.MZ)({type:Number,cast:J.cr,json:{write:!0}})],ep.prototype,"size",void 0),(0,h._)([(0,Z.e)({pieChart:"pie-chart"})],ep.prototype,"type",void 0),(0,h._)([(0,y.MZ)({types:[ec]})],ep.prototype,"visualVariables",void 0);let eh=ep=(0,h._)([(0,m.$)("esri.renderers.PieChartRenderer")],ep);var ef=i(21221),ey=i(98873);let em={key:"type",base:v.A,typeMap:{heatmap:en,simple:ef.A,"unique-value":ey.A,"class-breaks":p.A,"dot-density":W,dictionary:F,"pie-chart":eh},errorContext:"renderer"},eg={key:"type",base:v.A,typeMap:{simple:ef.A,"unique-value":ey.A,"class-breaks":p.A,heatmap:en},errorContext:"renderer",validate:function(t){switch(t.type){case"simple":var r=t;if(r.symbol)return r;c.A.getLogger("esri.renderers.support.types").error("Removed invalid 'simple' renderer without a symbol from web scene.");return;case"unique-value":var i=t;let s=i.uniqueValueInfos,o=s?.filter(({symbol:t,label:r},i)=>(t||c.A.getLogger("esri.renderers.support.types").error(`Removed invalid unique value info ([${i}] ${r}) without a symbol from web scene.`),!!t));return o?.length!==s?.length&&(i.uniqueValueInfos=o),i;case"class-breaks":var a=t;let u=a.classBreakInfos,d=u?.filter(({symbol:t,label:r},i)=>(t||c.A.getLogger("esri.renderers.support.types").error(`Removed invalid class break info ([${i}] ${r}) without a symbol from web scene.`),!!t));return d?.length!==u?.length&&(a.classBreakInfos=d),a;case"heatmap":return t}}}},73368:(t,r,i)=>{i.d(r,{m:()=>s});let s=new(i(30781)).J({esriFieldTypeSmallInteger:"small-integer",esriFieldTypeInteger:"integer",esriFieldTypeSingle:"single",esriFieldTypeDouble:"double",esriFieldTypeLong:"long",esriFieldTypeString:"string",esriFieldTypeDate:"date",esriFieldTypeOID:"oid",esriFieldTypeGeometry:"geometry",esriFieldTypeBlob:"blob",esriFieldTypeRaster:"raster",esriFieldTypeGUID:"guid",esriFieldTypeGlobalID:"global-id",esriFieldTypeXML:"xml",esriFieldTypeBigInteger:"big-integer",esriFieldTypeDateOnly:"date-only",esriFieldTypeTimeOnly:"time-only",esriFieldTypeTimestampOffset:"timestamp-offset"})},73723:(t,r,i)=>{i.d(r,{L:()=>c,r:()=>u});var s=i(58985),o=i(22301),a=i(73358);function u(t,r){return c(t,null,r)}let d=(0,o.C)({types:a.Hg});function c(t,r,i){return t?t&&(t.styleName||t.styleUrl)&&"uniqueValue"!==t.type?(i?.messages&&i.messages.push(new s.A("renderer:unsupported","Only UniqueValueRenderer can be referenced from a web style, but found '"+t.type+"'",{definition:t,context:i})),null):d(t,r,i):null}},73845:(t,r,i)=>{i.d(r,{k7:()=>d,ku:()=>u});var s=i(90525),o=i(67546);function a(t,r){if(!(0,s.oP)(t)){let i=function(t){if(!t)return null;let{origin:r,layer:i}=t;if("service"!==r&&"portal-item"!==r)return null;let s=i?.type;return"feature"===s||"stream"===s?i.parsedUrl?.path:"map-image"===s||"tile"===s?t.url?.path:null}(r);if(i)return(0,s.fj)(i,"images",t)}return(0,o.f)(t,r)}let u={json:{read:{source:["imageData","url"],reader:function(t,r,i){return r.imageData?(0,s.Hg)({mediaType:r.contentType||"image/png",isBase64:!0,data:r.imageData}):a(r.url,i)}},write:{writer(t,r,i,a){var u=this.source;if((0,s.DB)(t)){let i=(0,s.r$)(t);i&&(r.contentType=i.mediaType,r.imageData=i.data,u&&u.imageData===r.imageData&&u.url&&(0,o.w)(u.url,r,"url",a))}else(0,o.w)(t,r,"url",a)}}}},d={readOnly:!0,json:{read:{source:["imageData","url"],reader(t,r,i){let s={};return r.imageData&&(s.imageData=r.imageData),r.contentType&&(s.contentType=r.contentType),r.url&&(s.url=a(r.url,i)),s}}}}},74044:(t,r,i)=>{i.d(r,{A:()=>v});var s=i(81856),o=i(92713),a=i(91838);i(57845),i(61939),i(33638);var u=i(12709),d=i(147),c=i(87960),p=i(65442);let h=class extends o.A{constructor(t){super(t),this.line=null,this.multipoint=null,this.polygon=null}};(0,s._)([(0,a.MZ)({type:p.A,json:{write:!0},readOnly:!0})],h.prototype,"line",void 0),(0,s._)([(0,a.MZ)({type:d.A,json:{read:{source:"point"},write:{target:"point"}},readOnly:!0})],h.prototype,"multipoint",void 0),(0,s._)([(0,a.MZ)({type:c.A,json:{write:!0},readOnly:!0})],h.prototype,"polygon",void 0);let f=h=(0,s._)([(0,u.$)("esri.rest.networks.support.AggregatedGeometry")],h),y=class extends o.A{constructor(t){super(t),this.functionType=null,this.networkAttributeName=null,this.result=null}};(0,s._)([(0,a.MZ)({type:["add","subtract","average","count","min","max"],json:{write:!0},readOnly:!0})],y.prototype,"functionType",void 0),(0,s._)([(0,a.MZ)({type:String,json:{write:!0},readOnly:!0})],y.prototype,"networkAttributeName",void 0),(0,s._)([(0,a.MZ)({type:Number,json:{write:!0},readOnly:!0})],y.prototype,"result",void 0);let m=y=(0,s._)([(0,u.$)("esri.rest.networks.support.FunctionResult")],y);var g=i(71750);let _=class extends o.A{constructor(t){super(t),this.aggregatedGeometry=null,this.elements=null,this.globalFunctionResults=null,this.kFeaturesForKNNFound=!1,this.startingPointsIgnored=!1,this.warnings=null}};(0,s._)([(0,a.MZ)({type:f,json:{write:!0},readOnly:!0})],_.prototype,"aggregatedGeometry",void 0),(0,s._)([(0,a.MZ)({type:[g.A],json:{write:!0},readOnly:!0})],_.prototype,"elements",void 0),(0,s._)([(0,a.MZ)({type:[m],json:{write:!0},readOnly:!0})],_.prototype,"globalFunctionResults",void 0),(0,s._)([(0,a.MZ)({type:Boolean,json:{write:!0},readOnly:!0})],_.prototype,"kFeaturesForKNNFound",void 0),(0,s._)([(0,a.MZ)({type:Boolean,json:{write:!0},readOnly:!0})],_.prototype,"startingPointsIgnored",void 0),(0,s._)([(0,a.MZ)({type:[String],json:{write:!0},readOnly:!0})],_.prototype,"warnings",void 0);let v=_=(0,s._)([(0,u.$)("esri.rest.networks.support.TraceResult")],_)},74311:(t,r,i)=>{i.d(r,{A:()=>p});var s,o=i(81856),a=i(91838);i(57845),i(61939),i(33638);var u=i(12709),d=i(54903);let c=s=class extends d.c{constructor(t){super(t),this.type="selection"}clone(){return new s}};(0,o._)([(0,a.MZ)({type:["selection"]})],c.prototype,"type",void 0);let p=c=s=(0,o._)([(0,u.$)("esri.layers.support.FeatureReductionSelection")],c)},74422:(t,r,i)=>{i.d(r,{A:()=>a});var s=i(98570);function o(t){t.length=0}class a{constructor(t=50,r=50){this._pool=new s.A(Array,void 0,o,r,t)}acquire(){return this._pool.acquire()}release(t){this._pool.release(t)}prune(){this._pool.prune(0)}static acquire(){return u.acquire()}static release(t){return u.release(t)}static prune(){u.prune()}}let u=new a(100)},74497:(t,r,i)=>{i.d(r,{A:()=>f});var s=i(81856),o=i(92713),a=i(91838);i(57845),i(61939),i(33638);var u=i(12709),d=i(91463),c=i(31789),p=i(71760);let h=class extends o.A{constructor(t){super(t),this.geometries=[],this.outSpatialReference=null,this.transformation=null,this.transformForward=null}toJSON(){let t=this.geometries.map(t=>t.toJSON()),r=this.geometries[0],i={};return i.outSR=(0,p.YX)(this.outSpatialReference),i.inSR=(0,p.YX)(r.spatialReference),i.geometries=JSON.stringify({geometryType:(0,c.$B)(r),geometries:t}),this.transformation&&(i.transformation=this.transformation.wkid||JSON.stringify(this.transformation)),null!=this.transformForward&&(i.transformForward=this.transformForward),i}};(0,s._)([(0,a.MZ)()],h.prototype,"geometries",void 0),(0,s._)([(0,a.MZ)({type:d.A,json:{read:{source:"outSR"}}})],h.prototype,"outSpatialReference",void 0),(0,s._)([(0,a.MZ)()],h.prototype,"transformation",void 0),(0,s._)([(0,a.MZ)()],h.prototype,"transformForward",void 0);let f=h=(0,s._)([(0,u.$)("esri.rest.support.ProjectParameters")],h)},74652:(t,r,i)=>{i.d(r,{A:()=>d});var s=i(81856),o=i(28690),a=i(19158),u=i(12709);class d{constructor(){this._emitter=new d.EventEmitter(this)}emit(t,r){return this._emitter.emit(t,r)}on(t,r){return this._emitter.on(t,r)}once(t,r){return this._emitter.once(t,r)}hasEventListener(t){return this._emitter.hasEventListener(t)}}!function(t){class r{constructor(t=null){this._target=t,this._listenersMap=null}clear(){this._listenersMap?.clear(),this._listenersMap=null}destroy(){this.clear()}emit(t,r){let i=this._listenersMap?.get(t);if(!i)return!1;let s=this._target||this,o=!1;for(let t of i.slice()){let i="deref"in t?t.deref():t;i?i?.call(s,r):o=!0}return o&&(i=i.filter(t=>!("deref"in t)||null!=t.deref()),this._listenersMap.set(t,i)),i.length>0}on(t,r){if(Array.isArray(t)){let i=t.map(t=>this.on(t,r));return(0,a.vE)(i)}if(t.includes(","))throw TypeError("Evented.on() with a comma delimited string of event types is not supported");this._listenersMap??=new Map;let i=this._listenersMap.get(t)||[];return i.push(r),this._listenersMap.set(t,i),(0,a.hA)(()=>{let i=this._listenersMap?.get(t),s=i?.indexOf(r)??-1;s>=0&&i.splice(s,1)})}once(t,r){let i=this.on(t,t=>{i.remove();let s="deref"in r?r.deref():r;s?.call(null,t)});return i}hasEventListener(t){let r=this._listenersMap?.get(t);return null!=r&&r.length>0}}t.EventEmitter=r,t.EventedMixin=t=>{let i=class extends t{constructor(){super(...arguments),this._emitter=new r}destroy(){this._emitter.clear()}emit(t,r){return this._emitter.emit(t,r)}on(t,r){return this._emitter.on(t,r)}once(t,r){return this._emitter.once(t,r)}hasEventListener(t){return this._emitter.hasEventListener(t)}};return(0,s._)([(0,u.$)("esri.core.Evented")],i)};let i=class extends o.A{constructor(){super(...arguments),this._emitter=new d.EventEmitter(this)}destroy(){this._emitter.clear()}emit(t,r){return this._emitter.emit(t,r)}on(t,r){return this._emitter.on(t,r)}once(t,r){return this._emitter.once(t,r)}hasEventListener(t){return this._emitter.hasEventListener(t)}};t.EventedAccessor=(0,s._)([(0,u.$)("esri.core.Evented.EventedAccessor")],i)}(d)},74723:(t,r,i)=>{i.d(r,{Eq:()=>y,L4:()=>h,Pr:()=>w,QA:()=>g,Qu:()=>v,dJ:()=>f,r3:()=>m,vT:()=>_});var s=i(8922),o=i(94360),a=i(52548),u=i(93446);let d={color:{write:[!0,!0,!0,!0],blendMode:"composite"},depth:!1,stencil:{write:!1,test:{ref:t=>t.stencilRef,compare:u.MT.EQUAL,mask:255,op:{fail:u.eA.KEEP,zFail:u.eA.KEEP,zPass:u.eA.REPLACE}}}},c={color:{write:[!0,!0,!0,!0],blendMode:"additive"},depth:!1,stencil:!1},p={...d,color:{write:[!0,!0,!0,!0],blendMode:"delete"}};function h({pixelRatio:t,state:r,displayLevel:i,requiredLevel:o},a){let u=1/2**(i-a.key.level),d=1/2**(o-a.key.level);return{displayMat3:r.displayMat3,displayViewMat3:r.displayViewMat3,displayViewScreenMat3:a.transforms.displayViewScreenMat3,viewMat3:r.viewMat3,tileMat3:a.transforms.tileMat3,displayZoomFactor:u,requiredZoomFactor:d,tileOffset:[a.x,a.y],currentScale:r.scale,currentZoom:i,metersPerSRUnit:(0,s.GA)(r.spatialReference),rotation:r.rotation,pixelRatio:t}}function f(t){return"highlight"===t.passOptions?.type}function y(t){return"hittest"===t.passOptions?.type}function m(t,r,i){let s={};for(let o in i)i[o]instanceof Function?s[o]=i[o](t,r):s[o]=i[o];return s}function g(t,r){let{attributeView:i,context:s}=t;return{storage:i.getUniforms(s),view:h(t,r),hittestRequest:function(t){if(!y(t))return null;let{position:r,distance:i,smallSymbolDistance:s,smallSymbolSizeThreshold:o}=t.passOptions;return{position:r,distance:i,smallSymbolDistance:s,smallSymbolSizeThreshold:o}}(t),highlight:function(t){if(!f(t))return null;let{activeReasons:r,highlightAll:i}=t.passOptions;return{activeReasons:r,highlightAll:+!!i}}(t)}}function _(t){return{inside:t.selection===a.RI.InsideEffect,outside:t.selection===a.RI.OutsideEffect}}function v(t){return y(t)?c:f(t)&&"clear"===t.passOptions.stepType?p:d}function w(t){let{row:r,col:i}=t.key,s=i*o.CQ,a=r*o.CQ;return{tileOffsetFromLocalOrigin:[s%o.YV,a%o.YV],maxIntsToLocalOrigin:[Math.floor(s/o.YV),Math.floor(a/o.YV)]}}},74817:(t,r,i)=>{i.d(r,{d:()=>Z});var s,o,a=i(89800),u=i(54903),d=i(81856),c=i(39267),p=i(33715),h=i(34184),f=i(55048),y=i(91838),m=i(86942),g=i(33498),_=i(53480),v=i(12709),w=i(7780),b=i(12073),M=i(76572),S=i(11604),A=i(21798),T=i(73723),x=i(73358);let E=s=class extends u.c{constructor(t){super(t),this.type="binning",this.binType="geohash",this.fixedBinLevel=null,this.labelingInfo=null,this.labelsVisible=!0,this.maxScale=0,this.popupEnabled=!0,this.popupTemplate=null,this.size=(0,f.cr)("12px"),this.fields=[],this.renderer=null}writeFields(t,r,i){let s=t.filter(t=>"avg_angle"!==t.statisticType).map(t=>t.toJSON());(0,h.sM)(i,s,r)}readRenderer(t,r,i){let s=r.drawingInfo?.renderer;return s?(0,T.L)(s,r,i)??void 0:(0,S.PD)(r,i)}clone(){return new s({fields:(0,p.o8)(this.fields),fixedBinLevel:this.fixedBinLevel,labelingInfo:(0,p.o8)(this.labelingInfo),labelsVisible:this.labelsVisible,maxScale:this.maxScale,popupEnabled:this.popupEnabled,popupTemplate:(0,p.o8)(this.popupTemplate),renderer:(0,p.o8)(this.renderer),binType:(0,p.o8)(this.binType),size:this.size})}};(0,d._)([(0,g.e)({binning:"binning"})],E.prototype,"type",void 0),(0,d._)([(0,g.e)({geohash:"geohash",square:"square"}),(0,y.MZ)({type:["geohash","square"]})],E.prototype,"binType",void 0),(0,d._)([(0,y.MZ)({type:Number,json:{write:!0}})],E.prototype,"fixedBinLevel",void 0),(0,d._)([(0,y.MZ)({type:[A.A],json:{read:{source:"drawingInfo.labelingInfo"},write:{target:"drawingInfo.labelingInfo"}}})],E.prototype,"labelingInfo",void 0),(0,d._)([(0,y.MZ)(M.kF)],E.prototype,"labelsVisible",void 0),(0,d._)([(0,y.MZ)({type:Number,json:{default:0,name:"visibilityInfo.maxScale"}})],E.prototype,"maxScale",void 0),(0,d._)([(0,y.MZ)(M.M6)],E.prototype,"popupEnabled",void 0),(0,d._)([(0,y.MZ)({type:c.A,json:{name:"popupInfo",write:!0}})],E.prototype,"popupTemplate",void 0),(0,d._)([(0,y.MZ)({cast:t=>"auto"===t?t:(0,m.GB)((0,f.cr)(t))})],E.prototype,"size",void 0),(0,d._)([(0,y.MZ)({type:[b.A],json:{write:!0}})],E.prototype,"fields",void 0),(0,d._)([(0,w.K)("fields")],E.prototype,"writeFields",null),(0,d._)([(0,y.MZ)({types:x.Hg,json:{write:{target:"drawingInfo.renderer"}}})],E.prototype,"renderer",void 0),(0,d._)([(0,_.w)("renderer",["drawingInfo.renderer"])],E.prototype,"readRenderer",null);let I=E=s=(0,d._)([(0,v.$)("esri.layers.support.FeatureReductionBinning")],E);var C=i(92713),R=i(21221),O=i(76558);function P(t){return"simple"===t.type&&!t.visualVariables?.length}let N=o=class extends C.A{constructor(t){super(t),this.type="cluster",this.clusterRadius=(0,f.cr)("80px"),this.clusterMinSize=(0,f.cr)("12px"),this.clusterMaxSize=(0,f.cr)("50px"),this.maxScale=0,this.popupEnabled=!0,this.popupTemplate=null,this.renderer=null,this.symbol=null,this.labelingInfo=null,this.labelsVisible=!0,this.fields=[]}readRenderer(t,r,i){let s=r.drawingInfo?.renderer;return s?.authoringInfo?.isAutoGenerated?null:s?P(s)?null:(0,T.L)(s,r,i)??void 0:(0,S.PD)(r,i)}readSymbol(t,r,i){let s=r.drawingInfo?.renderer;if(s?.authoringInfo?.isAutoGenerated)return null;if(s&&P(s)){let t=(0,T.L)(s,r,i);return t?.symbol}return null}writeSymbol(t,r,i,s){let o=this.renderer?.authoringInfo?.isAutoGenerated;(!this.renderer||o)&&(r.drawingInfo={renderer:new R.A({symbol:t}).write({},s)})}writeFields(t,r,i){let s=t.filter(t=>"avg_angle"!==t.statisticType).map(t=>t.toJSON());(0,h.sM)(i,s,r)}readFields(t,r,i){return t.filter(t=>!t.isAutoGenerated).map(t=>b.A.fromJSON(t))}clone(){return new o({clusterRadius:this.clusterRadius,clusterMinSize:this.clusterMinSize,clusterMaxSize:this.clusterMaxSize,labelingInfo:(0,p.o8)(this.labelingInfo),labelsVisible:this.labelsVisible,fields:(0,p.o8)(this.fields),maxScale:this.maxScale,renderer:(0,p.o8)(this.renderer),symbol:(0,p.o8)(this.symbol),popupEnabled:this.popupEnabled,popupTemplate:(0,p.o8)(this.popupTemplate)})}};(0,d._)([(0,y.MZ)({type:["cluster"],readOnly:!0,json:{write:!0}})],N.prototype,"type",void 0),(0,d._)([(0,y.MZ)({cast:t=>"auto"===t?t:(0,m.GB)((0,f.cr)(t)),json:{write:!0}})],N.prototype,"clusterRadius",void 0),(0,d._)([(0,y.MZ)({type:Number,cast:f.cr,json:{write:!0}})],N.prototype,"clusterMinSize",void 0),(0,d._)([(0,y.MZ)({type:Number,cast:f.cr,json:{write:!0}})],N.prototype,"clusterMaxSize",void 0),(0,d._)([(0,y.MZ)({type:Number,json:{default:0,name:"visibilityInfo.maxScale"}})],N.prototype,"maxScale",void 0),(0,d._)([(0,y.MZ)(M.M6)],N.prototype,"popupEnabled",void 0),(0,d._)([(0,y.MZ)({type:c.A,json:{read:{source:"popupInfo"},write:{target:"popupInfo"}}})],N.prototype,"popupTemplate",void 0),(0,d._)([(0,y.MZ)({types:x.Hg,json:{write:{target:"drawingInfo.renderer"}}})],N.prototype,"renderer",void 0),(0,d._)([(0,_.w)("renderer",["drawingInfo.renderer"])],N.prototype,"readRenderer",null),(0,d._)([(0,y.MZ)({types:O.q8})],N.prototype,"symbol",void 0),(0,d._)([(0,_.w)("symbol",["drawingInfo.renderer"])],N.prototype,"readSymbol",null),(0,d._)([(0,w.K)("symbol")],N.prototype,"writeSymbol",null),(0,d._)([(0,y.MZ)({type:[A.A],json:{read:{source:"drawingInfo.labelingInfo"},write:{target:"drawingInfo.labelingInfo"}}})],N.prototype,"labelingInfo",void 0),(0,d._)([(0,y.MZ)(M.kF)],N.prototype,"labelsVisible",void 0),(0,d._)([(0,y.MZ)({type:[b.A],json:{write:!0}})],N.prototype,"fields",void 0),(0,d._)([(0,w.K)("fields")],N.prototype,"writeFields",null),(0,d._)([(0,_.w)("fields")],N.prototype,"readFields",null);let k=N=o=(0,d._)([(0,v.$)("esri.layers.support.FeatureReductionCluster")],N);var L=i(74311);let F={key:"type",base:u.c,typeMap:{cluster:k,binning:I}},Z={types:{key:"type",base:u.c,typeMap:{selection:L.A,cluster:k,binning:I}},json:{name:"layerDefinition.featureReduction",write:{allowNull:!0},origins:{"web-map":{types:F},"portal-item":{types:F},"web-scene":{types:{key:"type",base:u.c,typeMap:{selection:L.A}},name:"layerDefinition.featureReduction",write:{layerContainerTypes:a.K}}}}}},74935:(t,r,i)=>{i.d(r,{A:()=>O});var s,o=i(81856),a=i(30781),u=i(33715),d=i(61939),c=i(91838),p=i(16352),h=i(33498),f=i(53480),y=i(12709),m=i(7780),g=i(86942),_=i(39265),v=i(28763),w=i(22812),b=i(63875),M=i(23356),S=i(68704),A=i(20703),T=i(76558);let x="percent-of-total",E="field",I=new a.J({esriNormalizeByLog:"log",esriNormalizeByPercentOfTotal:x,esriNormalizeByField:E}),C=(0,g.dp)(b.A),R=s=class extends(0,w.h)(v.A){constructor(t){super(t),this._compiledValueExpression={valueExpression:null,compiledFunction:null},this.backgroundFillSymbol=null,this.classBreakInfos=null,this.defaultLabel=null,this.defaultSymbol=null,this.field=null,this.isMaxInclusive=!0,this.legendOptions=null,this.normalizationField=null,this.normalizationTotal=null,this.type="class-breaks",this.valueExpression=null,this.valueExpressionTitle=null,this._set("classBreakInfos",[])}readClassBreakInfos(t,r,i){if(!Array.isArray(t))return;let s=r.minValue;return t.map(t=>{let r=new b.A;return r.read(t,i),null==r.minValue&&(r.minValue=s),null==r.maxValue&&(r.maxValue=r.minValue),s=r.maxValue,r})}writeClassBreakInfos(t,r,i,s){let o=t.map(t=>t.write({},s));this._areClassBreaksConsecutive()&&o.forEach(t=>delete t.classMinValue),r[i]=o}castField(t){return null==t?t:"function"==typeof t?(d.A.getLogger(this).error(".field: field must be a string value"),null):(0,g.GX)(t)}get minValue(){return this.classBreakInfos&&this.classBreakInfos[0]&&this.classBreakInfos[0].minValue||0}get normalizationType(){let t=this._get("normalizationType"),r=!!this.normalizationField,i=null!=this.normalizationTotal;return r||i?(t=r&&E||i&&x||null,r&&i&&d.A.getLogger(this).warn("warning: both normalizationField and normalizationTotal are set!")):t!==E&&t!==x||(t=null),t}set normalizationType(t){this._set("normalizationType",t)}addClassBreakInfo(t,r,i){let s=null;s="number"==typeof t?new b.A({minValue:t,maxValue:r,symbol:(0,T.dp)(i)}):C((0,u.o8)(t)),this.classBreakInfos.push(s),1===this.classBreakInfos.length&&this.notifyChange("minValue")}removeClassBreakInfo(t,r){let i=this.classBreakInfos.length;for(let s=0;s<i;s++){let i=[this.classBreakInfos[s].minValue,this.classBreakInfos[s].maxValue];if(i[0]===t&&i[1]===r){this.classBreakInfos.splice(s,1);break}}}getBreakIndex(t,r){return this.valueExpression&&null==r?.arcade&&d.A.getLogger(this).warn(""),this.valueExpression?this._getBreakIndexForExpression(t,r):this._getBreakIndexForField(t)}async getClassBreakInfo(t,r){let i=r;this.valueExpression&&null==r?.arcade&&(i={...i,arcade:await (0,A.lw)()});let s=this.getBreakIndex(t,i);return -1!==s?this.classBreakInfos[s]:null}getSymbol(t,r){if(this.valueExpression&&null==r?.arcade)return void d.A.getLogger(this).error("#getSymbol()","Please use getSymbolAsync if valueExpression is used");let i=this.getBreakIndex(t,r);return i>-1?this.classBreakInfos[i].symbol:this.defaultSymbol}async getSymbolAsync(t,r){let i=r;if(this.valueExpression&&null==r?.arcade){let t=await (0,A.lw)(),{arcadeUtils:r}=t;r.hasGeometryOperations(this.valueExpression)&&await r.enableGeometryOperations(),i={...i,arcade:t}}let s=this.getBreakIndex(t,i);return s>-1?this.classBreakInfos[s].symbol:this.defaultSymbol}get symbols(){let t=[];return this.classBreakInfos.forEach(r=>{r.symbol&&t.push(r.symbol)}),this.defaultSymbol&&t.push(this.defaultSymbol),t}getAttributeHash(){return this.visualVariables?.reduce((t,r)=>t+r.getAttributeHash(),"")??""}getMeshHash(){let t=JSON.stringify(this.backgroundFillSymbol),r=JSON.stringify(this.defaultSymbol),i=`${this.normalizationField}.${this.normalizationType}.${this.normalizationTotal}`;return`${t}.${r}.${this.classBreakInfos.reduce((t,r)=>t+r.getMeshHash(),"")}.${i}.${this.field}.${this.valueExpression}`}get arcadeRequired(){return this.arcadeRequiredForVisualVariables||!!this.valueExpression}clone(){return new s({field:this.field,backgroundFillSymbol:this.backgroundFillSymbol?.clone(),defaultLabel:this.defaultLabel,defaultSymbol:this.defaultSymbol?.clone(),valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,classBreakInfos:(0,u.o8)(this.classBreakInfos),isMaxInclusive:this.isMaxInclusive,normalizationField:this.normalizationField,normalizationTotal:this.normalizationTotal,normalizationType:this.normalizationType,visualVariables:(0,u.o8)(this.visualVariables),legendOptions:(0,u.o8)(this.legendOptions),authoringInfo:(0,u.o8)(this.authoringInfo)})}async collectRequiredFields(t,r){let i=[this.collectVVRequiredFields(t,r),this.collectSymbolFields(t,r)];await Promise.all(i)}async collectSymbolFields(t,r){let i=[...this.symbols.map(i=>i.collectRequiredFields(t,r)),(0,_.Dx)(t,r,this.valueExpression)];(0,_.rq)(t,r,this.field),(0,_.rq)(t,r,this.normalizationField),await Promise.all(i)}_getBreakIndexForExpression(t,r){let{viewingMode:i,scale:s,spatialReference:o,arcade:a,timeZone:u}=r??{},{valueExpression:d}=this,c=this._compiledValueExpression.valueExpression===d?this._compiledValueExpression.compiledFunction:null,p=a.arcadeUtils;if(!c){let t=p.createSyntaxTree(d);c=p.createFunction(t),this._compiledValueExpression.compiledFunction=c}this._compiledValueExpression.valueExpression=d;let h=p.executeFunction(c,p.createExecContext(t,p.getViewInfo({viewingMode:i,scale:s,spatialReference:o}),u));return this._getBreakIndexfromInfos(h)}_getBreakIndexForField(t){let r=this.field,i=t.attributes,s=this.normalizationType,o=parseFloat(i[r]);if(s){let t=this.normalizationTotal,r=parseFloat(this.normalizationField?i[this.normalizationField]:void 0);if("log"===s)o=Math.log(o)*Math.LOG10E;else if(s!==x||null==t||isNaN(t)){if(s===E&&!isNaN(r)){if(isNaN(o)||isNaN(r))return -1;o/=r}}else o=o/t*100}return this._getBreakIndexfromInfos(o)}_getBreakIndexfromInfos(t){let r=this.isMaxInclusive;if(null!=t&&"number"==typeof t&&!isNaN(t))for(let i=0;i<this.classBreakInfos.length;i++){let s=[this.classBreakInfos[i].minValue,this.classBreakInfos[i].maxValue];if(s[0]<=t&&(r?t<=s[1]:t<s[1]))return i}return -1}_areClassBreaksConsecutive(){let t=this.classBreakInfos,r=t.length;for(let i=1;i<r;i++)if(t[i-1].maxValue!==t[i].minValue)return!1;return!0}};(0,o._)([(0,c.MZ)(M.As)],R.prototype,"backgroundFillSymbol",void 0),(0,o._)([(0,c.MZ)({type:[b.A],json:{write:{isRequired:!0}}})],R.prototype,"classBreakInfos",void 0),(0,o._)([(0,f.w)("classBreakInfos")],R.prototype,"readClassBreakInfos",null),(0,o._)([(0,m.K)("classBreakInfos")],R.prototype,"writeClassBreakInfos",null),(0,o._)([(0,c.MZ)({type:String,json:{write:!0}})],R.prototype,"defaultLabel",void 0),(0,o._)([(0,c.MZ)(M.z4)],R.prototype,"defaultSymbol",void 0),(0,o._)([(0,c.MZ)({type:String,json:{write:!0}})],R.prototype,"field",void 0),(0,o._)([(0,p.w)("field")],R.prototype,"castField",null),(0,o._)([(0,c.MZ)({type:Boolean})],R.prototype,"isMaxInclusive",void 0),(0,o._)([(0,c.MZ)({type:S.A,json:{write:!0}})],R.prototype,"legendOptions",void 0),(0,o._)([(0,c.MZ)({type:Number,readOnly:!0,value:null,json:{read:!1,write:{overridePolicy(){return 0!==this.classBreakInfos.length&&this._areClassBreaksConsecutive()?{enabled:!0}:{enabled:!1}}}}})],R.prototype,"minValue",null),(0,o._)([(0,c.MZ)({type:String,json:{write:!0}})],R.prototype,"normalizationField",void 0),(0,o._)([(0,c.MZ)({type:Number,json:{write:!0}})],R.prototype,"normalizationTotal",void 0),(0,o._)([(0,c.MZ)({type:I.apiValues,value:null,json:{type:I.jsonValues,read:I.read,write:I.write}})],R.prototype,"normalizationType",null),(0,o._)([(0,h.e)({classBreaks:"class-breaks"})],R.prototype,"type",void 0),(0,o._)([(0,c.MZ)({type:String,json:{write:!0}})],R.prototype,"valueExpression",void 0),(0,o._)([(0,c.MZ)({type:String,json:{write:!0}})],R.prototype,"valueExpressionTitle",void 0);let O=R=s=(0,o._)([(0,y.$)("esri.renderers.ClassBreaksRenderer")],R)},75378:(t,r,i)=>{i.d(r,{A:()=>h});var s,o=i(81856),a=i(91838);i(57845),i(61939),i(33638);var u=i(12709),d=i(18106),c=i(37261);let p=s=class extends d.A{constructor(t){super(t),this.type="pie-chart"}clone(){return new s({altText:this.altText,title:this.title,caption:this.caption,value:this.value?.clone()})}};(0,o._)([(0,a.MZ)({type:["pie-chart"],readOnly:!0,json:{type:["piechart"],read:!1,write:{writer:c.U.write,isRequired:!0}}})],p.prototype,"type",void 0);let h=p=s=(0,o._)([(0,u.$)("esri.popup.content.PieChartMediaInfo")],p)},75683:(t,r,i)=>{i.d(r,{Jn:()=>u});var s=i(48767),o=i(90525);let a=new Set(["elevation3d.arcgis.com","js.arcgis.com","jsdev.arcgis.com","jsqa.arcgis.com","static.arcgis.com"]);function u(t,r){return!(!r&&!s.A.apiKey||!function(t){let r=(0,o.$z)(t,!0);return!!r&&r.endsWith(".arcgis.com")&&!a.has(r)&&!t.endsWith("/sharing/rest/generateToken")}(t))}},75998:(t,r,i)=>{i.d(r,{A:()=>f});var s,o=i(81856),a=i(70152),u=i(92713),d=i(33715),c=i(91838);i(57845),i(61939);var p=i(12709);let h=s=class extends u.A{constructor(t){super(t),this.color=new a.A([0,0,0,1])}clone(){return new s((0,d.o8)({color:this.color}))}};(0,o._)([(0,c.MZ)({type:a.A,json:{write:!0}})],h.prototype,"color",void 0);let f=h=s=(0,o._)([(0,p.$)("esri.webmap.background.ColorBackground")],h)},76465:(t,r,i)=>{i.d(r,{A:()=>p});var s,o=i(81856),a=i(91838);i(57845),i(61939),i(33638);var u=i(12709),d=i(41846);let c=s=class extends d.A{constructor(t){super(t),this.type="style",this.style="solid"}clone(){return new s({style:this.style})}};(0,o._)([(0,a.MZ)({type:["style"],json:{write:{isRequired:!0}}})],c.prototype,"type",void 0),(0,o._)([(0,a.MZ)({type:["backward-diagonal","cross","diagonal-cross","forward-diagonal","horizontal","none","solid","vertical"],json:{read:!0,write:{isRequired:!0}}})],c.prototype,"style",void 0);let p=c=s=(0,o._)([(0,u.$)("esri.symbols.patterns.StylePattern3D")],c)},76558:(t,r,i)=>{i.d(r,{dp:()=>$,$y:()=>P,wk:()=>N,Y7:()=>F,wC:()=>L,Ac:()=>Z,Bu:()=>j,Es:()=>k,q8:()=>D,em:()=>V,Rv:()=>G,xK:()=>U,On:()=>z});var s,o=i(86942),a=i(22301),u=i(72082),d=i(67844),c=i(10098),p=i(46633),h=i(81856),f=i(33715),y=i(55048),m=i(91838);i(57845),i(61939);var g=i(33498),_=i(12709),v=i(50558),w=i(73845);let b=s=class extends v.A{constructor(...t){super(...t),this.type="picture-fill",this.url=null,this.xscale=1,this.yscale=1,this.width=12,this.height=12,this.xoffset=0,this.yoffset=0,this.source=null}normalizeCtorArgs(t,r,i,s){if(t&&"string"!=typeof t&&null==t.imageData)return t;let o={};return t&&(o.url=t),r&&(o.outline=r),null!=i&&(o.width=(0,y.cr)(i)),null!=s&&(o.height=(0,y.cr)(s)),o}clone(){let t=new s({color:(0,f.o8)(this.color),height:this.height,outline:(0,f.o8)(this.outline),url:this.url,width:this.width,xoffset:this.xoffset,xscale:this.xscale,yoffset:this.yoffset,yscale:this.yscale});return t._set("source",(0,f.o8)(this.source)),t}hash(){return`${super.hash()}.${this.color?.hash()}.${this.height}.${this.url}.${this.width}.${this.xoffset}.${this.xscale}.${this.yoffset}.${this.yscale}`}};(0,h._)([(0,g.e)({esriPFS:"picture-fill"},{readOnly:!0})],b.prototype,"type",void 0),(0,h._)([(0,m.MZ)(w.ku)],b.prototype,"url",void 0),(0,h._)([(0,m.MZ)({type:Number,json:{write:!0}})],b.prototype,"xscale",void 0),(0,h._)([(0,m.MZ)({type:Number,json:{write:!0}})],b.prototype,"yscale",void 0),(0,h._)([(0,m.MZ)({type:Number,cast:y.cr,json:{write:!0}})],b.prototype,"width",void 0),(0,h._)([(0,m.MZ)({type:Number,cast:y.cr,json:{write:!0}})],b.prototype,"height",void 0),(0,h._)([(0,m.MZ)({type:Number,cast:y.cr,json:{write:!0}})],b.prototype,"xoffset",void 0),(0,h._)([(0,m.MZ)({type:Number,cast:y.cr,json:{write:!0}})],b.prototype,"yoffset",void 0),(0,h._)([(0,m.MZ)(w.k7)],b.prototype,"source",void 0);let M=b=s=(0,h._)([(0,_.$)("esri.symbols.PictureFillSymbol")],b);var S=i(41989),A=i(57136),T=i(26232),x=i(59276),E=i(71230),I=i(22191),C=i(6015),R=i(7644),O=i(11584);function P(t){if(!t)return!1;switch(t.type){case"picture-fill":case"picture-marker":case"simple-fill":case"simple-line":case"simple-marker":case"text":case"cim":return!0;default:return!1}}function N(t){switch(t?.type){case"label-3d":case"line-3d":case"mesh-3d":case"point-3d":case"polygon-3d":return!0;default:return!1}}let k={base:C.A,key:"type",typeMap:{"simple-fill":x.A,"picture-fill":M,"picture-marker":S.A,"simple-line":E.A,"simple-marker":I.A,text:R.A,"label-3d":d.A,"line-3d":c.A,"mesh-3d":p.A,"point-3d":A.A,"polygon-3d":T.A,"web-style":O.A,cim:u.A},errorContext:"symbol"},L=(C.A,x.A,u.A,{base:C.A,key:"type",typeMap:{"picture-marker":S.A,"simple-marker":I.A,"point-3d":A.A,cim:u.A},errorContext:"symbol"}),F={base:C.A,key:"type",typeMap:{"simple-line":E.A,"line-3d":c.A,cim:u.A},errorContext:"symbol"},Z={base:C.A,key:"type",typeMap:{"simple-fill":x.A,"picture-fill":M,"polygon-3d":T.A,cim:u.A},errorContext:"symbol"},D={base:C.A,key:"type",typeMap:{"picture-marker":S.A,"simple-marker":I.A,text:R.A,"web-style":O.A,cim:u.A},errorContext:"symbol"},j=(0,a.C)({types:k}),U={base:C.A,key:"type",typeMap:{"simple-fill":x.A,"picture-fill":M,"picture-marker":S.A,"simple-line":E.A,"simple-marker":I.A,text:R.A,"line-3d":c.A,"mesh-3d":p.A,"point-3d":A.A,"polygon-3d":T.A,"web-style":O.A,cim:u.A},errorContext:"symbol"},V={base:C.A,key:"type",typeMap:{text:R.A,"label-3d":d.A},errorContext:"symbol"},z=(C.A,d.A,c.A,p.A,A.A,T.A,O.A,{base:C.A,key:"type",typeMap:{"line-3d":c.A,"mesh-3d":p.A,"point-3d":A.A,"polygon-3d":T.A,"web-style":O.A,cim:u.A},errorContext:"symbol"}),G={base:C.A,key:"type",typeMap:{"label-3d":d.A},errorContext:"symbol"},$=(0,o.aq)(k)},76572:(t,r,i)=>{i.d(r,{C1:()=>E,Fm:()=>S,Ih:()=>M,M6:()=>f,OZ:()=>m,PY:()=>h,Qo:()=>v,Yj:()=>_,fV:()=>g,hG:()=>x,hn:()=>T,id:()=>A,kF:()=>y,ke:()=>b,zQ:()=>I});var s=i(89800),o=i(61414),a=i(91463),u=i(67546),d=i(8136),c=i(61631),p=i(24860);let h={type:Boolean,value:!0,json:{origins:{service:{read:!1,write:!1},"web-map":{read:!1,write:!1}},name:"screenSizePerspective",write:{enabled:!0,layerContainerTypes:s.K}}},f={type:Boolean,value:!0,json:{name:"disablePopup",read:{reader:(t,r)=>!r.disablePopup},write:{enabled:!0,writer(t,r,i){r[i]=!t}}}},y={type:Boolean,value:!0,nonNullable:!0,json:{name:"showLabels",write:{enabled:!0,layerContainerTypes:s.K}}},m={type:String,json:{origins:{"portal-item":{write:!1}},write:{isRequired:!0,ignoreOrigin:!0,writer:u.w}}},g={type:Boolean,value:!0,nonNullable:!0,json:{origins:{service:{read:{enabled:!1}}},name:"showLegend",write:{enabled:!0,layerContainerTypes:s.K}}},_={value:null,type:d.A,json:{origins:{service:{name:"elevationInfo",write:!0}},name:"layerDefinition.elevationInfo",write:{enabled:!0,layerContainerTypes:s.K}}};function v(t){return{type:t,readOnly:!0,json:{origins:{service:{read:!0}},read:!1}}}let w={write:{enabled:!0,layerContainerTypes:s.K},read:!0},b={type:Number,json:{origins:{"web-document":w,"portal-item":{write:{layerContainerTypes:s.K}}}}},M={...b,json:{...b.json,origins:{"web-document":{...w,write:{enabled:!0,layerContainerTypes:s.K,target:{opacity:{type:Number},"layerDefinition.drawingInfo.transparency":{type:Number}}}}},read:{source:["layerDefinition.drawingInfo.transparency","drawingInfo.transparency"],reader:(t,r,i)=>i&&"service"!==i.origin||!r.drawingInfo||void 0===r.drawingInfo.transparency?r.layerDefinition?.drawingInfo&&void 0!==r.layerDefinition.drawingInfo.transparency?(0,p.D)(r.layerDefinition.drawingInfo.transparency):void 0:(0,p.D)(r.drawingInfo.transparency)}}},S={type:o.A,readOnly:!0,json:{origins:{service:{read:{source:["fullExtent","spatialReference"],reader:(t,r)=>{let i=o.A.fromJSON(t);return null!=r.spatialReference&&"object"==typeof r.spatialReference&&(i.spatialReference=a.A.fromJSON(r.spatialReference)),i}}}},read:!1}},A={type:String,json:{origins:{service:{read:!1},"portal-item":{read:!1}}}},T={type:Number,json:{origins:{service:{write:{enabled:!1}}},name:"layerDefinition.minScale",write:{layerContainerTypes:s.K}}},x={type:Number,json:{origins:{service:{write:{enabled:!1}}},name:"layerDefinition.maxScale",write:{layerContainerTypes:s.K}}},E={json:{write:{ignoreOrigin:!0,layerContainerTypes:s.K},origins:{"web-map":{read:!1,write:!1}}}},I={type:c.A,json:{name:"attributeTableInfo",write:!0,origins:{"web-scene":{read:!1,write:!1}}}}},76594:(t,r,i)=>{i.d(r,{A:()=>y});var s=i(81856),o=i(28690),a=i(83610),u=i(54335),d=i(91838);i(57845),i(61939),i(33638);var c=i(12709),p=i(39265),h=i(20703);let f=class extends o.A{constructor(t){super(t),this._featureUtils=null,this.effectivePopupTemplate=null}get _arcadeTask(){return this.expressionsUsedInTitle.length>0?this._get("_arcadeTask")||(0,a.UT)(()=>(0,h.lw)()):null}get featureUtilsPromise(){return this._get("featureUtilsPromise")??i.e(7275).then(i.bind(i,7275)).then(t=>this._featureUtils=t)}get calculatedExpressions(){let t=new u.A;if(!this.expressionsUsedInTitle.length)return t;if(!this._arcadeTask?.value){for(let r of this.expressionsUsedInTitle??[])t.push({name:r.name,invalid:!0});return t}for(let r of this.expressionsUsedInTitle)try{let i=this._arcadeTask.value.arcade.parseScript(r.expression,["$layer","$map","$datastore"]);if(i.isAsync){t.push({name:r.name,invalid:!0});break}t.push({name:r.name,syntax:i,invalid:!1,func:this._arcadeTask.value.arcade.compileScript(i,{vars:{$feature:"any"}})})}catch{t.push({name:r.name,invalid:!0});break}return t}get expressionsUsedInTitle(){let t=this.effectivePopupTemplate?.title??"";return"string"!=typeof t?[]:(t=t.toLowerCase(),this.effectivePopupTemplate?.expressionInfos?.filter(r=>t.includes(`{expression/${r.name.toLowerCase()}}`))??[])}get fieldInfoMap(){return this._featureUtils?this._createFieldInfoMap(this._featureUtils.getAllFieldInfos(this.effectivePopupTemplate)):null}get hasBadExpressions(){return this.calculatedExpressions.some(t=>!0===t.invalid)}get requiredFields(){let t=new Set;if(this._arcadeTask?.value&&!this.hasBadExpressions)for(let r of this.calculatedExpressions?.toArray()??[])try{for(let i of this._arcadeTask.value.arcade.extractFieldLiterals(r.syntax)){let r=i.split("."),s=this.fieldsIndex.get(r.at(-1)??"");s&&t.add(s.name)}}catch{}for(let r of this._extractFieldNames(this.workingTitle)){let i=this.fieldsIndex.get(r);i&&t.add(i.name)}return t}get titleFromDisplayField(){let t="";return this.displayField&&(t=this.fieldsIndex.get(this.displayField)?.name??""),t||(t=this.fieldsIndex.get(this.objectIdField)?.name??""),t?`{${t}}`:""}get workingTitle(){let t=this.effectivePopupTemplate?this.effectivePopupTemplate.title:"";return""===t||null==t||this.hasBadExpressions||"string"!=typeof t?this.titleFromDisplayField:t}async getTitle(t,r,i){try{let{attributes:s}=r,o=i?.timeZone??"system",[{substituteFieldsInLinksAndAttributes:a}]=await Promise.all([this.featureUtilsPromise,this._arcadeTask?.promise]);if(i.fetchMissingFields&&(r=await this._checkAndReQueryGraphic(t,r)),this.workingTitle&&this.fieldInfoMap){let i=this._createFormattedAttributes(t,r,o).global;return a({attributes:s,expressionAttributes:null,fieldInfoMap:this.fieldInfoMap,globalAttributes:i,layer:t,text:this.workingTitle})}}catch{}return""}async _checkAndReQueryGraphic(t,r){let i=r.getObjectId();if(null==i)return r;if(!(0,p.Kl)(this.requiredFields,r)){let r=t.createQuery();r.where="1=1",r.outFields=[...this.requiredFields],r.objectIds=[i];let s=await t.queryFeatures(r);if(1===s?.features.length)return s.features[0]}return r}_createFieldInfoMap(t){let r=new Map;if(!t)return r;for(let i of t){if(!i.fieldName)continue;let t=this.fieldsIndex.get(i.fieldName),s=t?.name??i.fieldName;i.fieldName=s,r.set(s.toLowerCase(),i)}return r}_createFormattedAttributes(t,r,i="system"){let s=this.effectivePopupTemplate?.fieldInfos??[],o={};if(!this._featureUtils)return{};if(!this.hasBadExpressions&&this.calculatedExpressions.length>0&&this._arcadeTask?.value){let i=this._arcadeTask.value.Feature.createFromGraphicLikeObject(r.geometry,r.attributes,t,null);for(let t of this.calculatedExpressions)try{o[`expression/${t.name}`]=t.func({vars:{$feature:i}})}catch{}}let a={...r.attributes,...o};return{global:this._featureUtils.formatAttributes({fieldInfos:s,attributes:a,graphic:r,timeZone:i,layer:t,fieldInfoMap:this.fieldInfoMap}),content:[]}}_extractFieldNames(t){return(0,p.nw)(t).filter(t=>0!==t.indexOf("relationships/")&&0!==t.indexOf("expression/"))}};(0,s._)([(0,d.MZ)({readOnly:!0})],f.prototype,"_arcadeTask",null),(0,s._)([(0,d.MZ)()],f.prototype,"_featureUtils",void 0),(0,s._)([(0,d.MZ)({readOnly:!0})],f.prototype,"featureUtilsPromise",null),(0,s._)([(0,d.MZ)({readOnly:!0})],f.prototype,"calculatedExpressions",null),(0,s._)([(0,d.MZ)()],f.prototype,"displayField",void 0),(0,s._)([(0,d.MZ)()],f.prototype,"effectivePopupTemplate",void 0),(0,s._)([(0,d.MZ)()],f.prototype,"expressionsUsedInTitle",null),(0,s._)([(0,d.MZ)()],f.prototype,"fieldsIndex",void 0),(0,s._)([(0,d.MZ)()],f.prototype,"fieldInfoMap",null),(0,s._)([(0,d.MZ)()],f.prototype,"fields",void 0),(0,s._)([(0,d.MZ)()],f.prototype,"objectIdField",void 0),(0,s._)([(0,d.MZ)()],f.prototype,"requiredFields",null);let y=f=(0,s._)([(0,c.$)("esri.layers.support.TitleCreator")],f)},77089:(t,r,i)=>{i.d(r,{$m:()=>C,NO:()=>I,_:()=>b,md:()=>E,mg:()=>M});var s=i(86075),o=i(22313),a=i(87196),u=i(92753),d=i(63430);class c{constructor(t){this.phases=t,this.paused=!1,this.ticks=-1,this.removed=!1}}class p{constructor(t){this.callback=t,this.isActive=!0}remove(){this.isActive=!1}}let h=0,f={time:(0,d.l5)(0),deltaTime:(0,d.l5)(0),elapsedFrameTime:(0,d.l5)(0),frameDuration:(0,d.l5)(0)},y=["prepare","preRender","render","postRender","update","finish"],m=[],g=new a.A;class _{constructor(t){this._task=t}remove(){this._task.removed=!0}pause(){this._task.paused=!0}resume(){this._task.paused=!1,v()}}function v(){null==S&&(h=performance.now(),S=requestAnimationFrame(A))}let w={willDispatch:!1,executeFrameTasks:function(t){let r=(0,d.l5)(t-h);h=t;let i=1e3/60,s=Math.max(0,r-i);f.time=t,f.frameDuration=(0,d.l5)(i-s);for(let i=0;i<y.length;i++){let s=performance.now(),o=y[i];g.forAll(s=>{s.paused||s.removed||(0===i&&s.ticks++,s.phases[o]&&(f.elapsedFrameTime=(0,d.l5)(performance.now()-t),f.deltaTime=0===s.ticks?(0,d.l5)(0):r,s.phases[o]?.call(s,f)))}),R[i].push(performance.now()-s)}(function(){g.forAll(t=>{t.removed&&T.push(t)}),g.removeUnorderedMany(T.data,T.length),T.clear()})(),O.push(performance.now()-t)}};function b(t){let r=new p(t);return m.push(r),w.willDispatch||(w.willDispatch=!0,(0,s.d)(x)),r}function M(t){let r=new c(t);return g.push(r),v(),new _(r)}let S=null;function A(){let t=performance.now();S=null,S=g.some(t=>!t.paused&&!t.removed)?requestAnimationFrame(A):null,w.executeFrameTasks(t)}let T=new a.A;function x(){for(;m.length;){let t=m.shift();t.isActive&&t.callback()}w.willDispatch=!1}function E(t=1,r){let i=(0,u.Tw)(),o=()=>{(0,u.G4)(r)?i.reject((0,u.NK)()):0===t?i():(--t,(0,s.d)(()=>o()))};return o(),i.promise}function I(t){return E(1,t)}async function C(t){await I(t),await new Promise(r=>requestAnimationFrame(()=>{t?.aborted||r()}))}let R=y.map(t=>new o.A(t)),O=new o.A("total")},77298:(t,r,i)=>{i.r(r),i.d(r,{default:()=>g});var s,o=i(81856),a=i(92713),u=i(33715),d=i(91838),c=i(86942),p=i(12709),h=i(7780),f=i(91463),y=i(32523);let m=s=class extends a.A{constructor(t){super(t),this.cacheHint=void 0,this.dynamicDataSource=void 0,this.gdbVersion=null,this.geometryPrecision=void 0,this.historicMoment=null,this.maxAllowableOffset=void 0,this.objectIds=null,this.orderByFields=null,this.outFields=null,this.outSpatialReference=null,this.relationshipId=void 0,this.start=void 0,this.num=void 0,this.returnGeometry=!1,this.returnM=void 0,this.returnZ=void 0,this.where=null}_writeHistoricMoment(t,r){r.historicMoment=t&&t.getTime()}writeStart(t,r){r.resultOffset=this.start,r.resultRecordCount=this.num||10,this.start>0&&null==this.where&&(r.definitionExpression="1=1")}clone(){return new s((0,u.o8)({cacheHint:this.cacheHint,dynamicDataSource:this.dynamicDataSource,gdbVersion:this.gdbVersion,geometryPrecision:this.geometryPrecision,historicMoment:this.historicMoment&&new Date(this.historicMoment.getTime()),maxAllowableOffset:this.maxAllowableOffset,objectIds:this.objectIds,orderByFields:this.orderByFields,outFields:this.outFields,outSpatialReference:this.outSpatialReference,relationshipId:this.relationshipId,start:this.start,num:this.num,returnGeometry:this.returnGeometry,where:this.where,returnZ:this.returnZ,returnM:this.returnM}))}};(0,o._)([(0,d.MZ)({type:Boolean,json:{write:!0}})],m.prototype,"cacheHint",void 0),(0,o._)([(0,d.MZ)({type:y.L,json:{write:!0}})],m.prototype,"dynamicDataSource",void 0),(0,o._)([(0,d.MZ)({type:String,json:{write:!0}})],m.prototype,"gdbVersion",void 0),(0,o._)([(0,d.MZ)({type:Number,json:{write:!0}})],m.prototype,"geometryPrecision",void 0),(0,o._)([(0,d.MZ)({type:Date})],m.prototype,"historicMoment",void 0),(0,o._)([(0,h.K)("historicMoment")],m.prototype,"_writeHistoricMoment",null),(0,o._)([(0,d.MZ)({type:Number,json:{write:!0}})],m.prototype,"maxAllowableOffset",void 0),(0,o._)([(0,d.MZ)({json:{write:!0}})],m.prototype,"objectIds",void 0),(0,o._)([(0,d.MZ)({type:[String],json:{write:!0}})],m.prototype,"orderByFields",void 0),(0,o._)([(0,d.MZ)({type:[String],json:{write:!0}})],m.prototype,"outFields",void 0),(0,o._)([(0,d.MZ)({type:f.A,json:{read:{source:"outSR"},write:{target:"outSR"}}})],m.prototype,"outSpatialReference",void 0),(0,o._)([(0,d.MZ)({json:{write:!0}})],m.prototype,"relationshipId",void 0),(0,o._)([(0,d.MZ)({type:Number,json:{read:{source:"resultOffset"}}})],m.prototype,"start",void 0),(0,o._)([(0,h.K)("start"),(0,h.K)("num")],m.prototype,"writeStart",null),(0,o._)([(0,d.MZ)({type:Number,json:{read:{source:"resultRecordCount"}}})],m.prototype,"num",void 0),(0,o._)([(0,d.MZ)({json:{write:!0}})],m.prototype,"returnGeometry",void 0),(0,o._)([(0,d.MZ)({type:Boolean,json:{write:{overridePolicy:t=>({enabled:t})}}})],m.prototype,"returnM",void 0),(0,o._)([(0,d.MZ)({type:Boolean,json:{write:{overridePolicy:t=>({enabled:t})}}})],m.prototype,"returnZ",void 0),(0,o._)([(0,d.MZ)({type:String,json:{read:{source:"definitionExpression"},write:{target:"definitionExpression"}}})],m.prototype,"where",void 0),(m=s=(0,o._)([(0,p.$)("esri.rest.support.RelationshipQuery")],m)).from=(0,c.dp)(m);let g=m},77508:(t,r,i)=>{i.d(r,{JW:()=>I,XX:()=>H,c0:()=>R,ej:()=>C,ge:()=>B,qy:()=>E,s6:()=>O});let s=globalThis,o=s.trustedTypes,a=o?o.createPolicy("lit-html",{createHTML:t=>t}):void 0,u="$lit$",d=`lit$${Math.random().toFixed(9).slice(2)}$`,c="?"+d,p=`<${c}>`,h=document,f=()=>h.createComment(""),y=t=>null===t||"object"!=typeof t&&"function"!=typeof t,m=Array.isArray,g=t=>m(t)||"function"==typeof t?.[Symbol.iterator],_="[ 	\n\f\r]",v=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,w=/-->/g,b=/>/g,M=RegExp(`>|${_}(?:([^\\s"'>=/]+)(${_}*=${_}*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),S=/'/g,A=/"/g,T=/^(?:script|style|textarea|title)$/i,x=t=>(r,...i)=>({_$litType$:t,strings:r,values:i}),E=x(1),I=x(2),C=x(3),R=Symbol.for("lit-noChange"),O=Symbol.for("lit-nothing"),P=new WeakMap,N=h.createTreeWalker(h,129);function k(t,r){if(!m(t)||!t.hasOwnProperty("raw"))throw Error("invalid template strings array");return void 0!==a?a.createHTML(r):r}let L=(t,r)=>{let i=t.length-1,s=[],o,a=2===r?"<svg>":3===r?"<math>":"",c=v;for(let r=0;r<i;r++){let i=t[r],h,f,y=-1,m=0;for(;m<i.length&&(c.lastIndex=m,null!==(f=c.exec(i)));)m=c.lastIndex,c===v?"!--"===f[1]?c=w:void 0!==f[1]?c=b:void 0!==f[2]?(T.test(f[2])&&(o=RegExp("</"+f[2],"g")),c=M):void 0!==f[3]&&(c=M):c===M?">"===f[0]?(c=o??v,y=-1):void 0===f[1]?y=-2:(y=c.lastIndex-f[2].length,h=f[1],c=void 0===f[3]?M:'"'===f[3]?A:S):c===A||c===S?c=M:c===w||c===b?c=v:(c=M,o=void 0);let g=c===M&&t[r+1].startsWith("/>")?" ":"";a+=c===v?i+p:y>=0?(s.push(h),i.slice(0,y)+u+i.slice(y)+d+g):i+d+(-2===y?r:g)}return[k(t,a+(t[i]||"<?>")+(2===r?"</svg>":3===r?"</math>":"")),s]};class F{constructor({strings:t,_$litType$:r},i){let s;this.parts=[];let a=0,p=0,h=t.length-1,y=this.parts,[m,g]=L(t,r);if(this.el=F.createElement(m,i),N.currentNode=this.el.content,2===r||3===r){let t=this.el.content.firstChild;t.replaceWith(...t.childNodes)}for(;null!==(s=N.nextNode())&&y.length<h;){if(1===s.nodeType){if(s.hasAttributes())for(let t of s.getAttributeNames())if(t.endsWith(u)){let r=g[p++],i=s.getAttribute(t).split(d),o=/([.?@])?(.*)/.exec(r);y.push({type:1,index:a,name:o[2],strings:i,ctor:"."===o[1]?V:"?"===o[1]?z:"@"===o[1]?G:U}),s.removeAttribute(t)}else t.startsWith(d)&&(y.push({type:6,index:a}),s.removeAttribute(t));if(T.test(s.tagName)){let t=s.textContent.split(d),r=t.length-1;if(r>0){s.textContent=o?o.emptyScript:"";for(let i=0;i<r;i++)s.append(t[i],f()),N.nextNode(),y.push({type:2,index:++a});s.append(t[r],f())}}}else if(8===s.nodeType)if(s.data===c)y.push({type:2,index:a});else{let t=-1;for(;-1!==(t=s.data.indexOf(d,t+1));)y.push({type:7,index:a}),t+=d.length-1}a++}}static createElement(t,r){let i=h.createElement("template");return i.innerHTML=t,i}}function Z(t,r,i=t,s){if(r===R)return r;let o=void 0!==s?i._$Co?.[s]:i._$Cl,a=y(r)?void 0:r._$litDirective$;return o?.constructor!==a&&(o?._$AO?.(!1),void 0===a?o=void 0:(o=new a(t))._$AT(t,i,s),void 0!==s?(i._$Co??=[])[s]=o:i._$Cl=o),void 0!==o&&(r=Z(t,o._$AS(t,r.values),o,s)),r}class D{constructor(t,r){this._$AV=[],this._$AN=void 0,this._$AD=t,this._$AM=r}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(t){let{el:{content:r},parts:i}=this._$AD,s=(t?.creationScope??h).importNode(r,!0);N.currentNode=s;let o=N.nextNode(),a=0,u=0,d=i[0];for(;void 0!==d;){if(a===d.index){let r;2===d.type?r=new j(o,o.nextSibling,this,t):1===d.type?r=new d.ctor(o,d.name,d.strings,this,t):6===d.type&&(r=new $(o,this,t)),this._$AV.push(r),d=i[++u]}a!==d?.index&&(o=N.nextNode(),a++)}return N.currentNode=h,s}p(t){let r=0;for(let i of this._$AV)void 0!==i&&(void 0!==i.strings?(i._$AI(t,i,r),r+=i.strings.length-2):i._$AI(t[r])),r++}}class j{get _$AU(){return this._$AM?._$AU??this._$Cv}constructor(t,r,i,s){this.type=2,this._$AH=O,this._$AN=void 0,this._$AA=t,this._$AB=r,this._$AM=i,this.options=s,this._$Cv=s?.isConnected??!0}get parentNode(){let t=this._$AA.parentNode,r=this._$AM;return void 0!==r&&11===t?.nodeType&&(t=r.parentNode),t}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(t,r=this){y(t=Z(this,t,r))?t===O||null==t||""===t?(this._$AH!==O&&this._$AR(),this._$AH=O):t!==this._$AH&&t!==R&&this._(t):void 0!==t._$litType$?this.$(t):void 0!==t.nodeType?this.T(t):g(t)?this.k(t):this._(t)}O(t){return this._$AA.parentNode.insertBefore(t,this._$AB)}T(t){this._$AH!==t&&(this._$AR(),this._$AH=this.O(t))}_(t){this._$AH!==O&&y(this._$AH)?this._$AA.nextSibling.data=t:this.T(h.createTextNode(t)),this._$AH=t}$(t){let{values:r,_$litType$:i}=t,s="number"==typeof i?this._$AC(t):(void 0===i.el&&(i.el=F.createElement(k(i.h,i.h[0]),this.options)),i);if(this._$AH?._$AD===s)this._$AH.p(r);else{let t=new D(s,this),i=t.u(this.options);t.p(r),this.T(i),this._$AH=t}}_$AC(t){let r=P.get(t.strings);return void 0===r&&P.set(t.strings,r=new F(t)),r}k(t){m(this._$AH)||(this._$AH=[],this._$AR());let r=this._$AH,i,s=0;for(let o of t)s===r.length?r.push(i=new j(this.O(f()),this.O(f()),this,this.options)):i=r[s],i._$AI(o),s++;s<r.length&&(this._$AR(i&&i._$AB.nextSibling,s),r.length=s)}_$AR(t=this._$AA.nextSibling,r){for(this._$AP?.(!1,!0,r);t&&t!==this._$AB;){let r=t.nextSibling;t.remove(),t=r}}setConnected(t){void 0===this._$AM&&(this._$Cv=t,this._$AP?.(t))}}class U{get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}constructor(t,r,i,s,o){this.type=1,this._$AH=O,this._$AN=void 0,this.element=t,this.name=r,this._$AM=s,this.options=o,i.length>2||""!==i[0]||""!==i[1]?(this._$AH=Array(i.length-1).fill(new String),this.strings=i):this._$AH=O}_$AI(t,r=this,i,s){let o=this.strings,a=!1;if(void 0===o)(a=!y(t=Z(this,t,r,0))||t!==this._$AH&&t!==R)&&(this._$AH=t);else{let s,u,d=t;for(t=o[0],s=0;s<o.length-1;s++)(u=Z(this,d[i+s],r,s))===R&&(u=this._$AH[s]),a||=!y(u)||u!==this._$AH[s],u===O?t=O:t!==O&&(t+=(u??"")+o[s+1]),this._$AH[s]=u}a&&!s&&this.j(t)}j(t){t===O?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,t??"")}}class V extends U{constructor(){super(...arguments),this.type=3}j(t){this.element[this.name]=t===O?void 0:t}}class z extends U{constructor(){super(...arguments),this.type=4}j(t){this.element.toggleAttribute(this.name,!!t&&t!==O)}}class G extends U{constructor(t,r,i,s,o){super(t,r,i,s,o),this.type=5}_$AI(t,r=this){if((t=Z(this,t,r,0)??O)===R)return;let i=this._$AH,s=t===O&&i!==O||t.capture!==i.capture||t.once!==i.once||t.passive!==i.passive,o=t!==O&&(i===O||s);s&&this.element.removeEventListener(this.name,this,i),o&&this.element.addEventListener(this.name,this,t),this._$AH=t}handleEvent(t){"function"==typeof this._$AH?this._$AH.call(this.options?.host??this.element,t):this._$AH.handleEvent(t)}}class ${constructor(t,r,i){this.element=t,this.type=6,this._$AN=void 0,this._$AM=r,this.options=i}get _$AU(){return this._$AM._$AU}_$AI(t){Z(this,t)}}let B={M:u,P:d,A:c,C:1,L:L,R:D,D:g,V:Z,I:j,H:U,N:z,U:G,B:V,F:$},q=s.litHtmlPolyfillSupport;q?.(F,j),(s.litHtmlVersions??=[]).push("3.2.1");let H=(t,r,i)=>{let s=i?.renderBefore??r,o=s._$litPart$;if(void 0===o){let t=i?.renderBefore??null;s._$litPart$=o=new j(r.insertBefore(f(),t),t,void 0,i??{})}return o._$AI(t),o}},77903:(t,r,i)=>{i.d(r,{A:()=>f});var s,o=i(81856),a=i(70152),u=i(92713),d=i(91838),c=i(86942);i(57845),i(33638);var p=i(12709);let h=s=class extends u.A{constructor(t){super(t),this.color=null,this.ratio=null}clone(){return new s({color:this.color&&this.color.clone(),ratio:this.ratio})}};(0,o._)([(0,d.MZ)({type:a.A,json:{type:[c.jz],default:null,write:{isRequired:!0}}})],h.prototype,"color",void 0),(0,o._)([(0,d.MZ)({type:Number,json:{write:{isRequired:!0}}})],h.prototype,"ratio",void 0);let f=h=s=(0,o._)([(0,p.$)("esri.renderers.support.HeatmapColorStop")],h)},78616:(t,r,i)=>{i.d(r,{A:()=>_});var s,o=i(81856),a=i(28690),u=i(30781),d=i(33715),c=i(91838);i(57845),i(61939);var p=i(12709),h=i(61414),f=i(91463),y=i(6322);let m=new u.J({avgRating:"avg-rating",numRatings:"num-ratings",numComments:"num-comments",numViews:"num-views"}),g=s=class extends a.A{constructor(t){super(t),this.categories=null,this.disableExtraQuery=!1,this.extent=null,this.filter=null,this.num=10,this.query=null,this.sortField=null,this.start=1}get sortOrder(){return this._get("sortOrder")||"asc"}set sortOrder(t){"asc"!==t&&"desc"!==t||this._set("sortOrder",t)}clone(){return new s({categories:this.categories?(0,d.o8)(this.categories):null,disableExtraQuery:this.disableExtraQuery,extent:this.extent?this.extent.clone():null,filter:this.filter,num:this.num,query:this.query,sortField:this.sortField,sortOrder:this.sortOrder,start:this.start})}toRequestOptions(t,r){let i=[];this.categories&&(i=this.categories.map(t=>Array.isArray(t)?JSON.stringify(t):t));let s="";if(this.extent){let t=(0,y.Cv)(this.extent,f.A.WGS84);null!=t&&(s=`${t.xmin},${t.ymin},${t.xmax},${t.ymax}`)}let o=this.query;!this.disableExtraQuery&&t.extraQuery&&(o="("+o+")"+t.extraQuery);let a={categories:i,bbox:s,q:o,filter:this.filter,num:this.num,sortField:null,sortOrder:null,start:this.start};return this.sortField&&(a.sortField=this.sortField.split(",").map(t=>m.toJSON(t.trim())).join(","),a.sortOrder=this.sortOrder),{query:{...r,...a}}}};(0,o._)([(0,c.MZ)()],g.prototype,"categories",void 0),(0,o._)([(0,c.MZ)()],g.prototype,"disableExtraQuery",void 0),(0,o._)([(0,c.MZ)({type:h.A})],g.prototype,"extent",void 0),(0,o._)([(0,c.MZ)()],g.prototype,"filter",void 0),(0,o._)([(0,c.MZ)()],g.prototype,"num",void 0),(0,o._)([(0,c.MZ)()],g.prototype,"query",void 0),(0,o._)([(0,c.MZ)()],g.prototype,"sortField",void 0),(0,o._)([(0,c.MZ)()],g.prototype,"sortOrder",null),(0,o._)([(0,c.MZ)()],g.prototype,"start",void 0);let _=g=s=(0,o._)([(0,p.$)("esri.portal.PortalQueryParams")],g)},78766:(t,r,i)=>{i.d(r,{A:()=>y});var s,o=i(81856),a=i(30781),u=i(92713),d=i(91838);i(57845),i(61939),i(33638);var c=i(33498),p=i(12709),h=i(32593);let f=s=class extends u.A{constructor(t){super(t),this.fieldName=null,this.format=void 0,this.isEditable=!0,this.label=null,this.stringFieldOption="text-box",this.statisticType=null,this.tooltip=null,this.visible=!0}clone(){return new s({fieldName:this.fieldName,format:this.format?.clone(),isEditable:this.isEditable,label:this.label,stringFieldOption:this.stringFieldOption,statisticType:this.statisticType,tooltip:this.tooltip,visible:this.visible})}};(0,o._)([(0,d.MZ)({type:String,json:{write:!0}})],f.prototype,"fieldName",void 0),(0,o._)([(0,d.MZ)({type:h.A,json:{write:!0}})],f.prototype,"format",void 0),(0,o._)([(0,d.MZ)({type:Boolean,json:{write:{alwaysWriteDefaults:!0},default:!0}})],f.prototype,"isEditable",void 0),(0,o._)([(0,d.MZ)({type:String,json:{write:!0}})],f.prototype,"label",void 0),(0,o._)([(0,c.e)(new a.J({richtext:"rich-text",textarea:"text-area",textbox:"text-box"}),{default:"text-box"})],f.prototype,"stringFieldOption",void 0),(0,o._)([(0,d.MZ)({type:["count","sum","min","max","avg","stddev","var"],json:{write:!0}})],f.prototype,"statisticType",void 0),(0,o._)([(0,d.MZ)({type:String,json:{write:!0}})],f.prototype,"tooltip",void 0),(0,o._)([(0,d.MZ)({type:Boolean,json:{write:!0}})],f.prototype,"visible",void 0);let y=f=s=(0,o._)([(0,p.$)("esri.popup.FieldInfo")],f)},79233:(t,r,i)=>{i.d(r,{A:()=>tL});var s,o,a,u,d,c,p,h,f,y,m,g,_,v,w=i(81856),b=i(57664),M=i(33701),S=i(66342),A=i(31461),T=i(54335),x=i(32391),E=i(31551),I=i(43650),C=i(61939),R=i(40941),O=i(21892),P=i(5608),N=i(92753),k=i(45257),L=i(90525),F=i(91838);i(57845);var Z=i(53480),D=i(12709),j=i(7780),U=i(352),V=i(91463),z=i(28015),G=i(23226),$=i(92713);i(33638);let B=class extends $.A{constructor(t){super(t),this.facilityIdField=null,this.layerId=null,this.nameField=null,this.siteIdField=null,this.sublayerId=null}};(0,w._)([(0,F.MZ)({type:String,json:{write:{isRequired:!0}}})],B.prototype,"facilityIdField",void 0),(0,w._)([(0,F.MZ)({type:String,json:{write:{isRequired:!0}}})],B.prototype,"layerId",void 0),(0,w._)([(0,F.MZ)({type:String,json:{write:{isRequired:!0}}})],B.prototype,"nameField",void 0),(0,w._)([(0,F.MZ)({type:String,json:{write:!0}})],B.prototype,"siteIdField",void 0),(0,w._)([(0,F.MZ)({type:Number,json:{read:{source:"subLayerId"},write:{target:"subLayerId"},origins:{"web-scene":{read:!1,write:!1}}}})],B.prototype,"sublayerId",void 0);let q=B=(0,w._)([(0,D.$)("esri.layers.support.FacilityLayerInfo")],B),H=class extends $.A{constructor(t){super(t),this.facilityIdField=null,this.layerId=null,this.levelIdField=null,this.levelNumberField=null,this.longNameField=null,this.shortNameField=null,this.sublayerId=null,this.verticalOrderField=null}};(0,w._)([(0,F.MZ)({type:String,json:{write:{isRequired:!0}}})],H.prototype,"facilityIdField",void 0),(0,w._)([(0,F.MZ)({type:String,json:{write:{isRequired:!0}}})],H.prototype,"layerId",void 0),(0,w._)([(0,F.MZ)({type:String,json:{write:{isRequired:!0}}})],H.prototype,"levelIdField",void 0),(0,w._)([(0,F.MZ)({type:String,json:{write:{isRequired:!0}}})],H.prototype,"levelNumberField",void 0),(0,w._)([(0,F.MZ)({type:String,json:{write:{isRequired:!0}}})],H.prototype,"longNameField",void 0),(0,w._)([(0,F.MZ)({type:String,json:{write:{isRequired:!0}}})],H.prototype,"shortNameField",void 0),(0,w._)([(0,F.MZ)({type:Number,json:{read:{source:"subLayerId"},write:{target:"subLayerId"},origins:{"web-scene":{read:!1,write:!1}}}})],H.prototype,"sublayerId",void 0),(0,w._)([(0,F.MZ)({type:String,json:{write:{isRequired:!0}}})],H.prototype,"verticalOrderField",void 0);let W=H=(0,w._)([(0,D.$)("esri.layers.support.LevelLayerInfo")],H),J=class extends $.A{constructor(t){super(t),this.layerId=null,this.nameField=null,this.siteIdField=null,this.sublayerId=null}};(0,w._)([(0,F.MZ)({type:String,json:{write:{isRequired:!0}}})],J.prototype,"layerId",void 0),(0,w._)([(0,F.MZ)({type:String,json:{write:{isRequired:!0}}})],J.prototype,"nameField",void 0),(0,w._)([(0,F.MZ)({type:String,json:{write:{isRequired:!0}}})],J.prototype,"siteIdField",void 0),(0,w._)([(0,F.MZ)({type:Number,json:{read:{source:"subLayerId"},write:{target:"subLayerId"},origins:{"web-scene":{read:!1,write:!1}}}})],J.prototype,"sublayerId",void 0);let K=J=(0,w._)([(0,D.$)("esri.layers.support.SiteLayerInfo")],J),Y=class extends $.A{constructor(t){super(t),this.levelLayer=null,this.facilityLayer=null,this.siteLayer=null}};(0,w._)([(0,F.MZ)({type:W,json:{write:{isRequired:!0}}})],Y.prototype,"levelLayer",void 0),(0,w._)([(0,F.MZ)({type:q,json:{write:{isRequired:!0}}})],Y.prototype,"facilityLayer",void 0),(0,w._)([(0,F.MZ)({type:K,json:{write:!0}})],Y.prototype,"siteLayer",void 0);let X=Y=(0,w._)([(0,D.$)("esri.support.MapFloorInfo")],Y);var Q=i(47840),ee=i(84090),et=i(33715);let er=s=class extends $.A{constructor(t){super(t),this.activeRange=null,this.currentRangeExtent=null,this.fullRangeExtent=null}clone(){return new s((0,et.o8)({activeRange:this.activeRange,currentRangeExtent:this.currentRangeExtent,fullRangeExtent:this.fullRangeExtent}))}};(0,w._)([(0,F.MZ)({type:String,nonNullable:!0,json:{read:{source:"activeRangeName"},write:{target:"activeRangeName",isRequired:!0}}})],er.prototype,"activeRange",void 0),(0,w._)([(0,F.MZ)({type:[Number],json:{write:!0}})],er.prototype,"currentRangeExtent",void 0),(0,w._)([(0,F.MZ)({type:[Number],json:{write:!0}})],er.prototype,"fullRangeExtent",void 0);let ei=er=s=(0,w._)([(0,D.$)("esri.webdoc.RangeInfo")],er),en=o=class extends $.A{constructor(t){super(t),this.enabled=!1,this.longNames=!1,this.minimized=!1,this.pinnedLevels=!1,this.site=null,this.facility=null,this.level=null}clone(){return new o((0,et.o8)({enabled:this.enabled,longNames:this.longNames,minimized:this.minimized,pinnedLevels:this.pinnedLevels,site:this.site,facility:this.facility,level:this.level}))}};(0,w._)([(0,F.MZ)({type:Boolean,json:{read:{source:"enabled"},write:{target:"enabled"}}})],en.prototype,"enabled",void 0),(0,w._)([(0,F.MZ)({type:Boolean,json:{read:{source:"longNames"},write:{target:"longNames"}}})],en.prototype,"longNames",void 0),(0,w._)([(0,F.MZ)({type:Boolean,json:{read:{source:"minimized"},write:{target:"minimized"}}})],en.prototype,"minimized",void 0),(0,w._)([(0,F.MZ)({type:Boolean,json:{read:{source:"pinnedLevels"},write:{target:"pinnedLevels"}}})],en.prototype,"pinnedLevels",void 0),(0,w._)([(0,F.MZ)({type:String,json:{read:{source:"site"},write:{target:"site"}}})],en.prototype,"site",void 0),(0,w._)([(0,F.MZ)({type:String,json:{read:{source:"facility"},write:{target:"facility"}}})],en.prototype,"facility",void 0),(0,w._)([(0,F.MZ)({type:String,json:{read:{source:"level"},write:{target:"level"}}})],en.prototype,"level",void 0);let es=en=o=(0,w._)([(0,D.$)("esri.webdoc.widgets.FloorFilter")],en);var eo=i(30781),ea=i(86942);let el=new eo.J({slider:"slider",picker:"picker"}),eu=a=class extends $.A{constructor(t){super(t),this.interactionMode=null,this.numStops=null,this.stopInterval=null}clone(){return new a({interactionMode:this.interactionMode,numStops:this.numStops,stopInterval:this.stopInterval})}};(0,w._)([(0,F.MZ)({type:el.apiValues,nonNullable:!0,json:{type:el.jsonValues,default:null,read:{reader:el.read},write:{isRequired:!0,writer:el.write}}})],eu.prototype,"interactionMode",void 0),(0,w._)([(0,F.MZ)({type:ea.jz,json:{read:{source:"numberOfStops"},write:{target:"numberOfStops",overridePolicy(){let t=null!=this.stopInterval;return{enabled:!t,isRequired:!t}}}}})],eu.prototype,"numStops",void 0),(0,w._)([(0,F.MZ)({type:Number,json:{write:{overridePolicy(){return{isRequired:null==this.numStops}}}}})],eu.prototype,"stopInterval",void 0);let ed=eu=a=(0,w._)([(0,D.$)("esri.webdoc.widgets.Range")],eu);var ec=i(34184),ep=i(61200),eh=i(57421);let ef=u=class extends $.A{constructor(t){super(t),this.currentTimeExtent=null,this.fullTimeExtent=null,this.loop=!1,this.numStops=null,this.numThumbs=null,this.stopDelay=null,this.stopInterval=null,this.stops=null}readCurrentTimeExtent(t){return t?Q.A.fromArray(t):void 0}writeCurrentTimeExtent(t,r,i){t&&(0,ec.sM)(i,t.toArray(),r)}readFullTimeExtent(t,r){let i=r.properties;if(!i)return;let s=null!=i.endTime?new Date(i.endTime):null,o=null!=i.startTime?new Date(i.startTime):null;return new Q.A({start:o,end:s})}writeFullTimeExtent(t,r){if(!t)return;let i=r.properties=r.properties||{},s=t.end,o=t.start;s&&(i.endTime=null!=s?s.getTime():null),o&&(i.startTime=null!=o?o.getTime():null)}readStopInterval(t,r,i){return t?eh.A.fromJSON({value:t.interval,unit:t.units},i):null}writeStopInterval(t,r,i,s){if(!t)return;let o=t.toJSON(s);(0,ec.sM)("properties.timeStopInterval",{interval:o.value,units:o.unit},r)}readStops(t){return t?.length?t.map(t=>new Date(t)):null}writeStops(t,r,i){t?.length&&(0,ec.sM)(i,t.map(t=>t.getTime()),r)}clone(){return new u((0,et.o8)({currentTimeExtent:this.currentTimeExtent,fullTimeExtent:this.fullTimeExtent,loop:this.loop,numStops:this.numStops,numThumbs:this.numThumbs,stopDelay:this.stopDelay,stopInterval:this.stopInterval,stops:this.stops}))}};(0,w._)([(0,F.MZ)({type:Q.A,json:{type:[[ea.jz,ea.Uv]],read:{source:"properties.currentTimeExtent"},write:{target:"properties.currentTimeExtent"}}})],ef.prototype,"currentTimeExtent",void 0),(0,w._)([(0,Z.w)("currentTimeExtent")],ef.prototype,"readCurrentTimeExtent",null),(0,w._)([(0,j.K)("currentTimeExtent")],ef.prototype,"writeCurrentTimeExtent",null),(0,w._)([(0,F.MZ)({type:Q.A,json:{read:{source:["properties.endTime","properties.startTime"]},write:{target:{"properties.endTime":{type:Number},"properties.startTime":{type:Number}}}}})],ef.prototype,"fullTimeExtent",void 0),(0,w._)([(0,Z.w)("fullTimeExtent")],ef.prototype,"readFullTimeExtent",null),(0,w._)([(0,j.K)("fullTimeExtent")],ef.prototype,"writeFullTimeExtent",null),(0,w._)([(0,F.MZ)({type:Boolean,nonNullable:!0,json:{default:!1,read:{source:"properties.loop"},write:{target:"properties.loop"}}})],ef.prototype,"loop",void 0),(0,w._)([(0,F.MZ)({type:ea.jz,json:{read:{source:"properties.numberOfStops"},write:{target:"properties.numberOfStops",overridePolicy(){let t=!!this.stopInterval,r=!!this.stops?.length,i=!(t||r);return{enabled:i,isRequired:i}}}}})],ef.prototype,"numStops",void 0),(0,w._)([(0,F.MZ)({type:[1,2],nonNullable:!0,json:{type:ea.jz,read:{source:"properties.thumbCount"},write:{target:"properties.thumbCount",isRequired:!0}}})],ef.prototype,"numThumbs",void 0),(0,w._)([(0,F.MZ)({type:Number,nonNullable:!0,json:{read:{source:"properties.thumbMovingRate"},write:{target:"properties.thumbMovingRate",isRequired:!0}}})],ef.prototype,"stopDelay",void 0),(0,w._)([(0,F.MZ)({type:eh.A,json:{read:{source:"properties.timeStopInterval"},write:{target:{"properties.timeStopInterval.interval":{type:Number},"properties.timeStopInterval.units":{type:ep.j.jsonValues.filter(t=>"esriTimeUnitsUnknown"!==t)}},overridePolicy(){let t=null!=this.numStops,r=!!this.stops?.length;return{enabled:!r,isRequired:!(t||r)}}}}})],ef.prototype,"stopInterval",void 0),(0,w._)([(0,Z.w)("stopInterval")],ef.prototype,"readStopInterval",null),(0,w._)([(0,j.K)("stopInterval")],ef.prototype,"writeStopInterval",null),(0,w._)([(0,F.MZ)({type:[Date],json:{type:[ea.jz],read:{source:"properties.stops"},write:{target:"properties.stops",overridePolicy(){return{isRequired:null==this.numStops&&!this.stopInterval}}}}})],ef.prototype,"stops",void 0),(0,w._)([(0,Z.w)("stops")],ef.prototype,"readStops",null),(0,w._)([(0,j.K)("stops")],ef.prototype,"writeStops",null);let ey=ef=u=(0,w._)([(0,D.$)("esri.webdoc.widgets.TimeSlider")],ef),em=d=class extends $.A{constructor(t){super(t),this.range=null,this.timeSlider=null,this.floorFilter=null}clone(){return new d((0,et.o8)({range:this.range,timeSlider:this.timeSlider,floorFilter:this.floorFilter}))}};(0,w._)([(0,F.MZ)({type:ed,json:{write:!0}})],em.prototype,"range",void 0),(0,w._)([(0,F.MZ)({type:ey,json:{write:!0}})],em.prototype,"timeSlider",void 0),(0,w._)([(0,F.MZ)({type:es,json:{write:!0}})],em.prototype,"floorFilter",void 0);let eg=em=d=(0,w._)([(0,D.$)("esri.webdoc.Widgets")],em),e_={width:600,height:400};var ev=i(6322),ew=i(14307),eb=i(39577),eM=i(29597),eS=i(74497);function eA(t,r,s){let o={context:{...s,layerContainerType:"operational-layers"}};return t.portalItem&&(o.context.portal=t.portalItem.portal||ew.A.getDefault()),i.e(2652).then(i.bind(i,92652)).then(({populateOperationalLayers:i})=>{let s=[],a=r.operationalLayers;a?.length&&s.push(i(t.layers,a,o));let u={...o,context:{...o.context,layerContainerType:"tables"},defaultLayerType:"ArcGISFeatureLayer"},d=r.tables;return d?.length&&s.push(i(t.tables,d,u)),Promise.allSettled(s).then(()=>{})})}async function eT(t,r,i){if(await i.load().catch(r=>{throw new x.A(`${t.name}:load-portal-item`,"Failed to load portal item",{error:r})}),i.type!==t.itemType)throw new x.A(`${t.name}:invalid-portal-item`,`Invalid portal item type '${i.type}', expected '${t.itemType}'`,{type:i.type});let s=await i.fetchData();r.resourceInfo=s;let o=(0,eb.v)(i,t.origin);await function(t,r,i,s){let o=function(t,r){let i=t.parseVersion(r.version||"",t.name);return t.currentVersion.validate(i),r.version=`${i.major}.${i.minor}`,r}(t,i);return r.read(o,s),eA(r,o,s)}(t,r,s,o),r.resourceReferences={portalItem:i,paths:o.readResourcePaths};let a=await ex(r.initialViewProperties,i,C.A.getLogger(r));if(a){let i=r.initialViewProperties?.clone()??t.createInitialViewProperties();i.viewpoint=a,r.initialViewProperties=i}}async function ex(t,r,i){if(t?.viewpoint?.targetGeometry)return null;let s=await eE(t,r,i);return s?new S.A({targetGeometry:s}):null}async function eE(t,r,s){let o=t?.spatialReference,a=r?.extent;if(!o||!a)return null;if(o.isWGS84)return a.clone();if(o.isWebMercator)return(0,ev.Gh)(a);let{getGeometryServiceURL:u}=await i.e(3724).then(i.bind(i,3724));try{let t=await u(r),i=new eS.A({geometries:[a],outSpatialReference:o});return(await (0,eM.C)(t,i))[0]}catch(t){s.error("Error projecting item's extent:",t)}return null}var eI=i(20258);function eC(t){return{enabled:!!t?.length}}var eR=i(33498),eO=i(73368);let eP=c=class extends $.A{constructor(t){super(t),this.exactMatch=!1,this.name=null,this.type=null}clone(){return new c({exactMatch:this.exactMatch,type:this.type,name:this.name})}};(0,w._)([(0,F.MZ)({type:Boolean,json:{write:!0}})],eP.prototype,"exactMatch",void 0),(0,w._)([(0,F.MZ)({type:String,json:{write:!0}})],eP.prototype,"name",void 0),(0,w._)([(0,eR.e)(eO.m)],eP.prototype,"type",void 0);let eN=eP=c=(0,w._)([(0,D.$)("esri.webdoc.applicationProperties.SearchLayerField")],eP),ek=p=class extends $.A{constructor(t){super(t),this.field=null,this.id=null,this.subLayer=null}clone(){return new p((0,et.o8)({field:this.field,id:this.id,subLayer:this.subLayer}))}};(0,w._)([(0,F.MZ)({type:eN,json:{write:{isRequired:!0}}})],ek.prototype,"field",void 0),(0,w._)([(0,F.MZ)({type:String,json:{write:{isRequired:!0}}})],ek.prototype,"id",void 0),(0,w._)([(0,F.MZ)({type:ea.jz,json:{write:!0}})],ek.prototype,"subLayer",void 0);let eL=ek=p=(0,w._)([(0,D.$)("esri.webdoc.applicationProperties.SearchLayer")],ek),eF=h=class extends $.A{constructor(t){super(t),this.exactMatch=!1,this.name=null,this.type=null}clone(){return new h({exactMatch:this.exactMatch,type:this.type,name:this.name})}};(0,w._)([(0,F.MZ)({type:Boolean,json:{write:!0}})],eF.prototype,"exactMatch",void 0),(0,w._)([(0,F.MZ)({type:String,json:{write:!0}})],eF.prototype,"name",void 0),(0,w._)([(0,eR.e)(eO.m)],eF.prototype,"type",void 0);let eZ=eF=h=(0,w._)([(0,D.$)("esri.webdoc.applicationProperties.SearchTableField")],eF),eD=f=class extends $.A{constructor(t){super(t),this.field=null,this.id=null}clone(){return new f((0,et.o8)({field:this.field,id:this.id}))}};(0,w._)([(0,F.MZ)({type:eZ,json:{write:{isRequired:!0}}})],eD.prototype,"field",void 0),(0,w._)([(0,F.MZ)({type:String,json:{write:{isRequired:!0}}})],eD.prototype,"id",void 0);let ej=eD=f=(0,w._)([(0,D.$)("esri.webdoc.applicationProperties.SearchTable")],eD),eU=T.A.ofType(eL),eV=T.A.ofType(ej),ez=y=class extends $.A{constructor(t){super(t),this.addressSearchEnabled=!0,this.enabled=!0,this.hintText=null,this.layers=new eU,this.tables=new eV}readAddressSearchEnabled(t){return!t}writeAddressSearchEnabled(t,r,i){r[i]=!t}clone(){return new y((0,et.o8)({addressSearchEnabled:this.addressSearchEnabled,enabled:this.enabled,hintText:this.hintText,layers:this.layers,tables:this.tables}))}};(0,w._)([(0,F.MZ)({type:Boolean,nonNullable:!0,json:{read:{source:"disablePlaceFinder"},write:{target:"disablePlaceFinder",isRequired:!0},origins:{"web-scene":{read:!1,write:!1}}}})],ez.prototype,"addressSearchEnabled",void 0),(0,w._)([(0,Z.w)("addressSearchEnabled")],ez.prototype,"readAddressSearchEnabled",null),(0,w._)([(0,j.K)("addressSearchEnabled")],ez.prototype,"writeAddressSearchEnabled",null),(0,w._)([(0,F.MZ)({type:Boolean,nonNullable:!0,json:{write:!0,origins:{"web-map":{write:{isRequired:!0}},"web-scene":{default:!0,write:!0}}}})],ez.prototype,"enabled",void 0),(0,w._)([(0,F.MZ)({type:String,json:{write:!0}})],ez.prototype,"hintText",void 0),(0,w._)([(0,F.MZ)({type:eU,json:{write:{overridePolicy:eC},origins:{"web-scene":{write:{isRequired:!0}}}}})],ez.prototype,"layers",void 0),(0,w._)([(0,F.MZ)({type:eV,json:{read:!0,write:{overridePolicy:eC}}})],ez.prototype,"tables",void 0);let eG=ez=y=(0,w._)([(0,D.$)("esri.webdoc.applicationProperties.Search")],ez),e$=m=class extends $.A{constructor(t){super(t),this.search=null}clone(){return new m((0,et.o8)({search:this.search}))}};(0,w._)([(0,F.MZ)({type:eG,json:{write:!0}})],e$.prototype,"search",void 0);let eB=e$=m=(0,w._)([(0,D.$)("esri.webdoc.applicationProperties.Viewing")],e$),eq=g=class extends $.A{constructor(t){super(t),this.editing=null,this.offline=null,this.viewing=null}clone(){return new g((0,et.o8)({editing:this.editing,offline:this.offline,viewing:this.viewing}))}};(0,w._)([(0,F.MZ)({json:{write:!0}})],eq.prototype,"editing",void 0),(0,w._)([(0,F.MZ)({json:{write:!0}})],eq.prototype,"offline",void 0),(0,w._)([(0,F.MZ)({type:eB,json:{write:!0}})],eq.prototype,"viewing",void 0);let eH=eq=g=(0,w._)([(0,D.$)("esri.webmap.ApplicationProperties")],eq);var eW=i(61451),eJ=i(16352);let eK=_=class extends $.A{constructor(){super(...arguments),this.url=""}destroy(){this.url=""}get isSecureUrl(){return(0,L.m3)(this.url)}get isDataURI(){return(0,L.DB)(this.url)}clone(){return new _({url:this.url})}};(0,w._)([(0,F.MZ)({type:String,json:{write:{isRequired:!0}}})],eK.prototype,"url",void 0),(0,w._)([(0,F.MZ)()],eK.prototype,"isSecureUrl",null),(0,w._)([(0,F.MZ)()],eK.prototype,"isDataURI",null),eK=_=(0,w._)([(0,D.$)("esri.webdoc.support.SlideThumbnail")],eK);let eY={type:Q.A,json:{read:{source:"timeExtent",reader:t=>t?Array.isArray(t)?Q.A.fromArray(t):Q.A.fromJSON(t):null},write:{writer:(t,r,i,s)=>{t&&(t.isEmpty?s?.messages&&s.messages.push(new x.A("invalid-timeExtent","TimeExtent cannot be empty")):r[i]=t.toArray())},target:{timeExtent:{type:[[ea.jz,ea.Uv]]}}}}},eX=v=class extends eW.A.IdentifiableMixin($.A){constructor(t){super(t),this.name=null,this.thumbnail=new eK,this.timeExtent=null}castThumbnail(t){return"string"==typeof t?new eK({url:t}):(0,ea.dp)(eK,t)}set viewpoint(t){let{targetGeometry:r,scale:i}=t;null!=r&&"point"===r.type&&null==i&&C.A.getLogger(this).warn("Bookmark.viewpoint should include 'scale' when its targetGeometry is a point.",t),this._set("viewpoint",t)}readViewpoint(t,r){let{extent:i,viewpoint:s}=r;return S.A.fromJSON(s||{targetGeometry:i})}writeViewpoint(t,r,i,s){if(!t)return;let{targetGeometry:o}=t;if(null==o||"extent"===o.type)null!=o&&(r.extent=o.toJSON()),r[i]=t.toJSON();else{let t="Bookmark.viewpoint cannot be written to JSON when the viewpoint's targetGeometry is not an extent.";s?.messages?s.messages.push(new x.A("property:unsupported",t)):C.A.getLogger(this).error(t)}}clone(){return new v((0,et.o8)({name:this.name,thumbnail:this.thumbnail,timeExtent:this.timeExtent,viewpoint:this.viewpoint}))}};(0,w._)([(0,F.MZ)({type:String,nonNullable:!0,json:{write:{isRequired:!0}}})],eX.prototype,"name",void 0),(0,w._)([(0,F.MZ)({type:eK,json:{write:{overridePolicy:t=>({enabled:!(!t||!t.url)})}}})],eX.prototype,"thumbnail",void 0),(0,w._)([(0,eJ.w)("thumbnail")],eX.prototype,"castThumbnail",null),(0,w._)([(0,F.MZ)(eY)],eX.prototype,"timeExtent",void 0),(0,w._)([(0,F.MZ)({type:S.A,nonNullable:!0,json:{write:!0}})],eX.prototype,"viewpoint",null),(0,w._)([(0,Z.w)("viewpoint",["extent","viewpoint"])],eX.prototype,"readViewpoint",null),(0,w._)([(0,j.K)("viewpoint")],eX.prototype,"writeViewpoint",null);let eQ=eX=v=(0,w._)([(0,D.$)("esri.webmap.Bookmark")],eX);var e0=i(28690),e1=i(71017),e2=i(93682),e3=i(75998);let e8=class extends e1.A.ClonableMixin(e0.A){constructor(t){super(t),this.background=null,this.rangeInfo=null,this.spatialReference=null,this.timeExtent=null,this.timeZone=e2.qU,this.viewpoint=null}};(0,w._)([(0,F.MZ)({type:e3.A})],e8.prototype,"background",void 0),(0,w._)([(0,F.MZ)({type:ei})],e8.prototype,"rangeInfo",void 0),(0,w._)([(0,F.MZ)({type:V.A})],e8.prototype,"spatialReference",void 0),(0,w._)([(0,F.MZ)({type:Q.A})],e8.prototype,"timeExtent",void 0),(0,w._)([(0,F.MZ)({nonNullable:!0})],e8.prototype,"timeZone",void 0),(0,w._)([(0,F.MZ)({type:S.A})],e8.prototype,"viewpoint",void 0);let e5=e8=(0,w._)([(0,D.$)("esri.webmap.InitialViewProperties")],e8);var e9=i(962);let e6=T.A.ofType(eQ),e4=new Map([["image/jpeg","jpeg"],["image/jpg","jpg"],["image/png","png"],["image/gif","gif"]]),e7=G.mm.JSAPI,te=class extends(0,O.P)(E.A.LoadableMixin(P.A.EsriPromiseMixin(M.A))){constructor(t){super(t),this._isAuthoringAppSetByUser=!1,this._isAuthoringAppVersionSetByUser=!1,this._thumbnailFilename=null,this._updateFromPromise=null,this.resourceReferences={portalItem:null,paths:[]},this.applicationProperties=null,this.bookmarks=new e6,this.floorInfo=null,this.initialViewProperties=new e5,this.portalItem=null,this.sourceVersion=null,this.widgets=null,this._debouncedSaveOperations=(0,N.sg)(async(t,r,s)=>{let{save:o,saveAs:a}=await i.e(9156).then(i.bind(i,99156));switch(t){case ee.X.SAVE:return o(this.context,this,r);case ee.X.SAVE_AS:return a(this.context,this,s,r)}}),this.authoringApp=this.authoringAppVersion=null,this._isAuthoringAppSetByUser=this._isAuthoringAppVersionSetByUser=!1}destroy(){this.portalItem=(0,R.pR)(this.portalItem)}initialize(){if(this.when().catch(t=>{C.A.getLogger(this).error("#load()","Failed to load web map",t)}),this.resourceInfo){let t;try{t=this._validateJSON(this.resourceInfo)}catch(t){return void this.addResolvingPromise(Promise.reject(t))}this.read(t)}}set authoringApp(t){this._isAuthoringAppSetByUser=!0,this._set("authoringApp",t)}writeAuthoringApp(t,r){t&&this._isAuthoringAppSetByUser?r.authoringApp=t:r.authoringApp=e7}set authoringAppVersion(t){this._isAuthoringAppVersionSetByUser=!0,this._set("authoringAppVersion",t)}writeAuthoringAppVersion(t,r){t&&this._isAuthoringAppVersionSetByUser?r.authoringAppVersion=t:r.authoringAppVersion=b.rE}readInitialViewProperties(t,r){let i=new e5;r.background&&(i.background=e3.A.fromJSON(r.background));let s=r.initialState?.timeExtent;s&&(i.timeExtent=Q.A.fromArray(s));let o=r.initialState?.viewpoint;return o&&(o.rotation&&e9.R.parse(r.version||"","webmap").lessThan(2,20)&&"ArcGIS Pro"===r.authoringApp&&(o.rotation*=-1),i.viewpoint=S.A.fromJSON(o)),r.mapRangeInfo&&(i.rangeInfo=ei.fromJSON(r.mapRangeInfo)),r.spatialReference&&(i.spatialReference=V.A.fromJSON(r.spatialReference)),r.timeZone&&(i.timeZone=r.timeZone),i}writeInitialViewProperties(t,r,i,s){if(!t)return;t.background?.color&&(r.background=t.background.write({},s));let{timeExtent:o,viewpoint:a}=t;if(a||o){let t={};a&&(t.viewpoint=a.write({},s)),o&&(t.timeExtent=o.toArray()),r.initialState=t}t.rangeInfo&&(r.mapRangeInfo=t.rangeInfo.toJSON(s)),t.spatialReference&&(r.spatialReference=t.spatialReference.write({},s)),r.timeZone=t.timeZone}writeLayers(t,r,i,s){r[i]=this._writeLayers(t,s,"operational-layers")}readSourceVersion(t,r){let[i,s]=r.version.split(".");return new e9.R(parseInt(i,10),parseInt(s,10))}writeSourceVersion(t,r,i){r[i]=`${this.context.currentVersion.major}.${this.context.currentVersion.minor}`}writeTables(t,r,i,s){let o=this._writeLayers(t,s,"tables");o.length&&(r[i]=o)}get thumbnailUrl(){return this.portalItem?.thumbnailUrl||null}set thumbnailUrl(t){t?(this._override("thumbnailUrl",t),this._thumbnailFilename=this._generateCustomThumbnailFilename(t)):this._clearThumbnailOverride()}get updatingFromView(){return!!this._updateFromPromise}load(t){var r;return this.addResolvingPromise((r=this.context,this.resourceInfo?eA(this,this.resourceInfo,{origin:r.origin}):this.portalItem?.id?eT(r,this,this.portalItem):Promise.resolve())),Promise.resolve(this)}loadAll(){return(0,I.g)(this,t=>{t(this.ground,this.basemap,this.layers,this.tables)})}read(t,r){r={...r,origin:this.context.origin};let i=this._getAuthoringPropsState();(0,U.t)(this,t,r=>super.read(t,r),r),this._restoreAuthoringPropsFromState(i)}write(t,r){if("loaded"!==this.loadStatus){let t=new x.A("webmap:not-loaded","Web map must be loaded before it can be serialized");throw C.A.getLogger(this).error("#toJSON()","Web map must be loaded before it can be serialized",this.loadError||this.loadStatus),t}return this._removeDanglingLayerRefs(),r={...r,origin:this.context.origin,restrictedWebMapWriting:!0,webmap:this},super.write(t,r)}async save(t){return this._debouncedSaveOperations(ee.X.SAVE,t)}async saveAs(t,r){return this._debouncedSaveOperations(ee.X.SAVE_AS,r,t)}async updateFrom(t,r){let i=this._updateFromInternal(t,r);this._updateFromPromise=i,await i,i===this._updateFromPromise&&(this._updateFromPromise=null)}getLayerJSONFromResourceInfo(t){let r=this.resourceInfo;return this._collectAllLayersJSON([...r?.baseMap?.baseMapLayers||[],...r?.operationalLayers||[],...this.basemap?.resourceInfo?.data?.baseMapLayers||[]]).find(r=>r.id===t.id)}async updateItemThumbnail(){this.thumbnailUrl&&this._isOverridden("thumbnailUrl")&&(await this.portalItem?.updateThumbnail({thumbnail:this.thumbnailUrl,filename:this._thumbnailFilename}),this._clearThumbnailOverride())}getThumbnailState(){let t=this.thumbnailUrl;return t&&(t=this._isOverridden("thumbnailUrl")?t:(0,L.rs)(t,"w","8192")),{thumbnailUrl:t,filename:this._thumbnailFilename}}restoreThumbnailFromState(t){this.thumbnailUrl=t.thumbnailUrl,this._thumbnailFilename=t.filename}_collectAllLayersJSON(t){return t.reduce((t,r)=>(t.push(r),"GroupLayer"===r.layerType&&(t=t.concat(this._collectAllLayersJSON(r.layers||[]))),t),[])}_writeLayers(t,r,i){return r={...r,layerContainerType:i},t.map(t=>(0,eI.CJ)(t,"tables"===i?null:this.getLayerJSONFromResourceInfo(t),r)).filter(A.Ru).toArray()}_validateJSON(t){let r=e9.R.parse(t.version||"","webmap");return this.context.currentVersion.validate(r),t.version=`${r.major}.${r.minor}`,t}_removeDanglingLayerRefs(){let t=this.applicationProperties,r=t?.viewing?.search,i=t=>this.allLayers.some(r=>r.id===t);if(r?.layers&&(r.layers=r.layers.filter(t=>i(t.id))),r?.tables&&(r.tables=r.tables.filter(t=>this.tables.some(r=>r.id===t.id))),t){let r=t.editing?.locationTracking;r?.info&&!i(r.info.layerId)&&(t.editing=null)}let s="presentation"in this?this.presentation:null,o=s?.slides;o&&o.forEach(t=>{t.visibleLayers&&(t.visibleLayers=t.visibleLayers.filter(t=>i(t.id)))})}async _updateFromInternal(t,r){if(r??={},await (0,k.C_)(()=>t.ready),this._updateInitialViewProperties(t,r),t.map===this)for(let r of t.allLayerViews)"visible"in r&&"visible"in r.layer&&r._isOverridden("visible")&&(r.layer.visible=r.visible),"featureEffect"in r&&"featureEffect"in r.layer&&r._isOverridden("featureEffect")&&(r.layer.featureEffect=r.featureEffect);await this._updateThumbnailUrl(t,r)}_updateInitialViewProperties(t,r){if(r.backgroundExcluded||(this.initialViewProperties.background=t.background?.clone()),this.initialViewProperties.spatialReference=t.spatialReference?.clone(),this.initialViewProperties.timeZone=t.timeZone,r.viewpointExcluded||(this.initialViewProperties.viewpoint=new S.A({rotation:t.rotation,scale:r.scalePreserved?t.scale:null,targetGeometry:this._getViewExtent(t)})),!r.widgetsExcluded)for(let r of t.persistableViewModels)r.updateWebDocument(this)}_getViewExtent(t){let r=t.center.clone().normalize(),i=t.extent.clone(),s=i.width/2;return i.xmin=r.x-s,i.xmax=r.x+s,i}async _updateThumbnailUrl(t,r){if(r.thumbnailExcluded)return;let i=function(t,r){let{width:i,height:s}=r=r||e_,o=i/s;return o<1.5?s=i/1.5:o>1.5&&(i=1.5*s),i>t.width&&(s*=t.width/i,i=t.width),s>t.height&&(i*=t.height/s,s=t.height),{width:Math.round(i),height:Math.round(s)}}(t,r.thumbnailSize),s=await t.takeScreenshot({format:"png",width:i.width,height:i.height});this._setAutoGeneratedThumbnail(s.dataUrl)}_setAutoGeneratedThumbnail(t){this.thumbnailUrl=t,this._thumbnailFilename=null}_clearThumbnailOverride(){this._clearOverride("thumbnailUrl"),this.clear("thumbnailUrl","user"),this._thumbnailFilename=null}_generateCustomThumbnailFilename(t){if((0,L.DB)(t)){let r=(0,L.r$)(t),i=r?.mediaType,s=i&&e4.get(i.toLowerCase())||null,o=`thumbnail${Date.now()}`;return s?`${o}.${s}`:o}return null}_getAuthoringPropsState(){return{authoringApp:this.authoringApp,authoringAppVersion:this.authoringAppVersion,isAuthoringAppSetByUser:this._isAuthoringAppSetByUser,isAuthoringAppVersionSetByUser:this._isAuthoringAppVersionSetByUser}}_restoreAuthoringPropsFromState(t){t.isAuthoringAppSetByUser?this.authoringApp=t.authoringApp:this._isAuthoringAppSetByUser=!1,t.isAuthoringAppVersionSetByUser?this.authoringAppVersion=t.authoringAppVersion:this._isAuthoringAppVersionSetByUser=!1}};(0,w._)([(0,F.MZ)()],te.prototype,"_updateFromPromise",void 0),(0,w._)([(0,F.MZ)({type:eH,json:{write:!0}})],te.prototype,"applicationProperties",void 0),(0,w._)([(0,F.MZ)({type:String,json:{write:{allowNull:!0,ignoreOrigin:!0}}})],te.prototype,"authoringApp",null),(0,w._)([(0,j.K)("authoringApp")],te.prototype,"writeAuthoringApp",null),(0,w._)([(0,F.MZ)({type:String,json:{write:{allowNull:!0,ignoreOrigin:!0}}})],te.prototype,"authoringAppVersion",null),(0,w._)([(0,j.K)("authoringAppVersion")],te.prototype,"writeAuthoringAppVersion",null),(0,w._)([(0,F.MZ)({type:e6,json:{write:{overridePolicy:t=>({enabled:!!(t&&t.length>0),ignoreOrigin:!0})}}})],te.prototype,"bookmarks",void 0),(0,w._)([(0,F.MZ)({type:X,json:{name:"mapFloorInfo",write:!0}})],te.prototype,"floorInfo",void 0),(0,w._)([(0,F.MZ)({type:e5,nonNullable:!0,json:{read:{source:["background","initialState.timeExtent","initialState.viewpoint","mapRangeInfo","spatialReference","timeZone"]},write:{ignoreOrigin:!0,target:{background:{type:e3.A},"initialState.timeExtent":{type:Q.A},"initialState.viewpoint":{type:S.A},mapRangeInfo:{type:ei},spatialReference:{type:V.A},"timeZone:":{type:String}}}}})],te.prototype,"initialViewProperties",void 0),(0,w._)([(0,Z.w)("initialViewProperties")],te.prototype,"readInitialViewProperties",null),(0,w._)([(0,j.K)("initialViewProperties")],te.prototype,"writeInitialViewProperties",null),(0,w._)([(0,F.MZ)({json:{read:!1,write:{target:"operationalLayers",ignoreOrigin:!0}}})],te.prototype,"layers",void 0),(0,w._)([(0,j.K)("layers")],te.prototype,"writeLayers",null),(0,w._)([(0,F.MZ)({type:z.default})],te.prototype,"portalItem",void 0),(0,w._)([(0,F.MZ)()],te.prototype,"resourceInfo",void 0),(0,w._)([(0,F.MZ)({readOnly:!0,type:e9.R,json:{read:{source:"version"},write:{allowNull:!0,ignoreOrigin:!0,target:"version",isRequired:!0}}})],te.prototype,"sourceVersion",void 0),(0,w._)([(0,Z.w)("sourceVersion")],te.prototype,"readSourceVersion",null),(0,w._)([(0,j.K)("sourceVersion")],te.prototype,"writeSourceVersion",null),(0,w._)([(0,F.MZ)({json:{read:!1,write:{ignoreOrigin:!0}}})],te.prototype,"tables",void 0),(0,w._)([(0,j.K)("tables")],te.prototype,"writeTables",null),(0,w._)([(0,F.MZ)()],te.prototype,"thumbnailUrl",null),(0,w._)([(0,F.MZ)()],te.prototype,"updatingFromView",null),(0,w._)([(0,F.MZ)({type:eg,json:{write:!0}})],te.prototype,"widgets",void 0);let tt=te=(0,w._)([(0,D.$)("esri.WebDocument2D")],te);var tr=i(51445);let ti=class extends e1.A.ClonableMixin($.A){constructor(t){super(t),this.expression=null,this.returnType="string",this.title=null}};(0,w._)([(0,F.MZ)({type:String,json:{write:{isRequired:!0}}})],ti.prototype,"expression",void 0),(0,w._)([(0,F.MZ)({type:["number","string"],json:{write:!0}})],ti.prototype,"returnType",void 0),(0,w._)([(0,F.MZ)({type:String,json:{write:!0}})],ti.prototype,"title",void 0);let tn=ti=(0,w._)([(0,D.$)("esri.webdoc.geotriggersInfo.ExpressionInfo")],ti),ts=new eo.J({deviceLocation:"device-location"}),to=class extends e1.A.ClonableMixin($.A){constructor(t){super(t),this.filterExpression=null,this.type="device-location"}};(0,w._)([(0,F.MZ)({type:tn,json:{write:!0}})],to.prototype,"filterExpression",void 0),(0,w._)([(0,F.MZ)({type:ts.apiValues,readOnly:!0,json:{type:ts.jsonValues,read:ts.read,write:ts.write}})],to.prototype,"type",void 0);let ta=to=(0,w._)([(0,D.$)("esri.webdoc.geotriggersInfo.DeviceLocationFeed")],to);var tl=i(31789),tu=i(59879);let td=class extends e1.A.ClonableMixin($.A){constructor(t){super(t),this.geometry=null,this.where=null}};(0,w._)([(0,F.MZ)({types:tu.yR,json:{read:tl.rS,write:!0}})],td.prototype,"geometry",void 0),(0,w._)([(0,F.MZ)({type:String,json:{write:!0}})],td.prototype,"where",void 0);let tc=td=(0,w._)([(0,D.$)("esri.webdoc.geotriggersInfo.FeatureFilter")],td),tp=class extends e1.A.ClonableMixin($.A){constructor(t){super(t),this.layerId=null,this.layerUrl=null,this.type="feature-layer"}};(0,w._)([(0,F.MZ)({type:String,json:{write:{overridePolicy(){return{isRequired:null===this.layerUrl}}}}})],tp.prototype,"layerId",void 0),(0,w._)([(0,F.MZ)({type:String,json:{write:{overridePolicy(){return{isRequired:null===this.layerId}}}}})],tp.prototype,"layerUrl",void 0),(0,w._)([(0,eR.e)({featureLayer:"feature-layer"},{readOnly:!0})],tp.prototype,"type",void 0);let th=tp=(0,w._)([(0,D.$)("esri.webdoc.geotriggersInfo.FeatureLayerSource")],tp),tf=class extends e1.A.ClonableMixin($.A){constructor(t){super(t),this.fenceSource=null,this.filter=null,this.bufferDistance=null,this.type="features"}};(0,w._)([(0,F.MZ)({type:th,json:{write:{isRequired:!0}}})],tf.prototype,"fenceSource",void 0),(0,w._)([(0,F.MZ)({type:tc,json:{write:!0}})],tf.prototype,"filter",void 0),(0,w._)([(0,F.MZ)({type:Number,json:{write:!0}})],tf.prototype,"bufferDistance",void 0),(0,w._)([(0,eR.e)({features:"features"},{readOnly:!0})],tf.prototype,"type",void 0);let ty=tf=(0,w._)([(0,D.$)("esri.webdoc.geotriggersInfo.FeatureFenceParameters")],tf),tm=class extends e1.A.ClonableMixin($.A){constructor(t){super(t),this.type="fence"}};(0,w._)([(0,eR.e)({fence:"fence"},{readOnly:!0})],tm.prototype,"type",void 0);let tg=tm=(0,w._)([(0,D.$)("esri.webdoc.geotriggersInfo.Geotrigger")],tm),t_=class extends e1.A.ClonableMixin($.A){constructor(t){super(t),this.expressionInfo=null,this.requestedActions=null}};(0,w._)([(0,F.MZ)({type:tn,json:{write:!0}})],t_.prototype,"expressionInfo",void 0),(0,w._)([(0,F.MZ)({type:[String],json:{write:!0}})],t_.prototype,"requestedActions",void 0);let tv=t_=(0,w._)([(0,D.$)("esri.webdoc.geotriggersInfo.GeotriggerNotificationOptions")],t_),tw=new eo.J({enterContainsAndExitDoesNotContain:"enter-contains-and-exit-does-not-contain",enterContainsAndExitDoesNotIntersect:"enter-contains-and-exit-does-not-intersect",enterIntersectsAndExitDoesNotIntersect:"enter-intersects-and-exit-does-not-intersect"}),tb=new eo.J({useGeometry:"use-geometry",useGeometryWithAccuracy:"use-geometry-with-accuracy"}),tM=new eo.J({enter:"enter",enterOrExit:"enter-or-exit",exit:"exit"}),tS=class extends tg{constructor(t){super(t),this.enterExitRule="enter-contains-and-exit-does-not-intersect",this.feed=null,this.feedAccuracyMode="use-geometry",this.fenceNotificationRule=null,this.fenceParameters=null,this.name=null,this.notificationOptions=null,this.type="fence"}};(0,w._)([(0,eR.e)(tw)],tS.prototype,"enterExitRule",void 0),(0,w._)([(0,F.MZ)({type:ta,json:{write:{isRequired:!0}}})],tS.prototype,"feed",void 0),(0,w._)([(0,eR.e)(tb)],tS.prototype,"feedAccuracyMode",void 0),(0,w._)([(0,F.MZ)({type:tM.apiValues,json:{type:tM.jsonValues,read:tM.read,write:{writer:tM.write,isRequired:!0}}})],tS.prototype,"fenceNotificationRule",void 0),(0,w._)([(0,F.MZ)({type:ty,json:{write:{isRequired:!0}}})],tS.prototype,"fenceParameters",void 0),(0,w._)([(0,F.MZ)({type:String,json:{write:!0}})],tS.prototype,"name",void 0),(0,w._)([(0,F.MZ)({type:tv,json:{write:!0}})],tS.prototype,"notificationOptions",void 0),(0,w._)([(0,eR.e)({fence:"fence"},{readOnly:!0})],tS.prototype,"type",void 0);let tA=tS=(0,w._)([(0,D.$)("esri.webdoc.geotriggersInfo.FenceGeotrigger")],tS),tT=class extends e1.A.ClonableMixin($.A){constructor(t){super(t),this.geotriggers=null}};(0,w._)([(0,F.MZ)({types:[{base:tg,key:"type",typeMap:{fence:tA}}],json:{write:{isRequired:!0}}})],tT.prototype,"geotriggers",void 0);let tx=tT=(0,w._)([(0,D.$)("esri.webdoc.GeotriggersInfo")],tT),tE=class extends e1.A.ClonableMixin($.A){constructor(t){super(t),this.portalItem=null}readPortalItem(t,r,i){let{itemId:s}=r;if(s)return new z.default({id:s,portal:i?.portal})}writePortalItem(t,r){t?.id&&(r.itemId=t.id)}};(0,w._)([(0,F.MZ)({type:z.default,json:{write:{isRequired:!0}}})],tE.prototype,"portalItem",void 0),(0,w._)([(0,Z.w)("portalItem",["itemId"])],tE.prototype,"readPortalItem",null),(0,w._)([(0,j.K)("portalItem",{itemId:{type:String}})],tE.prototype,"writePortalItem",null);let tI=tE=(0,w._)([(0,D.$)("esri.webdoc.ips.PositioningService")],tE),tC=class extends e1.A.ClonableMixin($.A){constructor(t){super(t),this.positioningService=null}};(0,w._)([(0,F.MZ)({type:tI,json:{write:{isRequired:!0}}})],tC.prototype,"positioningService",void 0);let tR=tC=(0,w._)([(0,D.$)("esri.webdoc.IPSInfo")],tC);var tO=i(24927);let tP={currentVersion:tO.Y,createInitialViewProperties:()=>new e5,parseVersion:e9.R.parse,itemType:"Web Map",name:"webmap",origin:"web-map"},tN=T.A.ofType(tr.default),tk=class extends tt{constructor(t){super(t),this.geotriggersInfo=null,this.ipsInfo=null,this.presentation=null,this.utilityNetworks=null}destroy(){if(this.utilityNetworks){for(let t of this.utilityNetworks.removeAll())t.destroy();this.utilityNetworks.destroy()}}get context(){return tP}loadAll(){return(0,I.g)(this,t=>{t(this.ground,this.basemap,this.layers,this.tables,this.ipsInfo?.positioningService?.portalItem)})}static fromJSON(t){if(t)return new this({resourceInfo:t});throw new x.A("webmap:empty-resource","Expected a JSON resource but got nothing")}};tk.VERSION=tO.Y,(0,w._)([(0,F.MZ)({type:tx,json:{write:!0}})],tk.prototype,"geotriggersInfo",void 0),(0,w._)([(0,F.MZ)({type:tR,json:{write:!0,name:"mapIPSInfo"}})],tk.prototype,"ipsInfo",void 0),(0,w._)([(0,F.MZ)({json:{write:!0}})],tk.prototype,"presentation",void 0),(0,w._)([(0,F.MZ)({type:tN,json:{read:!0,write:!0}})],tk.prototype,"utilityNetworks",void 0);let tL=tk=(0,w._)([(0,D.$)("esri.WebMap")],tk)},79378:(t,r,i)=>{i.d(r,{A:()=>o});var s=i(98570);class o{static getId(t,r,i,s){return"object"==typeof t?`${t.level}/${t.row}/${t.col}/${t.world}`:`${t}/${r}/${i}/${s}`}constructor(t,r,i,s){this.set(t,r,i,s)}get key(){return this}get id(){return this.toString()}get normalizedId(){return`${this.level}/${this.row}/${this.col}`}set id(t){this.set(t)}get hash(){let t=4095&this.row,r=4095&this.col,i=63&this.level;return(3&this.world)<<30|r<<22|t<<8|i}acquire(t,r,i,s){this.set(t,r,i,s)}contains(t){let r=t.level-this.level;return r>=0&&this.row===t.row>>r&&this.col===t.col>>r&&this.world===t.world}containsChild(t){let r=t.level-this.level;return r>0&&this.row===t.row>>r&&this.col===t.col>>r&&this.world===t.world}equals(t){return this.level===t.level&&this.row===t.row&&this.col===t.col&&this.world===t.world}clone(){return new o(this)}release(){this.level=0,this.row=0,this.col=0,this.world=0}set(t,r,i,s){if(null==t)this.level=0,this.row=0,this.col=0,this.world=0;else if("object"==typeof t)this.level=t.level||0,this.row=t.row||0,this.col=t.col||0,this.world=t.world||0;else if("string"==typeof t){let[r,i,s,o]=t.split("/");this.level=parseFloat(r),this.row=parseFloat(i),this.col=parseFloat(s),this.world=parseFloat(o)}else this.level=+t,this.row=+r,this.col=+i,this.world=+s||0;return this}toString(){return`${this.level}/${this.row}/${this.col}/${this.world}`}getParentKey(){return this.level<=0?null:new o(this.level-1,this.row>>1,this.col>>1,this.world)}getNormalizedNeighbor(t,r,i){let s=this.clone();return s.col+=t,s.row+=r,i.normalizeKey(s),s}getChildKeys(){let t=this.level+1,r=this.row<<1,i=this.col<<1,s=this.world;return[new o(t,r,i,s),new o(t,r,i+1,s),new o(t,r+1,i,s),new o(t,r+1,i+1,s)]}compareRowMajor(t){return this.row<t.row?-1:this.row>t.row?1:this.col<t.col?-1:+(this.col>t.col)}}o.pool=new s.A(o,null,null,25,50)},79516:(t,r,i)=>{i.d(r,{A:()=>y});var s,o=i(81856),a=i(33715),u=i(91838);i(57845),i(61939);var d=i(33498),c=i(12709),p=i(87488),h=i(95048);let f=s=class extends h.A{constructor(t){super(t),this.codedValues=null,this.type="coded-value"}getName(t){let r=null;if(this.codedValues){let i=String(t);this.codedValues.some(t=>(String(t.code)===i&&(r=t.name),!!r))}return r}clone(){return new s({codedValues:(0,a.o8)(this.codedValues),name:this.name})}};(0,o._)([(0,u.MZ)({type:[p.H],json:{write:{isRequired:!0}}})],f.prototype,"codedValues",void 0),(0,o._)([(0,d.e)({codedValue:"coded-value"})],f.prototype,"type",void 0);let y=f=s=(0,o._)([(0,c.$)("esri.layers.support.CodedValueDomain")],f)},80548:(t,r,i)=>{i.d(r,{A:()=>p});var s,o=i(81856),a=i(28690),u=i(91838);i(57845),i(61939),i(33638);var d=i(12709);let c=s=class extends a.A{constructor(t){super(t),this.color=null,this.fieldName=null,this.tooltip=null,this.value=null}clone(){return new s({color:this.color?.clone(),fieldName:this.fieldName,tooltip:this.tooltip,value:this.value})}};(0,o._)([(0,u.MZ)()],c.prototype,"color",void 0),(0,o._)([(0,u.MZ)()],c.prototype,"fieldName",void 0),(0,o._)([(0,u.MZ)()],c.prototype,"tooltip",void 0),(0,o._)([(0,u.MZ)()],c.prototype,"value",void 0);let p=c=s=(0,o._)([(0,d.$)("esri.popup.content.support.ChartMediaInfoValueSeries")],c)},80824:(t,r,i)=>{i.d(r,{A:()=>v});var s,o=i(81856),a=i(30781),u=i(92713),d=i(91838),c=i(86942);i(57845),i(33638);var p=i(33498),h=i(53480),f=i(12709),y=i(66389),m=i(73368);let g=new a.J({binary:"binary",coordinate:"coordinate",countOrAmount:"count-or-amount",dateAndTime:"date-and-time",description:"description",locationOrPlaceName:"location-or-place-name",measurement:"measurement",nameOrTitle:"name-or-title",none:"none",orderedOrRanked:"ordered-or-ranked",percentageOrRatio:"percentage-or-ratio",typeOrCategory:"type-or-category",uniqueIdentifier:"unique-identifier"}),_=s=class extends u.A{constructor(t){super(t),this.alias=null,this.defaultValue=void 0,this.description=null,this.domain=null,this.editable=!0,this.length=void 0,this.name=null,this.nullable=!0,this.type=null,this.valueType=null,this.visible=!0}readDescription(t,{description:r}){let i=null;try{i=r?JSON.parse(r):null}catch(t){}return i?.value??null}readValueType(t,{description:r}){let i=null;try{i=r?JSON.parse(r):null}catch(t){}return i?g.fromJSON(i.fieldValueType):null}clone(){return new s({alias:this.alias,defaultValue:this.defaultValue,description:this.description,domain:this.domain?.clone()??null,editable:this.editable,length:this.length,name:this.name,nullable:this.nullable,type:this.type,valueType:this.valueType,visible:this.visible})}};(0,o._)([(0,d.MZ)({type:String,json:{write:!0}})],_.prototype,"alias",void 0),(0,o._)([(0,d.MZ)({type:[String,Number],json:{write:{allowNull:!0}}})],_.prototype,"defaultValue",void 0),(0,o._)([(0,d.MZ)()],_.prototype,"description",void 0),(0,o._)([(0,h.w)("description")],_.prototype,"readDescription",null),(0,o._)([(0,d.MZ)({types:y.gK,json:{read:{reader:y.rS},write:!0}})],_.prototype,"domain",void 0),(0,o._)([(0,d.MZ)({type:Boolean,json:{write:!0}})],_.prototype,"editable",void 0),(0,o._)([(0,d.MZ)({type:c.jz,json:{write:{overridePolicy:t=>({enabled:Number.isFinite(t)})}}})],_.prototype,"length",void 0),(0,o._)([(0,d.MZ)({type:String,json:{write:!0}})],_.prototype,"name",void 0),(0,o._)([(0,d.MZ)({type:Boolean,json:{write:!0}})],_.prototype,"nullable",void 0),(0,o._)([(0,p.e)(m.m)],_.prototype,"type",void 0),(0,o._)([(0,d.MZ)()],_.prototype,"valueType",void 0),(0,o._)([(0,h.w)("valueType",["description"])],_.prototype,"readValueType",null),(0,o._)([(0,d.MZ)({type:Boolean,json:{read:!1}})],_.prototype,"visible",void 0);let v=_=s=(0,o._)([(0,f.$)("esri.layers.support.Field")],_)},81048:(t,r,i)=>{i.d(r,{s:()=>d});var s=i(48767);i(39166);var o=i(32391),a=i(61939),u=i(90525);function d(t){if(!s.A.assetsPath)throw a.A.getLogger("esri.assets").errorOnce("The API assets location needs to be set using config.assetsPath. More information: https://arcg.is/1OzLe50"),new o.A("assets:path-not-set","config.assetsPath is not set");return(0,u.fj)(s.A.assetsPath,t)}},81713:(t,r,i)=>{i.d(r,{j:()=>a});var s=i(8922),o=i(54015);let a={unknown:1,inches:(0,s.oU)(1,"meters","inches"),feet:(0,s.oU)(1,"meters","feet"),"us-feet":(0,s.oU)(1,"meters","us-feet"),yards:(0,s.oU)(1,"meters","yards"),miles:(0,s.oU)(1,"meters","miles"),"nautical-miles":(0,s.oU)(1,"meters","nautical-miles"),millimeters:(0,s.oU)(1,"meters","millimeters"),centimeters:(0,s.oU)(1,"meters","centimeters"),decimeters:(0,s.oU)(1,"meters","decimeters"),meters:(0,s.oU)(1,"meters","meters"),kilometers:(0,s.oU)(1,"meters","kilometers"),"decimal-degrees":1/(0,s.vl)(1,"meters",o.$O.radius)}},81856:(t,r,i)=>{function s(t,r,i,s){var o,a=arguments.length,u=a<3?r:null===s?s=Object.getOwnPropertyDescriptor(r,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)u=Reflect.decorate(t,r,i,s);else for(var d=t.length-1;d>=0;d--)(o=t[d])&&(u=(a<3?o(u):a>3?o(r,i,u):o(r,i))||u);return a>3&&u&&Object.defineProperty(r,i,u),u}function o(t,r){return function(i,s){r(i,s,t)}}function a(t,r,i,s){return new(i||(i=Promise))(function(o,a){function u(t){try{c(s.next(t))}catch(t){a(t)}}function d(t){try{c(s.throw(t))}catch(t){a(t)}}function c(t){var r;t.done?o(t.value):((r=t.value)instanceof i?r:new i(function(t){t(r)})).then(u,d)}c((s=s.apply(t,r||[])).next())})}function u(t,r,i){if(null!=r){var s,o;if("object"!=typeof r&&"function"!=typeof r)throw TypeError("Object expected.");if(i){if(!Symbol.asyncDispose)throw TypeError("Symbol.asyncDispose is not defined.");s=r[Symbol.asyncDispose]}if(void 0===s){if(!Symbol.dispose)throw TypeError("Symbol.dispose is not defined.");s=r[Symbol.dispose],i&&(o=s)}if("function"!=typeof s)throw TypeError("Object not disposable.");o&&(s=function(){try{o.call(this)}catch(t){return Promise.reject(t)}}),t.stack.push({value:r,dispose:s,async:i})}else i&&t.stack.push({async:!0});return r}i.d(r,{_:()=>s,a:()=>o,b:()=>u,c:()=>c,d:()=>a});var d="function"==typeof SuppressedError?SuppressedError:function(t,r,i){var s=Error(i);return s.name="SuppressedError",s.error=t,s.suppressed=r,s};function c(t){function r(r){t.error=t.hasError?new d(r,t.error,"An error was suppressed during disposal."):r,t.hasError=!0}var i,s=0;return function o(){for(;i=t.stack.pop();)try{if(!i.async&&1===s)return s=0,t.stack.push(i),Promise.resolve().then(o);if(i.dispose){var a=i.dispose.call(i.value);if(i.async)return s|=2,Promise.resolve(a).then(o,function(t){return r(t),o()})}else s|=1}catch(t){r(t)}if(1===s)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}()}},81877:(t,r,i)=>{i.d(r,{b:()=>c});var s=i(81856),o=i(61939),a=i(91838);i(57845),i(33638);var u=i(12709),d=i(21371);let c=t=>{let r=class extends t{get title(){if(this._get("title")&&"defaults"!==this.originOf("title"))return this._get("title");if(this.url){let t=(0,d.qg)(this.url);if(t?.title)return t.title}return this._get("title")||""}set title(t){this._set("title",t)}set url(t){this._set("url",(0,d.Jf)(t,o.A.getLogger(this)))}};return(0,s._)([(0,a.MZ)()],r.prototype,"title",null),(0,s._)([(0,a.MZ)({type:String})],r.prototype,"url",null),r=(0,s._)([(0,u.$)("esri.layers.mixins.ArcGISService")],r)}},81933:(t,r,i)=>{i.d(r,{g:()=>c});var s=i(86289),o=i(24626),a=i(85908),u=i(66802),d=i(75378);let c={base:i(66377).A,key:"type",defaultKeyValue:"image",typeMap:{"bar-chart":s.A,"column-chart":o.A,"line-chart":u.A,"pie-chart":d.A,image:a.A}}},81998:(t,r,i)=>{i.d(r,{M9:()=>c,oO:()=>p,rS:()=>y});var s=i(32391),o=i(71086),a=i(11584),u=i(62607),d=i(76558);function c(t,r,i,s){let o=f(t,{},{context:s,isLabelSymbol:!1});null!=o&&(r[i]=o)}function p(t,r,i,s){let o=f(t,{},{context:s,isLabelSymbol:!0});null!=o&&(r[i]=o)}function h(t){return(0,d.wk)(t)||t instanceof a.A}function f(t,r,i){if(null==t)return null;let{context:a,isLabelSymbol:d}=i,c=a?.origin,p=a?.messages;if("web-scene"===c&&!h(t)){let i=(0,u.t)(t,{retainCIM:!0,hasLabelingContext:d});return null!=i.symbol?i.symbol.write(r,a):(p?.push(new s.A("symbol:unsupported",`Symbols of type '${t.declaredClass}' are not supported in scenes. Use 3D symbology instead when working with WebScene and SceneView`,{symbol:t,context:a,error:i.error})),null)}return(0,o.TU)(a?.layer)&&("polygon-3d"===t?.type||"line-3d"===t?.type)?(p?.push(new s.A("symbol:unsupported",`Symbols of type '${t.declaredClass}' are not supported on layers of type '${a?.layer?.declaredClass}'.`,{symbol:t,context:a})),null):("web-map"===c||"portal-item"===c&&!(0,o.TU)(a?.layer))&&h(t)?(p?.push(new s.A("symbol:unsupported",`Symbols of type '${t.declaredClass}' are not supported in web maps and portal items. Use 2D symbology and CIMSymbol instead when working with MapView`,{symbol:t,context:a})),null):t.write(r,a)}function y(t,r){return(0,d.Bu)(t,null,r)}},82279:(t,r,i)=>{function s(t){let r=atob(t),i=new Uint8Array(r.length);for(let t=0;t<r.length;t++)i[t]=r.charCodeAt(t);return i.buffer}function o(t){let r=new Uint8Array(t),i="";for(let t=0;t<r.length;t++)i+=String.fromCharCode(r[t]);return btoa(i)}i.d(r,{M:()=>s,Y:()=>o})},82552:(t,r,i)=>{i.d(r,{Q:()=>c});var s,o=i(81856),a=i(28690),u=i(91838);i(57845),i(61939),i(33638);var d=i(12709);let c=s=class extends a.A{constructor(){super(...arguments),this.x=0,this.y=0}clone(){return new s({x:this.x,y:this.y})}};(0,o._)([(0,u.MZ)({type:Number})],c.prototype,"x",void 0),(0,o._)([(0,u.MZ)({type:Number})],c.prototype,"y",void 0),c=s=(0,o._)([(0,d.$)("esri.symbols.support.Symbol3DAnchorPosition2D")],c)},82558:(t,r,i)=>{function s(t,r){for(let i of t.values())if(r(i))return!0;return!1}function o(t,r){if(!r)return t;for(let i of r)null!=i&&t.add(i);return t}function a(t,r){return null!=r&&t.add(r),t}function u(t,r){let i=new Set;return o(i,t),o(i,r),i}function d(t,r){let i=new Set;for(let s of r)t.has(s)&&i.add(s);return i}function c(t,r){if(!t||!r)return!1;if(t===r)return!0;for(let i of t)if(!r.has(i))return!1;return!0}function p(t,r){if(null==t&&null==r)return!0;if(null==t||null==r||t.size!==r.size)return!1;for(let i of t)if(!r.has(i))return!1;return!0}function h(t,r){let i=new Set(t);for(let t of r)i.delete(t);return i}function f(t,r){return h(u(t,r),d(t,r))}i.d(r,{BT:()=>f,E$:()=>d,FB:()=>o,KC:()=>u,Yy:()=>c,aI:()=>p,bw:()=>s,iv:()=>h,kb:()=>a})},82612:(t,r,i)=>{i.d(r,{A:()=>h});var s,o=i(81856),a=i(92713),u=i(91838);i(57845),i(61939),i(33638);var d=i(12709),c=i(23356);let p=s=class extends a.A{constructor(t){super(t),this.description=null,this.label=null,this.symbol=null,this.value=null}clone(){return new s({value:this.value,description:this.description,label:this.label,symbol:this.symbol?this.symbol.clone():null})}getMeshHash(){let t=JSON.stringify(this.symbol?.toJSON());return`${this.value}.${t}`}};(0,o._)([(0,u.MZ)({type:String,json:{write:!0}})],p.prototype,"description",void 0),(0,o._)([(0,u.MZ)({type:String,json:{write:!0}})],p.prototype,"label",void 0),(0,o._)([(0,u.MZ)(c.Wp)],p.prototype,"symbol",void 0),(0,o._)([(0,u.MZ)(c.Ug)],p.prototype,"value",void 0);let h=p=s=(0,o._)([(0,d.$)("esri.renderers.support.UniqueValueInfo")],p)},83072:(t,r,i)=>{i.d(r,{A:()=>h});var s=i(81856),o=i(71017),a=i(91838);i(57845),i(61939),i(33638);var u=i(12709),d=i(91766),c=i(67347);let p=class extends o.A.ClonableMixin(d.A){constructor(t){super(t),this.associationTypes=null,this.editableExpression=null,this.type="utilityNetworkAssociations"}};(0,s._)([(0,a.MZ)({type:[c.A],json:{write:{isRequired:!0}}})],p.prototype,"associationTypes",void 0),(0,s._)([(0,a.MZ)({type:String,json:{write:!0}})],p.prototype,"editableExpression",void 0),(0,s._)([(0,a.MZ)({type:["utilityNetworkAssociations"],json:{read:!1,write:!0}})],p.prototype,"type",void 0);let h=p=(0,s._)([(0,u.$)("esri.form.elements.UtilityNetworkAssociationsElement")],p)},83392:(t,r,i)=>{i.d(r,{e:()=>v,o:()=>b});var s,o=i(81856),a=i(28690);i(57845);var u=i(61939),d=i(27298),c=i(91838);i(33638);var p=i(12709),h=i(39399),f=i(35759);class y extends f.l{constructor(t){super(!0),this._onChange=t,this._value="mouse",this._x=null,this._y=null,this.registerIncoming("pointer-move",t=>this._update(t.data))}_update(t){let r="touch"===t.native.pointerType?"touch":"mouse",{x:i,y:s}=t;r===this._value&&this._x===i&&this._y===s||(this._value=r,this._x=i,this._y=s,this._onChange(r,i,s))}}var m=i(22303);class g extends f.l{get multiTouchActive(){return this._multiTouchActive.value}constructor(){super(!0),this._activeTouchPointerIds=new Set,this._multiTouchActive=(0,m.v)(!1),this._onPointerAdd=({data:t})=>{"touch"===t.pointerType&&(this._activeTouchPointerIds.add(t.native.pointerId),this._update())},this._onPointerRemove=({data:t})=>{"touch"===t.pointerType&&(this._activeTouchPointerIds.delete(t.native.pointerId),this._update())},this.registerIncoming("pointer-down",this._onPointerAdd),this.registerIncoming("pointer-up",this._onPointerRemove),this.registerIncoming("pointer-capture-lost",this._onPointerRemove),this.registerIncoming("pointer-cancel",this._onPointerRemove)}_update(){this._multiTouchActive.value=this._activeTouchPointerIds.size>1}}var _=i(5901);let v=class extends a.A{constructor(t){super(t),this._pointerCaptures=new Map,this._nameToGroup={},this._handlers=[],this._handlersPriority=[],this._currentPropagation=null,this._updateDependenciesAfterPropagation=!1,this._sourceEvents=new Set,this._keyModifiers=new Set,this._activeKeyModifiers=new Set,this._stoppedPropagationEventIds=new Set,this.primaryKey=h.i,this._latestPointerType="mouse",this._propertiesPool=new _.M({latestPointerLocation:S},this),this.latestPointerLocation=null,this._paused=!1,this.test={timestamp:void 0,hasCurrentPropagation:()=>!!this._currentPropagation}}initialize(){this.eventSource.onEventReceived=this._onEventReceived.bind(this),this._installRecognizers()}destroy(){for(let t of Object.keys(this._nameToGroup))this.uninstallHandlers(t);this.eventSource.destroy(),this._currentPropagation=null,this._propertiesPool.destroy()}get hasPendingInputs(){return this._handlers.some(t=>t.handler.hasPendingInputs)}get latestPointerType(){return this._latestPointerType}get multiTouchActive(){return this._multiTouchHandler.multiTouchActive}get updating(){return this.hasPendingInputs||this._paused}installHandlers(t,r,i=b.INTERNAL){if(this._nameToGroup[t]||0===r.length)return;let s={name:t,handlers:r.map(t=>({handler:t,active:!0,removed:!1,priorityIndex:0,groupPriority:i,eventCallback:null,uninstallCallback:null}))};this._nameToGroup[t]=s;for(let t=s.handlers.length-1;t>=0;t--){let r=s.handlers[t];this._handlers.push(r),r.handler.onInstall({updateDependencies:()=>{this.updateDependencies()},emit:(t,i,s,o,a)=>{this._emitInputEvent(r.priorityIndex+1,t,i,s,a,o)},setPointerCapture:(t,i)=>{this._setPointerCapture(s,r,t,i)},setEventCallback:t=>{r.eventCallback=t},setUninstallCallback:t=>{r.uninstallCallback=t},refreshHasPendingInputs:()=>{this.notifyChange("hasPendingInputs")}})}this.updateDependencies()}uninstallHandlers(t){let r=this._nameToGroup[t];r?(r.handlers.forEach(t=>{t.removed=!0,t.uninstallCallback?.()}),delete this._nameToGroup[t],this._currentPropagation?this._currentPropagation.needsHandlerGarbageCollect=!0:this._garbageCollectRemovedHandlers()):u.A.getLogger(this).error("There is no InputHandler group registered under the name `"+t+"`")}hasHandlers(t){return void 0!==this._nameToGroup[t]}isModifierKeyDown(t){return this._activeKeyModifiers.has(t)}updateDependencies(){if(this._currentPropagation)return void(this._updateDependenciesAfterPropagation=!0);this._updateDependenciesAfterPropagation=!1;let t=new Set,r=new Set;this._handlersPriority=[];for(let t=this._handlers.length-1;t>=0;t--){let r=this._handlers[t];r.priorityIndex=t,this._handlersPriority.push(r)}this._handlersPriority=this._sortHandlersPriority(this._handlersPriority);for(let i=this._handlersPriority.length-1;i>=0;i--){let s=this._handlersPriority[i];s.priorityIndex=i;let o=s.handler.hasSideEffects;if(!o){for(let r of s.handler.outgoingEventTypes)if(t.has(r)){o=!0;break}}if(o)for(let i of s.handler.incomingEventMatches)for(let s of(t.add(i.eventType),i.keyModifiers))(0,h.p)(s)||r.add(s);s.active=o}this._sourceEvents=t,this._keyModifiers=r,this._pointerCaptures.size>0&&this._sourceEvents.add("pointer-capture-lost"),this._keyModifiers.size>0&&(this._sourceEvents.add("key-down"),this._sourceEvents.add("key-up")),this.eventSource&&(this.eventSource.activeEvents=this._sourceEvents)}_setLatestPointer(t,r,i){this._latestPointerType=t;let s=this._get("latestPointerLocation");if(null==s||s.x!==r||s.y!==i){let t=this._propertiesPool.get("latestPointerLocation");t.x=r,t.y=i,this._set("latestPointerLocation",t)}}_onEventReceived(t,r){"pointer-capture-lost"===t&&this._pointerCaptures.delete(r.native.pointerId),this._updateKeyModifiers(t,r);let i=null!=this.test.timestamp?this.test.timestamp:r.native?r.native.timestamp:void 0,s=r.native?r.native.cancelable:void 0;this._emitInputEventFromSource(t,r,i,s)}_updateKeyModifiers(t,r){if(!r)return;let i=!1,s=()=>{i||(this._activeKeyModifiers=new Set(this._activeKeyModifiers),i=!0)},o=(t,r)=>{r&&!this._activeKeyModifiers.has(t)?(s(),this._activeKeyModifiers.add(t)):!r&&this._activeKeyModifiers.has(t)&&(s(),this._activeKeyModifiers.delete(t))};if("key-down"===t||"key-up"===t){let i=r.key;this._keyModifiers.has(i)&&o(i,"key-down"===t)}let a=r.native;o("Alt",!!a?.altKey),o("Control",!!a?.ctrlKey),o("Ctrl",!!a?.ctrlKey),o("Shift",!!a?.shiftKey),o("Meta",!!a?.metaKey),o("Primary",this._activeKeyModifiers.has(this.primaryKey))}_installRecognizers(){this._latestPointerHandler=new y((t,r,i)=>this._setLatestPointer(t,r,i)),this._multiTouchHandler=new g,this.installHandlers("input-manager-logic",[this._latestPointerHandler,this._multiTouchHandler],b.ALWAYS),this.recognizers.length>0&&this.installHandlers("default",this.recognizers,b.INTERNAL)}_setPointerCapture(t,r,i,s){let o=t.name+"-"+r.priorityIndex,a=this._pointerCaptures.get(i.pointerId)||new Set;this._pointerCaptures.set(i.pointerId,a),s?(a.add(o),1===a.size&&this.eventSource&&this.eventSource.setPointerCapture(i,!0)):a.has(o)&&(a.delete(o),0===a.size&&(this._pointerCaptures.delete(i.pointerId),this.eventSource&&this.eventSource.setPointerCapture(i,!1)))}_garbageCollectRemovedHandlers(){this._handlers=this._handlers.filter(t=>!t.removed),this.updateDependencies()}_emitInputEventFromSource(t,r,i,s){this._emitInputEvent(0,t,r,i,s)}_emitInputEvent(t,r,i,s,o,a){let u={event:new w(r,i,void 0!==s?s:this._currentPropagation?this._currentPropagation.timestamp:performance.now(),a||this._activeKeyModifiers,void 0!==o&&o),priorityIndex:t};this._currentPropagation?this._currentPropagation.events.push(u):this._doNewPropagation(u)}_doNewPropagation(t){this._currentPropagation={events:new d.A,currentHandler:null,needsHandlerGarbageCollect:!1,timestamp:t.event.timestamp},this._currentPropagation.events.push(t),this._continuePropagation()}_continuePropagation(){this._paused=!1;let t=this._currentPropagation;if(t){for(;t.events.length>0;){let{event:r,priorityIndex:i}=t.events.pop(),s=r.data?.eventId;if(!(null!=s&&this._stoppedPropagationEventIds.has(s)))for(t.currentHandler=this._handlersPriority[i];t.currentHandler;){if(t.currentHandler.removed)t.needsHandlerGarbageCollect=!0;else{if(t.currentHandler.active&&!r.shouldStopPropagation()&&t.currentHandler.eventCallback?.(r),r.shouldStopPropagation()){null!=s&&this._stoppedPropagationEventIds.add(s);break}if(r.shouldPausePropagation(()=>this._continuePropagation()))return void this._pausePropagation({event:r,priorityIndex:t.currentHandler.priorityIndex+1})}t.currentHandler=this._handlersPriority[t.currentHandler.priorityIndex+1]}}t.needsHandlerGarbageCollect&&this._garbageCollectRemovedHandlers(),this.hasPendingInputs||this._stoppedPropagationEventIds.clear(),this._currentPropagation=null,this._updateDependenciesAfterPropagation&&this.updateDependencies()}}_pausePropagation(t){let r=new d.A;r.push(t);let i=this._currentPropagation;if(i){for(;i.events.length;)r.push(i.events.pop());i.events=r,i.currentHandler=null,this._paused=!0}}_compareHandlerPriority(t,r){if(t.handler.hasSideEffects!==r.handler.hasSideEffects)return t.handler.hasSideEffects?1:-1;if(t.groupPriority!==r.groupPriority)return t.groupPriority>r.groupPriority?-1:1;for(let i of t.handler.incomingEventMatches)for(let t of r.handler.incomingEventMatches){if(i.eventType!==t.eventType)continue;let r=i.keyModifiers.filter(r=>t.keyModifiers.includes(r));if(r.length===i.keyModifiers.length!=(r.length===t.keyModifiers.length))return i.keyModifiers.length>t.keyModifiers.length?-1:1}return t.priorityIndex>r.priorityIndex?-1:1}_sortHandlersPriority(t){let r=[];for(let i of t){let t=0;for(;t<r.length&&this._compareHandlerPriority(i,r[t])>=0;)t++;r.splice(t,0,i)}return r}get debug(){let t=t=>{let r=this._setPointerCapture;this._setPointerCapture=()=>{},t(),this._setPointerCapture=r};return{injectEvent:(r,i)=>{t(()=>this._onEventReceived(r,i))},disablePointerCapture:t}}};(0,o._)([(0,c.MZ)({readOnly:!0})],v.prototype,"hasPendingInputs",null),(0,o._)([(0,c.MZ)({constructOnly:!0})],v.prototype,"eventSource",void 0),(0,o._)([(0,c.MZ)({constructOnly:!0})],v.prototype,"recognizers",void 0),(0,o._)([(0,c.MZ)()],v.prototype,"_latestPointerType",void 0),(0,o._)([(0,c.MZ)()],v.prototype,"latestPointerType",null),(0,o._)([(0,c.MZ)()],v.prototype,"multiTouchActive",null),(0,o._)([(0,c.MZ)({readOnly:!0})],v.prototype,"latestPointerLocation",void 0),(0,o._)([(0,c.MZ)()],v.prototype,"_paused",void 0),(0,o._)([(0,c.MZ)({readOnly:!0})],v.prototype,"updating",null),v=(0,o._)([(0,p.$)("esri.views.input.InputManager")],v);class w{constructor(t,r,i,o,a){this.type=t,this.data=r,this.timestamp=i,this.modifiers=o,this.cancelable=a,this._propagationState=s.NONE,this._resumeCallback=null}stopPropagation(){this._propagationState|=s.STOPPED}shouldStopPropagation(){return!!(this._propagationState&s.STOPPED)}async(t){this._propagationState|=s.PAUSED;let r=(t,r)=>{this._propagationState&=~s.PAUSED;let i=this._resumeCallback;if(this._resumeCallback=null,i&&i(),r)throw t;return t};return("function"==typeof t?t():t).then(t=>r(t,!1),t=>r(t,!0))}shouldPausePropagation(t){return!!(this._propagationState&s.PAUSED)&&(this._resumeCallback=t,!0)}preventDefault(){this.data.native.preventDefault()}}!function(t){t[t.NONE=0]="NONE",t[t.STOPPED=1]="STOPPED",t[t.PAUSED=2]="PAUSED"}(s||(s={}));let b={ALWAYS:1,DEFAULT:0,TOOL:-1,WIDGET:-2,INTERNAL:-3};class M{}let S=M},83610:(t,r,i)=>{i.d(r,{DZ:()=>g,Ke:()=>m,Tj:()=>h,UT:()=>_,jJ:()=>p});var s=i(81856),o=i(28690),a=i(40941),u=i(92753),d=i(91838),c=i(12709);function p(t,r,i){return(0,u.Lx)(t.map((t,s)=>r.apply(i,[t,s])))}async function h(t,r,i){return(await (0,u.Lx)(t.map((t,s)=>r.apply(i,[t,s])))).map(t=>t.value)}function f(t){return{ok:!0,value:t}}function y(t){return{ok:!1,error:t}}async function m(t){if(null==t)return{ok:!1,error:Error("no promise provided")};try{return f(await t)}catch(t){return y(t)}}async function g(t){try{return f(await t)}catch(t){return(0,u.QP)(t),y(t)}}function _(t,r){return new v(t,r)}let v=class extends o.A{get value(){var t;return null!=(t=this._result)&&!0===t.ok?t.value:null}get error(){var t;return null!=(t=this._result)&&!1===t.ok?t.error:null}get finished(){return null!=this._result}constructor(t,r){super({}),this._result=null,this._abortHandle=null,this.abort=()=>{this._abortController=(0,a.DC)(this._abortController)},this.remove=this.abort,this._abortController=new AbortController;let{signal:i}=this._abortController;this.promise=t(i),this.promise.then(t=>{this._result=f(t),this._cleanup()},t=>{this._result=y(t),this._cleanup()}),this._abortHandle=(0,u.u7)(r,this.abort)}normalizeCtorArgs(){return{}}destroy(){this.abort()}_cleanup(){this._abortHandle=(0,a.xt)(this._abortHandle),this._abortController=null}};(0,s._)([(0,d.MZ)()],v.prototype,"value",null),(0,s._)([(0,d.MZ)()],v.prototype,"error",null),(0,s._)([(0,d.MZ)()],v.prototype,"finished",null),(0,s._)([(0,d.MZ)()],v.prototype,"promise",void 0),(0,s._)([(0,d.MZ)()],v.prototype,"_result",void 0),v=(0,s._)([(0,c.$)("esri.core.asyncUtils.ReactiveTask")],v)},84090:(t,r,i)=>{var s;i.d(r,{X:()=>s}),function(t){t[t.SAVE=0]="SAVE",t[t.SAVE_AS=1]="SAVE_AS"}(s||(s={}))},84227:(t,r,i)=>{var s;i.d(r,{M:()=>s}),function(t){t[t.ANIMATING=0]="ANIMATING",t[t.INTERACTING=1]="INTERACTING",t[t.IDLE=2]="IDLE"}(s||(s={}))},84278:(t,r,i)=>{i.d(r,{A:()=>c});var s=i(81856),o=i(92713),a=i(91838);i(57845),i(61939),i(33638);var u=i(12709);let d=class extends o.A{constructor(t){super(t),this.visible=!0}clone(){throw Error("Subclasses of Callout3D should implement their own clone method.")}};(0,s._)([(0,a.MZ)({type:["line"],constructOnly:!0,json:{read:!1,write:{ignoreOrigin:!0,isRequired:!0}}})],d.prototype,"type",void 0),(0,s._)([(0,a.MZ)({readOnly:!0})],d.prototype,"visible",void 0);let c=d=(0,s._)([(0,u.$)("esri.symbols.callouts.Callout3D")],d)},84451:(t,r,i)=>{i.d(r,{A:()=>f});var s=i(81856),o=i(71017),a=i(91838),u=i(86942);i(57845),i(33638);var d=i(12709),c=i(5741),p=i(36577);let h=class extends o.A.ClonableMixin(c.A){constructor(t){super(t),this.description=null,this.displayCount=null,this.displayType="list",this.orderByFields=null,this.relationshipId=null,this.title=null,this.type="relationship"}};(0,s._)([(0,a.MZ)({type:String,json:{write:!0}})],h.prototype,"description",void 0),(0,s._)([(0,a.MZ)({type:Number,json:{type:u.jz,write:!0}})],h.prototype,"displayCount",void 0),(0,s._)([(0,a.MZ)({type:["list"],json:{write:{isRequired:!0}}})],h.prototype,"displayType",void 0),(0,s._)([(0,a.MZ)({type:[p.A],json:{write:!0}})],h.prototype,"orderByFields",void 0),(0,s._)([(0,a.MZ)({type:Number,json:{type:u.jz,write:{isRequired:!0}}})],h.prototype,"relationshipId",void 0),(0,s._)([(0,a.MZ)({type:String,json:{write:!0}})],h.prototype,"title",void 0),(0,s._)([(0,a.MZ)({type:["relationship"],readOnly:!0,json:{read:!1,write:{isRequired:!0}}})],h.prototype,"type",void 0);let f=h=(0,s._)([(0,d.$)("esri.popup.content.RelationshipContent")],h)},84588:(t,r,i)=>{i.d(r,{Jt:()=>u,RP:()=>a,t2:()=>d});var s=i(30225);function o(t,r){let i="?"===t[t.length-1]?t.slice(0,-1):t;if(null!=r.getItemAt||Array.isArray(r)){let t=parseInt(i,10);if(!isNaN(t))return Array.isArray(r)?r[t]:r.at(t)}let o=(0,s.oY)(r);return(0,s.yh)(o,i)?o.get(i):r[i]}function a(t,r,i=0){return"string"!=typeof r||r.includes(".")?function t(r,i,s){if(null==r)return r;let a=o(i[s],r);return!a&&s<i.length-1?void 0:s===i.length-1?a:t(a,i,s+1)}(t,(0,s.AH)(r),i):o(r,t)}function u(t,r){return a(t,r)}function d(t,r){return void 0!==a(r,t)}},84627:(t,r,i)=>{i.d(r,{M:()=>y,R:()=>f});var s=i(31461),o=i(32391),a=i(61939),u=i(84588),d=i(44151),c=i(30225),p=i(6414);function h(t,r,i,c,p,h){if(!c?.write)return!1;let f=(0,u.Jt)(t,i);if(!p&&c.write.overridePolicy){let r=c.write.overridePolicy.call(t,f,i,h??void 0);void 0!==r&&(p=r)}if(p||(p=c.write),!p||!1===p.enabled||p.layerContainerTypes&&h?.layerContainerType&&!p.layerContainerTypes.includes(h.layerContainerType))return!1;if((null===f&&!p.allowNull&&!p.writerEnsuresNonNull||void 0===f)&&p.isRequired){let r=new o.A("web-document-write:property-required",`Missing value for required property '${i}' on '${t.declaredClass}'`,{propertyName:i,target:t});return r&&h?.messages?h.messages.push(r):r&&!h&&a.A.getLogger("esri.core.accessorSupport.write").error(r.name,r.message),!1}return!(void 0===f||null===f&&!p.allowNull&&!p.writerEnsuresNonNull||!p.alwaysWriteDefaults&&(!r.store.multipleOriginsSupported||r.store.originOf(i)===d.Gr.DEFAULTS)&&function(t,r,i,o,a){let u=o.default;if(void 0===u)return!1;if(null!=o.defaultEquals)return o.defaultEquals(a);if("function"==typeof u){if(Array.isArray(a)){let o=u.call(t,r,i??void 0);return(0,s.aI)(o,a)}return!1}return u===a}(t,i,h,c,f)||!p.ignoreOrigin&&h?.origin&&r.store.multipleOriginsSupported&&r.store.originOf(i)<(0,d.aB)(h.origin))}function f(t,r,i,s){let o=(0,c.oY)(t),a=o.metadata,u=(0,p.k4)(a[r],s);return!!u&&h(t,o,r,u,i,s)}function y(t,r,i){if(t&&"function"==typeof t.toJSON&&(!t.toJSON.isDefaultToJSON||!t.write))return(0,c.h1)(r,t.toJSON(i));let s=(0,c.oY)(t),o=s.metadata;for(let a in o){let f=(0,p.k4)(o[a],i);if(!h(t,s,a,f,void 0,i))continue;let y=(0,u.Jt)(t,a),m=function(t,r,i,s,o){let a={};return r.write?.writer?.call(t,s,a,i,o),a}(t,f,f.write&&"string"==typeof f.write.target?f.write.target:a,y,i);Object.keys(m).length>0&&(r=(0,c.h1)(r,m),i?.resources?.pendingOperations?.length&&i.resources.pendingOperations.push(Promise.all(i.resources.pendingOperations).then(()=>(0,c.h1)(r,m,()=>"replace-arrays"))),i?.writtenProperties&&i.writtenProperties.push({target:t,propName:a,oldOrigin:(0,d.in)(s.store.originOf(a)),newOrigin:i.origin}))}return r}},84766:(t,r,i)=>{i.d(r,{$9:()=>A,C:()=>a,HY:()=>S,Ie:()=>E,Jf:()=>f,Rj:()=>M,VL:()=>m,VY:()=>d,Wc:()=>_,aI:()=>C,cY:()=>x,fA:()=>u,fT:()=>h,gR:()=>T,gX:()=>v,ib:()=>w,qv:()=>R,tK:()=>p,uJ:()=>g,vQ:()=>y,vR:()=>b,vt:()=>o,w1:()=>c}),i(57845),i(20538);var s=i(61414);function o(t=O){return[t[0],t[1],t[2],t[3]]}function a(t,r){return t!==r&&(t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3]),t}function u(t,r,i,s,a=o()){return a[0]=t,a[1]=r,a[2]=i,a[3]=s,a}function d(t,r=o()){return r[0]=t.xmin,r[1]=t.ymin,r[2]=t.xmax,r[3]=t.ymax,r}function c(t,r,i=new s.A){return i.xmin=t[0],i.ymin=t[1],i.xmax=t[2],i.ymax=t[3],i.spatialReference=r,i}function p(t,r){r[0]<t[0]&&(t[0]=r[0]),r[0]>t[2]&&(t[2]=r[0]),r[1]<t[1]&&(t[1]=r[1]),r[1]>t[3]&&(t[3]=r[1])}function h(t,r,i){if(null!=r)if("length"in r)I(r)?(i[0]=Math.min(t[0],r[0]),i[1]=Math.min(t[1],r[1]),i[2]=Math.max(t[2],r[2]),i[3]=Math.max(t[3],r[3])):2!==r.length&&3!==r.length||(i[0]=Math.min(t[0],r[0]),i[1]=Math.min(t[1],r[1]),i[2]=Math.max(t[2],r[0]),i[3]=Math.max(t[3],r[1]));else switch(r.type){case"extent":i[0]=Math.min(t[0],r.xmin),i[1]=Math.min(t[1],r.ymin),i[2]=Math.max(t[2],r.xmax),i[3]=Math.max(t[3],r.ymax);break;case"point":i[0]=Math.min(t[0],r.x),i[1]=Math.min(t[1],r.y),i[2]=Math.max(t[2],r.x),i[3]=Math.max(t[3],r.y)}else a(i,t)}function f(t,r,i=t){let s=r.length,o=t[0],a=t[1],u=t[2],d=t[3];for(let t=0;t<s;t++){let i=r[t];o=Math.min(o,i[0]),a=Math.min(a,i[1]),u=Math.max(u,i[0]),d=Math.max(d,i[1])}return i[0]=o,i[1]=a,i[2]=u,i[3]=d,i}function y(t){for(let r=0;r<4;r++)if(!isFinite(t[r]))return!1;return!0}function m(t){return null==t||t[0]>=t[2]?0:t[2]-t[0]}function g(t){return null==t||t[1]>=t[3]?0:t[3]-t[1]}function _(t){return m(t)*g(t)}function v(t,r=[0,0]){return r[0]=(t[0]+t[2])/2,r[1]=(t[1]+t[3])/2,r}function w(t){let r=m(t),i=g(t);return Math.sqrt(r*r+i*i)}function b(t,r){return M(t,r.x,r.y)}function M(t,r,i){return r>=t[0]&&i>=t[1]&&r<=t[2]&&i<=t[3]}function S(t,r){return Math.max(r[0],t[0])<=Math.min(r[2],t[2])&&Math.max(r[1],t[1])<=Math.min(r[3],t[3])}function A(t,r,i){return Math.max(r[0],t[0])-i<=Math.min(r[2],t[2])&&Math.max(r[1],t[1])-i<=Math.min(r[3],t[3])}function T(t,r){return r[0]>=t[0]&&r[2]<=t[2]&&r[1]>=t[1]&&r[3]<=t[3]}function x(t,r,i,s=t){return s[0]=t[0]+r,s[1]=t[1]+i,s[2]=t[2]+r,s[3]=t[3]+i,s}function E(t){return t?a(t,R):o(R)}function I(t){return null!=t&&4===t.length}function C(t,r){return I(t)&&I(r)?t[0]===r[0]&&t[1]===r[1]&&t[2]===r[2]&&t[3]===r[3]:t===r}let R=[1/0,1/0,-1/0,-1/0],O=[0,0,0,0]},84984:(t,r,i)=>{i.d(r,{A:()=>m});var s,o=i(81856),a=i(70152),u=i(33715),d=i(91838),c=i(86942),p=i(33498),h=i(12709),f=i(68547);let y=s=class extends f.A{constructor(t){super(t),this.algorithm=null,this.fromColor=null,this.toColor=null,this.type="algorithmic"}clone(){return new s({fromColor:(0,u.o8)(this.fromColor),toColor:(0,u.o8)(this.toColor),algorithm:this.algorithm})}};(0,o._)([(0,p.e)({esriCIELabAlgorithm:"cie-lab",esriHSVAlgorithm:"hsv",esriLabLChAlgorithm:"lab-lch"})],y.prototype,"algorithm",void 0),(0,o._)([(0,d.MZ)({type:a.A,json:{type:[c.jz],write:!0}})],y.prototype,"fromColor",void 0),(0,o._)([(0,d.MZ)({type:a.A,json:{type:[c.jz],write:!0}})],y.prototype,"toColor",void 0),(0,o._)([(0,d.MZ)({type:["algorithmic"]})],y.prototype,"type",void 0);let m=y=s=(0,o._)([(0,h.$)("esri.rest.support.AlgorithmicColorRamp")],y)},85016:(t,r,i)=>{i.d(r,{A:()=>c});var s=i(81856),o=i(92713),a=i(91838);i(57845),i(61939),i(33638);var u=i(12709);let d=class extends o.A{constructor(t){super(t),this.moment=null,this.fullUpdate=!1,this.validateErrorsCreated=!1,this.exceededTransferLimit=null,this.serviceEdits=null,this.discoveredSubnetworks=null}};(0,s._)([(0,a.MZ)({type:Date,json:{type:Number,write:{writer:(t,r)=>{r.moment=t?t.getTime():null}}}})],d.prototype,"moment",void 0),(0,s._)([(0,a.MZ)({type:Boolean,json:{write:!0}})],d.prototype,"fullUpdate",void 0),(0,s._)([(0,a.MZ)({type:Boolean,json:{write:!0}})],d.prototype,"validateErrorsCreated",void 0),(0,s._)([(0,a.MZ)({type:Boolean,json:{write:!0}})],d.prototype,"exceededTransferLimit",void 0),(0,s._)([(0,a.MZ)({type:[Object],json:{write:!0}})],d.prototype,"serviceEdits",void 0),(0,s._)([(0,a.MZ)({type:[Object],json:{write:!0}})],d.prototype,"discoveredSubnetworks",void 0);let c=d=(0,s._)([(0,u.$)("esri.rest.networks.support.ValidateNetworkTopologyResult")],d)},85225:(t,r,i)=>{i.d(r,{A:()=>h});var s,o=i(81856),a=i(92713),u=i(91838);i(57845),i(61939),i(33638);var d=i(12709),c=i(37211);let p=s=class extends a.A{constructor(t){super(t),this.screenLength=0,this.minWorldLength=0,this.maxWorldLength=null}clone(){return new s({screenLength:this.screenLength,minWorldLength:this.minWorldLength,maxWorldLength:this.maxWorldLength})}};(0,o._)([(0,u.MZ)({...c.p,json:{write:{isRequired:!0}}})],p.prototype,"screenLength",void 0),(0,o._)([(0,u.MZ)({type:Number,nonNullable:!0,json:{write:!0,default:0}})],p.prototype,"minWorldLength",void 0),(0,o._)([(0,u.MZ)({type:Number,json:{write:!0}})],p.prototype,"maxWorldLength",void 0);let h=p=s=(0,o._)([(0,d.$)("esri.symbols.support.Symbol3DVerticalOffset")],p)},85908:(t,r,i)=>{i.d(r,{A:()=>m});var s,o,a=i(81856),u=i(91838);i(57845),i(61939),i(33638);var d=i(12709),c=i(66377),p=i(92713);let h=s=class extends p.A{constructor(t){super(t),this.linkURL=null,this.sourceURL=null}clone(){return new s({linkURL:this.linkURL,sourceURL:this.sourceURL})}};(0,a._)([(0,u.MZ)({type:String,json:{write:!0}})],h.prototype,"linkURL",void 0),(0,a._)([(0,u.MZ)({type:String,json:{write:{isRequired:!0}}})],h.prototype,"sourceURL",void 0);let f=h=s=(0,a._)([(0,d.$)("esri.popup.content.support.ImageMediaInfoValue")],h),y=o=class extends c.A{constructor(t){super(t),this.refreshInterval=0,this.type="image",this.value=void 0}clone(){return new o({altText:this.altText,title:this.title,caption:this.caption,refreshInterval:this.refreshInterval,value:this.value?.clone()})}};(0,a._)([(0,u.MZ)({type:Number,json:{write:!0}})],y.prototype,"refreshInterval",void 0),(0,a._)([(0,u.MZ)({type:["image"],readOnly:!0,json:{read:!1,write:{isRequired:!0}}})],y.prototype,"type",void 0),(0,a._)([(0,u.MZ)({type:f,json:{write:{isRequired:!0}}})],y.prototype,"value",void 0);let m=y=o=(0,a._)([(0,d.$)("esri.popup.content.ImageMediaInfo")],y)},86075:(t,r,i)=>{i.d(r,{d:()=>o});let s=[];function o(t){s.push(t),1===s.length&&queueMicrotask(()=>{let t=s.slice();for(let r of(s.length=0,t))r()})}},86099:(t,r,i)=>{i.d(r,{A:()=>O});var s,o=i(81856),a=i(30781),u=i(92713),d=i(33715),c=i(91838),p=i(16352),h=i(33498),f=i(12709),y=i(7780),m=i(86942),g=i(39960),_=i(91463),v=i(31789),w=i(59879),b=i(32523),M=i(71017);i(57845),i(61939),i(33638);let S=class extends M.A.ClonableMixin(u.A){constructor(t){super(t),this.onFields=null,this.operator=null,this.searchTerm=null,this.searchType=null}};(0,o._)([(0,c.MZ)({type:[String],json:{write:{enabled:!0,overridePolicy(){return{enabled:null!=this.onFields&&this.onFields.length>0}}}}})],S.prototype,"onFields",void 0),(0,o._)([(0,c.MZ)({type:String,json:{write:!0}})],S.prototype,"operator",void 0),(0,o._)([(0,c.MZ)({type:String,json:{write:!0}})],S.prototype,"searchTerm",void 0),(0,o._)([(0,c.MZ)({type:String,json:{write:!0}})],S.prototype,"searchType",void 0);let A=S=(0,o._)([(0,f.$)("esri.rest.support.FullTextSearch")],S);var T=i(34361),x=i(46179),E=i(25999),I=i(47840);let C=new a.J({esriSRUnit_Meter:"meters",esriSRUnit_Kilometer:"kilometers",esriSRUnit_Foot:"feet",esriSRUnit_StatuteMile:"miles",esriSRUnit_NauticalMile:"nautical-miles",esriSRUnit_USNauticalMile:"us-nautical-miles"}),R=s=class extends u.A{static from(t){return(0,m.PZ)(s,t)}constructor(t){super(t),this.aggregateIds=null,this.cacheHint=void 0,this.compactGeometryEnabled=!1,this.datumTransformation=null,this.defaultSpatialReferenceEnabled=!1,this.distance=void 0,this.dynamicDataSource=void 0,this.formatOf3DObjects=null,this.fullText=null,this.gdbVersion=null,this.geometry=null,this.geometryPrecision=void 0,this.groupByFieldsForStatistics=null,this.having=null,this.historicMoment=null,this.maxAllowableOffset=void 0,this.maxRecordCountFactor=1,this.multipatchOption=null,this.num=void 0,this.objectIds=null,this.orderByFields=null,this.outFields=null,this.outSpatialReference=null,this.outStatistics=null,this.parameterValues=null,this.pixelSize=null,this.quantizationParameters=null,this.rangeValues=null,this.relationParameter=null,this.resultType=null,this.returnCentroid=!1,this.returnDistinctValues=!1,this.returnExceededLimitFeatures=!0,this.returnGeometry=!1,this.returnQueryGeometry=!1,this.returnM=void 0,this.returnZ=void 0,this.returnTrueCurves=void 0,this.sourceSpatialReference=null,this.spatialRelationship="intersects",this.start=void 0,this.sqlFormat=null,this.text=null,this.timeExtent=null,this.timeReferenceUnknownClient=!1,this.units=null,this.where=null}castDatumTransformation(t){return"number"==typeof t||"object"==typeof t?t:null}writeHistoricMoment(t,r){r.historicMoment=t&&t.getTime()}writeParameterValues(t,r){if(t){let i={};for(let r in t){let s=t[r];Array.isArray(s)?i[r]=s.map(t=>t instanceof Date?t.getTime():t):s instanceof Date?i[r]=s.getTime():i[r]=s}r.parameterValues=i}}writeStart(t,r){r.resultOffset=this.start,r.resultRecordCount=this.num||10,r.where="1=1"}writeWhere(t,r){r.where=t||"1=1"}clone(){return new s((0,d.o8)({aggregateIds:this.aggregateIds,cacheHint:this.cacheHint,compactGeometryEnabled:this.compactGeometryEnabled,datumTransformation:this.datumTransformation,defaultSpatialReferenceEnabled:this.defaultSpatialReferenceEnabled,distance:this.distance,fullText:this.fullText,formatOf3DObjects:this.formatOf3DObjects,gdbVersion:this.gdbVersion,geometry:this.geometry,geometryPrecision:this.geometryPrecision,groupByFieldsForStatistics:this.groupByFieldsForStatistics,having:this.having,historicMoment:null!=this.historicMoment?new Date(this.historicMoment.getTime()):null,maxAllowableOffset:this.maxAllowableOffset,maxRecordCountFactor:this.maxRecordCountFactor,multipatchOption:this.multipatchOption,num:this.num,objectIds:this.objectIds,orderByFields:this.orderByFields,outFields:this.outFields,outSpatialReference:this.outSpatialReference,outStatistics:this.outStatistics,parameterValues:this.parameterValues,pixelSize:this.pixelSize,quantizationParameters:this.quantizationParameters,rangeValues:this.rangeValues,relationParameter:this.relationParameter,resultType:this.resultType,returnDistinctValues:this.returnDistinctValues,returnGeometry:this.returnGeometry,returnCentroid:this.returnCentroid,returnExceededLimitFeatures:this.returnExceededLimitFeatures,returnQueryGeometry:this.returnQueryGeometry,returnM:this.returnM,returnZ:this.returnZ,returnTrueCurves:this.returnTrueCurves,dynamicDataSource:this.dynamicDataSource,sourceSpatialReference:this.sourceSpatialReference,spatialRelationship:this.spatialRelationship,start:this.start,sqlFormat:this.sqlFormat,text:this.text,timeExtent:this.timeExtent,timeReferenceUnknownClient:this.timeReferenceUnknownClient,units:this.units,where:this.where}))}};R.MAX_MAX_RECORD_COUNT_FACTOR=5,(0,o._)([(0,c.MZ)({json:{write:!0}})],R.prototype,"aggregateIds",void 0),(0,o._)([(0,c.MZ)({type:Boolean,json:{write:!0}})],R.prototype,"cacheHint",void 0),(0,o._)([(0,c.MZ)({type:Boolean,json:{default:!1,write:!0}})],R.prototype,"compactGeometryEnabled",void 0),(0,o._)([(0,c.MZ)({json:{write:!0}})],R.prototype,"datumTransformation",void 0),(0,o._)([(0,p.w)("datumTransformation")],R.prototype,"castDatumTransformation",null),(0,o._)([(0,c.MZ)({type:Boolean,json:{default:!1,write:!0}})],R.prototype,"defaultSpatialReferenceEnabled",void 0),(0,o._)([(0,c.MZ)({type:Number,json:{write:!0}})],R.prototype,"distance",void 0),(0,o._)([(0,c.MZ)({type:b.L,json:{write:!0}})],R.prototype,"dynamicDataSource",void 0),(0,o._)([(0,c.MZ)({type:String,json:{write:!0}})],R.prototype,"formatOf3DObjects",void 0),(0,o._)([(0,c.MZ)({type:[A],json:{write:{enabled:!0,overridePolicy(){return{enabled:null!=this.fullText&&this.fullText.length>0}}}}})],R.prototype,"fullText",void 0),(0,o._)([(0,c.MZ)({type:String,json:{write:!0}})],R.prototype,"gdbVersion",void 0),(0,o._)([(0,c.MZ)({types:w.yR,json:{read:v.rS,write:!0}})],R.prototype,"geometry",void 0),(0,o._)([(0,c.MZ)({type:Number,json:{write:!0}})],R.prototype,"geometryPrecision",void 0),(0,o._)([(0,c.MZ)({type:[String],json:{write:!0}})],R.prototype,"groupByFieldsForStatistics",void 0),(0,o._)([(0,c.MZ)({type:String,json:{write:!0}})],R.prototype,"having",void 0),(0,o._)([(0,c.MZ)({type:Date})],R.prototype,"historicMoment",void 0),(0,o._)([(0,y.K)("historicMoment")],R.prototype,"writeHistoricMoment",null),(0,o._)([(0,c.MZ)({type:Number,json:{write:!0}})],R.prototype,"maxAllowableOffset",void 0),(0,o._)([(0,c.MZ)({type:Number,cast:t=>t<1?1:t>R.MAX_MAX_RECORD_COUNT_FACTOR?R.MAX_MAX_RECORD_COUNT_FACTOR:t,json:{write:{overridePolicy:t=>({enabled:t>1})}}})],R.prototype,"maxRecordCountFactor",void 0),(0,o._)([(0,c.MZ)({type:["xyFootprint"],json:{write:!0}})],R.prototype,"multipatchOption",void 0),(0,o._)([(0,c.MZ)({type:Number,json:{read:{source:"resultRecordCount"}}})],R.prototype,"num",void 0),(0,o._)([(0,c.MZ)({json:{write:!0}})],R.prototype,"objectIds",void 0),(0,o._)([(0,c.MZ)({type:[String],json:{write:!0}})],R.prototype,"orderByFields",void 0),(0,o._)([(0,c.MZ)({type:[String],json:{write:!0}})],R.prototype,"outFields",void 0),(0,o._)([(0,c.MZ)({type:_.A,json:{name:"outSR",write:!0}})],R.prototype,"outSpatialReference",void 0),(0,o._)([(0,c.MZ)({type:[E.A],json:{write:{enabled:!0,overridePolicy(){return{enabled:null!=this.outStatistics&&this.outStatistics.length>0}}}}})],R.prototype,"outStatistics",void 0),(0,o._)([(0,c.MZ)({json:{write:!0}})],R.prototype,"parameterValues",void 0),(0,o._)([(0,y.K)("parameterValues")],R.prototype,"writeParameterValues",null),(0,o._)([(0,c.MZ)({type:g.A,json:{write:!0}})],R.prototype,"pixelSize",void 0),(0,o._)([(0,c.MZ)({type:T.A,json:{write:!0}})],R.prototype,"quantizationParameters",void 0),(0,o._)([(0,c.MZ)({type:[Object],json:{write:!0}})],R.prototype,"rangeValues",void 0),(0,o._)([(0,c.MZ)({type:String,json:{read:{source:"relationParam"},write:{target:"relationParam",overridePolicy(){return{enabled:"relation"===this.spatialRelationship}}}}})],R.prototype,"relationParameter",void 0),(0,o._)([(0,c.MZ)({type:String,json:{write:!0}})],R.prototype,"resultType",void 0),(0,o._)([(0,c.MZ)({type:Boolean,json:{default:!1,write:!0}})],R.prototype,"returnCentroid",void 0),(0,o._)([(0,c.MZ)({type:Boolean,json:{default:!1,write:!0}})],R.prototype,"returnDistinctValues",void 0),(0,o._)([(0,c.MZ)({type:Boolean,json:{default:!0,write:!0}})],R.prototype,"returnExceededLimitFeatures",void 0),(0,o._)([(0,c.MZ)({type:Boolean,json:{write:!0}})],R.prototype,"returnGeometry",void 0),(0,o._)([(0,c.MZ)({type:Boolean,json:{default:!1,write:!0}})],R.prototype,"returnQueryGeometry",void 0),(0,o._)([(0,c.MZ)({type:Boolean,json:{default:!1,write:!0}})],R.prototype,"returnM",void 0),(0,o._)([(0,c.MZ)({type:Boolean,json:{write:{overridePolicy:t=>({enabled:t})}}})],R.prototype,"returnZ",void 0),(0,o._)([(0,c.MZ)({type:Boolean,json:{write:!0}})],R.prototype,"returnTrueCurves",void 0),(0,o._)([(0,c.MZ)({type:_.A,json:{write:!0}})],R.prototype,"sourceSpatialReference",void 0),(0,o._)([(0,h.e)(x.x,{ignoreUnknown:!1,name:"spatialRel"})],R.prototype,"spatialRelationship",void 0),(0,o._)([(0,c.MZ)({type:Number,json:{read:{source:"resultOffset"}}})],R.prototype,"start",void 0),(0,o._)([(0,y.K)("start"),(0,y.K)("num")],R.prototype,"writeStart",null),(0,o._)([(0,c.MZ)({type:String,json:{write:!0}})],R.prototype,"sqlFormat",void 0),(0,o._)([(0,c.MZ)({type:String,json:{write:!0}})],R.prototype,"text",void 0),(0,o._)([(0,c.MZ)({type:I.A,json:{write:!0}})],R.prototype,"timeExtent",void 0),(0,o._)([(0,c.MZ)({type:Boolean,json:{default:!1,write:!0}})],R.prototype,"timeReferenceUnknownClient",void 0),(0,o._)([(0,h.e)(C,{ignoreUnknown:!1}),(0,c.MZ)({json:{write:{overridePolicy(t){return{enabled:!!t&&null!=this.distance}}}}})],R.prototype,"units",void 0),(0,o._)([(0,c.MZ)({type:String,json:{write:{overridePolicy(t){return{enabled:null!=t||null!=this.start&&this.start>0}}}}})],R.prototype,"where",void 0),(0,o._)([(0,y.K)("where")],R.prototype,"writeWhere",null);let O=R=s=(0,o._)([(0,f.$)("esri.rest.support.Query")],R)},86277:(t,r,i)=>{i.d(r,{Dl:()=>u,jV:()=>a,lF:()=>function t(r,i,s){let o={};for(let a in r){if("declaredClass"===a)continue;let u=r[a];if(null!=u&&"function"!=typeof u)if(Array.isArray(u))o[a]=u.map(r=>t(r));else if("object"==typeof u)if(u.toJSON){let t=u.toJSON(s?.[a]);o[a]=i?t:JSON.stringify(t)}else o[a]=i?u:JSON.stringify(u);else o[a]=u}return o}}),i(48767),i(57664);var s=i(33715),o=i(90525);function a(t,r){return r?{...r,query:{...t??{},...r.query}}:{query:t}}function u(t){return"string"==typeof t?(0,o.An)(t):(0,s.o8)(t)}i(75683)},86289:(t,r,i)=>{i.d(r,{A:()=>h});var s,o=i(81856),a=i(91838);i(57845),i(61939),i(33638);var u=i(12709),d=i(18106),c=i(37261);let p=s=class extends d.A{constructor(t){super(t),this.type="bar-chart"}clone(){return new s({altText:this.altText,title:this.title,caption:this.caption,value:this.value?.clone()})}};(0,o._)([(0,a.MZ)({type:["bar-chart"],readOnly:!0,json:{type:["barchart"],read:!1,write:{writer:c.U.write,isRequired:!0}}})],p.prototype,"type",void 0);let h=p=s=(0,o._)([(0,u.$)("esri.popup.content.BarChartMediaInfo")],p)},86578:(t,r,i)=>{i.d(r,{L:()=>a});var s=i(56911),o=i(70983);function a(t,r,i,s,a,d){return u[0]=t,u[1]=r,u[2]=i,(0,o.projectBuffer)(u,s,0,a,d,0)}let u=(0,s.vt)()},86629:(t,r,i)=>{i.d(r,{A:()=>p});var s=i(81856),o=i(92713),a=i(91838);i(57845),i(61939),i(33638);var u=i(12709),d=i(7780);let c=class extends o.A{constructor(t){super(t),this.enabled=!0,this.type=null,this.ignoreDrivers=!1}writeEnabled(t,r,i){t||(r[i]=t)}};(0,s._)([(0,a.MZ)({type:Boolean,json:{read:{source:"enable"},write:{target:"enable"}}})],c.prototype,"enabled",void 0),(0,s._)([(0,d.K)("enabled")],c.prototype,"writeEnabled",null),(0,s._)([(0,a.MZ)({type:["icon","object","line","path","fill","water","extrude","text"],readOnly:!0,json:{write:{isRequired:!0}}})],c.prototype,"type",void 0);let p=c=(0,s._)([(0,u.$)("esri.symbols.Symbol3DLayer")],c)},86790:(t,r,i)=>{i.d(r,{A:()=>c});var s=i(81856),o=i(92713),a=i(91838);i(57845),i(61939),i(33638);var u=i(12709);let d=class extends o.A{constructor(t){super(t),this.conditionBarriers=[],this.outputConditions=[],this.functions=[],this.functionBarriers=[],this.traversabilityScope=null,this.shortestPathNetworkAttributeName=null,this.includeBarriers=null,this.validateConsistency=null,this.ignoreBarriersAtStartingPoints=null}};(0,s._)([(0,a.MZ)({type:[Object],json:{write:!0}})],d.prototype,"conditionBarriers",void 0),(0,s._)([(0,a.MZ)({type:[Object],json:{write:!0}})],d.prototype,"outputConditions",void 0),(0,s._)([(0,a.MZ)({type:[Object],json:{write:!0}})],d.prototype,"functions",void 0),(0,s._)([(0,a.MZ)({type:[Object],json:{write:!0}})],d.prototype,"functionBarriers",void 0),(0,s._)([(0,a.MZ)({type:["junctions","edges","junctionsAndEdges"],json:{write:!0}})],d.prototype,"traversabilityScope",void 0),(0,s._)([(0,a.MZ)({type:String,json:{write:!0}})],d.prototype,"shortestPathNetworkAttributeName",void 0),(0,s._)([(0,a.MZ)({type:Boolean,json:{write:!0}})],d.prototype,"includeBarriers",void 0),(0,s._)([(0,a.MZ)({type:Boolean,json:{write:!0}})],d.prototype,"validateConsistency",void 0),(0,s._)([(0,a.MZ)({type:Boolean,json:{write:!0}})],d.prototype,"ignoreBarriersAtStartingPoints",void 0);let c=d=(0,s._)([(0,u.$)("esri.networks.support.TraceConfiguration")],d)},86903:(t,r,i)=>{i.d(r,{$U:()=>u,Qw:()=>d,Sh:()=>o,rE:()=>a});let s=new Map;function o(){s.clear()}function a(t){return s.get(t)}function u(t,r){s.set(t,r)}function d(t){s.delete(t)}},86926:(t,r,i)=>{i.d(r,{A:()=>g});var s=i(81856),o=i(30781),a=i(92713),u=i(61939),d=i(91838),c=i(16352),p=i(12709),h=i(86942),f=i(27675);let y=new o.J({colorInfo:"color",transparencyInfo:"opacity",rotationInfo:"rotation",sizeInfo:"size"}),m=class extends a.A{constructor(t){super(t),this.index=null,this.type=null,this.field=null,this.valueExpression=null,this.valueExpressionTitle=null,this.legendOptions=null}castField(t){return null==t?t:"function"==typeof t?(u.A.getLogger(this).error(".field: field must be a string value"),null):(0,h.GX)(t)}get arcadeRequired(){return!!this.valueExpression}clone(){}getAttributeHash(){return`${this.type}-${this.field}-${this.valueExpression}`}};(0,s._)([(0,d.MZ)()],m.prototype,"index",void 0),(0,s._)([(0,d.MZ)({type:y.apiValues,readOnly:!0,json:{read:y.read,write:{writer:y.write,isRequired:!0}}})],m.prototype,"type",void 0),(0,s._)([(0,d.MZ)({type:String,json:{write:!0}})],m.prototype,"field",void 0),(0,s._)([(0,c.w)("field")],m.prototype,"castField",null),(0,s._)([(0,d.MZ)({type:String,json:{write:!0}})],m.prototype,"valueExpression",void 0),(0,s._)([(0,d.MZ)({type:String,json:{write:!0}})],m.prototype,"valueExpressionTitle",void 0),(0,s._)([(0,d.MZ)({readOnly:!0})],m.prototype,"arcadeRequired",null),(0,s._)([(0,d.MZ)({type:f.A,json:{write:!0}})],m.prototype,"legendOptions",void 0);let g=m=(0,s._)([(0,p.$)("esri.renderers.visualVariables.VisualVariable")],m)},86942:(t,r,i)=>{i.d(r,{EK:()=>C,GB:()=>p,GX:()=>c,MB:()=>function t(r,i){if(2==arguments.length)return t(r).call(null,i);let s=new Set,o=r.filter(t=>"function"!=typeof t),u=r.filter(t=>"function"==typeof t);for(let t of r)"string"!=typeof t&&"number"!=typeof t||s.add(t);let d=null,c=null;return(t,r)=>{if(null==t)return t;let i=typeof t,p="string"===i||"number"===i;return p&&(s.has(t)||u.some(t=>"string"===i&&t===String||"number"===i&&t===Number))||"object"===i&&u.some(r=>!g(t,r))?t:(p&&o.length?(d||(d=o.map(t=>"string"==typeof t?`'${t}'`:`${t}`).join(", ")),a().error("Accessor#set",`'${t}' is not a valid value for this property, only the following values are valid: ${d}`)):"object"==typeof t&&u.length?(c||(c=u.map(t=>M(t)).join(", ")),a().error("Accessor#set",`'${t}' is not a valid value for this property, value must be one of ${c}`)):a().error("Accessor#set",`'${t}' is not a valid value for this property`),r&&(r.valid=!1),null)}},Nd:()=>function t(r){switch(r.type){case"native":return A(r.value);case"array":return T(t(r.value));case"one-of":var i;let s;return i=r,s=null,(t,r)=>!function t(r,i){if(null==r)return!0;switch(i.type){case"native":switch(i.value){case Number:case R:return"number"==typeof r;case Boolean:return"boolean"==typeof r;case String:return"string"==typeof r;case O:return null===r}return r instanceof i.value;case"array":return!!Array.isArray(r)&&!r.some(r=>!t(r,i.value));case"one-of":return i.values.some(i=>t(r,i))}}(t,i)?(null==s&&(s=function t(r){switch(r.type){case"native":switch(r.value){case Number:return"number";case String:return"string";case Boolean:return"boolean";case R:return"integer";case Date:return"date";case O:return"null";default:return M(r.value)}case"array":return`array of ${t(r.value)}`;case"one-of":{let i=r.values.map(r=>t(r));return`one of ${i.slice(0,-1)} or ${i[i.length-1]}`}}return"unknown"}(i)),a().error("Accessor#set",`Invalid property value, value needs to be of type ${s}`),r&&(r.valid=!1),null):t;default:return null}},PZ:()=>b,Qp:()=>y,Uv:()=>O,Vr:()=>h,Zu:()=>N,_e:()=>E,aq:()=>function t(r,i){if(2==arguments.length)return t(r).call(null,i);let s={},o=[],u=[];for(let t in r.typeMap){let i=r.typeMap[t];s[t]=A(i),o.push(M(i)),u.push(t)}let d=()=>`'${o.join("', '")}'`,c=()=>`'${u.join("', '")}'`,p="string"==typeof r.key?t=>t[r.key]:r.key;return t=>{if(r.base&&!g(r.base,t)||null==t)return t;let i=p(t)||r.defaultKeyValue,o=s[i];if(!o)return a().error("Accessor#set",`Invalid property value, value needs to be one of ${d()}, or a plain object that can autocast (having .type = ${c()})`),null;if(!g(r.typeMap[i],t))return t;if("string"==typeof r.key&&!m(t)){let i={};for(let s in t)s!==r.key&&(i[s]=t[s]);return o(i)}return o(t)}},dp:()=>A,e6:()=>I,eC:()=>x,gK:()=>P,jz:()=>R,wB:()=>T}),i(57845);var s=i(61939),o=i(90304);let a=()=>s.A.getLogger("esri.core.accessorSupport.ensureTypes");function u(t){return null==t?t:new Date(t)}function d(t){return null==t?t:!!t}function c(t){return null==t?t:t.toString()}function p(t,r=0){return null==t?t:isNaN(t=parseFloat(t))?r:t}function h(t){return null==t?t:Math.round(parseFloat(t))}function f(t){return null}function y(t,r){return i=>{let s=t(i);return null!=r.step&&(s=Math.round(s/r.step)*r.step),null!=r.min&&(s=Math.max(r.min,s)),null!=r.max&&(s=Math.min(r.max,s)),s}}function m(t){return t?.constructor&&void 0!==t.constructor.__accessorMetadata__}function g(t,r){return null!=r&&t&&!(r instanceof t)}function _(t){return t&&"isCollection"in t}function v(t){return t?.Type?"function"==typeof t.Type?t.Type:t.Type.base:null}function w(t,r){return!!m(r)&&(a().error("Accessor#set","Assigning an instance of '"+(r.declaredClass||"unknown")+"' which is not a subclass of '"+M(t)+"'"),!0)}function b(t,r){return null==r?r:_(t)?function(t,r){if(!r?.constructor||!_(r.constructor))return w(t,r)?r:new t(r);let i=v(t.prototype.itemType),s=v(r.constructor.prototype.itemType);return i?s?i===s?r:i.prototype.isPrototypeOf(s.prototype)?new t(r):(w(t,r),r):new t(r):r}(t,r):g(t,r)?w(t,r)?r:new t(r):r}function M(t){return t?.prototype?.declaredClass||"unknown"}let S=new WeakMap;function A(t,r){let i=function(t){switch(t){case Number:return t=>p(t);case R:return h;case Boolean:return d;case String:return c;case Date:return u;case O:return f;default:return(0,o.tE)(S,t,()=>b.bind(null,t))}}(t);return 1==arguments.length?i:i(r)}function T(t,r,i){return 1==arguments.length?T.bind(null,t):r?Array.isArray(r)?r.map(r=>t(r,i)):[t(r,i)]:r}function x(t,r){return 1==arguments.length?T(r=>A(t,r)):T(r=>A(t,r),r)}function E(t,r,i){if(2==arguments.length)return i=>E(t,r,i);if(!i)return i;i=function t(r,i,s){return 0!==i&&Array.isArray(s)?s.map(s=>t(r,i-1,s)):r(s)}(t,r,i);let s=r,o=i;for(;s>0&&Array.isArray(o);)s--,o=o[0];if(void 0!==o)for(let t=0;t<s;t++)i=[i];return i}function I(t,r,i){return 2==arguments.length?E(r=>A(t,r),r):E(r=>A(t,r),r,i)}function C(t){return!!Array.isArray(t)&&!t.some(r=>{let i=typeof r;return!("string"===i||"number"===i||"function"===i&&t.length>1)})}class R{}class O{}let P={native:t=>({type:"native",value:t}),array:t=>({type:"array",value:t}),oneOf:t=>({type:"one-of",values:t})};function N(t){if(!t||!("type"in t))return!1;switch(t.type){case"native":case"array":case"one-of":return!0}return!1}},87085:(t,r,i)=>{i.d(r,{A:()=>y});var s,o=i(81856),a=i(32391),u=i(92713),d=i(91838),c=i(86942);i(57845),i(33638);var p=i(12709),h=i(78616);let f=s=class extends u.A{constructor(t){super(t),this.access=null,this.created=null,this.description=null,this.id=null,this.isInvitationOnly=!1,this.modified=null,this.owner=null,this.portal=null,this.snippet=null,this.sortField=null,this.sortOrder=null,this.sourceJSON=null,this.tags=null,this.title=null}get thumbnailUrl(){let t=this.url,r=this.thumbnail;return t&&r&&this.portal?this.portal?.normalizeUrl(`${t}/info/${r}?f=json`):null}get url(){let t=this.portal?.restUrl;return t?t+"/community/groups/"+this.id:null}fetchCategorySchema(t){return this.portal.request(this.url+"/categorySchema",t).then(r=>{let i=r.categorySchema||[];return i.some(t=>"contentCategorySetsGroupQuery.LivingAtlas"===t.source)?this._fetchCategorySchemaSet("LivingAtlas",t):i})}fetchMembers(t){return this.portal.request(this.url+"/users",t)}getThumbnailUrl(t){let r=this.thumbnailUrl;return r&&t&&(r+=`&w=${t}`),r}toJSON(){throw new a.A("internal:not-yet-implemented","PortalGroup.toJSON is not yet implemented")}static fromJSON(t){if(!t)return null;if(t.declaredClass)throw Error("JSON object is already hydrated");let r=new s({sourceJSON:t});return r.read(t),r}queryItems(t,r){let i=(0,c.dp)(h.A,t),s=this.portal;return parseFloat(s.currentVersion)>5?(i=i||new h.A,s.queryPortal(`/content/groups/${this.id}/search`,i,"PortalItem",r)):((i=i?i.clone():new h.A).query="group:"+this.id+(i.query?" "+i.query:""),s.queryItems(i,r))}_fetchCategorySchemaSet(t,r){let i=this.portal;return i.fetchSelf(i.authMode,!0,r).then(t=>{let s=t.contentCategorySetsGroupQuery;if(s){let t=new h.A({disableExtraQuery:!0,num:1,query:s});return i.queryGroups(t,r)}throw new a.A("portal-group:fetchCategorySchema","contentCategorySetsGroupQuery value not found")}).then(i=>{if(i.total){let s=i.results[0],o=new h.A({num:1,query:`typekeywords:"${t}"`});return s.queryItems(o,r)}throw new a.A("portal-group:fetchCategorySchema","contentCategorySetsGroupQuery group not found")}).then(t=>t.total?t.results[0].fetchData("json",r).then(t=>{let r=t?.categorySchema;return r?.length?r:[]}):[])}};(0,o._)([(0,d.MZ)()],f.prototype,"access",void 0),(0,o._)([(0,d.MZ)({type:Date})],f.prototype,"created",void 0),(0,o._)([(0,d.MZ)()],f.prototype,"description",void 0),(0,o._)([(0,d.MZ)()],f.prototype,"id",void 0),(0,o._)([(0,d.MZ)()],f.prototype,"isInvitationOnly",void 0),(0,o._)([(0,d.MZ)({type:Date})],f.prototype,"modified",void 0),(0,o._)([(0,d.MZ)()],f.prototype,"owner",void 0),(0,o._)([(0,d.MZ)()],f.prototype,"portal",void 0),(0,o._)([(0,d.MZ)()],f.prototype,"snippet",void 0),(0,o._)([(0,d.MZ)()],f.prototype,"sortField",void 0),(0,o._)([(0,d.MZ)()],f.prototype,"sortOrder",void 0),(0,o._)([(0,d.MZ)()],f.prototype,"sourceJSON",void 0),(0,o._)([(0,d.MZ)()],f.prototype,"tags",void 0),(0,o._)([(0,d.MZ)()],f.prototype,"thumbnail",void 0),(0,o._)([(0,d.MZ)({readOnly:!0})],f.prototype,"thumbnailUrl",null),(0,o._)([(0,d.MZ)()],f.prototype,"title",void 0),(0,o._)([(0,d.MZ)({readOnly:!0})],f.prototype,"url",null);let y=f=s=(0,o._)([(0,p.$)("esri.portal.PortalGroup")],f)},87155:(t,r,i)=>{i.d(r,{g:()=>A});var s=i(32391);i(57845);var o=i(61939),a=i(40941),u=i(92753),d=i(22303),c=i(53701),p=i(93446),h=i(87816),f=i(15494);let y=()=>o.A.getLogger("esri/views/webgl/textureUtils");function m(t){(null!=t.width&&t.width<0||null!=t.height&&t.height<0||null!=t.depth&&t.depth<0)&&y().error("Negative dimension parameters are not allowed!")}function g(t){return null!=t&&"type"in t&&"compressed"===t.type}function _(t){return null!=t&&!g(t)&&!(null!=t&&"byteLength"in t)}function v(t){return t===p.Ap.TEXTURE_3D||t===p.Ap.TEXTURE_2D_ARRAY}function w(t,r,i,s=1){let o=Math.max(r,i);return t===p.Ap.TEXTURE_3D&&(o=Math.max(o,s)),Math.floor(Math.log2(o))+1}function b(t){if(null!=t.internalFormat)return t.internalFormat===p.Ab.DEPTH_STENCIL?p.Ab.DEPTH24_STENCIL8:t.internalFormat;switch(t.dataType){case p.ld.FLOAT:switch(t.pixelFormat){case p.Ab.RGBA:return p.H0.RGBA32F;case p.Ab.RGB:return p.H0.RGB32F;default:throw new s.A("Unable to derive format")}case p.ld.UNSIGNED_BYTE:switch(t.pixelFormat){case p.Ab.RGBA:return p.H0.RGBA8;case p.Ab.RGB:return p.H0.RGB8}}return t.internalFormat=t.pixelFormat===p.Ab.DEPTH_STENCIL?p.Ab.DEPTH24_STENCIL8:t.pixelFormat}var M=i(28444);let S=()=>o.A.getLogger("esri/views/webgl/Texture"),A=class t{constructor(t,r=null,i=null){if(this.type=h.p.Texture,this._glName=null,this._samplingModeDirty=!1,this._wrapModeDirty=!1,this._wasImmutablyAllocated=!1,this._compressionAbortController=(0,d.v)(null),"context"in t)this._descriptor=t,i=r;else{let i=M.z.validate(t,r);if(!i)throw new s.A("Texture descriptor invalid");this._descriptor=i}this._descriptor.target===p.Ap.TEXTURE_CUBE_MAP?this._setDataCubeMap(i):this.setData(i)}get glName(){return this._glName}get descriptor(){return this._descriptor}get usedMemory(){return(0,f.e)(this._descriptor)}get cachedMemory(){return this.usedMemory}get isDirty(){return this._samplingModeDirty||this._wrapModeDirty}get isCompressing(){return null!==this._compressionAbortController.value}dispose(){this.abortCompression(),this._glName&&this._descriptor.context.instanceCounter.decrement(p.vt.Texture,this),this._descriptor.context.gl&&this._glName&&(this._descriptor.context.unbindTexture(this),this._descriptor.context.gl.deleteTexture(this._glName),this._glName=null)}release(){this.dispose()}resize(t,r){let i=this._descriptor;if(i.width!==t||i.height!==r){if(this._wasImmutablyAllocated)throw new s.A("Immutable textures can't be resized!");i.width=t,i.height=r,this._descriptor.target===p.Ap.TEXTURE_CUBE_MAP?this._setDataCubeMap(null):this.setData(null)}}enableCompression(t){this._descriptor.shouldCompress=t}setData(t){this.abortCompression(),!g(t)&&this._descriptor.internalFormat&&this._descriptor.internalFormat in p.CQ&&(this._descriptor.internalFormat=void 0),this._setData(t),!g(t)&&this._descriptor.shouldCompress&&this._compressOnWorker(t)}updateData(r,i,o,a,u,d,c=0){d||S().error("An attempt to use uninitialized data!"),this._glName||S().error("An attempt to update uninitialized texture!");let p=this._descriptor;p.internalFormat=b(p);let{context:h,pixelFormat:f,dataType:y,target:m,isImmutable:v}=p;if(v&&!this._wasImmutablyAllocated)throw new s.A("Cannot update immutable texture before allocation!");let w=h.bindTexture(this,t.TEXTURE_UNIT_FOR_UPDATES,!0);(i<0||o<0||i+a>p.width||o+u>p.height)&&S().error("An attempt to update out of bounds of the texture!"),this._configurePixelStorage();let{gl:M}=h;c&&(a&&u||S().warn("Must pass width and height if `UNPACK_SKIP_ROWS` is used"),M.pixelStorei(M.UNPACK_SKIP_ROWS,c)),_(d)?M.texSubImage2D(m,r,i,o,a,u,f,y,d):g(d)?M.compressedTexSubImage2D(m,r,i,o,a,u,p.internalFormat,d.levels[r]):M.texSubImage2D(m,r,i,o,a,u,f,y,d),c&&M.pixelStorei(M.UNPACK_SKIP_ROWS,0),h.bindTexture(w,t.TEXTURE_UNIT_FOR_UPDATES)}updateData3D(r,i,o,a,u,d,c,p){p||S().error("An attempt to use uninitialized data!"),this._glName||S().error("An attempt to update an uninitialized texture!");let h=this._descriptor;h.internalFormat=b(h);let{context:f,pixelFormat:y,dataType:m,isImmutable:_,target:w}=h;if(_&&!this._wasImmutablyAllocated)throw new s.A("Cannot update immutable texture before allocation!");v(w)||S().warn("Attempting to set 3D texture data on a non-3D texture");let M=f.bindTexture(this,t.TEXTURE_UNIT_FOR_UPDATES);f.setActiveTexture(t.TEXTURE_UNIT_FOR_UPDATES),(i<0||o<0||a<0||i+u>h.width||o+d>h.height||a+c>h.depth)&&S().error("An attempt to update out of bounds of the texture!"),this._configurePixelStorage();let{gl:A}=f;if(g(p))p=p.levels[r],A.compressedTexSubImage3D(w,r,i,o,a,u,d,c,h.internalFormat,p);else{let t=p;A.texSubImage3D(w,r,i,o,a,u,d,c,y,m,t)}f.bindTexture(M,t.TEXTURE_UNIT_FOR_UPDATES)}generateMipmap(){let r=this._descriptor;if(0===r.width||0===r.height)return;if(!r.hasMipmap){if(this._wasImmutablyAllocated)throw new s.A("Cannot add mipmaps to immutable texture after allocation");r.hasMipmap=!0,this._samplingModeDirty=!0,m(r)}r.samplingMode===p.Cj.LINEAR?(this._samplingModeDirty=!0,r.samplingMode=p.Cj.LINEAR_MIPMAP_NEAREST):r.samplingMode===p.Cj.NEAREST&&(this._samplingModeDirty=!0,r.samplingMode=p.Cj.NEAREST_MIPMAP_NEAREST);let i=this._descriptor.context.bindTexture(this,t.TEXTURE_UNIT_FOR_UPDATES);this._descriptor.context.setActiveTexture(t.TEXTURE_UNIT_FOR_UPDATES),this._descriptor.context.gl.generateMipmap(r.target),this._descriptor.context.bindTexture(i,t.TEXTURE_UNIT_FOR_UPDATES)}clearMipmap(){let t=this._descriptor;if(t.hasMipmap){if(this._wasImmutablyAllocated)throw new s.A("Cannot delete mipmaps to immutable texture after allocation");t.hasMipmap=!1,this._samplingModeDirty=!0,m(t)}t.samplingMode===p.Cj.LINEAR_MIPMAP_NEAREST?(this._samplingModeDirty=!0,t.samplingMode=p.Cj.LINEAR):t.samplingMode===p.Cj.NEAREST_MIPMAP_NEAREST&&(this._samplingModeDirty=!0,t.samplingMode=p.Cj.NEAREST)}setSamplingMode(t){t!==this._descriptor.samplingMode&&(this._descriptor.samplingMode=t,this._samplingModeDirty=!0)}setWrapMode(t){t!==this._descriptor.wrapMode&&(this._descriptor.wrapMode=t,m(this._descriptor),this._wrapModeDirty=!0)}applyChanges(){this._samplingModeDirty&&(this._applySamplingMode(),this._samplingModeDirty=!1),this._wrapModeDirty&&(this._applyWrapMode(),this._wrapModeDirty=!1)}abortCompression(){this.isCompressing&&(this._compressionAbortController.value=(0,a.DC)(this._compressionAbortController.value))}_setData(r,i){let o=this._descriptor,a=o.context?.gl;if(!a)return;(0,c.Y2)(a),this._glName||(this._glName=a.createTexture(),this._glName&&o.context.instanceCounter.increment(p.vt.Texture,this)),m(o);let u=o.context.bindTexture(this,t.TEXTURE_UNIT_FOR_UPDATES);o.context.setActiveTexture(t.TEXTURE_UNIT_FOR_UPDATES),this._configurePixelStorage(),(0,c.Y2)(a);let d=i??o.target,h=v(d);if(_(r))this._setDataFromTexImageSource(r,d);else{let{width:t,height:i,depth:u}=o;if(null==t||null==i)throw new s.A("Width and height must be specified!");if(h&&null==u)throw new s.A("Depth must be specified!");if(o.internalFormat=b(o),o.isImmutable&&!this._wasImmutablyAllocated&&this._texStorage(d,o.internalFormat,o.hasMipmap,t,i,u),g(r)){if(!(o.internalFormat in p.CQ))throw new s.A("Attempting to use compressed data with an uncompressed format!");this._setDataFromCompressedSource(r,o.internalFormat,d)}else this._texImage(d,0,o.internalFormat,t,i,u,r),(0,c.Y2)(a),o.hasMipmap&&this.generateMipmap()}this._applySamplingMode(),this._applyWrapMode(),this._applyAnisotropicFilteringParameters(),(0,c.Y2)(a),o.context.bindTexture(u,t.TEXTURE_UNIT_FOR_UPDATES)}_setDataCubeMap(t=null){for(let r=p.Ap.TEXTURE_CUBE_MAP_POSITIVE_X;r<=p.Ap.TEXTURE_CUBE_MAP_NEGATIVE_Z;r++)this._setData(t,r)}_configurePixelStorage(){let t=this._descriptor.context.gl,{unpackAlignment:r,flipped:i,preMultiplyAlpha:s}=this._descriptor;t.pixelStorei(t.UNPACK_ALIGNMENT,r),t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,+!!i),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,+!!s)}_setDataFromTexImageSource(t,r){let i,s,{gl:o}=this._descriptor.context,a=this._descriptor;a.internalFormat=b(a);let u=v(r),{width:d,height:p,depth:h}=(i="width"in t?t.width:t.codedWidth,s="height"in t?t.height:t.codedHeight,t instanceof HTMLVideoElement&&(i=t.videoWidth,s=t.videoHeight),{width:i,height:s,depth:1});a.width&&a.height,a.width||(a.width=d),a.height||(a.height=p),u&&a.depth,u&&(a.depth=h),a.isImmutable&&!this._wasImmutablyAllocated&&this._texStorage(r,a.internalFormat,a.hasMipmap,d,p,h),this._texImage(r,0,a.internalFormat,d,p,h,t),(0,c.Y2)(o),a.hasMipmap&&(this.generateMipmap(),(0,c.Y2)(o))}_setDataFromCompressedSource(t,r,i){let s=this._descriptor,{width:o,height:a,depth:u}=s,d=t.levels,c=Math.min(w(i,o,a,u),d.length)-1;this._descriptor.context.gl.texParameteri(s.target,s.context.gl.TEXTURE_MAX_LEVEL,c),this._forEachMipmapLevel((t,s,o,a)=>{let u=d[Math.min(t,d.length-1)];this._compressedTexImage(i,t,r,s,o,a,u)},c)}_texStorage(t,r,i,o,a,u){let{gl:d}=this._descriptor.context;if(!(r in p.H0))throw new s.A("Immutable textures must have a sized internal format");if(!this._descriptor.isImmutable)return;let c=i?w(t,o,a,u):1;if(v(t)){if(null==u)throw new s.A("Missing depth dimension for 3D texture upload");d.texStorage3D(t,c,r,o,a,u)}else d.texStorage2D(t,c,r,o,a);this._wasImmutablyAllocated=!0}_texImage(t,r,i,o,a,u,d){let c=this._descriptor.context.gl,p=v(t),{isImmutable:h,pixelFormat:f,dataType:y}=this._descriptor;if(h){if(null!=d)if(p){if(null==u)throw new s.A("Missing depth dimension for 3D texture upload");c.texSubImage3D(t,r,0,0,0,o,a,u,f,y,d)}else c.texSubImage2D(t,r,0,0,o,a,f,y,d)}else if(p){if(null==u)throw new s.A("Missing depth dimension for 3D texture upload");c.texImage3D(t,r,i,o,a,u,0,f,y,d)}else c.texImage2D(t,r,i,o,a,0,f,y,d)}_compressedTexImage(t,r,i,o,a,u,d){let c=this._descriptor.context.gl,p=v(t);if(this._descriptor.isImmutable){if(null!=d)if(p){if(null==u)throw new s.A("Missing depth dimension for 3D texture upload");c.compressedTexSubImage3D(t,r,0,0,0,o,a,u,i,d)}else c.compressedTexSubImage2D(t,r,0,0,o,a,i,d)}else if(p){if(null==u)throw new s.A("Missing depth dimension for 3D texture upload");c.compressedTexImage3D(t,r,i,o,a,u,0,d)}else c.compressedTexImage2D(t,r,i,o,a,0,d)}async _compressOnWorker(r){if(!t.compressionWorkerHandle||!t.compressionWorkerHandle.isCompressible(r))return;let i=this._descriptor.context?.gl.getExtension("WEBGL_compressed_texture_etc"),s=this._descriptor.context?.gl.getExtension("WEBGL_compressed_texture_s3tc");if(i||s){let o=new AbortController;this._compressionAbortController.value=o;let a={data:await createImageBitmap(r),flipped:this.descriptor.flipped,width:r.width,height:r.height,hasMipmap:this._descriptor.hasMipmap,hasETC:!!i,hasS3TC:!!s};t.compressionWorkerHandle.invoke(a,this._compressionAbortController.value.signal).then(t=>{t&&this.isCompressing&&this.glName&&(this._descriptor.internalFormat=t.internalFormat,this._setData(t.compressedTexture)),o===this._compressionAbortController.value&&(this._compressionAbortController.value=null)}).catch(t=>{(0,u.zf)(t)||o!==this._compressionAbortController.value||(this._compressionAbortController.value=null)})}}_forEachMipmapLevel(t,r=1/0){let{width:i,height:o,depth:a,hasMipmap:u,target:d}=this._descriptor,c=d===p.Ap.TEXTURE_3D;if(null==i||null==o||c&&null==a)throw new s.A("Missing texture dimensions for mipmap calculation");for(let s=0;t(s,i,o,a),u&&(1!==i||1!==o||c&&1!==a)&&!(s>=r);++s)i=Math.max(1,i>>1),o=Math.max(1,o>>1),c&&(a=Math.max(1,a>>1))}_applySamplingMode(){let t=this._descriptor,r=t.context?.gl,i=t.samplingMode,s=t.samplingMode;i===p.Cj.LINEAR_MIPMAP_NEAREST||i===p.Cj.LINEAR_MIPMAP_LINEAR?(i=p.Cj.LINEAR,t.hasMipmap||(s=p.Cj.LINEAR)):i!==p.Cj.NEAREST_MIPMAP_NEAREST&&i!==p.Cj.NEAREST_MIPMAP_LINEAR||(i=p.Cj.NEAREST,t.hasMipmap||(s=p.Cj.NEAREST)),r.texParameteri(t.target,r.TEXTURE_MAG_FILTER,i),r.texParameteri(t.target,r.TEXTURE_MIN_FILTER,s)}_applyWrapMode(){let t=this._descriptor,r=t.context?.gl;"number"==typeof t.wrapMode?(r.texParameteri(t.target,r.TEXTURE_WRAP_S,t.wrapMode),r.texParameteri(t.target,r.TEXTURE_WRAP_T,t.wrapMode)):(r.texParameteri(t.target,r.TEXTURE_WRAP_S,t.wrapMode.s),r.texParameteri(t.target,r.TEXTURE_WRAP_T,t.wrapMode.t))}_applyAnisotropicFilteringParameters(){let t=this._descriptor,r=t.context.capabilities.textureFilterAnisotropic;r&&t.context.gl.texParameterf(t.target,r.TEXTURE_MAX_ANISOTROPY,t.maxAnisotropy??1)}};A.TEXTURE_UNIT_FOR_UPDATES=0,A.compressionWorkerHandle=null},87196:(t,r,i)=>{i.d(r,{A:()=>d});var s,o=i(31461),a=i(28255);!function(t){let r=(t,r,i,s)=>{let o=r,a=r,u=i>>>1,d=t[o-1];for(;a<=u;){(a=o<<1)<i&&0>s(t[a-1],t[a])&&++a;let r=t[a-1];if(0>=s(r,d))break;t[o-1]=r,o=a}t[o-1]=d},i=(t,r)=>t<r?-1:+(t>r);t.sort=function(t,s,o,a){void 0===s&&(s=0),void 0===o&&(o=t.length),void 0===a&&(a=i);for(let i=o>>>1;i>s;i--)r(t,i,o,a);let u=s+1;for(let i=o-1;i>s;i--){let o=t[s];t[s]=t[i],t[i]=o,r(t,u,i,a)}},t.iterableSort=function*(t,s,o,a){void 0===s&&(s=0),void 0===o&&(o=t.length),void 0===a&&(a=i);for(let i=o>>>1;i>s;i--)r(t,i,o,a),yield;let u=s+1;for(let i=o-1;i>s;i--){let o=t[s];t[s]=t[i],t[i]=o,r(t,u,i,a),yield}}}(s||(s={}));let u=s;class d{constructor(t){this.data=[],this._length=0,this._allocator=void 0,this._deallocator=()=>null,this._shrink=()=>{},this._hint=new o.vW,t&&(t.initialSize&&(this.data=Array(t.initialSize)),t.allocator&&(this._allocator=t.allocator),void 0!==t.deallocator&&(this._deallocator=t.deallocator),t.shrink&&(this._shrink=()=>c(this)))}toArray(){return this.data.slice(0,this.length)}filter(t){let r=[];for(let i=0;i<this._length;i++){let s=this.data[i];t(s)&&r.push(s)}return r}at(t){if((t=Math.trunc(t)||0)<0&&(t+=this._length),!(t<0||t>=this._length))return this.data[t]}includes(t,r){let i=this.data.indexOf(t,r);return -1!==i&&i<this.length}get length(){return this._length}set length(t){if(t>this._length){if(this._allocator){for(;this._length<t;)this.data[this._length++]=this._allocator(this.data[this._length]);return}this._length=t}else{if(this._deallocator)for(let r=t;r<this._length;++r)this.data[r]=this._deallocator(this.data[r]);this._length=t,this._shrink()}}clear(){this.length=0}prune(){this.clear(),this.data=[]}push(t){this.data[this._length++]=t}pushArray(t,r=t.length){for(let i=0;i<r;i++)this.data[this._length++]=t[i]}fill(t,r){for(let i=0;i<r;i++)this.data[this._length++]=t}pushNew(){this._allocator&&(this.data[this.length]=this._allocator(this.data[this.length]));let t=this.data[this._length];return++this._length,t}unshift(t){this.data.unshift(t),this._length++,c(this)}pop(){if(0===this.length)return;let t=this.data[this.length-1];return this.length=this.length-1,this._shrink(),t}remove(t){let r=(0,o.qh)(this.data,(0,a.zI)(t),this.length,this._hint);if(-1!==r)return this.data.splice(r,1),this.length=this.length-1,t}removeUnordered(t){return this.removeUnorderedIndex((0,o.qh)(this.data,(0,a.zI)(t),this.length,this._hint))}removeUnorderedIndex(t){if(!(t>=this.length||t<0))return this.swapElements(t,this.length-1),this.pop()}removeUnorderedMany(t,r=t.length,i){this.length=(0,o.mW)(this.data,t,this.length,r,this._hint,i),this._shrink()}front(){if(0!==this.length)return this.data[0]}back(){if(0!==this.length)return this.data[this.length-1]}swapElements(t,r){if(t>=this.length||r>=this.length||t===r)return;let i=this.data[t];this.data[t]=this.data[r],this.data[r]=i}sort(t){u.sort(this.data,0,this.length,t)}iterableSort(t){return u.iterableSort(this.data,0,this.length,t)}some(t,r){for(let i=0;i<this.length;++i)if(t.call(r,this.data[i],i,this.data))return!0;return!1}find(t,r){let{data:i,length:s}=this;for(let o=0;o<s;++o)if(t.call(r,i[o]))return i[o]}filterInPlace(t,r){let i=0;for(let s=0;s<this._length;++s){let o=this.data[s];t.call(r,o,s,this.data)&&(this.data[s]=this.data[i],this.data[i]=o,i++)}if(this._deallocator)for(let t=i;t<this._length;t++)this.data[t]=this._deallocator(this.data[t]);return this._length=i,this._shrink(),this}forAll(t,r){let{data:i,length:s}=this;for(let o=0;o<s;++o)t.call(r,i[o],o,i)}forEach(t,r){this.data.slice(0,this.length).forEach(t,r)}map(t,r){let i=Array(this.length);for(let s=0;s<this.length;++s)i[s]=t.call(r,this.data[s],s,this.data);return i}reduce(t,r){let i=r;for(let r=0;r<this.length;++r)i=t(i,this.data[r],r,this.data);return i}has(t){let r=this.length,i=this.data;for(let s=0;s<r;++s)if(i[s]===t)return!0;return!1}*[Symbol.iterator](){for(let t=0;t<this.length;t++)yield this.data[t]}}function c(t){t.data.length>1.5*t.length&&(t.data.length=Math.floor(1.1*t.length))}},87303:(t,r,i)=>{i.d(r,{GB:()=>o,Qo:()=>u,Y4:()=>a});var s=i(29593);class o{}function a(t){return t instanceof s.bo?t===o.instance:"unknown"===t?.toString().toLowerCase()}function u(t){return a(t)?o.instance:t}o.instance=new s.oh("Etc/UTC")},87488:(t,r,i)=>{i.d(r,{H:()=>c});var s,o=i(81856),a=i(92713),u=i(91838);i(57845),i(61939),i(33638);var d=i(12709);let c=s=class extends a.A{constructor(t){super(t),this.name=null,this.code=null}clone(){return new s({name:this.name,code:this.code})}};(0,o._)([(0,u.MZ)({type:String,json:{write:{isRequired:!0}}})],c.prototype,"name",void 0),(0,o._)([(0,u.MZ)({type:[String,Number],json:{write:{isRequired:!0}}})],c.prototype,"code",void 0),c=s=(0,o._)([(0,d.$)("esri.layers.support.CodedValue")],c)},87816:(t,r,i)=>{var s;i.d(r,{p:()=>s}),function(t){t[t.Texture=0]="Texture",t[t.RenderBuffer=1]="RenderBuffer"}(s||(s={}))},87960:(t,r,i)=>{i.d(r,{A:()=>x});var s,o=i(81856),a=i(31461),u=i(33715),d=i(91838);i(57845),i(61939);var c=i(12709),p=i(7780),h=i(61414),f=i(88070),y=i(39960),m=i(91463),g=i(2010),_=i(98083),v=i(60470),w=i(1967),b=i(11317),M=i(6322),S=i(28580);function A(t){return!Array.isArray(t[0])}let T=s=class extends f.A{static fromExtent(t){let r=t.clone().normalize(),{spatialReference:i}=t,o=!1,a=!1;for(let t of r)t.hasZ&&(o=!0),t.hasM&&(a=!0);let u={rings:r.map(t=>{let r=[[t.xmin,t.ymin],[t.xmin,t.ymax],[t.xmax,t.ymax],[t.xmax,t.ymin],[t.xmin,t.ymin]];if(o&&t.hasZ){let i=t.zmin+.5*(t.zmax-t.zmin);for(let t=0;t<r.length;t++)r[t].push(i)}if(a&&t.hasM){let i=t.mmin+.5*(t.mmax-t.mmin);for(let t=0;t<r.length;t++)r[t].push(i)}return r}),spatialReference:i};return o&&(u.hasZ=!0),a&&(u.hasM=!0),new s(u)}constructor(t){super(function(t){var r;if(!t)return;let{rings:i,hasM:s,hasZ:o,spatialReference:a}=t;switch(i??=[],r=i,"number"==typeof r[0]?.[0]&&(i=[i]),i[0]?.[0]?.length){case 4:o??=!0,s??=!0;break;case 3:o??=!0!==s,s??=!o;break;default:o??=!1,s??=!1}return a??=m.A.WGS84,{...t,hasM:s,hasZ:o,rings:i,spatialReference:a}}(t)),this.curveRings=void 0,this.rings=[],this.type="polygon"}get cache(){return this.commitProperty("curveRings"),this.commitProperty("hasM"),this.commitProperty("hasZ"),this.commitProperty("rings"),this.commitProperty("spatialReference"),{}}get centroid(){let t=(0,g.l8)(this);if(!t||isNaN(t[0])||isNaN(t[1])||this.hasZ&&isNaN(t[2]))return null;let r=new y.A;return r.x=t[0],r.y=t[1],r.spatialReference=this.spatialReference,this.hasZ&&(r.z=t[2]),r}writeCurveRings(t,r){r.curveRings=(0,u.o8)(t)}get extent(){let t=(0,w.v)(this),{spatialReference:r}=this;return t?new h.A({...t,spatialReference:r}):null}get isSelfIntersecting(){return(0,b.A3)(this.rings)}writeRings(t,r){r.rings=(0,u.o8)(this.rings)}addRing(t){if(!t)return;let r=this.rings,i=r.length;if(A(t)){let s=[];for(let r=0,i=t.length;r<i;r++)s[r]=t[r].toArray();r[i]=s}else r[i]=t.slice();return this.notifyChange("rings"),this}clone(){let t=new s;return t.spatialReference=this.spatialReference,t.rings=(0,u.o8)(this.rings),t.curveRings=(0,u.o8)(this.curveRings),t.hasZ=this.hasZ,t.hasM=this.hasM,t}equals(t){if(this===t)return!0;if(null==t)return!1;let r=this.spatialReference,i=t.spatialReference;if(null!=r!=(null!=i)||null!=r&&null!=i&&!r.equals(i)||this.rings.length!==t.rings.length)return!1;let s=([t,r,i,s],[o,a,u,d])=>t===o&&r===a&&(null==i&&null==u||i===u)&&(null==s&&null==d||s===d);for(let r=0;r<this.rings.length;r++){let i=this.rings[r],o=t.rings[r];if(!(0,a.aI)(i,o,s))return!1}return!0}contains(t){if(!t)return!1;let r=(0,M.Cv)(t,this.spatialReference);return(0,_.m3)(this,null!=r?r:t)}isClockwise(t){let r=A(t)?t.map(t=>this.hasZ?this.hasM?[t.x,t.y,t.z,t.m]:[t.x,t.y,t.z]:[t.x,t.y]):t;return(0,v.$3)(r)}getPoint(t,r){if(!this._validateInputs(t,r))return null;let i=this.rings[t][r],s=this.hasZ,o=this.hasM;return s&&!o?new y.A(i[0],i[1],i[2],void 0,this.spatialReference):o&&!s?new y.A(i[0],i[1],void 0,i[2],this.spatialReference):s&&o?new y.A(i[0],i[1],i[2],i[3],this.spatialReference):new y.A(i[0],i[1],this.spatialReference)}insertPoint(t,r,i){return this._validateInputs(t,r,!0)&&((0,S.h)(this,i),Array.isArray(i)||(i=i.toArray()),this.rings[t].splice(r,0,i),this.notifyChange("rings")),this}removePoint(t,r){if(!this._validateInputs(t,r))return null;let i=new y.A(this.rings[t].splice(r,1)[0],this.spatialReference);return this.notifyChange("rings"),i}removeRing(t){if(!this._validateInputs(t,null))return null;let r=this.rings.splice(t,1)[0],i=this.spatialReference,s=r.map(t=>new y.A(t,i));return this.notifyChange("rings"),s}setPoint(t,r,i){return this._validateInputs(t,r)&&((0,S.h)(this,i),Array.isArray(i)||(i=i.toArray()),this.rings[t][r]=i,this.notifyChange("rings")),this}_validateInputs(t,r,i=!1){if(null==t||t<0||t>=this.rings.length)return!1;if(null!=r){let s=this.rings[t];if(i&&(r<0||r>s.length)||!i&&(r<0||r>=s.length))return!1}return!0}toJSON(t){return this.write({},t)}};(0,o._)([(0,d.MZ)({readOnly:!0})],T.prototype,"cache",null),(0,o._)([(0,d.MZ)({readOnly:!0})],T.prototype,"centroid",null),(0,o._)([(0,d.MZ)({json:{write:!0,origins:{"portal-item":{write:!1},"web-map":{write:!1},"web-scene":{write:!1}}}})],T.prototype,"curveRings",void 0),(0,o._)([(0,p.K)("curveRings")],T.prototype,"writeCurveRings",null),(0,o._)([(0,d.MZ)({readOnly:!0})],T.prototype,"extent",null),(0,o._)([(0,d.MZ)({readOnly:!0})],T.prototype,"isSelfIntersecting",null),(0,o._)([(0,d.MZ)({type:[[[Number]]],json:{write:{isRequired:!0}}})],T.prototype,"rings",void 0),(0,o._)([(0,p.K)("rings")],T.prototype,"writeRings",null);let x=T=s=(0,o._)([(0,c.$)("esri.geometry.Polygon")],T);T.prototype.toJSON.isDefaultToJSON=!0},88070:(t,r,i)=>{i.d(r,{A:()=>h});var s=i(81856),o=i(92713),a=i(91838);i(57845),i(61939),i(33638);var u=i(53480),d=i(12709),c=i(91463);let p=class extends o.A{constructor(...t){super(...t),this.type=null,this.hasM=!1,this.hasZ=!1,this.spatialReference=c.A.WGS84}get cache(){return this.commitProperty("spatialReference"),{}}get extent(){return null}readSpatialReference(t,r){if(t instanceof c.A)return t;if(null!=t){let i=new c.A;return i.read(t,r),i}return t}clone(){return console.warn(".clone() is not implemented for "+this.declaredClass),null}clearCache(){this.notifyChange("cache")}getCacheValue(t){return this.cache[t]}setCacheValue(t,r){this.cache[t]=r}};(0,s._)([(0,a.MZ)()],p.prototype,"type",void 0),(0,s._)([(0,a.MZ)({readOnly:!0})],p.prototype,"cache",null),(0,s._)([(0,a.MZ)({readOnly:!0})],p.prototype,"extent",null),(0,s._)([(0,a.MZ)({type:Boolean,json:{write:{overridePolicy:t=>({enabled:t})}}})],p.prototype,"hasM",void 0),(0,s._)([(0,a.MZ)({type:Boolean,json:{write:{overridePolicy:t=>({enabled:t})}}})],p.prototype,"hasZ",void 0),(0,s._)([(0,a.MZ)({type:c.A,json:{write:!0},value:c.A.WGS84})],p.prototype,"spatialReference",void 0),(0,s._)([(0,u.w)("spatialReference")],p.prototype,"readSpatialReference",null);let h=p=(0,s._)([(0,d.$)("esri.geometry.Geometry")],p)},88088:(t,r,i)=>{i.d(r,{Q:()=>y});var s=i(81856),o=i(54335),a=i(61096),u=i(61939),d=i(92753),c=i(91838);i(57845),i(33638);var p=i(12709),h=i(64171);function f(t,r,i){let s,o;if(t)for(let a=0,u=t.length;a<u;a++){if(s=t.at(a),s?.[r]===i)return s;if("group"===s?.type&&(o=f(s.layers,r,i)))return o}}let y=t=>{let r=class extends t{constructor(...t){super(...t),this.layers=new o.A;let r=t=>{t.parent&&"remove"in t.parent&&t.parent.remove(t)},i=t=>{t.parent=this,this.layerAdded(t),"elevation"!==t.type&&"base-elevation"!==t.type||u.A.getLogger(this).error(`Layer 'title:${t.title}, id:${t.id}' of type '${t.type}' is not supported as an operational layer and will therefore be ignored.`)},s=t=>{t.parent=null,this.layerRemoved(t)};this.addHandles([this.layers.on("before-add",t=>{if(t.item===this)return t.preventDefault(),void u.A.getLogger(this).error("#add()","Cannot add layer to itself.");r(t.item)}),this.layers.on("after-add",t=>i(t.item)),this.layers.on("after-remove",t=>s(t.item))])}destroy(){for(let t of this.layers.toArray())t.destroy();this.layers.destroy()}set layers(t){this._set("layers",(0,a.V)(t,this._get("layers")))}add(t,r){let i=this.layers;(r=i.getNextIndex(r),t instanceof h.A)?t.parent===this?this.reorder(t,r):i.add(t,r):(0,d.$X)(t)?t.then(t=>{this.destroyed||this.add(t,r)}):u.A.getLogger(this).error("#add()","The item being added is not a Layer or a Promise that resolves to a Layer.")}addMany(t,r){let i=this.layers,s=i.getNextIndex(r);t.slice().forEach(t=>{t.parent!==this?(i.add(t,s),s+=1):this.reorder(t,s)})}findLayerById(t){return f(this.layers,"id",t)}findLayerByUid(t){return f(this.layers,"uid",t)}remove(t){return this.layers.remove(t)}removeMany(t){return this.layers.removeMany(t)}removeAll(){return this.layers.removeAll()}reorder(t,r){return this.layers.reorder(t,r)}layerAdded(t){}layerRemoved(t){}};return(0,s._)([(0,c.MZ)()],r.prototype,"layers",null),r=(0,s._)([(0,p.$)("esri.support.LayersMixin")],r)}},88161:(t,r,i)=>{i.d(r,{A:()=>S});var s=i(81856),o=i(28690),a=i(90304),u=i(40941),d=i(82558),c=i(91838);i(57845),i(61939),i(33638);var p=i(12709),h=i(54036),f=i(92753),y=i(27298),m=i(69358),g=i(77089),_=i(22303);class v{constructor(t,r){this.item=t,this.controller=r,this.promise=null}}class w{constructor(t){this._schedule=null,this._task=null,this._deferreds=new m.A,this._controllers=new m.A,this._processingItems=new m.A,this._pausedSignal=(0,_.v)(!1),this.concurrency=1,t.concurrency&&(this.concurrency=t.concurrency),this._queue=new y.A(t.peeker),this.process=t.process;let r=t.scheduler;t.priority&&r&&(this._task=r.registerTask(t.priority,this))}destroy(){this.clear(),this._schedule=(0,u.xt)(this._schedule),this._task=(0,u.xt)(this._task)}get updating(){return!!this._task?.updating||this.running}get length(){return this._processingItems.size+this._queue.length}abort(t){let r=this._controllers.get(t);r&&r.abort()}clear(){this._queue.clear();let t=[];this._controllers.forEach(r=>t.push(r)),this._controllers.clear(),t.forEach(t=>t.abort()),this._processingItems.clear(),this._cancelNext()}forEach(t){this._deferreds.forEach((r,i)=>t(i))}get(t){let r=this._deferreds.get(t);return r?r.promise:void 0}isOngoing(t){return this._processingItems.has(t)}has(t){return this._deferreds.has(t)}pause(){this._pausedSignal.value||(this._pausedSignal.value=!0,this._cancelNext())}push(t,r){let i=this.get(t);if(i)return i;let s=new AbortController,o=null;r&&(o=(0,f.u7)(r,()=>s.abort()));let a=()=>{u.remove(),null!=o&&o.remove(),this._removeItem(t),this._queue.remove(t),this._scheduleNext()},u=(0,f.NY)(s.signal,()=>{let r=this._processingItems.get(t);r&&r.controller.abort(),a(),d.reject((0,f.NK)())}),d=(0,f.Tw)();return this._deferreds.set(t,d),this._controllers.set(t,s),d.promise.then(a,a),this._queue.push(t),this._scheduleNext(),d.promise}last(){return this._queue.last()}lastPromise(){let t=this.last();return t?this.get(t):null}peek(){return this._queue.peek()}popLast(){let t=this._queue.popLast();return t&&(this._deferreds.get(t)?.reject((0,f.NK)()),this._removeItem(t)),t}reset(){let t=Array.from(this._processingItems.values());for(let r of(this._processingItems.clear(),t))this._queue.push(r.item),r.controller.abort();this._scheduleNext()}resume(){this._pausedSignal.value&&(this._pausedSignal.value=!1,this._scheduleNext())}takeAll(){let t=[];for(;this._queue.length;)t.push(this._queue.pop());return this.clear(),t}get running(){return!this._pausedSignal.value&&this._queue.length>0&&this._processingItems.size<this.concurrency}runTask(t){for(;!t.done&&this._queue.length>0&&this._processingItems.size<this.concurrency;)this._process(this._queue.pop()),t.madeProgress()}_removeItem(t){this._deferreds.delete(t),this._controllers.delete(t),this._processingItems.delete(t)}_scheduleNext(){this._task||this._pausedSignal.value||this._schedule||(this._schedule=(0,g._)(()=>{this._schedule=null,this._next()}))}_next(){for(;this._queue.length>0&&this._processingItems.size<this.concurrency;)this._process(this._queue.pop())}_cancelNext(){this._schedule&&(this._schedule.remove(),this._schedule=null)}_processResult(t,r){this._canProcessFulfillment(t)&&(this._scheduleNext(),this._deferreds.get(t.item).resolve(r))}_processError(t,r){this._canProcessFulfillment(t)&&(this._scheduleNext(),this._deferreds.get(t.item).reject(r))}_canProcessFulfillment(t){return!!this._deferreds.get(t.item)&&this._processingItems.get(t.item)===t}_process(t){let r;if(null==t)return;let i=new AbortController,s=new v(t,i);this._processingItems.set(t,s);try{r=this.process(t,i.signal)}catch(t){this._processError(s,t)}(0,f.$X)(r)?(s.promise=r,r.then(t=>this._processResult(s,t),t=>this._processError(s,t))):this._processResult(s,r)}get test(){}}let b=[0,0],M=class extends o.A{constructor(t){super(t),this._keyToItem=new Map,this._tilesByScale=new Map,this.concurrency=6}initialize(){let{concurrency:t,process:r,scheduler:i,priority:s}=this;this._queue=new w({concurrency:t,scheduler:i,priority:s,process:(t,i)=>r(this._keyToItem.get(t),{signal:i}),peeker:t=>this._peek(t)})}destroy(){this.clear(),this._queue=(0,u.pR)(this._queue)}get length(){return this._queue?this._queue.length:0}abort(t){let r="string"==typeof t?t:t.id;this._queue.abort(r)}clear(){this._queue.clear(),this._keyToItem.clear(),this._tilesByScale.clear()}has(t){return"string"==typeof t?this._keyToItem.has(t):this._keyToItem.has(t.id)}pause(){this._queue.pause()}push(t){let r=t.key.id;if(this._queue.has(r))return this._queue.get(r);let i=this._queue.push(r),s=this.tileInfoView.getTileScale(t.key),o=(0,a.tE)(this._tilesByScale,s,()=>new Set),u=()=>{o.delete(t.key),0===o.size&&this._tilesByScale.delete(s),this._keyToItem.delete(r)};return o.add(t.key),this._keyToItem.set(r,t),i.then(u,u),i}reset(){this._queue.reset()}resume(){this._queue.resume()}_peek(t){if(!this.state)return t.values().next().value;let r=new Set;for(let i of t)r.add(this._keyToItem.get(i).key);let i=this.state.scale,s,o=Number.POSITIVE_INFINITY;for(let[t,a]of this._tilesByScale)if((0,d.bw)(a,t=>r.has(t))){let r=Math.abs(t-i);r<o&&(s=a,o=r)}return this._getClosestTileKey(s,t).id}_getClosestTileKey(t,r){let i=this.tileInfoView,s=this.state.center,o,a=Number.POSITIVE_INFINITY;for(let u of t)if(r.has(u.id)){i.getTileCoords(b,u);let t=(0,h.Io)(b,s);t<a&&(a=t,o=u)}return o}};(0,s._)([(0,c.MZ)({constructOnly:!0})],M.prototype,"concurrency",void 0),(0,s._)([(0,c.MZ)({constructOnly:!0})],M.prototype,"priority",void 0),(0,s._)([(0,c.MZ)({constructOnly:!0})],M.prototype,"process",void 0),(0,s._)([(0,c.MZ)({constructOnly:!0})],M.prototype,"scheduler",void 0),(0,s._)([(0,c.MZ)()],M.prototype,"state",void 0),(0,s._)([(0,c.MZ)({constructOnly:!0})],M.prototype,"tileInfoView",void 0);let S=M=(0,s._)([(0,p.$)("esri.views.2d.tiling.TileQueue")],M)},88742:(t,r,i)=>{i.d(r,{TP:()=>c,_f:()=>a,eh:()=>o,uw:()=>p});var s=i(54015);let o=Math.PI/180,a=/(?:SPHEROID|ELLIPSOID)\[([^\]]+)]/i,u=s.$O.radius,d=s.$O.eccentricitySquared,c={a1:u*d,a2:u*d*u*d,a3:u*d*d/2,a4:u*d*u*d*2.5,a5:u*d+u*d*d/2,a6:1-d},p={4267:{a:6378206.4,f:1/294.9786982},4269:{a:6378137,f:1/298.257222101},4326:{a:s.$O.radius,f:s.$O.flattening},4490:{a:6378137,f:1/298.257222101},104900:{a:2439700,f:0},104901:{a:6051e3,f:0},104902:{a:6051800,f:0},104903:{a:s.Sw.radius,f:s.Sw.flattening},104904:{a:3393400,f:1/192.0430107526882},104905:{a:s.sH.radius,f:s.sH.flattening},104906:{a:6200,f:0},104907:{a:11100,f:0},104908:{a:71492e3,f:.06487439154031222},104909:{a:8200,f:0},104910:{a:83500,f:0},104911:{a:1e4,f:0},104912:{a:2409300,f:0},104913:{a:15e3,f:0},104914:{a:4e4,f:0},104915:{a:1562090,f:0},104916:{a:2632345,f:0},104917:{a:85e3,f:0},104918:{a:1821460,f:0},104919:{a:5e3,f:0},104920:{a:12e3,f:0},104921:{a:3e4,f:3},104922:{a:18e3,f:0},104923:{a:14e3,f:0},104924:{a:49300,f:0},104925:{a:60268e3,f:1/10.2079945799458},104926:{a:16e3,f:0},104927:{a:9500,f:0},104928:{a:56e4,f:0},104929:{a:249400,f:0},104930:{a:59500,f:0},104931:{a:16e3,f:0},104932:{a:133e3,f:0},104933:{a:718e3,f:0},104934:{a:888e3,f:0},104935:{a:1986300,f:0},104936:{a:1e4,f:0},104937:{a:41900,f:0},104938:{a:11e4,f:0},104939:{a:50100,f:0},104940:{a:764e3,f:0},104941:{a:11e3,f:0},104942:{a:529800,f:0},104943:{a:2575e3,f:0},104944:{a:25559e3,f:1/43.61604095563141},104945:{a:578900,f:0},104946:{a:33e3,f:0},104947:{a:21e3,f:0},104948:{a:13e3,f:0},104949:{a:31e3,f:0},104950:{a:27e3,f:0},104951:{a:42e3,f:0},104952:{a:235800,f:0},104953:{a:761400,f:0},104954:{a:15e3,f:0},104955:{a:54e3,f:0},104956:{a:77e3,f:0},104957:{a:27e3,f:0},104958:{a:788900,f:0},104959:{a:584700,f:0},104960:{a:24764e3,f:.01708124697141011},104961:{a:74e3,f:0},104962:{a:79e3,f:0},104963:{a:104e3,f:.14423076923076922},104964:{a:29e3,f:0},104965:{a:17e4,f:0},104966:{a:208e3,f:0},104967:{a:4e4,f:0},104968:{a:1352600,f:0},104969:{a:1195e3,f:0},104970:{a:593e3,f:0},104971:{a:s.sH.radius,f:0},104972:{a:47e4,f:0},104973:{a:255e3,f:0},104974:{a:2439400,f:0}}},88937:(t,r,i)=>{i.d(r,{EZ:()=>u,Io:()=>a,QP:()=>c,T0:()=>d});var s=i(71760),o=i(6322);function a(t,r){let i=t.x-r.x,s=t.y-r.y,o=null!=t.z&&null!=r.z?t.z-r.z:0;return Math.sqrt(i*i+s*s+o*o)}function u(t){return c(t,p)?.[0]??null}function d(t){return c(t,p)?.[1]??null}function c({x:t,y:r,spatialReference:i},a=[0,0]){if(i){if((0,s.K8)(i))return(0,o.tD)(t,r,a);if((0,s.EA)(i))return a[0]=t,a[1]=r,a}return null}let p=[0,0]},89050:(t,r,i)=>{i.d(r,{A:()=>E});var s,o,a=i(81856),u=i(33715),d=i(61939),c=i(90525),p=i(91838);i(57845);var h=i(33498),f=i(12709),y=i(86629),m=i(3983),g=i(2642),_=i(37211),v=i(82552),w=i(70152),b=i(92713),M=i(55048);i(33638);let S=s=class extends b.A{constructor(t){super(t),this.color=new w.A([0,0,0,1]),this.size=(0,M.PN)(1)}clone(){let t={color:null!=this.color?this.color.clone():null,size:this.size};return new s(t)}};(0,a._)([(0,p.MZ)((0,_.E)({colorRequiredOnWrite:!0}))],S.prototype,"color",void 0),(0,a._)([(0,p.MZ)({..._.p,json:{write:{isRequired:!0}}})],S.prototype,"size",void 0),S=s=(0,a._)([(0,f.$)("esri.symbols.support.Symbol3DIconOutline")],S);var A=i(93165);let T="esri.symbols.IconSymbol3DLayer",x=o=class extends y.A{constructor(t){super(t),this.material=null,this.resource=null,this.type="icon",this.size=12,this.anchor="center",this.anchorPosition=null,this.outline=null,this.angle=0}clone(){return new o({anchor:this.anchor,anchorPosition:(0,u.o8)(this.anchorPosition),enabled:this.enabled,material:(0,u.o8)(this.material),outline:(0,u.o8)(this.outline),resource:(0,u.o8)(this.resource),angle:this.angle,size:this.size})}static fromSimpleMarkerSymbol(t){var r;let i=t.color||m.ON,s=I(t),a=t.outline&&t.outline.width>0?{size:t.outline.width,color:(t.outline.color||m.ON).clone()}:null;return new o({size:t.size,angle:t.angle,resource:{primitive:R[r=t.style]||(d.A.getLogger(T).warn(`${r} cannot be mapped to Icon symbol. Fallback to "circle"`),"circle")},material:{color:i},outline:a,anchor:s?"relative":void 0,anchorPosition:s})}static fromPictureMarkerSymbol(t){let r=!t.color||(0,m.U9)(t.color)?m.ON:t.color,i=I(t);return new o({size:t.width<=t.height?t.height:t.width,angle:t.angle,resource:{href:t.url},material:{color:r.clone()},anchor:i?"relative":void 0,anchorPosition:i})}static fromCIMSymbol(t){return new o({resource:{href:(0,c.Hg)({mediaType:"application/json",data:JSON.stringify(t.data)})}})}};(0,a._)([(0,p.MZ)({type:A.N,json:{write:!0}})],x.prototype,"material",void 0),(0,a._)([(0,p.MZ)({type:g.i,json:{write:!0}})],x.prototype,"resource",void 0),(0,a._)([(0,h.e)({Icon:"icon"},{readOnly:!0})],x.prototype,"type",void 0),(0,a._)([(0,p.MZ)({..._.p,json:{write:{isRequired:!0}}})],x.prototype,"size",void 0),(0,a._)([(0,h.e)({center:"center",left:"left",right:"right",top:"top",bottom:"bottom",topLeft:"top-left",topRight:"top-right",bottomLeft:"bottom-left",bottomRight:"bottom-right",relative:"relative"},{default:"center"})],x.prototype,"anchor",void 0),(0,a._)([(0,p.MZ)({type:v.Q,json:{type:[Number],read:{reader:t=>new v.Q({x:t[0],y:t[1]})},write:{writer:(t,r)=>{r.anchorPosition=[t.x,t.y]},overridePolicy(){return{enabled:"relative"===this.anchor}}}}})],x.prototype,"anchorPosition",void 0),(0,a._)([(0,p.MZ)({type:S,json:{write:!0}})],x.prototype,"outline",void 0),(0,a._)([(0,p.MZ)({type:Number,json:{write:!0,default:0}})],x.prototype,"angle",void 0);let E=x=o=(0,a._)([(0,f.$)(T)],x);function I(t){let r="width"in t?t.width:t.size,i="height"in t?t.height:t.size,s=C(t.xoffset),o=C(t.yoffset);return(s||o)&&r&&i?{x:-s/r,y:o/i}:null}function C(t){return isFinite(t)?t:0}let R={circle:"circle",cross:"cross",diamond:"kite",square:"square",x:"x",triangle:"triangle",path:null}},89133:(t,r,i)=>{i.d(r,{A:()=>y});var s=i(81856),o=i(21892),a=i(91838);i(57845),i(61939),i(33638);var u=i(53480),d=i(12709),c=i(86790),p=i(14796),h=i(70881);let f=class extends o.L{constructor(t){super(t),this.globalId=null,this.title=null,this.traceConfiguration=null,this.creationDate=null,this.creator=null,this.description=null,this.minStartingPoints=null,this.resultTypes=[],this.tags=[],this.traceType=null}readTraceConfiguration(t,r){return void 0!==t.tierName?h.A.fromJSON(t):c.A.fromJSON(t)}};(0,s._)([(0,a.MZ)({type:String,nonNullable:!0,json:{origins:{"web-map":{read:{source:"id"},write:{target:"id",isRequired:!0}},service:{read:{source:"globalId"},write:{target:"globalId",isRequired:!0}}},read:!1}})],f.prototype,"globalId",void 0),(0,s._)([(0,a.MZ)({type:String,nonNullable:!0,json:{origins:{"web-map":{read:{source:"title"},write:{target:"title",isRequired:!0}},service:{read:{source:"name"},write:{target:"name",isRequired:!0}}},read:!1}})],f.prototype,"title",void 0),(0,s._)([(0,a.MZ)({type:c.A,json:{origins:{service:{read:!0,write:!0}},read:!1}})],f.prototype,"traceConfiguration",void 0),(0,s._)([(0,u.w)("service","traceConfiguration")],f.prototype,"readTraceConfiguration",null),(0,s._)([(0,a.MZ)({type:Date,json:{origins:{service:{read:!0,write:!0}},read:!1}})],f.prototype,"creationDate",void 0),(0,s._)([(0,a.MZ)({type:String,json:{origins:{service:{read:!0,write:!0}},read:!1}})],f.prototype,"creator",void 0),(0,s._)([(0,a.MZ)({type:String,json:{origins:{service:{read:!0,write:!0}},read:!1}})],f.prototype,"description",void 0),(0,s._)([(0,a.MZ)({type:["none","one","many"],json:{origins:{service:{read:{source:"minNumStartingPoints"},write:{target:"minNumStartingPoints"}}},read:!1}})],f.prototype,"minStartingPoints",void 0),(0,s._)([(0,a.MZ)({json:{origins:{service:{read:!0,write:!0}},read:!1}})],f.prototype,"resultTypes",void 0),(0,s._)([(0,a.MZ)({type:[String],json:{origins:{service:{read:!0,write:!0}},read:!1}})],f.prototype,"tags",void 0),(0,s._)([(0,a.MZ)({type:p.fO.apiValues,json:{type:p.fO.jsonValues,origins:{service:{read:p.fO.read,write:p.fO.write}},read:!1}})],f.prototype,"traceType",void 0);let y=f=(0,s._)([(0,d.$)("esri.networks.support.NamedTraceConfiguration")],f)},89800:(t,r,i)=>{i.d(r,{K:()=>s});let s=["operational-layers","basemap","ground"]},89834:(t,r,i)=>{i.d(r,{Bb:()=>a,Fq:()=>p,M4:()=>h,Nv:()=>f,e:()=>y}),i(57845);var s=i(56911),o=i(42845);function a(t,{isPrimitive:r,width:i,depth:o,height:a}){let u,d=r?10:1;if(null==i&&null==a&&null==o)return[d*t[0],d*t[1],d*t[2]];let c=(0,s.fA)(i,o,a);for(let r=0;r<3;r++){let i=c[r];if(null!=i){u=i/t[r];break}}for(let r=0;r<3;r++)null==c[r]&&(c[r]=t[r]*u);return c}let u=(0,o.fA)(-.5,-.5,-.5,.5,.5,.5),d=(0,o.fA)(-.5,-.5,0,.5,.5,1),c=(0,o.fA)(-.5,-.5,0,.5,.5,.5);function p(t){switch(t){case"sphere":case"cube":case"diamond":return u;case"cylinder":case"cone":case"inverted-cone":return d;case"tetrahedron":return c;default:return}}let h=["butt","square","round"],f=[...h,"none"],y=["miter","bevel","round"]},89996:(t,r,i)=>{i.d(r,{D:()=>o,x:()=>s});let s=Symbol("widget"),o=Symbol("widget-test-data")},90040:(t,r,i)=>{i.d(r,{Hi:()=>c,IB:()=>p,WH:()=>u,yu:()=>d}),i(57845);var s=i(53701),o=i(93446),a=i(99551);function u(t){let r=t.gl;switch(r.getError()){case r.NO_ERROR:return null;case r.INVALID_ENUM:return"An unacceptable value has been specified for an enumerated argument";case r.INVALID_VALUE:return"An unacceptable value has been specified for an argument";case r.INVALID_OPERATION:return"The specified command is not allowed for the current state";case r.INVALID_FRAMEBUFFER_OPERATION:return"The currently bound framebuffer is not framebuffer complete";case r.OUT_OF_MEMORY:return"Not enough memory is left to execute the command";case r.CONTEXT_LOST_WEBGL:return"WebGL context is lost"}return"Unknown error"}function d(t,r,i,o,c=0){let p=t.gl;for(let d of(t.bindBuffer(i),o)){let i=r.get(d.name);if(null==i){console.warn(`There is no location for vertex attribute '${d.name}' defined.`);continue}let o=c*d.stride;if(d.count<=4)p.vertexAttribPointer(i,d.count,d.type,d.normalized,d.stride,d.offset+o),p.enableVertexAttribArray(i),d.divisor>0&&t.gl.vertexAttribDivisor(i,d.divisor);else if(9===d.count)for(let r=0;r<3;r++)p.vertexAttribPointer(i+r,3,d.type,d.normalized,d.stride,d.offset+12*r+o),p.enableVertexAttribArray(i+r),d.divisor>0&&t.gl.vertexAttribDivisor(i+r,d.divisor);else if(16===d.count)for(let r=0;r<4;r++)p.vertexAttribPointer(i+r,4,d.type,d.normalized,d.stride,d.offset+16*r+o),p.enableVertexAttribArray(i+r),d.divisor>0&&t.gl?.vertexAttribDivisor(i+r,d.divisor);else console.error("Unsupported vertex attribute element count: "+d.count);if((0,s.en)()){let r=u(t),i=(0,a._)(d.type),s=d.offset,c=Math.round(i/s)!==i/s?`. Offset not a multiple of stride. DataType requires ${i} bytes, but descriptor has an offset of ${s}`:"";r&&console.error(`Unable to bind vertex attribute "${d.name}" with baseInstanceOffset ${o}${c}:`,r,d)}}}function c(t,r,i,s){let a=t.gl;for(let o of(t.bindBuffer(i),s)){let i=r.get(o.name);if(o.count<=4)a.disableVertexAttribArray(i),o.divisor&&o.divisor>0&&t.gl?.vertexAttribDivisor(i,0);else if(9===o.count)for(let r=0;r<3;r++)a.disableVertexAttribArray(i+r),o.divisor&&o.divisor>0&&t.gl?.vertexAttribDivisor(i+r,0);else if(16===o.count)for(let r=0;r<4;r++)a.disableVertexAttribArray(i+r),o.divisor&&o.divisor>0&&t.gl?.vertexAttribDivisor(i+r,0);else console.error("Unsupported vertex attribute element count: "+o.count)}t.unbindBuffer(o.NZ.ARRAY_BUFFER)}function p(t){switch(t){case o.Ab.ALPHA:case o.Ab.LUMINANCE:case o.Ab.RED:case o.Ab.RED_INTEGER:case o.H0.R8:case o.H0.R8I:case o.H0.R8UI:case o.H0.R8_SNORM:case o.yQ.STENCIL_INDEX8:return 1;case o.Ab.LUMINANCE_ALPHA:case o.Ab.RG:case o.Ab.RG_INTEGER:case o.H0.RGBA4:case o.H0.R16F:case o.H0.R16I:case o.H0.R16UI:case o.H0.RG8:case o.H0.RG8I:case o.H0.RG8UI:case o.H0.RG8_SNORM:case o.H0.RGB565:case o.H0.RGB5_A1:case o.yQ.DEPTH_COMPONENT16:return 2;case o.Ab.DEPTH_COMPONENT:case o.Ab.RGB:case o.Ab.RGB_INTEGER:case o.H0.RGB8:case o.H0.RGB8I:case o.H0.RGB8UI:case o.H0.RGB8_SNORM:case o.H0.SRGB8:case o.yQ.DEPTH_COMPONENT24:return 3;case o.Ab.DEPTH_STENCIL:case o.Ab.DEPTH24_STENCIL8:case o.Ab.RGBA:case o.Ab.RGBA_INTEGER:case o.H0.RGBA8:case o.H0.R32F:case o.H0.R11F_G11F_B10F:case o.H0.RG16F:case o.H0.R32I:case o.H0.R32UI:case o.H0.RG16I:case o.H0.RG16UI:case o.H0.RGBA8I:case o.H0.RGBA8UI:case o.H0.RGBA8_SNORM:case o.H0.SRGB8_ALPHA8:case o.H0.RGB9_E5:case o.H0.RGB10_A2UI:case o.H0.RGB10_A2:case o.yQ.DEPTH_STENCIL:case o.yQ.DEPTH_COMPONENT32F:case o.yQ.DEPTH24_STENCIL8:return 4;case o.yQ.DEPTH32F_STENCIL8:return 5;case o.H0.RGB16F:case o.H0.RGB16I:case o.H0.RGB16UI:return 6;case o.H0.RG32F:case o.H0.RG32I:case o.H0.RG32UI:case o.H0.RGBA16F:case o.H0.RGBA16I:case o.H0.RGBA16UI:return 8;case o.H0.RGB32F:case o.H0.RGB32I:case o.H0.RGB32UI:return 12;case o.H0.RGBA32F:case o.H0.RGBA32I:case o.H0.RGBA32UI:return 16;case o.CQ.COMPRESSED_RGB_S3TC_DXT1_EXT:case o.CQ.COMPRESSED_RGBA_S3TC_DXT1_EXT:return .5;case o.CQ.COMPRESSED_RGBA_S3TC_DXT3_EXT:case o.CQ.COMPRESSED_RGBA_S3TC_DXT5_EXT:return 1;case o.CQ.COMPRESSED_R11_EAC:case o.CQ.COMPRESSED_SIGNED_R11_EAC:case o.CQ.COMPRESSED_RGB8_ETC2:case o.CQ.COMPRESSED_SRGB8_ETC2:case o.CQ.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2:case o.CQ.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2:return .5;case o.CQ.COMPRESSED_RG11_EAC:case o.CQ.COMPRESSED_SIGNED_RG11_EAC:case o.CQ.COMPRESSED_RGBA8_ETC2_EAC:case o.CQ.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:return 1}return 0}},90304:(t,r,i)=>{function s(t,r){for(let i of t.values())if(r(i))return!0;return!1}function o(t,r){for(let i of t.values())if(r(i))return i;return null}function a(t,r,i){let s=t.get(r);if(void 0!==s)return s;let o=i();return t.set(r,o),o}function u(t){let r=new Map;return i=>(r.has(i)||r.set(i,t(i)),r.get(i))}i.d(r,{$n:()=>o,Bj:()=>u,Bs:()=>s,tE:()=>a})},90525:(t,r,i)=>{i.d(r,{$1:()=>et,$z:()=>K,An:()=>R,BQ:()=>ea,DB:()=>Q,FL:()=>B,FX:()=>$,Hg:()=>en,Il:()=>ey,N9:()=>eo,S8:()=>W,T1:()=>eg,UC:()=>em,V1:()=>H,XJ:()=>ev,Xq:()=>I,Zo:()=>eS,_0:()=>eT,a6:()=>eM,b8:()=>U,e7:()=>ef,fj:()=>J,gd:()=>C,lJ:()=>ee,lM:()=>ed,m3:()=>eu,nM:()=>eh,oP:()=>Y,oy:()=>D,r$:()=>ei,rs:()=>eb,s0:()=>A,s2:()=>q,sC:()=>G,s_:()=>N,tk:()=>es,ut:()=>V,w8:()=>X,x0:()=>P,xw:()=>eA,yM:()=>k,zf:()=>O,zi:()=>ew,zs:()=>j});var s=i(48767),o=i(31461),a=i(32391),u=i(92713),d=i(61939),c=i(47326),p=i(82279);let h=()=>d.A.getLogger("esri.core.urlUtils"),f=s.A.request,y="esri/config: esriConfig.request.proxyUrl is not set.",m=/^\s*[a-z][a-z0-9-+.]*:(?![0-9])/i,g=/^\s*http:/i,_=/^\s*https:/i,v=/^\s*file:/i,w=/:\d+$/,b=/^https?:\/\/[^/]+\.arcgis.com\/sharing(\/|$)/i,M=RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?$"),S=RegExp("^((([^[:]+):)?([^@]+)@)?(\\[([^\\]]+)\\]|([^[:]*))(:([0-9]+))?$");class A{constructor(t=""){this.uri=t,this.scheme=null,this.authority=null,this.path=null,this.query=null,this.fragment=null,this.user=null,this.password=null,this.host=null,this.port=null;let r=this.uri.match(M);this.scheme=r[2]||(r[1]?"":null),this.authority=r[4]||(r[3]?"":null),this.path=r[5],this.query=r[7]||(r[6]?"":null),this.fragment=r[9]||(r[8]?"":null),null!=this.authority&&(r=this.authority.match(S),this.user=r[3]||null,this.password=r[4]||null,this.host=r[6]||r[7],this.port=r[9]||null)}toString(){return this.uri}}let T={},x=new A(s.A.applicationUrl),E=function(){let t=x.path,r=t.slice(0,t.lastIndexOf("/")+1);return`${x.scheme}://${x.host}${null!=x.port?`:${x.port}`:""}${r}`}(),I=()=>x,C=()=>E;function R(t){if(!t)return null;let r={path:null,query:null},i=new A(t),s=t.indexOf("?");return null===i.query?r.path=t:(r.path=t.slice(0,s),r.query=O(i.query)),i.fragment&&(r.hash=i.fragment,null===i.query&&(r.path=r.path.slice(0,r.path.length-(i.fragment.length+1)))),r}function O(t){let r=t.split("&"),i={};for(let t of r){let r,s;if(!t)continue;let o=t.indexOf("=");o<0?(r=decodeURIComponent(t),s=""):(r=decodeURIComponent(t.slice(0,o)),s=decodeURIComponent(t.slice(o+1)));let a=i[r];"string"==typeof a&&(a=i[r]=[a]),Array.isArray(a)?a.push(s):i[r]=s}return i}function P(t,r){return t?r&&"function"==typeof r?Object.keys(t).map(i=>encodeURIComponent(i)+"="+encodeURIComponent(r(i,t[i]))).join("&"):Object.keys(t).map(i=>{let s=t[i];if(null==s)return"";let o=encodeURIComponent(i)+"=",a=r?.[i];return a?o+encodeURIComponent(a(s)):Array.isArray(s)?s.map(t=>u.A.isSerializable(t)?o+encodeURIComponent(JSON.stringify(t)):o+encodeURIComponent(t)).join("&"):u.A.isSerializable(s)?o+encodeURIComponent(JSON.stringify(s)):o+encodeURIComponent(s)}).filter(t=>t).join("&"):""}function N(t=!1){let r,i=f.proxyUrl;if("string"==typeof t){r=eu(t);let s=j(t);s&&(i=s.proxyUrl)}else r=!!t;if(!i)throw h().warn(y),new a.A("urlUtils:proxy-not-set",y);return r&&ec()&&(i=ed(i)),R(i)}function k(t,r=!1){let i,s,o=j(t);if(o){let t=F(o.proxyUrl);i=t.path,s=t.query?O(t.query):null}else if(r){let r=N(t);i=r.path,s=r.query}if(i){let r=R(t);t=i+"?"+r.path;let o=P({...s,...r.query});o&&(t=`${t}?${o}`)}return t}let L={path:"",query:""};function F(t){let r=t.indexOf("?");return -1!==r?(L.path=t.slice(0,r),L.query=t.slice(r+1)):(L.path=t,L.query=null),L}function Z(t){return t=(t=ep(t=ey(t=F(t).path),!0)).toLowerCase()}function D(t){let r={proxyUrl:t.proxyUrl,urlPrefix:Z(t.urlPrefix)},i=f.proxyRules,s=r.urlPrefix,o=i.length;for(let t=0;t<i.length;t++){let r=i[t].urlPrefix;if(0===s.indexOf(r)){if(s.length===r.length)return -1;o=t;break}0===r.indexOf(s)&&(o=t+1)}return i.splice(o,0,r),o}function j(t){let r=f.proxyRules,i=Z(t);for(let t=0;t<r.length;t++)if(0===i.indexOf(r[t].urlPrefix))return r[t]}function U(t,r){if(!t||!r)return!1;t=z(t),r=z(r);let i=(0,c.py)(t),s=(0,c.py)(r);return null!=i&&null!=s?i.portalHostname===s.portalHostname:null==i&&null==s&&$(t,r,!0)}function V(t,r){return t=z(t),r=z(r),ep(t)===ep(r)}function z(t){let r=(t=W(t)).indexOf("/sharing");return r>0?t.slice(0,r):t.replace(/\/+$/,"")}function G(t,r=f.interceptors){let i=r=>null==r||r instanceof RegExp&&r.test(t)||"string"==typeof r&&t.startsWith(r);if(r){for(let t of r)if(Array.isArray(t.urls)){if(t.urls.some(i))return t}else if(i(t.urls))return t}return null}function $(t,r,i=!1){if(!t||!r)return!1;let s=e_(t),o=e_(r);return!(!i&&s.scheme!==o.scheme)&&null!=s.host&&null!=o.host&&s.host.toLowerCase()===o.host.toLowerCase()&&s.port===o.port}function B(t){if("string"==typeof t){if(!Y(t))return!0;t=e_(t)}if($(t,x))return!0;let r=f.trustedServers||[];for(let s=0;s<r.length;s++){var i;let o=(T[i=r[s]]||(el(i)||ea(i)?T[i]=[new A(q(i))]:T[i]=[new A(`http://${i}`),new A(`https://${i}`)]),T[i]);for(let r=0;r<o.length;r++)if($(t,o[r]))return!0}return!1}function q(t,r=E,i){return ea(t)?i?.preserveProtocolRelative?t:"http"===x.scheme&&x.authority===K(t).slice(2)?`http:${t}`:`https:${t}`:el(t)?t:J("/"===t[0]?function(t){let r=t.indexOf("//"),i=t.indexOf("/",r+2);return -1===i?t:t.slice(0,i)}(r):r,t)}function H(t,r=E,i){if(null==t||!Y(t))return t;let s=W(t),o=s.toLowerCase(),a=W(r).toLowerCase().replace(/\/+$/,""),u=i?W(i).toLowerCase().replace(/\/+$/,""):null;if(u&&0!==a.indexOf(u))return t;let d=(t,r,i)=>-1===(i=t.indexOf(r,i))?t.length:i,c=d(o,"/",o.indexOf("//")+2),p=-1;for(;o.slice(0,c+1)===a.slice(0,c)+"/"&&(p=c+1,c!==o.length);)c=d(o,"/",c+1);if(-1===p||u&&p<u.length)return t;t=s.slice(p);let h=a.slice(p-1).replaceAll(/[^/]+/g,"").length;if(h>0)for(let r=0;r<h;r++)t=`../${t}`;else t=`./${t}`;return t}function W(t){return t=function(t){var r;let i,s=f.httpsDomains;if(!(null!=(r=t)&&g.test(r)||"http"===x.scheme&&ea(r)))return t;let o=t.indexOf("/",7);if(i=(i=-1===o?t:t.slice(0,o)).toLowerCase().slice(7),w.test(i)){if(!i.endsWith(":80"))return t;i=i.slice(0,-3),t=t.replace(":80","")}return"http"===x.scheme&&i===x.authority&&!b.test(t)||(ec()&&i===x.authority||s&&s.some(t=>i===t||i.endsWith(`.${t}`))||ec()&&!j(t))&&(t=ed(t)),t}(t=(t=function(t){if(/^https?:\/\//i.test(t)){let r=F(t);t=(t=r.path.replaceAll(/\/{2,}/g,"/")).replace("/","//"),r.query&&(t+=`?${r.query}`)}return t}(t=q(t=t.trim()))).replace(/^(https?:\/\/)(arcgis\.com)/i,"$1www.$2"))}function J(...t){let r=t.filter(o.Ru);if(!r?.length)return;let i=[];if(Y(r[0])){var s;let t=r[0],o=t.indexOf("//");-1!==o&&(i.push(t.slice(0,o+1)),null!=(s=r[0])&&v.test(s)&&(i[0]+="/"),r[0]=t.slice(o+2))}else"/"===r[0][0]&&i.push("");let a=r.reduce((t,r)=>r?t.concat(r.split("/")):t,[]);for(let t=0;t<a.length;t++){let r=a[t];".."===r&&i.length>0&&".."!==i[i.length-1]?i.pop():(!r&&t===a.length-1||r&&("."!==r||0===i.length))&&i.push(r)}return i.join("/")}function K(t,r=!1){if(null==t||X(t)||Q(t))return null;let i=t.indexOf("://");if(-1===i&&ea(t))i=2;else{if(-1===i)return null;i+=3}let s=t.indexOf("/",i);return -1!==s&&(t=t.slice(0,s)),r&&(t=ep(t,!0)),t}function Y(t){return ea(t)||el(t)}function X(t){return null!=t&&"blob:"===t.slice(0,5)}function Q(t){return null!=t&&"data:"===t.slice(0,5)}function ee(t){let r=ei(t);return r?.isBase64?(0,p.M)(r.data):null}function et(t){return(0,p.Y)(t).replaceAll("+","-").replaceAll("/","_").replace(/=+$/,"")}let er=/^data:(.*?)(;base64)?,(.*)$/;function ei(t){let r=t.match(er);if(!r)return null;let[,i,s,o]=r;return{mediaType:i,isBase64:!!s,data:o}}function en(t){return t.isBase64?`data:${t.mediaType};base64,${t.data}`:`data:${t.mediaType},${t.data}`}async function es(t){return(await fetch(t)).blob()}function eo(t){let r=ee(t);return r?new Blob([r],{type:ei(t).mediaType}):null}function ea(t){return null!=t&&"/"===t[0]&&"/"===t[1]}function el(t){return null!=t&&m.test(t)}function eu(t){return null!=t&&_.test(t)||"https"===x.scheme&&ea(t)}function ed(t){return ea(t)?`https:${t}`:t.replace(g,"https:")}function ec(){return"https"===x.scheme}function ep(t,r=!1){return ea(t)?t.slice(2):(t=t.replace(m,""),r&&t.length>1&&"/"===t[0]&&"/"===t[1]&&(t=t.slice(2)),t)}function eh(t){let r=0;if(Y(t)){let i=t.indexOf("//");-1!==i&&(r=i+2)}let i=t.lastIndexOf("/");return i<r?t:t.slice(0,i+1)}function ef(t,r){if(!t)return"";let i=R(t).path.replace(/\/+$/,""),s=i.slice(i.lastIndexOf("/")+1);if(!r?.length)return s;let o=RegExp(`\\.(${r.join("|")})$`,"i");return s.replace(o,"")}function ey(t){return t.endsWith("/")?t:`${t}/`}function em(t){return t.replace(/\/+$/,"")}function eg(t,r,i){if(!(r&&i&&t&&Y(t)))return t;let s=t.indexOf("//"),o=t.indexOf("/",s+2),a=t.indexOf(":",s+2),u=Math.min(o<0?t.length:o,a<0?t.length:a);return t.slice(s+2,u).toLowerCase()!==r.toLowerCase()?t:`${t.slice(0,s+2)}${i}${t.slice(u)}`}function e_(t){return"string"==typeof t?new A(q(t)):(t.scheme||(t.scheme=x.scheme),t)}function ev(t){return eE.test(t)}function ew(t,r){let i=R(t),s=Object.keys(i.query||{});return s.length>0&&r&&r.warn("removeQueryParameters()",`Url query parameters are not supported, the following parameters have been removed: ${s.join(", ")}.`),i.path}function eb(t,r,i){let s=R(t),o=s.query||{};return o[r]=String(i),`${s.path}?${P(o)}`}function eM(t,r){if(!r)return t;let i=R(t),s=i.query||{};for(let[t,i]of Object.entries(r))null!=i&&(s[t]=i);let o=P(s);return o?`${i.path}?${o}`:i.path}function eS(t){if(null==t)return null;let r=t.match(ex);return r?r[2]:null}function eA(t){if(null==t)return null;let r=t.match(ex);return r?{path:r[1],extension:r[2]}:{path:t,extension:null}}async function eT(t){return"string"==typeof t?ei(t)??{data:t}:new Promise((r,i)=>{let s=new FileReader;s.readAsDataURL(t),s.onload=()=>r(ei(s.result)),s.onerror=t=>i(t)})}let ex=/([^.]*)\.([^/]*)$/,eE=/(^data:image\/svg|\.svg$)/i},90550:(t,r,i)=>{i.r(r),i.d(r,{default:()=>F});var s,o=i(81856),a=i(39166),u=i(54335),d=i(61096),c=i(92713),p=i(33715),h=i(31551),f=i(43650),y=i(61939),m=i(40941),g=i(92753),_=i(90525),v=i(91838);i(57845);var w=i(12709),b=i(7780),M=i(91463),S=i(14307),A=i(28015),T=i(12340);i(40970);var x=i(28690);i(33638);var E=i(28105),I=i(97915);let C=class extends x.A{constructor(t){super(t),this.apiKey=null,this.id=null,this.language=null,this.places=null,this.serviceUrl="https://basemapstyles-api.arcgis.com/arcgis/rest/services/styles/v2",this.worldview=null}get languageParameter(){let t=this.language,r="local"===t||"global"===t?t:(0,I.xO)(t??(0,E.JK)())??"global";return"no"===r?"nb":r}};(0,o._)([(0,v.MZ)()],C.prototype,"apiKey",void 0),(0,o._)([(0,v.MZ)()],C.prototype,"id",void 0),(0,o._)([(0,v.MZ)()],C.prototype,"language",void 0),(0,o._)([(0,v.MZ)()],C.prototype,"places",void 0),(0,o._)([(0,v.MZ)()],C.prototype,"serviceUrl",void 0),(0,o._)([(0,v.MZ)()],C.prototype,"worldview",void 0);let R=C=(0,o._)([(0,w.$)("esri.support.BasemapStyle")],C);var O=i(20258);let P=0,N=s=class extends c.A.JSONSupportMixin(h.A){constructor(t){super(t),this.id=null,this.portalItem=null,this.spatialReference=null,this.style=null,this.thumbnailUrl=null,this.title="Basemap",this.id=Date.now().toString(16)+"-basemap-"+P++,this.baseLayers=new u.A,this.referenceLayers=new u.A;let r=t=>{t.parent&&t.parent!==this&&"remove"in t.parent&&t.parent.remove(t),t.parent=this,"elevation"===t.type&&y.A.getLogger(this).error(`Layer '${t.title}, id:${t.id}' of type '${t.type}' is not supported as a basemap layer and will therefore be ignored.`)},i=t=>{t.parent=null};this.addHandles([this.baseLayers.on("after-add",t=>r(t.item)),this.referenceLayers.on("after-add",t=>r(t.item)),this.baseLayers.on("after-remove",t=>i(t.item)),this.referenceLayers.on("after-remove",t=>i(t.item))])}initialize(){this.when().catch(t=>{y.A.getLogger(this).error("#load()",`Failed to load basemap (title: '${this.title}', id: '${this.id}')`,t)}),this.resourceInfo&&this.read(this.resourceInfo.data,this.resourceInfo.context)}destroy(){for(let t of this.baseLayers.toArray())t.destroy();for(let t of this.referenceLayers.toArray())t.destroy();this.baseLayers.destroy(),this.referenceLayers.destroy(),this.portalItem=(0,m.pR)(this.portalItem)}normalizeCtorArgs(t){return t&&"resourceInfo"in t&&(this._set("resourceInfo",t.resourceInfo),delete(t={...t}).resourceInfo),t}set baseLayers(t){this._set("baseLayers",(0,d.V)(t,this._get("baseLayers")))}_writeBaseLayers(t,r,i){let s=[];t&&(i={...i,layerContainerType:"basemap"},this.baseLayers.forEach(t=>{let r=(0,O.CJ)(t,i.webmap?i.webmap.getLayerJSONFromResourceInfo(t):null,i);null!=r&&s.push(r)}),this.referenceLayers.forEach(t=>{let r=(0,O.CJ)(t,i.webmap?i.webmap.getLayerJSONFromResourceInfo(t):null,i);null!=r&&("scene"!==t.type&&(r.isReference=!0),s.push(r))})),r.baseMapLayers=s}set referenceLayers(t){this._set("referenceLayers",(0,d.V)(t,this._get("referenceLayers")))}writeTitle(t,r){r.title=t||"Basemap"}load(t){return this.addResolvingPromise(this._loadFromSource(t)),Promise.resolve(this)}loadAll(){return(0,f.g)(this,t=>{t(this.baseLayers,this.referenceLayers)})}clone(){let t={id:this.id,title:this.title,portalItem:this.portalItem,baseLayers:this.baseLayers.map(t=>(0,p.Nb)(t)?t.clone():t),referenceLayers:this.referenceLayers.map(t=>(0,p.Nb)(t)?t.clone():t)};return this.loaded&&(t.loadStatus="loaded"),new s({resourceInfo:this.resourceInfo}).set(t)}read(t,r){this.resourceInfo||this._set("resourceInfo",{data:t,context:r}),super.read(t,r)}write(t,r){return t=t||{},r?.origin||(r={origin:"web-map",...r}),super.write(t,r),!this.loaded&&this.resourceInfo?.data.baseMapLayers&&(t.baseMapLayers=this.resourceInfo.data.baseMapLayers.map(t=>{let r=(0,p.o8)(t);return r.url&&(0,_.BQ)(r.url)&&(r.url=`https:${r.url}`),r.templateUrl&&(0,_.BQ)(r.templateUrl)&&(r.templateUrl=`https:${r.templateUrl}`),r})),t}async _loadFromSource(t){let{resourceInfo:r,portalItem:i,style:s}=this;(0,g.Te)(t);let o=[];if(r){let i=r.context?r.context.url:null;if(o.push(this._loadLayersFromJSON(r.data,i,t)),r.data.id&&!r.data.title){let t=r.data.id;o.push((0,T.q)(t).then(t=>{t&&this.read({title:t},r.context)}))}}else i?o.push(this._loadFromItem(i,t)):s&&o.push(this._loadFromStylesService(s,t));await Promise.all(o)}async _loadLayersFromJSON(t,r,s){let o=this.resourceInfo?.context,a=this.portalItem?.portal||o?.portal||null,u=L[o?.origin||""]??"web-map",{populateOperationalLayers:d}=await i.e(2652).then(i.bind(i,92652)),c=[];if((0,g.Te)(s),t.baseMapLayers&&Array.isArray(t.baseMapLayers)){let i={context:{...o,origin:u,url:r,portal:a,layerContainerType:"basemap"},defaultLayerType:"DefaultTileLayer"},s=t=>"web-scene"===u&&"ArcGISSceneServiceLayer"===t.layerType||t.isReference,p=d(this.baseLayers,t.baseMapLayers.filter(t=>!s(t)),i);c.push(p);let h=d(this.referenceLayers,t.baseMapLayers.filter(s),i);c.push(h)}await Promise.allSettled(c)}async _loadFromItem(t,r){let i=await t.load(r),s=await i.fetchData("json",r),o=(0,_.An)(t.itemUrl??"");return this._set("resourceInfo",{data:s.baseMap??{},context:{origin:k[t.type||""]??"web-map",portal:t.portal||S.A.getDefault(),url:o}}),this.read(this.resourceInfo.data,this.resourceInfo.context),this.read({spatialReference:s.spatialReference},this.resourceInfo.context),this.read({title:t.title,thumbnailUrl:t.thumbnailUrl},{origin:"portal-item",portal:t.portal||S.A.getDefault(),url:o}),this._loadLayersFromJSON(this.resourceInfo.data,o,r)}async _loadFromStylesService(t,r){let i=t.serviceUrl.endsWith("/webmaps")?t.serviceUrl.slice(0,-8):t.serviceUrl,s=`${i}/styles/${t.id}/self`,o=`${i}/webmaps/${t.id}`,[u,d]=await Promise.all([(await (0,a.A)(s,{query:{token:t.apiKey},signal:r?.signal})).data,(await (0,a.A)(o,{query:{language:t.languageParameter,places:t.places,worldview:t.worldview,token:t.apiKey},signal:r?.signal})).data]);this.thumbnailUrl??=u.thumbnailUrl;let c=(0,_.An)(o);if(this._set("resourceInfo",{data:d.baseMap??{},context:{origin:"web-map",url:c}}),this.read(this.resourceInfo.data,this.resourceInfo.context),this.read({spatialReference:d.spatialReference},this.resourceInfo.context),await this._loadLayersFromJSON(this.resourceInfo.data,c,r),t.apiKey)for(let r of[...this.baseLayers,...this.referenceLayers])"apiKey"in r&&(r.apiKey=t.apiKey)}static fromId(t){let r=T.H[t];return r?r.itemId?new s({portalItem:{id:r.itemId,portal:{url:"https://www.arcgis.com"}}}):s.fromJSON(r,{origin:r.is3d?"web-scene":"web-map"}):null}};(0,o._)([(0,v.MZ)({json:{write:{ignoreOrigin:!0,target:"baseMapLayers",writer(t,r,i,s){this._writeBaseLayers(t,r,s)}},origins:{"web-scene":{write:{ignoreOrigin:!0,target:{baseMapLayers:{type:u.A}},writer(t,r,i,s){this._writeBaseLayers(t,r,s)}}}}}})],N.prototype,"baseLayers",null),(0,o._)([(0,v.MZ)({type:String,json:{origins:{"web-scene":{write:!0}}}})],N.prototype,"id",void 0),(0,o._)([(0,v.MZ)({type:A.default})],N.prototype,"portalItem",void 0),(0,o._)([(0,v.MZ)()],N.prototype,"referenceLayers",null),(0,o._)([(0,v.MZ)({readOnly:!0})],N.prototype,"resourceInfo",void 0),(0,o._)([(0,v.MZ)({type:M.A})],N.prototype,"spatialReference",void 0),(0,o._)([(0,v.MZ)({type:R})],N.prototype,"style",void 0),(0,o._)([(0,v.MZ)()],N.prototype,"thumbnailUrl",void 0),(0,o._)([(0,v.MZ)({type:String,json:{origins:{"web-scene":{write:{isRequired:!0}}}}})],N.prototype,"title",void 0),(0,o._)([(0,b.K)("title")],N.prototype,"writeTitle",null);let k={"Web Scene":"web-scene","Web Map":"web-map","Link Chart":"link-chart"},L={"web-scene":"web-scene","web-map":"web-map","link-chart":"link-chart"},F=N=s=(0,o._)([(0,w.$)("esri.Basemap")],N)},90628:(t,r,i)=>{i.d(r,{ZS:()=>d,hv:()=>c,wr:()=>p,P6:()=>u});var s=i(93682);let o=new Map([["AUS Central Standard Time","Australia/Darwin"],["AUS Eastern Standard Time","Australia/Sydney"],["Afghanistan Standard Time","Asia/Kabul"],["Alaskan Standard Time","America/Anchorage"],["Aleutian Standard Time","America/Adak"],["Altai Standard Time","Asia/Barnaul"],["Arab Standard Time","Asia/Riyadh"],["Arabian Standard Time","Asia/Dubai"],["Arabic Standard Time","Asia/Baghdad"],["Argentina Standard Time","America/Buenos_Aires"],["Astrakhan Standard Time","Europe/Astrakhan"],["Atlantic Standard Time","America/Halifax"],["Aus Central W. Standard Time","Australia/Eucla"],["Azerbaijan Standard Time","Asia/Baku"],["Azores Standard Time","Atlantic/Azores"],["Bahia Standard Time","America/Bahia"],["Bangladesh Standard Time","Asia/Dhaka"],["Belarus Standard Time","Europe/Minsk"],["Bougainville Standard Time","Pacific/Bougainville"],["Canada Central Standard Time","America/Regina"],["Cape Verde Standard Time","Atlantic/Cape_Verde"],["Caucasus Standard Time","Asia/Yerevan"],["Cen. Australia Standard Time","Australia/Adelaide"],["Central America Standard Time","America/Guatemala"],["Central Asia Standard Time","Asia/Bishkek"],["Central Brazilian Standard Time","America/Cuiaba"],["Central Europe Standard Time","Europe/Budapest"],["Central European Standard Time","Europe/Warsaw"],["Central Pacific Standard Time","Pacific/Guadalcanal"],["Central Standard Time","America/Chicago"],["Central Standard Time (Mexico)","America/Mexico_City"],["Chatham Islands Standard Time","Pacific/Chatham"],["China Standard Time","Asia/Shanghai"],["Cuba Standard Time","America/Havana"],["Dateline Standard Time","Etc/GMT+12"],["E. Africa Standard Time","Africa/Nairobi"],["E. Australia Standard Time","Australia/Brisbane"],["E. Europe Standard Time","Europe/Chisinau"],["E. South America Standard Time","America/Sao_Paulo"],["Easter Island Standard Time","Pacific/Easter"],["Eastern Standard Time","America/New_York"],["Eastern Standard Time (Mexico)","America/Cancun"],["Egypt Standard Time","Africa/Cairo"],["Ekaterinburg Standard Time","Asia/Yekaterinburg"],["FLE Standard Time","Europe/Kiev"],["Fiji Standard Time","Pacific/Fiji"],["GMT Standard Time","Europe/London"],["GTB Standard Time","Europe/Bucharest"],["Georgian Standard Time","Asia/Tbilisi"],["Greenland Standard Time","America/Godthab"],["Greenwich Standard Time","Atlantic/Reykjavik"],["Haiti Standard Time","America/Port-au-Prince"],["Hawaiian Standard Time","Pacific/Honolulu"],["India Standard Time","Asia/Calcutta"],["Iran Standard Time","Asia/Tehran"],["Israel Standard Time","Asia/Jerusalem"],["Jordan Standard Time","Asia/Amman"],["Kaliningrad Standard Time","Europe/Kaliningrad"],["Korea Standard Time","Asia/Seoul"],["Libya Standard Time","Africa/Tripoli"],["Line Islands Standard Time","Pacific/Kiritimati"],["Lord Howe Standard Time","Australia/Lord_Howe"],["Magadan Standard Time","Asia/Magadan"],["Magallanes Standard Time","America/Punta_Arenas"],["Marquesas Standard Time","Pacific/Marquesas"],["Mauritius Standard Time","Indian/Mauritius"],["Middle East Standard Time","Asia/Beirut"],["Montevideo Standard Time","America/Montevideo"],["Morocco Standard Time","Africa/Casablanca"],["Mountain Standard Time","America/Denver"],["Mountain Standard Time (Mexico)","America/Mazatlan"],["Myanmar Standard Time","Asia/Rangoon"],["N. Central Asia Standard Time","Asia/Novosibirsk"],["Namibia Standard Time","Africa/Windhoek"],["Nepal Standard Time","Asia/Katmandu"],["New Zealand Standard Time","Pacific/Auckland"],["Newfoundland Standard Time","America/St_Johns"],["Norfolk Standard Time","Pacific/Norfolk"],["North Asia East Standard Time","Asia/Irkutsk"],["North Asia Standard Time","Asia/Krasnoyarsk"],["North Korea Standard Time","Asia/Pyongyang"],["Omsk Standard Time","Asia/Omsk"],["Pacific SA Standard Time","America/Santiago"],["Pacific Standard Time","America/Los_Angeles"],["Pacific Standard Time (Mexico)","America/Tijuana"],["Pakistan Standard Time","Asia/Karachi"],["Paraguay Standard Time","America/Asuncion"],["Qyzylorda Standard Time","Asia/Qyzylorda"],["Romance Standard Time","Europe/Paris"],["Russia Time Zone 10","Asia/Srednekolymsk"],["Russia Time Zone 11","Asia/Kamchatka"],["Russia Time Zone 3","Europe/Samara"],["Russian Standard Time","Europe/Moscow"],["SA Eastern Standard Time","America/Cayenne"],["SA Pacific Standard Time","America/Bogota"],["SA Western Standard Time","America/La_Paz"],["SE Asia Standard Time","Asia/Bangkok"],["Saint Pierre Standard Time","America/Miquelon"],["Sakhalin Standard Time","Asia/Sakhalin"],["Samoa Standard Time","Pacific/Apia"],["Sao Tome Standard Time","Africa/Sao_Tome"],["Saratov Standard Time","Europe/Saratov"],["Singapore Standard Time","Asia/Singapore"],["South Africa Standard Time","Africa/Johannesburg"],["South Sudan Standard Time","Africa/Juba"],["Sri Lanka Standard Time","Asia/Colombo"],["Sudan Standard Time","Africa/Khartoum"],["Syria Standard Time","Asia/Damascus"],["Taipei Standard Time","Asia/Taipei"],["Tasmania Standard Time","Australia/Hobart"],["Tocantins Standard Time","America/Araguaina"],["Tokyo Standard Time","Asia/Tokyo"],["Tomsk Standard Time","Asia/Tomsk"],["Tonga Standard Time","Pacific/Tongatapu"],["Transbaikal Standard Time","Asia/Chita"],["Turkey Standard Time","Europe/Istanbul"],["Turks And Caicos Standard Time","America/Grand_Turk"],["US Eastern Standard Time","America/Indianapolis"],["US Mountain Standard Time","America/Phoenix"],["UTC","Etc/GMT"],["UTC+01","Etc/GMT-1"],["UTC+02","Etc/GMT-2"],["UTC+03","Etc/GMT-3"],["UTC+04","Etc/GMT-4"],["UTC+05","Etc/GMT-5"],["UTC+06","Etc/GMT-6"],["UTC+07","Etc/GMT-7"],["UTC+08","Etc/GMT-8"],["UTC+09","Etc/GMT-9"],["UTC+10","Etc/GMT-10"],["UTC+11","Etc/GMT-11"],["UTC+12","Etc/GMT-12"],["UTC+13","Etc/GMT-13"],["UTC+14","Etc/GMT-14"],["UTC-01","Etc/GMT+1"],["UTC-02","Etc/GMT+2"],["UTC-03","Etc/GMT+3"],["UTC-04","Etc/GMT+4"],["UTC-05","Etc/GMT+5"],["UTC-06","Etc/GMT+6"],["UTC-07","Etc/GMT+7"],["UTC-08","Etc/GMT+8"],["UTC-09","Etc/GMT+9"],["UTC-10","Etc/GMT+10"],["UTC-11","Etc/GMT+11"],["UTC-12","Etc/GMT+12"],["Ulaanbaatar Standard Time","Asia/Ulaanbaatar"],["Venezuela Standard Time","America/Caracas"],["Vladivostok Standard Time","Asia/Vladivostok"],["Volgograd Standard Time","Europe/Volgograd"],["W. Australia Standard Time","Australia/Perth"],["W. Central Africa Standard Time","Africa/Lagos"],["W. Europe Standard Time","Europe/Berlin"],["W. Mongolia Standard Time","Asia/Hovd"],["West Asia Standard Time","Asia/Tashkent"],["West Bank Standard Time","Asia/Hebron"],["West Pacific Standard Time","Pacific/Port_Moresby"],["Yakutsk Standard Time","Asia/Yakutsk"],["Yukon Standard Time","America/Whitehorse"]]);var a=i(29593);function u(t,r=!1){return{json:{read:{source:t,reader:(r,i)=>i[t]?d(i[t]):null},write:!!r&&{allowNull:!0,writer(r,i){i[t]=r?{timeZoneIANA:r}:null}}}}}function d(t,r=s.qU){return t?"timeZoneIANA"in t?t.timeZoneIANA:function(t,r=s.qU){if(!t||!o.has(t.timeZone))return r;let i=o.get(t.timeZone);return t.timeZone.startsWith("UTC")||t.respectsDaylightSaving?i:function(t){let r=a.c9.local().setZone(t),i=Math.min(r.set({month:1,day:1}).offset,r.set({month:5}).offset);return 0===i?"Etc/UTC":`Etc/GMT${a.mQ.instance(-i).formatOffset(0,"narrow")}`}(i)}(t,r):r}function c(t,r,i,o,a){if(r&&"date"===a)return{timeZone:s.n$,timeZoneName:void 0};let u=o.timeStyle||o.hour,d=i===s.L5;return{timeZone:d?"timestamp-offset"===a?void 0:t??s.n$:i,timeZoneName:d&&u?"shortOffset":void 0}}function p(t){let r=new Set(["etc/utc","etc/gmt","gmt"]),i=new Set(Intl.supportedValuesOf("timeZone").map(t=>t.toLowerCase()));return t===s.qU||t===s.L5||r.has(t.toLowerCase())||i.has(t.toLowerCase())}},90707:(t,r,i)=>{i.d(r,{A:()=>h});var s,o=i(81856),a=i(91838);i(57845),i(61939),i(33638);var u=i(12709),d=i(71396),c=i(5741);let p=s=class extends c.A{constructor(t){super(t),this.expressionInfo=null,this.type="expression"}clone(){return new s({expressionInfo:this.expressionInfo?.clone()})}};(0,o._)([(0,a.MZ)({type:d.A,json:{write:!0}})],p.prototype,"expressionInfo",void 0),(0,o._)([(0,a.MZ)({type:["expression"],readOnly:!0,json:{read:!1,write:!0}})],p.prototype,"type",void 0);let h=p=s=(0,o._)([(0,u.$)("esri.popup.content.ExpressionContent")],p)},90715:(t,r,i)=>{var s,o,a;i.d(r,{PK:()=>s,SJ:()=>a,p7:()=>o}),function(t){t[t.USER=0]="USER",t[t.MANAGER=1]="MANAGER"}(s||(s={})),function(t){t[t.None=0]="None",t[t.Unfocused=1]="Unfocused",t[t.Focused=2]="Focused",t[t.Unselected=4]="Unselected",t[t.Selected=8]="Selected",t[t.All=15]="All"}(o||(o={})),function(t){t[t.None=0]="None",t[t.Custom1=16]="Custom1",t[t.Custom2=32]="Custom2",t[t.Custom3=64]="Custom3",t[t.Custom4=128]="Custom4",t[t.Custom5=256]="Custom5",t[t.Custom6=512]="Custom6",t[t.Custom7=1024]="Custom7",t[t.Custom8=2048]="Custom8",t[t.Custom9=4096]="Custom9",t[t.Custom10=8192]="Custom10",t[t.Custom11=16384]="Custom11",t[t.Custom12=32768]="Custom12",t[t.All=65520]="All"}(a||(a={}))},91184:(t,r,i)=>{i.d(r,{s:()=>a});var s=i(57845),o=i(63430);function a(){let t=(0,s.A)("mapview-essential-goto-duration");return null==t?t:(0,o.l5)(t)}},91463:(t,r,i)=>{i.d(r,{A:()=>_});var s,o=i(81856),a=i(28690),u=i(92713),d=i(33715),c=i(8922),p=i(86942),h=i(91838),f=i(12709),y=i(7780),m=i(71760);let g=s=class extends u.A{static fromJSON(t){if(!t)return null;if(102100===t?.wkid)return s.WebMercator;if(4326===t?.wkid)return s.WGS84;let r=new s;return r.read(t),r}constructor(t){super(t),this.latestWkid=null,this.wkid=null,this.wkt=null,this.wkt2=null,this.vcsWkid=null,this.latestVcsWkid=null,this.imageCoordinateSystem=null}normalizeCtorArgs(t){return t&&"object"==typeof t?t:{["string"==typeof t?"wkt":"wkid"]:t}}get isWGS84(){return(0,m.oT)(this)}get isWebMercator(){return(0,m.K8)(this)}get isGeographic(){return(0,m.EA)(this)}get isWrappable(){return(0,m.d9)(this)}get metersPerUnit(){return(0,c.GA)(this)}get unit(){return(0,c.Ij)(this)||(this.isGeographic?"degrees":null)}writeWkt(t,r){this.wkid||(r.wkt=t)}clone(){if(this===s.WGS84)return new s(m.KK);if(this===s.WebMercator)return new s(m.ch);let t=new s;return null!=this.wkid?(t.wkid=this.wkid,null!=this.latestWkid&&(t.latestWkid=this.latestWkid),null!=this.vcsWkid&&(t.vcsWkid=this.vcsWkid),null!=this.latestVcsWkid&&(t.latestVcsWkid=this.latestVcsWkid)):(null!=this.wkt&&(t.wkt=this.wkt),null!=this.wkt2&&(t.wkt2=this.wkt2)),this.imageCoordinateSystem&&(t.imageCoordinateSystem=(0,d.o8)(this.imageCoordinateSystem)),t}equals(t){if(null==t)return!1;if(this.imageCoordinateSystem||t.imageCoordinateSystem){if(null==this.imageCoordinateSystem||null==t.imageCoordinateSystem)return!1;let{id:r,referenceServiceName:i}=t.imageCoordinateSystem,{geodataXform:s}=t.imageCoordinateSystem,o=this.imageCoordinateSystem;return null==r||s?JSON.stringify(o)===JSON.stringify(t.imageCoordinateSystem):i?o.id===r&&o.referenceServiceName===i:o.id===r}return(0,m.aI)(this,t)}toJSON(t){return this.write(void 0,t)}};g.GCS_NAD_1927=null,g.WGS84=null,g.WebMercator=null,g.PlateCarree=null,(0,o._)([(0,h.MZ)({readOnly:!0})],g.prototype,"isWGS84",null),(0,o._)([(0,h.MZ)({readOnly:!0})],g.prototype,"isWebMercator",null),(0,o._)([(0,h.MZ)({readOnly:!0})],g.prototype,"isGeographic",null),(0,o._)([(0,h.MZ)({readOnly:!0})],g.prototype,"isWrappable",null),(0,o._)([(0,h.MZ)({type:p.jz,json:{write:!0}})],g.prototype,"latestWkid",void 0),(0,o._)([(0,h.MZ)({readOnly:!0})],g.prototype,"metersPerUnit",null),(0,o._)([(0,h.MZ)({readOnly:!0})],g.prototype,"unit",null),(0,o._)([(0,h.MZ)({type:p.jz,json:{write:!0,origins:{"web-scene":{write:{overridePolicy(){return{isRequired:null==this.wkt}}}}}}})],g.prototype,"wkid",void 0),(0,o._)([(0,h.MZ)({type:String,json:{origins:{"web-scene":{write:{overridePolicy(){return{isRequired:null==this.wkid}}}}}}})],g.prototype,"wkt",void 0),(0,o._)([(0,y.K)("wkt"),(0,y.K)("web-scene","wkt")],g.prototype,"writeWkt",null),(0,o._)([(0,h.MZ)({type:String,json:{write:!1}})],g.prototype,"wkt2",void 0),(0,o._)([(0,h.MZ)({type:p.jz,json:{write:!0}})],g.prototype,"vcsWkid",void 0),(0,o._)([(0,h.MZ)({type:p.jz,json:{write:!0}})],g.prototype,"latestVcsWkid",void 0),(0,o._)([(0,h.MZ)()],g.prototype,"imageCoordinateSystem",void 0),(g=s=(0,o._)([(0,f.$)("esri.geometry.SpatialReference")],g)).prototype.toJSON.isDefaultToJSON=!0,g.GCS_NAD_1927=a.A.freeze(new g({wkid:4267,wkt:'GEOGCS["GCS_North_American_1927",DATUM["D_North_American_1927",SPHEROID["Clarke_1866",6378206.4,294.9786982]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]]'})),g.WGS84=a.A.freeze(new g(m.KK)),g.WebMercator=a.A.freeze(new g(m.ch)),g.PlateCarree=a.A.freeze(new g(m.tQ));let _=g},91766:(t,r,i)=>{i.d(r,{A:()=>c});var s=i(81856),o=i(92713),a=i(91838),u=i(12709);let d=class extends o.A{constructor(t){super(t),this.description=null,this.label=null,this.type=null,this.visibilityExpression=null}};(0,s._)([(0,a.MZ)({type:String,json:{write:!0}})],d.prototype,"description",void 0),(0,s._)([(0,a.MZ)({type:String,json:{write:!0}})],d.prototype,"label",void 0),(0,s._)([(0,a.MZ)()],d.prototype,"type",void 0),(0,s._)([(0,a.MZ)({type:String,json:{write:!0}})],d.prototype,"visibilityExpression",void 0);let c=d=(0,s._)([(0,u.$)("esri.form.elements.Element")],d)},91838:(t,r,i)=>{i.d(r,{MZ:()=>c,rM:()=>p});var s=i(61939),o=i(86942),a=i(84588),u=i(94401),d=i(1360);function c(t={}){return(r,i)=>{if(r===Function.prototype)throw Error(`Inappropriate use of @property() on a static field: ${r.name}.${i}. Accessor does not support static properties.`);let c=Object.getOwnPropertyDescriptor(r,i),p=(0,u.z4)(r,i);c&&(c.get||c.set?(p.get=c.get||p.get,p.set=c.set||p.set):"value"in c&&("value"in t&&s.A.getLogger("esri.core.accessorSupport.decorators.property").warn(`@property() will redefine the value of "${i}" on "${r.constructor.name}" already defined in the metadata`,t),p.value=t.value=c.value)),null!=t.readOnly&&(p.readOnly=t.readOnly);let h=t.aliasOf;if(h){let t,r="string"==typeof h?h:h.source,s="string"==typeof h?null:!0===h.overridable;p.dependsOn=[r],p.get=function(){let i=(0,a.Jt)(this,r);if("function"==typeof i){t||(t=r.split(".").slice(0,-1).join("."));let s=(0,a.Jt)(this,t);s&&(i=i.bind(s))}return i},p.readOnly||(p.set=s?function(t){this._override(i,t)}:function(t){(0,d.h)(this,r,t)})}let f=t.type,y=t.types;if(!p.cast){let r;f?r=function(t){let r=0,i=t;if((0,o.Zu)(t))return(0,o.Nd)(t);for(;Array.isArray(i)&&1===i.length&&"string"!=typeof i[0]&&"number"!=typeof i[0];)i=i[0],r++;let s=i;return(0,o.EK)(s)?0===r?(0,o.MB)(s):(0,o._e)((0,o.MB)(s),r):1===r?(0,o.eC)(s):r>1?(0,o.e6)(s,r):t.from?t.from:(0,o.dp)(t)}(f):y&&(r=Array.isArray(y)?(0,o.wB)((0,o.aq)(y[0])):(0,o.aq)(y)),t.cast=function(t,r){if(t||r)return t?r?(i,s)=>r(t(i,s),s):t:r}(t.cast,r)}(0,u.CX)(p,t),t.range&&(p.cast=(0,o.Qp)(p.cast,t.range))}}function p(t,r,i){let s=(0,u.z4)(t,i);s.json||(s.json={});let o=s.json;return void 0!==r&&(o.origins||(o.origins={}),o.origins[r]||(o.origins[r]={}),o=o.origins[r]),o}},91839:(t,r,i)=>{i.d(r,{BI:()=>m,D3:()=>f,XJ:()=>y,lc:()=>h,mX:()=>_,rU:()=>g,tH:()=>S});var s=i(45714);let o="__begin__",a="__end__",u=RegExp(o,"ig"),d=RegExp(a,"ig"),c=RegExp("^"+o,"i"),p=RegExp(a+"$","i");function h(t){return t.replaceAll(RegExp("\\[","g"),"{").replaceAll(RegExp("\\]","g"),"}")}function f(t){return t.replaceAll(RegExp("\\{","g"),"[").replaceAll(RegExp("\\}","g"),"]")}function y(t){let r={expression:"",type:"none"};return t.labelExpressionInfo?t.labelExpressionInfo.value?(r.expression=t.labelExpressionInfo.value,r.type="conventional"):t.labelExpressionInfo.expression&&(r.expression=t.labelExpressionInfo.expression,r.type="arcade"):null!=t.labelExpression&&(r.expression=h(t.labelExpression),r.type="conventional"),r}function m(t){let r=y(t);switch(r.type){case"conventional":return _(r.expression);case"arcade":return r.expression}return null}function g(t){let r=y(t);switch(r.type){case"conventional":var i=r.expression;let s=i?.match(v);return s?.[1].trim()||null;case"arcade":return S(r.expression)}return null}function _(t){let r;return t?(r=(0,s.HC)(t,t=>o+'$feature["'+t+'"]'+a),r=c.test(r)?r.replace(c,""):'"'+r,r=(r=p.test(r)?r.replace(p,""):r+'"').replaceAll(u,'" + ').replaceAll(d,' + "')):r='""',r}let v=/^\s*\{([^}]+)\}\s*$/i,w=/^\s*(?:(?:\$feature\.(\w+))|(?:\$feature\[(["'])(.+)(\2)\]));?\s*$/i,b=/^\s*(?:(?:\$feature\.(\w+))|(?:\$feature\[(["'])(.+)(\2)\]));?\s*(?:DomainName\(\s*\$feature\s*,\s*(["'])(\1|\3)(\5)\s*\));?\s*$/i,M=/^\s*(?:DomainName\(\s*\$feature\s*,\s*(["'])(.+)(\1)\s*\));?\s*$/i;function S(t){if(!t)return null;let r=w.exec(t)||b.exec(t);return r?r[1]||r[3]:(r=M.exec(t))?r[2]:null}},92090:(t,r,i)=>{i.d(r,{A:()=>C});var s,o,a,u=i(81856),d=i(91838);i(57845),i(61939),i(33638);var c=i(33498),p=i(12709),h=i(86629),f=i(25954),y=i(56396),m=i(76465),g=i(55390),_=i(3983);i(32391);var v=i(56911),w=i(93165);let b=s=class extends w.N{constructor(t){super(t),this.colorMixMode=null}clone(){let t={color:this.color?.clone()??null,emissiveFactor:this.emissiveFactor?(0,v.o8)(this.emissiveFactor):null,colorMixMode:this.colorMixMode};return new s(t)}};(0,u._)([(0,c.e)({multiply:"multiply",replace:"replace",tint:"tint"})],b.prototype,"colorMixMode",void 0),b=s=(0,u._)([(0,p.$)("esri.symbols.support.Symbol3DFillMaterial")],b);var M=i(70152),S=i(92713),A=i(55048),T=i(37211),x=i(89834);let E=o=class extends S.A{constructor(t){super(t),this.color=new M.A([0,0,0,1]),this.size=(0,A.PN)(1),this.pattern=null,this.patternCap="butt"}clone(){let t={color:null!=this.color?this.color.clone():null,size:this.size,pattern:null!=this.pattern?this.pattern.clone():null,patternCap:this.patternCap};return new o(t)}};(0,u._)([(0,d.MZ)((0,T.E)({colorRequiredOnWrite:!0}))],E.prototype,"color",void 0),(0,u._)([(0,d.MZ)({...T.p,json:{write:{isRequired:!0}}})],E.prototype,"size",void 0),(0,u._)([(0,d.MZ)(g.v)],E.prototype,"pattern",void 0),(0,u._)([(0,d.MZ)({type:x.M4,json:{default:"butt",write:{overridePolicy(){return{enabled:null!=this.pattern}}}}})],E.prototype,"patternCap",void 0),E=o=(0,u._)([(0,p.$)("esri.symbols.support.Symbol3DOutline")],E);let I=a=class extends h.A{constructor(t){super(t),this.type="fill",this.material=null,this.pattern=null,this.castShadows=!0,this.outline=null,this.edges=null}clone(){let t={edges:null!=this.edges?this.edges.clone():null,enabled:this.enabled,material:null!=this.material?this.material.clone():null,pattern:null!=this.pattern?this.pattern.clone():null,castShadows:this.castShadows,outline:null!=this.outline?this.outline.clone():null};return new a(t)}static fromSimpleFillSymbol(t){let r=t.outline&&t.outline.style&&"solid"!==t.outline.style?new y.A({style:t.outline.style}):null,i={size:t.outline?.width??0,color:(t.outline?.color??_.ON).clone(),pattern:r};return r&&t.outline?.cap&&(i.patternCap=t.outline.cap),new a({material:new b({color:(t.color??_.u7).clone()}),pattern:t.style&&"solid"!==t.style?new m.A({style:t.style}):null,outline:i})}};(0,u._)([(0,c.e)({Fill:"fill"},{readOnly:!0})],I.prototype,"type",void 0),(0,u._)([(0,d.MZ)({type:b,json:{write:!0}})],I.prototype,"material",void 0),(0,u._)([(0,d.MZ)(g.r)],I.prototype,"pattern",void 0),(0,u._)([(0,d.MZ)({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],I.prototype,"castShadows",void 0),(0,u._)([(0,d.MZ)({type:E,json:{write:!0}})],I.prototype,"outline",void 0),(0,u._)([(0,d.MZ)(f.J)],I.prototype,"edges",void 0);let C=I=a=(0,u._)([(0,p.$)("esri.symbols.FillSymbol3DLayer")],I)},92221:(t,r,i)=>{i.d(r,{Ch:()=>d,mW:()=>a,u2:()=>u});var s=i(20538),o=i(97409);function a(t,r){return{...r,filterMode:t.mode}}function u(t,r){return c(t,r).next().value??null}function d(t,r,i){let a=function(t){if("manual"===p(t))return null;let r=[Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY];for(let{minScale:i,maxScale:s}of t.filters)r[0]=Math.max(r[0],h(i)),r[1]=Math.min(r[1],function(t){return t||0}(s));return r}(t);if(a&&((0,s.gg)(r,a[0])||(0,s.ZH)(i,a[1])))return"";let u=Array.from(c(t,r,i)),d=!function(t,r,i){if(0===t.length)return!0;let o=h(t.at(0)?.minScale),a=function(t){return t||0}(t.at(-1)?.maxScale);if((0,s.ZH)(o,r)||(0,s.gg)(a,i))return!0;for(let r=0;r<t.length-1;r++){let i=t[r],o=t[r+1];if((0,s.ZH)(h(o.minScale),function(t){return t||0}(i.maxScale)))return!0}return!1}(u,r,i)?u.map(t=>t.where||"1=1").reduce((t,r)=>(0,o.IW)(t,r),""):"1=1";return d&&"1=1"!==d?d:""}function*c(t,r,i){if("manual"===p(t)){let r=t.filters.find(r=>r.id===t.activeFilterId);r&&(yield r)}else for(let c of("object"==typeof r&&(r=r.scale),t.filters)){var o,a,u,d;o=c.minScale,a=c.maxScale,u=r,d=i,o=h(o),u=h(u),a=function(t){return t||0}(a),!(0,s.Sp)(u,o)&&(d??u)>o||(0,s.Hx)(a,u)||void 0!==d&&(0,s.Sp)(d,o)||(yield c)}}function p(t){return"mode"in t?t.mode:t.filterMode}function h(t){return t||Number.POSITIVE_INFINITY}function f(t){return t||0}},92528:(t,r,i)=>{i.d(r,{CW:()=>y,Fm:()=>d,Hz:()=>m,JQ:()=>f,JZ:()=>S,ND:()=>_,R_:()=>u,U9:()=>h,fu:()=>o,nr:()=>g,oF:()=>a,rq:()=>c,z$:()=>p});let s=[["binary","application/octet-stream","bin",""]];function o(t,r){return null!=w(r.name,t?.supportedFormats??[])}function a(t,r){if(!t)return!1;let i=c(r,t.supportedFormats??[]);return null!=i&&t.editFormats.includes(i)}function u(t,r){return function(t){return t?.[0]}(function(t,r){let i=t.toLowerCase();return v(r).find(t=>M(t)===i)}(t,r))}function d(t,r){var i;return M((i=t,v(r).find(t=>(function(t){return t?.[0]})(t)===i)))}function c(t,r){return function(t){return t?.[0]}(w(t.name,r))??u(t.type,r)}function p(t,r,i){return u(t,i)??function(t){return t?.[0]}(w(r,i))}function h({supportedFormats:t}){return p("model/gltf-binary","glb",t)}function f(t){let r=h(t);return null!=r&&t.editFormats.includes(r)}function y({supportedFormats:t}){return p("model/gltf+json","gltf",t)}function m(t){if(!t)return null;let r=h(t),i=y(t),s=null;for(let o of t.queryFormats){if(o===r)return o;o===i&&(s=o)}return s}function g({supportedFormats:t}){return p("application/esri3do-SR_world","wld",t)}function _({supportedFormats:t}){return p("application/esri3do-SR_prj","prj",t)}function v(t){return[...s,...t]}function w(t,r){let i=t.toLowerCase();return v(r).find(t=>(function(t){return t?.[2].split(",").map(t=>t.toLowerCase())??[]})(t).some(t=>i.endsWith(t)))}function b(t){return t?.[0]}function M(t){return t?.[1].toLowerCase()}function S(t){return t.tables?.find(t=>"assetMaps"===t.role)}},92713:(t,r,i)=>{i.d(r,{A:()=>w});var s=i(81856),o=i(28690),a=i(33715),u=i(44151);class d{constructor(){this._values=new Map,this.multipleOriginsSupported=!1}clone(t){let r=new d;return this._values.forEach((i,s)=>{t&&t.has(s)||r.set(s,(0,a.o8)(i.value),i.origin)}),r}get(t,r){r=this._normalizeOrigin(r);let i=this._values.get(t);return null==r||i?.origin===r?i?.value:void 0}originOf(t){return this._values.get(t)?.origin??u.Gr.USER}keys(t){t=this._normalizeOrigin(t);let r=[...this._values.keys()];return null==t?r:r.filter(r=>this._values.get(r)?.origin===t)}set(t,r,i){if((i=this._normalizeOrigin(i))===u.Gr.DEFAULTS){let r=this._values.get(t);if(null!=r?.origin&&r.origin>i)return}this._values.set(t,new c(r,i))}delete(t,r){null!=(r=this._normalizeOrigin(r))&&this._values.get(t)?.origin!==r||this._values.delete(t)}has(t,r){return null!=(r=this._normalizeOrigin(r))?this._values.get(t)?.origin===r:this._values.has(t)}forEach(t){this._values.forEach(({value:r},i)=>t(r,i))}_normalizeOrigin(t){if(null!=t)return t===u.Gr.DEFAULTS?t:u.Gr.USER}}class c{constructor(t,r){this.value=t,this.origin=r}}var p=i(42108),h=i(352),f=i(30225),y=i(84627),m=i(12709);let g=t=>{let r=class extends t{constructor(...t){super(...t);let r=(0,f.oY)(this),i=r.store,s=new d;r.store=s,(0,p.k)(r,i,s)}read(t,r){(0,h.L)(this,t,r)}write(t,r){return(0,y.M)(this,t??{},r)}toJSON(t){return this.write({},t)}static fromJSON(t,r){return _.call(this,t,r)}};return(r=(0,s._)([(0,m.$)("esri.core.JSONSupport")],r)).prototype.toJSON.isDefaultToJSON=!0,r};function _(t,r){if(!t)return null;if(t.declaredClass)throw Error("JSON object is already hydrated");let i=new this;return i.read(t,r),i}let v=class extends g(o.A){};!function(t){t.JSONSupportMixin=g,t.isSerializable=function(t){return t&&"object"==typeof t&&"toJSON"in t&&"function"==typeof t.toJSON}}((v=(0,s._)([(0,m.$)("esri.core.JSONSupport")],v))||(v={}));let w=v},92753:(t,r,i)=>{i.d(r,{$X:()=>E,G4:()=>h,Lx:()=>b,Mq:()=>p,NK:()=>d,NO:()=>O,NY:()=>g,Ol:()=>S,Pl:()=>A,QP:()=>f,QZ:()=>w,Te:()=>c,Tw:()=>R,YL:()=>x,jH:()=>y,nA:()=>M,qr:()=>_,sg:()=>C,u7:()=>m,wR:()=>T,z7:()=>I,zf:()=>v});var s=i(34603),o=i(32391),a=i(46310);i(61939);var u=i(40941);function d(t="Aborted"){return new o.A("AbortError",t)}function c(t,r="Aborted"){if(h(t))throw d(r)}function p(t){return t instanceof AbortSignal?t:t?.signal??void 0}function h(t){let r=p(t);return null!=r&&r.aborted}function f(t){if(v(t))throw t}function y(t){if(!v(t))throw t}function m(t,r){let i=p(t);if(null!=i){if(!i.aborted)return(0,a.Oo)(i,"abort",()=>r());r()}}function g(t,r){let i=p(t);if(null!=i)return c(i),(0,a.Oo)(i,"abort",()=>r(d()))}function _(t,r){return null==p(r)?t:new Promise((i,s)=>{let o=m(r,()=>s(d())),a=()=>{o=(0,u.xt)(o)};t.then(a,a),t.then(i,s)})}function v(t){return"AbortError"===t?.name}async function w(t){try{return await t}catch(t){if(!v(t))throw t;return}}async function b(t){if(t){if("function"!=typeof t.forEach){let r=Object.keys(t),i=r.map(r=>t[r]),s=await b(i),o={};return r.map((t,r)=>o[t]=s[r]),o}return Promise.allSettled(t).then(r=>Array.from(t,(t,i)=>{let s=r[i];return"fulfilled"===s.status?{promise:t,value:s.value}:{promise:t,error:s.reason}}))}}async function M(t){return(await Promise.allSettled(t)).filter(t=>"fulfilled"===t.status).map(t=>t.value)}async function S(t){return(await Promise.allSettled(t)).filter(t=>"rejected"===t.status).map(t=>t.reason)}function A(t,r,i){let s=new AbortController;return m(i,()=>s.abort()),new Promise((i,o)=>{let a=setTimeout(()=>{a=0,i(r)},t);m(s,()=>{a&&(clearTimeout(a),o(d()))})})}function T(t,r,i,s){let a=i&&"abort"in i?i:null;null!=s||a||(s=i);let u=setTimeout(()=>{u=0,a?.abort()},r),d=()=>s||new o.A("promiseUtils:timeout","The wrapped promise did not resolve within "+r+" ms");return t.then(t=>{if(0===u)throw d();return clearTimeout(u),t},t=>{throw clearTimeout(u),0===u?d():t})}function x(t,r){let i=new AbortController,s=setTimeout(()=>i.abort(),r);return m(t,()=>{i.abort(),clearTimeout(s)}),{...t,signal:i.signal}}function E(t){return t&&"function"==typeof t.then}function I(t){return E(t)?t:Promise.resolve(t)}function C(t,r=-1){let i,s,o,a,u=null,c=(...p)=>{if(i){s=p,a&&a.reject(d());let t=(a=R()).promise;if(u){let t=u;u=null,t.abort()}return t}if(o=a||R(),a=null,r>0){let s=new AbortController,o=i=I(t(...p,s.signal));A(r).then(()=>{i===o&&(a?s.abort():u=s)})}else i=1,i=I(t(...p));let h=()=>{let t=s;s=o=i=u=null,null!=t&&c(...t)},f=i,y=o;return f.then(h,h),f.then(y.resolve,y.reject),y.promise};return c}function R(){let t,r,i=new Promise((i,s)=>{t=i,r=s}),o=r=>{t(r)};return o.resolve=r=>t(r),o.reject=t=>r(t),o.timeout=(t,r)=>s.p.setTimeout(()=>o.reject(r),t),o.promise=i,o}async function O(t){await Promise.resolve(),c(t)}},92773:(t,r,i)=>{var s;i.d(r,{Y:()=>s}),function(t){t[t.CGCS2000=4490]="CGCS2000",t[t.GCSMARS2000=104971]="GCSMARS2000",t[t.GCSMARS2000_SPHERE=104905]="GCSMARS2000_SPHERE",t[t.GCSMOON2000=104903]="GCSMOON2000"}(s||(s={}))},93165:(t,r,i)=>{i.d(r,{N:()=>h});var s,o=i(81856),a=i(92713),u=i(91838);i(57845),i(61939),i(33638);var d=i(12709),c=i(56911),p=i(37211);let h=s=class extends a.A{constructor(t){super(t),this.color=null,this.emissiveFactor=null}clone(){let t={color:this.color?.clone()??null,emissiveFactor:this.emissiveFactor?(0,c.o8)(this.emissiveFactor):null};return new s(t)}};(0,o._)([(0,u.MZ)((0,p.E)())],h.prototype,"color",void 0),(0,o._)([(0,u.MZ)({type:[Number],json:{write:!1}})],h.prototype,"emissiveFactor",void 0),h=s=(0,o._)([(0,d.$)("esri.symbols.support.Symbol3DMaterial")],h)},93446:(t,r,i)=>{var s,o,a,u,d,c,p,h,f,y,m,g,_,v,w,b,M,S,A,T,x,E,I,C,R,O,P,N,k,L;i.d(r,{Ab:()=>v,Ac:()=>p,Ap:()=>_,CQ:()=>C,Cj:()=>m,Co:()=>A,H0:()=>w,Hr:()=>I,MT:()=>f,NV:()=>s,NZ:()=>d,Nm:()=>E,R:()=>T,Tb:()=>u,WR:()=>o,Y7:()=>c,_U:()=>S,dn:()=>a,eA:()=>y,ld:()=>b,nI:()=>Z,pF:()=>g,pe:()=>h,sS:()=>N,tx:()=>k,vt:()=>x,xM:()=>F,xV:()=>R,yQ:()=>M}),function(t){t[t.DEPTH=256]="DEPTH",t[t.STENCIL=1024]="STENCIL",t[t.COLOR=16384]="COLOR"}(s||(s={})),function(t){t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN"}(o||(o={})),function(t){t[t.ZERO=0]="ZERO",t[t.ONE=1]="ONE",t[t.SRC_COLOR=768]="SRC_COLOR",t[t.ONE_MINUS_SRC_COLOR=769]="ONE_MINUS_SRC_COLOR",t[t.SRC_ALPHA=770]="SRC_ALPHA",t[t.ONE_MINUS_SRC_ALPHA=771]="ONE_MINUS_SRC_ALPHA",t[t.DST_ALPHA=772]="DST_ALPHA",t[t.ONE_MINUS_DST_ALPHA=773]="ONE_MINUS_DST_ALPHA",t[t.DST_COLOR=774]="DST_COLOR",t[t.ONE_MINUS_DST_COLOR=775]="ONE_MINUS_DST_COLOR",t[t.SRC_ALPHA_SATURATE=776]="SRC_ALPHA_SATURATE",t[t.CONSTANT_COLOR=32769]="CONSTANT_COLOR",t[t.ONE_MINUS_CONSTANT_COLOR=32770]="ONE_MINUS_CONSTANT_COLOR",t[t.CONSTANT_ALPHA=32771]="CONSTANT_ALPHA",t[t.ONE_MINUS_CONSTANT_ALPHA=32772]="ONE_MINUS_CONSTANT_ALPHA"}(a||(a={})),function(t){t[t.ADD=32774]="ADD",t[t.MIN=32775]="MIN",t[t.MAX=32776]="MAX",t[t.SUBTRACT=32778]="SUBTRACT",t[t.REVERSE_SUBTRACT=32779]="REVERSE_SUBTRACT"}(u||(u={})),function(t){t[t.ARRAY_BUFFER=34962]="ARRAY_BUFFER",t[t.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",t[t.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER",t[t.PIXEL_PACK_BUFFER=35051]="PIXEL_PACK_BUFFER",t[t.PIXEL_UNPACK_BUFFER=35052]="PIXEL_UNPACK_BUFFER",t[t.COPY_READ_BUFFER=36662]="COPY_READ_BUFFER",t[t.COPY_WRITE_BUFFER=36663]="COPY_WRITE_BUFFER",t[t.TRANSFORM_FEEDBACK_BUFFER=35982]="TRANSFORM_FEEDBACK_BUFFER"}(d||(d={})),function(t){t[t.FRONT=1028]="FRONT",t[t.BACK=1029]="BACK",t[t.FRONT_AND_BACK=1032]="FRONT_AND_BACK"}(c||(c={})),function(t){t[t.CW=2304]="CW",t[t.CCW=2305]="CCW"}(p||(p={})),function(t){t[t.BYTE=5120]="BYTE",t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.SHORT=5122]="SHORT",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.INT=5124]="INT",t[t.UNSIGNED_INT=5125]="UNSIGNED_INT",t[t.FLOAT=5126]="FLOAT",t[t.HALF_FLOAT=5131]="HALF_FLOAT"}(h||(h={})),function(t){t[t.NEVER=512]="NEVER",t[t.LESS=513]="LESS",t[t.EQUAL=514]="EQUAL",t[t.LEQUAL=515]="LEQUAL",t[t.GREATER=516]="GREATER",t[t.NOTEQUAL=517]="NOTEQUAL",t[t.GEQUAL=518]="GEQUAL",t[t.ALWAYS=519]="ALWAYS"}(f||(f={})),function(t){t[t.ZERO=0]="ZERO",t[t.KEEP=7680]="KEEP",t[t.REPLACE=7681]="REPLACE",t[t.INCR=7682]="INCR",t[t.DECR=7683]="DECR",t[t.INVERT=5386]="INVERT",t[t.INCR_WRAP=34055]="INCR_WRAP",t[t.DECR_WRAP=34056]="DECR_WRAP"}(y||(y={})),function(t){t[t.NEAREST=9728]="NEAREST",t[t.LINEAR=9729]="LINEAR",t[t.NEAREST_MIPMAP_NEAREST=9984]="NEAREST_MIPMAP_NEAREST",t[t.LINEAR_MIPMAP_NEAREST=9985]="LINEAR_MIPMAP_NEAREST",t[t.NEAREST_MIPMAP_LINEAR=9986]="NEAREST_MIPMAP_LINEAR",t[t.LINEAR_MIPMAP_LINEAR=9987]="LINEAR_MIPMAP_LINEAR"}(m||(m={})),function(t){t[t.CLAMP_TO_EDGE=33071]="CLAMP_TO_EDGE",t[t.REPEAT=10497]="REPEAT",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"}(g||(g={})),function(t){t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_3D=32879]="TEXTURE_3D",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",t[t.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY"}(_||(_={})),function(t){t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL",t[t.DEPTH24_STENCIL8=35056]="DEPTH24_STENCIL8",t[t.ALPHA=6406]="ALPHA",t[t.RGB=6407]="RGB",t[t.RGBA=6408]="RGBA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.RED=6403]="RED",t[t.RG=33319]="RG",t[t.RED_INTEGER=36244]="RED_INTEGER",t[t.RG_INTEGER=33320]="RG_INTEGER",t[t.RGB_INTEGER=36248]="RGB_INTEGER",t[t.RGBA_INTEGER=36249]="RGBA_INTEGER"}(v||(v={})),function(t){t[t.RGBA4=32854]="RGBA4",t[t.R16F=33325]="R16F",t[t.RG16F=33327]="RG16F",t[t.RGB32F=34837]="RGB32F",t[t.RGBA16F=34842]="RGBA16F",t[t.R32F=33326]="R32F",t[t.RG32F=33328]="RG32F",t[t.RGBA32F=34836]="RGBA32F",t[t.R11F_G11F_B10F=35898]="R11F_G11F_B10F",t[t.RGB8=32849]="RGB8",t[t.RGBA8=32856]="RGBA8",t[t.RGB5_A1=32855]="RGB5_A1",t[t.R8=33321]="R8",t[t.RG8=33323]="RG8",t[t.R8I=33329]="R8I",t[t.R8UI=33330]="R8UI",t[t.R16I=33331]="R16I",t[t.R16UI=33332]="R16UI",t[t.R32I=33333]="R32I",t[t.R32UI=33334]="R32UI",t[t.RG8I=33335]="RG8I",t[t.RG8UI=33336]="RG8UI",t[t.RG16I=33337]="RG16I",t[t.RG16UI=33338]="RG16UI",t[t.RG32I=33339]="RG32I",t[t.RG32UI=33340]="RG32UI",t[t.RGB16F=34843]="RGB16F",t[t.RGB9_E5=35901]="RGB9_E5",t[t.SRGB8=35905]="SRGB8",t[t.SRGB8_ALPHA8=35907]="SRGB8_ALPHA8",t[t.RGB565=36194]="RGB565",t[t.RGBA32UI=36208]="RGBA32UI",t[t.RGB32UI=36209]="RGB32UI",t[t.RGBA16UI=36214]="RGBA16UI",t[t.RGB16UI=36215]="RGB16UI",t[t.RGBA8UI=36220]="RGBA8UI",t[t.RGB8UI=36221]="RGB8UI",t[t.RGBA32I=36226]="RGBA32I",t[t.RGB32I=36227]="RGB32I",t[t.RGBA16I=36232]="RGBA16I",t[t.RGB16I=36233]="RGB16I",t[t.RGBA8I=36238]="RGBA8I",t[t.RGB8I=36239]="RGB8I",t[t.R8_SNORM=36756]="R8_SNORM",t[t.RG8_SNORM=36757]="RG8_SNORM",t[t.RGB8_SNORM=36758]="RGB8_SNORM",t[t.RGBA8_SNORM=36759]="RGBA8_SNORM",t[t.RGB10_A2=32857]="RGB10_A2",t[t.RGB10_A2UI=36975]="RGB10_A2UI"}(w||(w={})),function(t){t[t.FLOAT=5126]="FLOAT",t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.BYTE=5120]="BYTE",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.SHORT=5122]="SHORT",t[t.UNSIGNED_INT=5125]="UNSIGNED_INT",t[t.INT=5124]="INT",t[t.HALF_FLOAT=5131]="HALF_FLOAT",t[t.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",t[t.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",t[t.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",t[t.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV"}(b||(b={})),function(t){t[t.DEPTH_COMPONENT16=33189]="DEPTH_COMPONENT16",t[t.STENCIL_INDEX8=36168]="STENCIL_INDEX8",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL",t[t.DEPTH_COMPONENT24=33190]="DEPTH_COMPONENT24",t[t.DEPTH_COMPONENT32F=36012]="DEPTH_COMPONENT32F",t[t.DEPTH24_STENCIL8=35056]="DEPTH24_STENCIL8",t[t.DEPTH32F_STENCIL8=36013]="DEPTH32F_STENCIL8"}(M||(M={})),function(t){t[t.STATIC_DRAW=35044]="STATIC_DRAW",t[t.DYNAMIC_DRAW=35048]="DYNAMIC_DRAW",t[t.STREAM_DRAW=35040]="STREAM_DRAW",t[t.STATIC_READ=35045]="STATIC_READ",t[t.DYNAMIC_READ=35049]="DYNAMIC_READ",t[t.STREAM_READ=35041]="STREAM_READ",t[t.STATIC_COPY=35046]="STATIC_COPY",t[t.DYNAMIC_COPY=35050]="DYNAMIC_COPY",t[t.STREAM_COPY=35042]="STREAM_COPY"}(S||(S={})),function(t){t[t.FRAGMENT_SHADER=35632]="FRAGMENT_SHADER",t[t.VERTEX_SHADER=35633]="VERTEX_SHADER"}(A||(A={})),function(t){t[t.FRAMEBUFFER=36160]="FRAMEBUFFER",t[t.READ_FRAMEBUFFER=36008]="READ_FRAMEBUFFER",t[t.DRAW_FRAMEBUFFER=36009]="DRAW_FRAMEBUFFER"}(T||(T={}));let F=33984;!function(t){t[t.Texture=0]="Texture",t[t.BufferObject=1]="BufferObject",t[t.VertexArrayObject=2]="VertexArrayObject",t[t.Shader=3]="Shader",t[t.Program=4]="Program",t[t.FramebufferObject=5]="FramebufferObject",t[t.Renderbuffer=6]="Renderbuffer",t[t.TransformFeedback=7]="TransformFeedback",t[t.Sync=8]="Sync",t[t.UNCOUNTED=9]="UNCOUNTED",t[t.LinesOfCode=9]="LinesOfCode",t[t.Uniform=10]="Uniform",t[t.COUNT=11]="COUNT"}(x||(x={})),function(t){t[t.COLOR_ATTACHMENT0=36064]="COLOR_ATTACHMENT0",t[t.COLOR_ATTACHMENT1=36065]="COLOR_ATTACHMENT1",t[t.COLOR_ATTACHMENT2=36066]="COLOR_ATTACHMENT2",t[t.COLOR_ATTACHMENT3=36067]="COLOR_ATTACHMENT3",t[t.COLOR_ATTACHMENT4=36068]="COLOR_ATTACHMENT4",t[t.COLOR_ATTACHMENT5=36069]="COLOR_ATTACHMENT5",t[t.COLOR_ATTACHMENT6=36070]="COLOR_ATTACHMENT6",t[t.COLOR_ATTACHMENT7=36071]="COLOR_ATTACHMENT7",t[t.COLOR_ATTACHMENT8=36072]="COLOR_ATTACHMENT8",t[t.COLOR_ATTACHMENT9=36073]="COLOR_ATTACHMENT9",t[t.COLOR_ATTACHMENT10=36074]="COLOR_ATTACHMENT10",t[t.COLOR_ATTACHMENT11=36075]="COLOR_ATTACHMENT11",t[t.COLOR_ATTACHMENT12=36076]="COLOR_ATTACHMENT12",t[t.COLOR_ATTACHMENT13=36077]="COLOR_ATTACHMENT13",t[t.COLOR_ATTACHMENT14=36078]="COLOR_ATTACHMENT14",t[t.COLOR_ATTACHMENT15=36079]="COLOR_ATTACHMENT15"}(E||(E={})),function(t){t[t.NONE=0]="NONE",t[t.BACK=1029]="BACK"}(I||(I={}));let Z=33306;!function(t){t[t.COMPRESSED_RGB_S3TC_DXT1_EXT=33776]="COMPRESSED_RGB_S3TC_DXT1_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777]="COMPRESSED_RGBA_S3TC_DXT1_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT3_EXT=33778]="COMPRESSED_RGBA_S3TC_DXT3_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT5_EXT=33779]="COMPRESSED_RGBA_S3TC_DXT5_EXT",t[t.COMPRESSED_R11_EAC=37488]="COMPRESSED_R11_EAC",t[t.COMPRESSED_SIGNED_R11_EAC=37489]="COMPRESSED_SIGNED_R11_EAC",t[t.COMPRESSED_RG11_EAC=37490]="COMPRESSED_RG11_EAC",t[t.COMPRESSED_SIGNED_RG11_EAC=37491]="COMPRESSED_SIGNED_RG11_EAC",t[t.COMPRESSED_RGB8_ETC2=37492]="COMPRESSED_RGB8_ETC2",t[t.COMPRESSED_SRGB8_ETC2=37493]="COMPRESSED_SRGB8_ETC2",t[t.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2=37494]="COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2",t[t.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2=37495]="COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2",t[t.COMPRESSED_RGBA8_ETC2_EAC=37496]="COMPRESSED_RGBA8_ETC2_EAC",t[t.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC=37497]="COMPRESSED_SRGB8_ALPHA8_ETC2_EAC"}(C||(C={})),function(t){t[t.FLOAT=5126]="FLOAT",t[t.FLOAT_VEC2=35664]="FLOAT_VEC2",t[t.FLOAT_VEC3=35665]="FLOAT_VEC3",t[t.FLOAT_VEC4=35666]="FLOAT_VEC4",t[t.INT=5124]="INT",t[t.INT_VEC2=35667]="INT_VEC2",t[t.INT_VEC3=35668]="INT_VEC3",t[t.INT_VEC4=35669]="INT_VEC4",t[t.BOOL=35670]="BOOL",t[t.BOOL_VEC2=35671]="BOOL_VEC2",t[t.BOOL_VEC3=35672]="BOOL_VEC3",t[t.BOOL_VEC4=35673]="BOOL_VEC4",t[t.FLOAT_MAT2=35674]="FLOAT_MAT2",t[t.FLOAT_MAT3=35675]="FLOAT_MAT3",t[t.FLOAT_MAT4=35676]="FLOAT_MAT4",t[t.SAMPLER_2D=35678]="SAMPLER_2D",t[t.SAMPLER_CUBE=35680]="SAMPLER_CUBE",t[t.UNSIGNED_INT=5125]="UNSIGNED_INT",t[t.UNSIGNED_INT_VEC2=36294]="UNSIGNED_INT_VEC2",t[t.UNSIGNED_INT_VEC3=36295]="UNSIGNED_INT_VEC3",t[t.UNSIGNED_INT_VEC4=36296]="UNSIGNED_INT_VEC4",t[t.FLOAT_MAT2x3=35685]="FLOAT_MAT2x3",t[t.FLOAT_MAT2x4=35686]="FLOAT_MAT2x4",t[t.FLOAT_MAT3x2=35687]="FLOAT_MAT3x2",t[t.FLOAT_MAT3x4=35688]="FLOAT_MAT3x4",t[t.FLOAT_MAT4x2=35689]="FLOAT_MAT4x2",t[t.FLOAT_MAT4x3=35690]="FLOAT_MAT4x3",t[t.SAMPLER_3D=35679]="SAMPLER_3D",t[t.SAMPLER_2D_SHADOW=35682]="SAMPLER_2D_SHADOW",t[t.SAMPLER_2D_ARRAY=36289]="SAMPLER_2D_ARRAY",t[t.SAMPLER_2D_ARRAY_SHADOW=36292]="SAMPLER_2D_ARRAY_SHADOW",t[t.SAMPLER_CUBE_SHADOW=36293]="SAMPLER_CUBE_SHADOW",t[t.INT_SAMPLER_2D=36298]="INT_SAMPLER_2D",t[t.INT_SAMPLER_3D=36299]="INT_SAMPLER_3D",t[t.INT_SAMPLER_CUBE=36300]="INT_SAMPLER_CUBE",t[t.INT_SAMPLER_2D_ARRAY=36303]="INT_SAMPLER_2D_ARRAY",t[t.UNSIGNED_INT_SAMPLER_2D=36306]="UNSIGNED_INT_SAMPLER_2D",t[t.UNSIGNED_INT_SAMPLER_3D=36307]="UNSIGNED_INT_SAMPLER_3D",t[t.UNSIGNED_INT_SAMPLER_CUBE=36308]="UNSIGNED_INT_SAMPLER_CUBE",t[t.UNSIGNED_INT_SAMPLER_2D_ARRAY=36311]="UNSIGNED_INT_SAMPLER_2D_ARRAY"}(R||(R={})),function(t){t[t.OBJECT_TYPE=37138]="OBJECT_TYPE",t[t.SYNC_CONDITION=37139]="SYNC_CONDITION",t[t.SYNC_STATUS=37140]="SYNC_STATUS",t[t.SYNC_FLAGS=37141]="SYNC_FLAGS"}(O||(O={})),function(t){t[t.UNSIGNALED=37144]="UNSIGNALED",t[t.SIGNALED=37145]="SIGNALED"}(P||(P={})),function(t){t[t.ALREADY_SIGNALED=37146]="ALREADY_SIGNALED",t[t.TIMEOUT_EXPIRED=37147]="TIMEOUT_EXPIRED",t[t.CONDITION_SATISFIED=37148]="CONDITION_SATISFIED",t[t.WAIT_FAILED=37149]="WAIT_FAILED"}(N||(N={})),function(t){t[t.SYNC_GPU_COMMANDS_COMPLETE=37143]="SYNC_GPU_COMMANDS_COMPLETE"}(k||(k={})),function(t){t[t.SYNC_FLUSH_COMMANDS_BIT=1]="SYNC_FLUSH_COMMANDS_BIT"}(L||(L={}))},93682:(t,r,i)=>{i.d(r,{L5:()=>o,N5:()=>u,n$:()=>a,qU:()=>s});let s="system",o="unknown",a="UTC",u=Intl.DateTimeFormat().resolvedOptions().timeZone},93767:(t,r,i)=>{let s;i.d(r,{A:()=>o});let o={values:[1,.3048,.3048006096012192,.3047972654,.9143917962,.201166195164,.9143984146160287,.3047994715386762,20.11676512155263,20.11678249437587,.9143985307444408,.91439523,.3047997101815088,20.1168,20.116756,5e4,15e4],units:["Meter","Foot","Foot_US","Foot_Clarke","Yard_Clarke","Link_Clarke","Yard_Sears","Foot_Sears","Chain_Sears","Chain_Benoit_1895_B","Yard_Indian","Yard_Indian_1937","Foot_Gold_Coast","Chain","Chain_Sears_1922_Truncated","50_Kilometers","150_Kilometers"],2066:5,2136:12,2155:2,2157:0,2158:0,2159:12,2160:12,2204:2,2219:0,2220:0,2254:2,2255:2,2256:1,2265:1,2266:1,2267:2,2268:2,2269:1,2270:1,2271:2,2272:2,2273:1,2294:0,2295:0,2314:3,2899:2,2900:2,2901:1,2909:1,2910:1,2911:2,2912:2,2913:1,2914:1,2992:1,2993:0,2994:1,3080:1,3089:2,3090:0,3091:2,3102:2,3141:0,3142:0,3167:14,3359:2,3360:0,3361:1,3362:0,3363:2,3364:0,3365:2,3366:3,3404:2,3405:0,3406:0,3407:3,3439:0,3440:0,3479:1,3480:0,3481:1,3482:0,3483:1,3484:0,3485:2,3486:0,3487:2,3488:0,3489:0,3490:2,3491:0,3492:2,3493:0,3494:2,3495:0,3496:2,3497:0,3498:2,3499:0,3500:2,3501:0,3502:2,3503:0,3504:2,3505:0,3506:2,3507:0,3508:2,3509:0,3510:2,3511:0,3512:2,3513:0,3514:0,3515:2,3516:0,3517:2,3518:0,3519:2,3520:0,3521:2,3522:0,3523:2,3524:0,3525:2,3526:0,3527:2,3528:0,3529:2,3530:0,3531:2,3532:0,3533:2,3534:0,3535:2,3536:0,3537:2,3538:0,3539:2,3540:0,3541:2,3542:0,3543:2,3544:0,3545:2,3546:0,3547:2,3548:0,3549:2,3550:0,3551:2,3552:0,3553:2,3582:2,3583:0,3584:2,3585:0,3586:2,3587:0,3588:1,3589:0,3590:1,3591:0,3592:0,3593:1,3598:2,3599:0,3600:2,3605:1,3606:0,3607:0,3608:2,3609:0,3610:2,3611:0,3612:2,3613:0,3614:2,3615:0,3616:2,3617:0,3618:2,3619:0,3620:2,3621:0,3622:2,3623:0,3624:2,3625:0,3626:2,3627:0,3628:2,3629:0,3630:2,3631:0,3632:2,3633:0,3634:1,3635:0,3636:1,3640:2,3641:0,3642:2,3643:0,3644:1,3645:0,3646:1,3647:0,3648:1,3649:0,3650:2,3651:0,3652:2,3653:0,3654:2,3655:0,3656:1,3657:0,3658:2,3659:0,3660:2,3661:0,3662:2,3663:0,3664:2,3668:2,3669:0,3670:2,3671:0,3672:2,3673:0,3674:2,3675:0,3676:1,3677:2,3678:0,3679:1,3680:2,3681:0,3682:1,3683:2,3684:0,3685:0,3686:2,3687:0,3688:2,3689:0,3690:2,3691:0,3692:2,3696:2,3697:0,3698:2,3699:0,3700:2,3793:0,3794:0,3812:0,3854:0,3857:0,3920:0,3978:0,3979:0,3991:2,3992:2,4026:0,4037:0,4038:0,4071:0,4082:0,4083:0,4087:0,4088:0,4217:2,4414:0,4415:0,4417:0,4434:0,4437:0,4438:2,4439:2,4462:0,4467:0,4471:0,4474:0,4559:0,4647:0,4822:0,4826:0,4839:0,5018:0,5041:0,5042:0,5048:0,5221:0,5223:0,5234:0,5235:0,5243:0,5247:0,5266:0,5316:0,5320:0,5321:0,5325:0,5337:0,5361:0,5362:0,5367:0,5382:0,5383:0,5396:0,5456:0,5457:0,5469:0,5472:4,5490:0,5513:0,5514:0,5523:0,5559:0,5588:1,5589:3,5596:0,5627:0,5629:0,5641:0,5643:0,5644:0,5646:2,5654:2,5655:2,5659:0,5700:0,5825:0,5836:0,5837:0,5839:0,5842:0,5844:0,5858:0,5879:0,5880:0,5887:0,5890:0,6128:1,6129:1,6141:1,6204:0,6210:0,6211:0,6307:0,6312:0,6316:0,6362:0,6391:1,6405:1,6406:0,6407:1,6408:0,6409:1,6410:0,6411:2,6412:0,6413:2,6414:0,6415:0,6416:2,6417:0,6418:2,6419:0,6420:2,6421:0,6422:2,6423:0,6424:2,6425:0,6426:2,6427:0,6428:2,6429:0,6430:2,6431:0,6432:2,6433:0,6434:2,6435:0,6436:2,6437:0,6438:2,6439:0,6440:0,6441:2,6442:0,6443:2,6444:0,6445:2,6446:0,6447:2,6448:0,6449:2,6450:0,6451:2,6452:0,6453:2,6454:0,6455:2,6456:0,6457:2,6458:0,6459:2,6460:0,6461:2,6462:0,6463:2,6464:0,6465:2,6466:0,6467:2,6468:0,6469:2,6470:0,6471:2,6472:0,6473:2,6474:0,6475:2,6476:0,6477:2,6478:0,6479:2,6484:2,6485:0,6486:2,6487:0,6488:2,6489:0,6490:2,6491:0,6492:2,6493:0,6494:1,6495:0,6496:1,6497:0,6498:0,6499:1,6500:0,6501:2,6502:0,6503:2,6504:0,6505:2,6506:0,6507:2,6508:0,6509:0,6510:2,6515:1,6516:0,6518:0,6519:2,6520:0,6521:2,6522:0,6523:2,6524:0,6525:2,6526:0,6527:2,6528:0,6529:2,6530:0,6531:2,6532:0,6533:2,6534:0,6535:2,6536:0,6537:2,6538:0,6539:2,6540:0,6541:2,6542:0,6543:2,6544:0,6545:1,6546:0,6547:1,6548:0,6549:2,6550:0,6551:2,6552:0,6553:2,6554:0,6555:2,6556:0,6557:1,6558:0,6559:1,6560:0,6561:1,6562:0,6563:2,6564:0,6565:2,6566:0,6567:0,6568:2,6569:0,6570:1,6571:0,6572:2,6573:0,6574:2,6575:0,6576:2,6577:0,6578:2,6582:2,6583:0,6584:2,6585:0,6586:2,6587:0,6588:2,6589:0,6590:2,6591:0,6592:0,6593:2,6594:0,6595:2,6596:0,6597:2,6598:0,6599:2,6600:0,6601:2,6602:0,6603:2,6605:2,6606:0,6607:2,6608:0,6609:2,6610:0,6611:0,6612:2,6613:0,6614:2,6615:0,6616:2,6617:0,6618:2,6633:2,6646:0,6703:0,6784:0,6785:1,6786:0,6787:1,6788:0,6789:1,6790:0,6791:1,6792:0,6793:1,6794:0,6795:1,6796:0,6797:1,6798:0,6799:1,6800:0,6801:1,6802:0,6803:1,6804:0,6805:1,6806:0,6807:1,6808:0,6809:1,6810:0,6811:1,6812:0,6813:1,6814:0,6815:1,6816:0,6817:1,6818:0,6819:1,6820:0,6821:1,6822:0,6823:1,6824:0,6825:1,6826:0,6827:1,6828:0,6829:1,6830:0,6831:1,6832:0,6833:1,6834:0,6835:1,6836:0,6837:1,6838:0,6839:1,6840:0,6841:1,6842:0,6843:1,6844:0,6845:1,6846:0,6847:1,6848:0,6849:1,6850:0,6851:1,6852:0,6853:1,6854:0,6855:1,6856:0,6857:1,6858:0,6859:1,6860:0,6861:1,6862:0,6863:1,6867:0,6868:1,6870:0,6875:0,6876:0,6879:0,6880:2,6884:0,6885:1,6886:0,6887:1,6915:0,6922:0,6923:2,6924:0,6925:2,6962:0,6984:0,6991:0,7128:2,7131:0,7132:2,7142:0,7257:0,7258:2,7259:0,7260:2,7261:0,7262:2,7263:0,7264:2,7265:0,7266:2,7267:0,7268:2,7269:0,7270:2,7271:0,7272:2,7273:0,7274:2,7275:0,7276:2,7277:0,7278:2,7279:0,7280:2,7281:0,7282:2,7283:0,7284:2,7285:0,7286:2,7287:0,7288:2,7289:0,7290:2,7291:0,7292:2,7293:0,7294:2,7295:0,7296:2,7297:0,7298:2,7299:0,7300:2,7301:0,7302:2,7303:0,7304:2,7305:0,7306:2,7307:0,7308:2,7309:0,7310:2,7311:0,7312:2,7313:0,7314:2,7315:0,7316:2,7317:0,7318:2,7319:0,7320:2,7321:0,7322:2,7323:0,7324:2,7325:0,7326:2,7327:0,7328:2,7329:0,7330:2,7331:0,7332:2,7333:0,7334:2,7335:0,7336:2,7337:0,7338:2,7339:0,7340:2,7341:0,7342:2,7343:0,7344:2,7345:0,7346:2,7347:0,7348:2,7349:0,7350:2,7351:0,7352:2,7353:0,7354:2,7355:0,7356:2,7357:0,7358:2,7359:0,7360:2,7361:0,7362:2,7363:0,7364:2,7365:0,7366:2,7367:0,7368:2,7369:0,7370:2,7877:0,7878:0,7882:0,7883:0,7887:0,7899:0,7991:0,7992:0,8035:2,8036:2,8058:0,8059:0,8082:0,8083:0,8088:0,8090:0,8091:2,8092:0,8093:2,8095:0,8096:2,8097:0,8098:2,8099:0,8100:2,8101:0,8102:2,8103:0,8104:2,8105:0,8106:2,8107:0,8108:2,8109:0,8110:2,8111:0,8112:2,8113:0,8114:2,8115:0,8116:2,8117:0,8118:2,8119:0,8120:2,8121:0,8122:2,8123:0,8124:2,8125:0,8126:2,8127:0,8128:2,8129:0,8130:2,8131:0,8132:2,8133:0,8134:2,8135:0,8136:2,8137:0,8138:2,8139:0,8140:2,8141:0,8142:2,8143:0,8144:2,8145:0,8146:2,8147:0,8148:2,8149:0,8150:2,8151:0,8152:2,8153:0,8154:2,8155:0,8156:2,8157:0,8158:2,8159:0,8160:2,8161:0,8162:2,8163:0,8164:2,8165:0,8166:2,8167:0,8168:2,8169:0,8170:2,8171:0,8172:2,8173:0,8177:2,8179:0,8180:2,8181:0,8182:2,8184:0,8185:2,8187:0,8189:2,8191:0,8193:2,8196:0,8197:2,8198:0,8200:2,8201:0,8202:2,8203:0,8204:2,8205:0,8206:2,8207:0,8208:2,8209:0,8210:2,8212:0,8213:2,8214:0,8216:2,8218:0,8220:2,8222:0,8224:2,8225:0,8226:2,8311:0,8312:1,8313:0,8314:1,8315:0,8316:1,8317:0,8318:1,8319:0,8320:1,8321:0,8322:1,8323:0,8324:1,8325:0,8326:1,8327:0,8328:1,8329:0,8330:1,8331:0,8332:1,8333:0,8334:1,8335:0,8336:1,8337:0,8338:1,8339:0,8340:1,8341:0,8342:1,8343:0,8344:1,8345:0,8346:1,8347:0,8348:1,8352:0,8353:0,8379:0,8380:2,8381:0,8382:2,8383:0,8384:2,8385:0,8387:2,8391:0,8395:0,8433:0,8441:0,8455:0,8456:0,8531:2,8682:0,8686:0,8687:0,8692:0,8693:0,8826:0,8903:0,8950:0,8951:0,9039:0,9040:0,9141:0,9149:0,9150:0,9191:0,9221:0,9222:0,9249:0,9250:0,9252:0,9254:0,9265:0,9284:0,9285:0,9300:0,9354:0,9367:0,9373:0,9377:0,9387:0,9391:0,9456:0,9473:0,9498:0,9674:0,9678:0,9680:0,9709:0,9712:0,9713:0,9716:0,9741:0,9748:2,9749:2,9761:0,9766:0,9793:0,9794:0,9869:0,9874:0,9875:0,9880:0,9895:0,9943:0,9945:0,9947:0,9967:0,9972:0,9977:0,10160:0,10183:0,10188:0,10194:0,10199:0,10207:0,10212:0,10217:0,10222:0,10227:0,10235:0,10240:0,10250:0,10254:0,10270:0,10275:0,10280:0,10306:0,10329:0,10471:0,10477:0,10481:2,10516:2,10592:0,10594:0,10596:0,10598:0,10601:0,10603:0,10626:0,10632:0,10665:0,20002:0,20042:0,20050:1,20499:0,20538:0,20539:0,20790:0,20791:0,21291:0,21292:0,21500:0,21817:0,21818:0,22032:0,22033:0,22091:0,22092:0,22239:0,22240:0,22332:0,22337:0,22338:0,22391:0,22392:0,22639:0,22700:0,22739:0,22770:0,22780:0,22832:0,23090:0,23095:0,23239:0,23240:0,23433:0,23700:0,24047:0,24048:0,24100:3,24200:0,24305:0,24306:0,24382:10,24383:0,24500:0,24547:0,24548:0,24571:9,24600:0,25e3:0,25231:0,25884:0,25932:0,26237:0,26331:0,26332:0,26432:0,26591:0,26592:0,26632:0,26692:0,27120:0,27200:0,27291:6,27292:6,27429:0,27492:0,27493:0,27500:0,28232:0,28600:0,28991:0,28992:0,29100:0,29101:0,29220:0,29221:0,29333:0,29635:0,29636:0,29701:0,29738:0,29739:0,29849:0,29850:0,29871:8,29872:7,29873:0,29874:0,30200:5,30339:0,30340:0,30591:0,30592:0,30791:0,30792:0,30800:0,31028:0,31121:0,31154:0,31170:0,31171:0,31370:0,31528:0,31529:0,31600:0,31700:0,31838:0,31839:0,31900:0,31901:0,32061:0,32062:0,32098:0,32099:2,32100:0,32104:0,32161:0,32766:0,53048:0,53049:0,54090:0,54091:0,65061:2,65062:2,65161:0,65163:0,102041:2,102064:11,102068:15,102069:16,102118:2,102119:1,102120:2,102121:2,102217:2,102218:0,102219:2,102220:2,102378:1,102379:1,102380:0,102381:1,102589:2,102599:2,102600:2,102604:2,102647:0,102704:2,102705:2,102706:0,102731:0,102732:0,102759:1,102760:1,102761:2,102762:0,102763:2,102764:0,102765:0,102766:2,102970:1,102974:2,102993:0,102994:0,102995:2,102996:2,103015:0,103016:2,103017:0,103018:2,103025:0,103026:0,103027:2,103028:2,103035:0,103036:0,103037:2,103038:2,103039:0,103040:0,103041:2,103042:2,103043:0,103044:0,103045:2,103046:2,103047:0,103048:0,103049:2,103050:2,103051:0,103052:2,103053:0,103054:2,103055:0,103056:2,103057:0,103058:0,103059:2,103060:2,103061:0,103062:0,103063:2,103064:2,103069:2,103070:0,103071:0,103072:2,103073:2,103086:0,103087:0,103088:2,103089:2,103094:1,103095:0,103096:2,103103:0,103104:2,103105:0,103106:2,103121:0,103122:2,103123:0,103124:0,103125:1,103126:1,103127:0,103128:0,103129:2,103130:2,103131:0,103132:0,103133:2,103134:2,103135:0,103136:0,103137:1,103138:1,103139:0,103140:2,103141:0,103142:2,103143:0,103144:2,103145:0,103146:1,103147:0,103148:0,103149:2,103150:2,103151:0,103152:2,103172:0,103173:2,103174:0,103175:0,103176:2,103177:2,103178:0,103179:0,103180:2,103181:2,103182:0,103183:0,103184:2,103185:2,103228:0,103229:0,103230:2,103231:2,103250:0,103251:2,103252:0,103253:2,103260:0,103261:0,103262:2,103263:2,103270:0,103271:0,103272:2,103273:2,103274:0,103275:0,103276:2,103277:2,103278:0,103279:0,103280:2,103281:2,103282:0,103283:0,103284:2,103285:2,103286:0,103287:2,103288:0,103289:2,103290:0,103291:2,103292:0,103293:0,103294:2,103295:2,103296:0,103297:0,103298:2,103299:2,103376:2,103377:0,103378:0,103379:2,103380:2,103393:0,103394:0,103395:2,103396:2,103472:0,103473:1,103474:0,103475:2,103482:0,103483:2,103484:0,103485:2,103500:0,103501:2,103502:0,103503:0,103504:1,103505:1,103506:0,103507:0,103508:2,103509:2,103510:0,103511:0,103512:2,103513:2,103514:0,103515:2,103516:0,103517:2,103518:0,103519:2,103520:0,103521:1,103522:0,103523:0,103524:2,103525:2,103526:0,103527:2,103561:2,103562:2,103563:0,103564:0,103565:2,103566:2,103567:0,103568:0,103569:2,103570:2,103584:0,103585:2,103586:0,103587:2,103588:1,103589:0,103590:2,103591:1,103592:0,103593:2,103594:1,103695:2,103897:1,103978:2,103979:0,103980:2,103981:0};for(s=2e3;s<=2045;s++)o[s]=0;for(s=2056;s<=2065;s++)o[s]=0;for(s=2067;s<=2135;s++)o[s]=0;for(s=2137;s<=2154;s++)o[s]=0;for(s=2161;s<=2170;s++)o[s]=0;for(s=2172;s<=2193;s++)o[s]=0;for(s=2195;s<=2198;s++)o[s]=0;for(s=2200;s<=2203;s++)o[s]=0;for(s=2205;s<=2217;s++)o[s]=0;for(s=2222;s<=2224;s++)o[s]=1;for(s=2225;s<=2250;s++)o[s]=2;for(s=2251;s<=2253;s++)o[s]=1;for(s=2257;s<=2264;s++)o[s]=2;for(s=2274;s<=2279;s++)o[s]=2;for(s=2280;s<=2282;s++)o[s]=1;for(s=2283;s<=2289;s++)o[s]=2;for(s=2290;s<=2292;s++)o[s]=0;for(s=2308;s<=2313;s++)o[s]=0;for(s=2315;s<=2491;s++)o[s]=0;for(s=2494;s<=2866;s++)o[s]=0;for(s=2867;s<=2869;s++)o[s]=1;for(s=2870;s<=2888;s++)o[s]=2;for(s=2891;s<=2895;s++)o[s]=2;for(s=2896;s<=2898;s++)o[s]=1;for(s=2902;s<=2908;s++)o[s]=2;for(s=2915;s<=2920;s++)o[s]=2;for(s=2921;s<=2923;s++)o[s]=1;for(s=2924;s<=2930;s++)o[s]=2;for(s=2931;s<=2962;s++)o[s]=0;for(s=2964;s<=2968;s++)o[s]=2;for(s=2969;s<=2973;s++)o[s]=0;for(s=2975;s<=2991;s++)o[s]=0;for(s=2995;s<=3051;s++)o[s]=0;for(s=3054;s<=3079;s++)o[s]=0;for(s=3081;s<=3088;s++)o[s]=0;for(s=3092;s<=3101;s++)o[s]=0;for(s=3106;s<=3138;s++)o[s]=0;for(s=3146;s<=3151;s++)o[s]=0;for(s=3153;s<=3166;s++)o[s]=0;for(s=3168;s<=3172;s++)o[s]=0;for(s=3174;s<=3203;s++)o[s]=0;for(s=3294;s<=3358;s++)o[s]=0;for(s=3367;s<=3403;s++)o[s]=0;for(s=3408;s<=3416;s++)o[s]=0;for(s=3417;s<=3438;s++)o[s]=2;for(s=3441;s<=3446;s++)o[s]=2;for(s=3447;s<=3450;s++)o[s]=0;for(s=3451;s<=3459;s++)o[s]=2;for(s=3460;s<=3478;s++)o[s]=0;for(s=3554;s<=3559;s++)o[s]=0;for(s=3560;s<=3570;s++)o[s]=2;for(s=3571;s<=3581;s++)o[s]=0;for(s=3594;s<=3597;s++)o[s]=0;for(s=3601;s<=3604;s++)o[s]=0;for(s=3637;s<=3639;s++)o[s]=0;for(s=3665;s<=3667;s++)o[s]=0;for(s=3693;s<=3695;s++)o[s]=0;for(s=3701;s<=3727;s++)o[s]=0;for(s=3728;s<=3739;s++)o[s]=2;for(s=3740;s<=3751;s++)o[s]=0;for(s=3753;s<=3760;s++)o[s]=2;for(s=3761;s<=3773;s++)o[s]=0;for(s=3775;s<=3777;s++)o[s]=0;for(s=3779;s<=3781;s++)o[s]=0;for(s=3783;s<=3785;s++)o[s]=0;for(s=3788;s<=3791;s++)o[s]=0;for(s=3797;s<=3802;s++)o[s]=0;for(s=3814;s<=3816;s++)o[s]=0;for(s=3825;s<=3829;s++)o[s]=0;for(s=3832;s<=3841;s++)o[s]=0;for(s=3844;s<=3852;s++)o[s]=0;for(s=3873;s<=3885;s++)o[s]=0;for(s=3890;s<=3893;s++)o[s]=0;for(s=3907;s<=3912;s++)o[s]=0;for(s=3942;s<=3950;s++)o[s]=0;for(s=3968;s<=3970;s++)o[s]=0;for(s=3973;s<=3976;s++)o[s]=0;for(s=3986;s<=3989;s++)o[s]=0;for(s=3994;s<=3997;s++)o[s]=0;for(s=4048;s<=4051;s++)o[s]=0;for(s=4056;s<=4063;s++)o[s]=0;for(s=4093;s<=4096;s++)o[s]=0;for(s=4390;s<=4398;s++)o[s]=0;for(s=4399;s<=4413;s++)o[s]=2;for(s=4418;s<=4433;s++)o[s]=2;for(s=4455;s<=4457;s++)o[s]=2;for(s=4484;s<=4489;s++)o[s]=0;for(s=4491;s<=4554;s++)o[s]=0;for(s=4568;s<=4589;s++)o[s]=0;for(s=4652;s<=4656;s++)o[s]=0;for(s=4766;s<=4800;s++)o[s]=0;for(s=5014;s<=5016;s++)o[s]=0;for(s=5069;s<=5072;s++)o[s]=0;for(s=5105;s<=5130;s++)o[s]=0;for(s=5167;s<=5188;s++)o[s]=0;for(s=5253;s<=5259;s++)o[s]=0;for(s=5269;s<=5275;s++)o[s]=0;for(s=5292;s<=5311;s++)o[s]=0;for(s=5329;s<=5331;s++)o[s]=0;for(s=5343;s<=5349;s++)o[s]=0;for(s=5355;s<=5357;s++)o[s]=0;for(s=5387;s<=5389;s++)o[s]=0;for(s=5459;s<=5463;s++)o[s]=0;for(s=5479;s<=5482;s++)o[s]=0;for(s=5518;s<=5520;s++)o[s]=0;for(s=5530;s<=5539;s++)o[s]=0;for(s=5550;s<=5552;s++)o[s]=0;for(s=5562;s<=5583;s++)o[s]=0;for(s=5623;s<=5625;s++)o[s]=2;for(s=5631;s<=5639;s++)o[s]=0;for(s=5649;s<=5653;s++)o[s]=0;for(s=5663;s<=5680;s++)o[s]=0;for(s=5682;s<=5685;s++)o[s]=0;for(s=5875;s<=5877;s++)o[s]=0;for(s=5896;s<=5899;s++)o[s]=0;for(s=5921;s<=5940;s++)o[s]=0;for(s=6050;s<=6125;s++)o[s]=0;for(s=6244;s<=6275;s++)o[s]=0;for(s=6328;s<=6348;s++)o[s]=0;for(s=6350;s<=6356;s++)o[s]=0;for(s=6366;s<=6372;s++)o[s]=0;for(s=6381;s<=6387;s++)o[s]=0;for(s=6393;s<=6404;s++)o[s]=0;for(s=6480;s<=6483;s++)o[s]=0;for(s=6511;s<=6514;s++)o[s]=0;for(s=6579;s<=6581;s++)o[s]=0;for(s=6619;s<=6624;s++)o[s]=0;for(s=6625;s<=6627;s++)o[s]=2;for(s=6628;s<=6632;s++)o[s]=0;for(s=6634;s<=6637;s++)o[s]=0;for(s=6669;s<=6692;s++)o[s]=0;for(s=6707;s<=6709;s++)o[s]=0;for(s=6720;s<=6723;s++)o[s]=0;for(s=6732;s<=6738;s++)o[s]=0;for(s=6931;s<=6933;s++)o[s]=0;for(s=6956;s<=6959;s++)o[s]=0;for(s=7005;s<=7007;s++)o[s]=0;for(s=7057;s<=7070;s++)o[s]=2;for(s=7074;s<=7082;s++)o[s]=0;for(s=7109;s<=7118;s++)o[s]=0;for(s=7119;s<=7127;s++)o[s]=1;for(s=7374;s<=7376;s++)o[s]=0;for(s=7528;s<=7586;s++)o[s]=0;for(s=7587;s<=7645;s++)o[s]=2;for(s=7692;s<=7696;s++)o[s]=0;for(s=7755;s<=7787;s++)o[s]=0;for(s=7791;s<=7795;s++)o[s]=0;for(s=7799;s<=7801;s++)o[s]=0;for(s=7803;s<=7805;s++)o[s]=0;for(s=7825;s<=7831;s++)o[s]=0;for(s=7845;s<=7859;s++)o[s]=0;for(s=8013;s<=8032;s++)o[s]=0;for(s=8065;s<=8068;s++)o[s]=1;for(s=8518;s<=8529;s++)o[s]=2;for(s=8533;s<=8536;s++)o[s]=2;for(s=8538;s<=8540;s++)o[s]=2;for(s=8677;s<=8679;s++)o[s]=0;for(s=8836;s<=8840;s++)o[s]=0;for(s=8857;s<=8859;s++)o[s]=0;for(s=8908;s<=8910;s++)o[s]=0;for(s=9154;s<=9159;s++)o[s]=0;for(s=9205;s<=9218;s++)o[s]=0;for(s=9271;s<=9273;s++)o[s]=0;for(s=9295;s<=9297;s++)o[s]=0;for(s=9356;s<=9360;s++)o[s]=0;for(s=9404;s<=9407;s++)o[s]=0;for(s=9476;s<=9482;s++)o[s]=0;for(s=9487;s<=9494;s++)o[s]=0;for(s=9697;s<=9699;s++)o[s]=0;for(s=9821;s<=9865;s++)o[s]=0;for(s=10285;s<=10291;s++)o[s]=0;for(s=10314;s<=10317;s++)o[s]=0;for(s=10448;s<=10465;s++)o[s]=0;for(s=10731;s<=10733;s++)o[s]=0;for(s=11114;s<=11118;s++)o[s]=0;for(s=20004;s<=20032;s++)o[s]=0;for(s=20047;s<=20049;s++)o[s]=0;for(s=20062;s<=20092;s++)o[s]=0;for(s=20135;s<=20138;s++)o[s]=0;for(s=20248;s<=20258;s++)o[s]=0;for(s=20348;s<=20358;s++)o[s]=0;for(s=20436;s<=20440;s++)o[s]=0;for(s=20822;s<=20824;s++)o[s]=0;for(s=20904;s<=20932;s++)o[s]=0;for(s=20934;s<=20936;s++)o[s]=0;for(s=21004;s<=21032;s++)o[s]=0;for(s=21035;s<=21037;s++)o[s]=0;for(s=21095;s<=21097;s++)o[s]=0;for(s=21148;s<=21150;s++)o[s]=0;for(s=21207;s<=21264;s++)o[s]=0;for(s=21307;s<=21364;s++)o[s]=0;for(s=21413;s<=21423;s++)o[s]=0;for(s=21453;s<=21463;s++)o[s]=0;for(s=21473;s<=21483;s++)o[s]=0;for(s=21780;s<=21782;s++)o[s]=0;for(s=21891;s<=21894;s++)o[s]=0;for(s=21896;s<=21899;s++)o[s]=0;for(s=22171;s<=22177;s++)o[s]=0;for(s=22181;s<=22187;s++)o[s]=0;for(s=22191;s<=22197;s++)o[s]=0;for(s=22207;s<=22222;s++)o[s]=0;for(s=22229;s<=22232;s++)o[s]=0;for(s=22234;s<=22236;s++)o[s]=0;for(s=22243;s<=22250;s++)o[s]=0;for(s=22262;s<=22265;s++)o[s]=0;for(s=22307;s<=22322;s++)o[s]=0;for(s=22348;s<=22357;s++)o[s]=0;for(s=22407;s<=22422;s++)o[s]=0;for(s=22462;s<=22465;s++)o[s]=0;for(s=22521;s<=22525;s++)o[s]=0;for(s=22607;s<=22622;s++)o[s]=0;for(s=22641;s<=22646;s++)o[s]=0;for(s=22648;s<=22657;s++)o[s]=0;for(s=22707;s<=22722;s++)o[s]=0;for(s=22762;s<=22765;s++)o[s]=0;for(s=22807;s<=22822;s++)o[s]=0;for(s=22991;s<=22994;s++)o[s]=0;for(s=23028;s<=23038;s++)o[s]=0;for(s=23301;s<=23333;s++)o[s]=2;for(s=23830;s<=23853;s++)o[s]=0;for(s=23866;s<=23872;s++)o[s]=0;for(s=23877;s<=23884;s++)o[s]=0;for(s=23886;s<=23894;s++)o[s]=0;for(s=23946;s<=23948;s++)o[s]=0;for(s=24311;s<=24313;s++)o[s]=0;for(s=24342;s<=24347;s++)o[s]=0;for(s=24370;s<=24374;s++)o[s]=10;for(s=24375;s<=24381;s++)o[s]=0;for(s=24718;s<=24721;s++)o[s]=0;for(s=24817;s<=24821;s++)o[s]=0;for(s=24877;s<=24882;s++)o[s]=0;for(s=24891;s<=24893;s++)o[s]=0;for(s=25391;s<=25395;s++)o[s]=0;for(s=25828;s<=25838;s++)o[s]=0;for(s=26191;s<=26195;s++)o[s]=0;for(s=26391;s<=26393;s++)o[s]=0;for(s=26701;s<=26722;s++)o[s]=0;for(s=26729;s<=26799;s++)o[s]=2;for(s=26801;s<=26803;s++)o[s]=2;for(s=26811;s<=26813;s++)o[s]=2;for(s=26847;s<=26870;s++)o[s]=2;for(s=26891;s<=26899;s++)o[s]=0;for(s=26901;s<=26923;s++)o[s]=0;for(s=26929;s<=26946;s++)o[s]=0;for(s=26948;s<=26998;s++)o[s]=0;for(s=27037;s<=27040;s++)o[s]=0;for(s=27205;s<=27232;s++)o[s]=0;for(s=27258;s<=27260;s++)o[s]=0;for(s=27391;s<=27398;s++)o[s]=0;for(s=27561;s<=27564;s++)o[s]=0;for(s=27571;s<=27574;s++)o[s]=0;for(s=27581;s<=27584;s++)o[s]=0;for(s=27591;s<=27594;s++)o[s]=0;for(s=27700;s<=27707;s++)o[s]=0;for(s=28191;s<=28193;s++)o[s]=0;for(s=28348;s<=28358;s++)o[s]=0;for(s=28402;s<=28432;s++)o[s]=0;for(s=28462;s<=28492;s++)o[s]=0;for(s=29118;s<=29122;s++)o[s]=0;for(s=29168;s<=29172;s++)o[s]=0;for(s=29177;s<=29185;s++)o[s]=0;for(s=29187;s<=29195;s++)o[s]=0;for(s=29900;s<=29903;s++)o[s]=0;for(s=30161;s<=30179;s++)o[s]=0;for(s=30491;s<=30494;s++)o[s]=0;for(s=30729;s<=30732;s++)o[s]=0;for(s=31251;s<=31259;s++)o[s]=0;for(s=31265;s<=31268;s++)o[s]=0;for(s=31275;s<=31279;s++)o[s]=0;for(s=31281;s<=31297;s++)o[s]=0;for(s=31461;s<=31469;s++)o[s]=0;for(s=31491;s<=31495;s++)o[s]=0;for(s=31917;s<=31922;s++)o[s]=0;for(s=31965;s<=32e3;s++)o[s]=0;for(s=32001;s<=32003;s++)o[s]=2;for(s=32005;s<=32031;s++)o[s]=2;for(s=32033;s<=32060;s++)o[s]=2;for(s=32064;s<=32067;s++)o[s]=2;for(s=32074;s<=32077;s++)o[s]=2;for(s=32081;s<=32086;s++)o[s]=0;for(s=32107;s<=32130;s++)o[s]=0;for(s=32133;s<=32159;s++)o[s]=0;for(s=32164;s<=32167;s++)o[s]=2;for(s=32180;s<=32199;s++)o[s]=0;for(s=32201;s<=32260;s++)o[s]=0;for(s=32301;s<=32360;s++)o[s]=0;for(s=32401;s<=32460;s++)o[s]=0;for(s=32501;s<=32560;s++)o[s]=0;for(s=32601;s<=32662;s++)o[s]=0;for(s=32664;s<=32667;s++)o[s]=2;for(s=32701;s<=32761;s++)o[s]=0;for(s=53001;s<=53004;s++)o[s]=0;for(s=53008;s<=53019;s++)o[s]=0;for(s=53021;s<=53032;s++)o[s]=0;for(s=53034;s<=53037;s++)o[s]=0;for(s=53042;s<=53046;s++)o[s]=0;for(s=53074;s<=53080;s++)o[s]=0;for(s=54001;s<=54004;s++)o[s]=0;for(s=54008;s<=54019;s++)o[s]=0;for(s=54021;s<=54032;s++)o[s]=0;for(s=54034;s<=54037;s++)o[s]=0;for(s=54042;s<=54046;s++)o[s]=0;for(s=54048;s<=54053;s++)o[s]=0;for(s=54074;s<=54080;s++)o[s]=0;for(s=54098;s<=54101;s++)o[s]=0;for(s=102001;s<=102040;s++)o[s]=0;for(s=102042;s<=102063;s++)o[s]=0;for(s=102065;s<=102067;s++)o[s]=0;for(s=102070;s<=102117;s++)o[s]=0;for(s=102122;s<=102216;s++)o[s]=0;for(s=102221;s<=102377;s++)o[s]=0;for(s=102382;s<=102388;s++)o[s]=0;for(s=102389;s<=102398;s++)o[s]=2;for(s=102399;s<=102444;s++)o[s]=0;for(s=102445;s<=102447;s++)o[s]=2;for(s=102448;s<=102458;s++)o[s]=0;for(s=102459;s<=102468;s++)o[s]=2;for(s=102469;s<=102499;s++)o[s]=0;for(s=102500;s<=102519;s++)o[s]=1;for(s=102520;s<=102524;s++)o[s]=0;for(s=102525;s<=102529;s++)o[s]=2;for(s=102530;s<=102588;s++)o[s]=0;for(s=102590;s<=102598;s++)o[s]=0;for(s=102601;s<=102603;s++)o[s]=0;for(s=102605;s<=102628;s++)o[s]=0;for(s=102629;s<=102646;s++)o[s]=2;for(s=102648;s<=102700;s++)o[s]=2;for(s=102701;s<=102703;s++)o[s]=0;for(s=102707;s<=102730;s++)o[s]=2;for(s=102733;s<=102758;s++)o[s]=2;for(s=102767;s<=102900;s++)o[s]=0;for(s=102901;s<=102933;s++)o[s]=2;for(s=102934;s<=102950;s++)o[s]=13;for(s=102951;s<=102963;s++)o[s]=0;for(s=102965;s<=102969;s++)o[s]=0;for(s=102971;s<=102973;s++)o[s]=0;for(s=102975;s<=102989;s++)o[s]=0;for(s=102990;s<=102992;s++)o[s]=1;for(s=102997;s<=103002;s++)o[s]=0;for(s=103003;s<=103008;s++)o[s]=2;for(s=103009;s<=103011;s++)o[s]=0;for(s=103012;s<=103014;s++)o[s]=2;for(s=103019;s<=103021;s++)o[s]=0;for(s=103022;s<=103024;s++)o[s]=2;for(s=103029;s<=103031;s++)o[s]=0;for(s=103032;s<=103034;s++)o[s]=2;for(s=103065;s<=103068;s++)o[s]=0;for(s=103074;s<=103076;s++)o[s]=0;for(s=103077;s<=103079;s++)o[s]=1;for(s=103080;s<=103082;s++)o[s]=0;for(s=103083;s<=103085;s++)o[s]=2;for(s=103090;s<=103093;s++)o[s]=0;for(s=103097;s<=103099;s++)o[s]=0;for(s=103100;s<=103102;s++)o[s]=2;for(s=103107;s<=103109;s++)o[s]=0;for(s=103110;s<=103112;s++)o[s]=2;for(s=103113;s<=103116;s++)o[s]=0;for(s=103117;s<=103120;s++)o[s]=2;for(s=103153;s<=103157;s++)o[s]=0;for(s=103158;s<=103162;s++)o[s]=2;for(s=103163;s<=103165;s++)o[s]=0;for(s=103166;s<=103168;s++)o[s]=1;for(s=103169;s<=103171;s++)o[s]=2;for(s=103186;s<=103188;s++)o[s]=0;for(s=103189;s<=103191;s++)o[s]=2;for(s=103192;s<=103195;s++)o[s]=0;for(s=103196;s<=103199;s++)o[s]=2;for(s=103200;s<=103224;s++)o[s]=0;for(s=103225;s<=103227;s++)o[s]=1;for(s=103232;s<=103237;s++)o[s]=0;for(s=103238;s<=103243;s++)o[s]=2;for(s=103244;s<=103246;s++)o[s]=0;for(s=103247;s<=103249;s++)o[s]=2;for(s=103254;s<=103256;s++)o[s]=0;for(s=103257;s<=103259;s++)o[s]=2;for(s=103264;s<=103266;s++)o[s]=0;for(s=103267;s<=103269;s++)o[s]=2;for(s=103300;s<=103375;s++)o[s]=0;for(s=103381;s<=103383;s++)o[s]=0;for(s=103384;s<=103386;s++)o[s]=1;for(s=103387;s<=103389;s++)o[s]=0;for(s=103390;s<=103392;s++)o[s]=2;for(s=103397;s<=103399;s++)o[s]=0;for(s=103400;s<=103471;s++)o[s]=2;for(s=103476;s<=103478;s++)o[s]=0;for(s=103479;s<=103481;s++)o[s]=2;for(s=103486;s<=103488;s++)o[s]=0;for(s=103489;s<=103491;s++)o[s]=2;for(s=103492;s<=103495;s++)o[s]=0;for(s=103496;s<=103499;s++)o[s]=2;for(s=103528;s<=103543;s++)o[s]=0;for(s=103544;s<=103548;s++)o[s]=2;for(s=103549;s<=103551;s++)o[s]=0;for(s=103552;s<=103554;s++)o[s]=1;for(s=103555;s<=103557;s++)o[s]=2;for(s=103558;s<=103560;s++)o[s]=0;for(s=103571;s<=103573;s++)o[s]=0;for(s=103574;s<=103576;s++)o[s]=2;for(s=103577;s<=103580;s++)o[s]=0;for(s=103581;s<=103583;s++)o[s]=2;for(s=103595;s<=103694;s++)o[s]=0;for(s=103696;s<=103699;s++)o[s]=0;for(s=103700;s<=103793;s++)o[s]=2;for(s=103794;s<=103890;s++)o[s]=0;for(s=103891;s<=103896;s++)o[s]=2;for(s=103900;s<=103971;s++)o[s]=2;for(s=103972;s<=103977;s++)o[s]=0;for(s=112e3;s<=112101;s++)o[s]=0},94360:(t,r,i)=>{var s;i.d(r,{$U:()=>Z,C2:()=>h,CQ:()=>a,CR:()=>x,C_:()=>j,Cp:()=>E,DY:()=>c,GR:()=>er,Gh:()=>P,LY:()=>R,MZ:()=>B,O5:()=>K,Pq:()=>f,Qb:()=>W,Qs:()=>en,Sr:()=>S,TB:()=>et,U5:()=>C,V3:()=>k,Vl:()=>ee,Xh:()=>Q,YS:()=>m,YV:()=>u,_M:()=>L,_x:()=>Y,cp:()=>ei,dV:()=>s,eG:()=>p,eI:()=>X,fq:()=>q,fy:()=>N,g0:()=>O,hM:()=>U,ie:()=>F,ju:()=>d,lL:()=>w,mg:()=>D,n9:()=>M,nM:()=>v,nW:()=>G,oj:()=>$,p:()=>V,qM:()=>o,r1:()=>J,sn:()=>b,tP:()=>es,uM:()=>g,ue:()=>y,vN:()=>I,vd:()=>T,yA:()=>z,yv:()=>H,z2:()=>_,zt:()=>A});let o=1e-30,a=512,u=0x1000000,d=8,c=29,p=24,h=4,f=0,y=0,m=0,g=1,_=2,v=3,w=4,b=5,M=6,S=12,A=13,T=5,x=6,E=5,I=6;!function(t){t[t.FilterFlags=0]="FilterFlags",t[t.Animation=1]="Animation",t[t.GPGPU=2]="GPGPU",t[t.VV=3]="VV",t[t.DD0=4]="DD0",t[t.DD1=5]="DD1",t[t.DD2=6]="DD2",t[t.LocalTimeOrigin=7]="LocalTimeOrigin"}(s||(s={}));let C=6,R=64,O=128,P=1.05,N=3,k=1,L=3,F=3,Z=5,D=6,j=1.15,U=4,V=128,z=248,G=2,$=128,B=1,q=10,H=1024,W=128,J=4,K=1,Y=1048576,X=.75,Q=10,ee=.75,et=256,er=32,ei=512,en=0,es=1},94401:(t,r,i)=>{i.d(r,{CX:()=>d,tD:()=>a,z4:()=>u});var s=i(33715),o=i(30225);function a(t){let r=t.constructor.__accessorMetadata__,i=Object.prototype.hasOwnProperty.call(t.constructor,"__accessorMetadata__");if(r){if(!i){for(let t in r=Object.create(r))r[t]=(0,s.o8)(r[t]);Object.defineProperty(t.constructor,"__accessorMetadata__",{value:r,enumerable:!1,configurable:!0,writable:!0})}}else r={},Object.defineProperty(t.constructor,"__accessorMetadata__",{value:r,enumerable:!1,configurable:!0,writable:!0});return t.constructor.__accessorMetadata__}function u(t,r){let i=a(t),s=i[r];return s||(s=i[r]={}),s}function d(t,r){return(0,o.h1)(t,r,p)}let c=/^(?:[^.]+\.)?(?:value|type|(?:json\.type|json\.origins\.[^.]\.type))$/;function p(t){return c.test(t)?"replace":"merge"}},94427:(t,r,i)=>{let s;i.d(r,{hq:()=>I,aK:()=>J,yr:()=>Q,Gk:()=>f,Nh:()=>k,lr:()=>F,oW:()=>Y});var o,a,u=i(58647),d=(t,r)=>t.manager.internals.members?.[r]?.[0],c=Symbol.for("controller"),p=t=>"object"==typeof t&&null!==t&&(c in t||"hostConnected"in t||"hostDisconnected"in t||"hostUpdate"in t||"hostUpdated"in t);function h(t){o!==t&&(o=t,queueMicrotask(()=>{o===t&&(o=void 0)}))}function f(t){return o}var y=[];function m(t){if(void 0===t){y=[];return}let r=y.indexOf(t);y=-1===r?[...y,t]:y.slice(0,r+1),queueMicrotask(()=>{y=[]})}var g=async(t,r)=>{let i=v(t);if(void 0===i)return t;if(await i.ready,"function"==typeof r){let t=i.watchExports(i=>r(i,t))}return i.exports},_=async t=>{let r=v(t);return await r.ready,r},v=t=>{let r=o.manager.internals.resolveExports(t);if(void 0!==r)return r;if(p(t))return t;let i=function(){let t=a;return a=void 0,t}();if(void 0!==i)return i},w={setter:!1,getter:!1,readOnly:!1},b=new WeakMap,M=class{constructor(t){var r;this._callbacks={hostConnected:[],hostDisconnected:[],hostLoad:[],hostLoaded:[],hostUpdate:[],hostUpdated:[],hostDestroy:[],hostLifecycle:[]},this._ready=new u.cY,this._lifecycleCleanups=[],this.connectedCalled=!1,this._loadCalled=!1,this.loadedCalled=!1,this[c]=!0,this.ready=this._ready.promise,this._exports=T(this),this._exportWatchers=new Set;let i=t??(new.target.name,o);this.component=i,this.component.addController(this),void 0!==this.component.manager&&(m(this),queueMicrotask(()=>this.catchUpLifecycle()))}catchUpLifecycle(){let{manager:t}=this.component;t.connectedCalled&&!this.connectedCalled&&this.triggerConnected(),t._loadCalled&&this.triggerLoad().then(()=>{t.loadedCalled&&this.triggerLoaded()}).catch(console.error)}get exports(){return this._exports}set exports(t){let r=this._exports;r!==t&&(this._exports=t,this._exportWatchers.forEach(u.UF),this.connectedCalled&&!1!==this.assignedProperty&&this.component.requestUpdate(this.assignedProperty,r)),this._ready.resolve(t)}setProvisionalExports(t,r=!0){this._exports=r?T(t):t,this._exportWatchers.forEach(u.UF)}watchExports(t){let r=()=>t(this._exports);return this._exportWatchers.add(r),()=>void this._exportWatchers.delete(r)}get use(){return h(this.component),g}get useRef(){return h(this.component),_}get useRefSync(){return h(this.component),v}controllerRemoved(){this.component.el.isConnected&&this.triggerDisconnected(),this.triggerDestroy()}onConnected(t){this._callbacks.hostConnected.push(t)}onDisconnected(t){this._callbacks.hostDisconnected.push(t)}onLoad(t){this._callbacks.hostLoad.push(t)}onLoaded(t){this._callbacks.hostLoaded.push(t)}onUpdate(t){this._callbacks.hostUpdate.push(t)}onUpdated(t){this._callbacks.hostUpdated.push(t)}onDestroy(t){this._callbacks.hostDestroy.push(t)}onLifecycle(t){this._callbacks.hostLifecycle.push(t),this.connectedCalled&&this.component.el.isConnected&&this._callLifecycle(t)}triggerConnected(){this.hostConnected&&(0,u.UF)(this.hostConnected,this),this._callbacks.hostConnected.forEach(u.UF),this.triggerLifecycle(),this.connectedCalled=!0}triggerDisconnected(){this.hostDisconnected&&(0,u.UF)(this.hostDisconnected,this),this._callbacks.hostDisconnected.forEach(u.UF),this._lifecycleCleanups.forEach(u.UF),this._lifecycleCleanups=[]}async triggerLoad(){this._loadCalled||(this._loadCalled=!0,this.hostLoad&&await (0,u.ao)(this.hostLoad,this),this._callbacks.hostLoad.length>0&&await Promise.allSettled(this._callbacks.hostLoad.map(u.ao)),this._ready.resolve(this._exports))}triggerLoaded(){this.loadedCalled||(this.hostLoaded&&(0,u.UF)(this.hostLoaded,this),this._callbacks.hostLoaded.forEach(u.UF),this.loadedCalled=!0)}triggerUpdate(t){this.hostUpdate&&(0,u.UF)(this.hostUpdate,this,t),this._callbacks.hostUpdate.forEach(S,t)}triggerUpdated(t){this.hostUpdated&&(0,u.UF)(this.hostUpdated,this,t),this._callbacks.hostUpdated.forEach(S,t)}triggerDestroy(){this.hostDestroy&&(0,u.UF)(this.hostDestroy,this),this._callbacks.hostDestroy.forEach(u.UF)}triggerLifecycle(){let t=this;t.hostLifecycle&&this._callLifecycle(()=>t.hostLifecycle()),this._callbacks.hostLifecycle.forEach(this._callLifecycle,this)}_callLifecycle(t){h(this.component);let r=(0,u.UF)(t);(Array.isArray(r)?r:[r]).forEach(t=>{"function"==typeof t?this._lifecycleCleanups.push(t):"object"==typeof t&&"function"==typeof t.remove&&this._lifecycleCleanups.push(t.remove)})}};function S(t){(0,u.UF)(t,void 0,this)}var A=M;function T(t){if("object"!=typeof t&&"function"!=typeof t||null===t)return t;let r=new Proxy(t,{get(t,i,s){if((!x.has(i)||!(i in t)||t[i]!==r)&&(i in t||i in Promise.prototype||"symbol"==typeof i))return"function"==typeof t?t[i]:Reflect.get(t,i,s)},set:(t,r,i,s)=>Reflect.set(t,r,i,s)});return r}var x=new Set(["exports","_exports"]),E=void 0;function I(){Array.from(E?.entries()??[]).forEach(([t,{callbacks:r}])=>{let i=Object.keys(t);r.forEach(t=>t(i))}),E=void 0}function C(t,r,i){var s;let o=t.manager.internals;(s=o.allWatchers)[r]??(s[r]=[]);let a=o.allWatchers[r],d=(t,r,s)=>(0,u.UF)(i,null,t,r,s);return a.push(d),()=>{let t=a.indexOf(d);-1!==t&&a.splice(t,1)}}var R=class{constructor(t){this.enabledWatchers={},this.allWatchers={},this.enableReadonly=()=>{if(this.enableReadonly=void 0,!this.component.manager.isLit)return;let t=this.component.manager.internals;Object.entries(t.members).forEach(([r,[i]])=>{var s;2048&i&&((s=t.setters)[r]??(s[r]=[]),t.setters[r].push(t.readonlySetter))})},this.trackedValue=N,this.keyTrackers=[],this.getters={},this.setters={},this.accessorGetter={},this.accessorSetter={},this._exports=new WeakMap,this.readonlySetter=(t,r,i)=>{if(w.readOnly)return t;throw Error(`Cannot assign to read-only property "${i}" of ${this.component.el.tagName.toLowerCase()}. Trying to assign "${String(t)}"`)},this.component=t}firePropTrackers(t,r){let i=this.keyTrackers;this.trackedValue=N,this.keyTrackers=[],i.forEach(i=>i(t,r))}getSetProxy(t){let r=this.component,i=r.constructor.prototype;if(this._getSetProxy(i,t,"class"),r.manager.isLit)return;let s=r.el.constructor.prototype;i!==s&&this._getSetProxy(s,t,"html")}_getSetProxy(t,r,i){let s,o=d(this.component,r);do s=Object.getOwnPropertyDescriptor(t,r);while(!s&&(t=Object.getPrototypeOf(t)));if(!s)return;let a=s.get,u=s.set,c=P in a,p=P in u;if(c&&p)return;let h=!c,f=!p,y=h?function(){let t=a.call(this),i=b.get(this);if(w.getter||void 0===i)return t;let s=i.manager.internals;t=s.accessorGetter[r](t,r);let o=s.getters[r]??O;for(let i=0;i<o.length;i++)t=o[i](t,r);return t}:a,m=f?function(t){let i=a.call(this),s=b.get(this);if(void 0===s)return void u.call(this,t);let d=s.manager.isLit?t??void 0:function(t,r=8){return null==t||"object"==typeof t||"function"==typeof t?t:(4&r)!=0?"false"!==t&&(""===t||!!t):(2&r)!=0?Number.parseFloat(t):(1&r)!=0?String(t):t}(t,o),c=s.manager.internals;if(d===i)u.call(this,d);else{let t=w.setter?O:c.setters[r]??O;for(let s=0;s<t.length&&(d=t[s](d,i,r))!==i;s++);d=c.accessorSetter[r](d,i,r),u.call(this,d),d!==i&&c.enabledWatchers[r]?.forEach(t=>t(d,i,r))}c.keyTrackers.length>0&&c?.firePropTrackers(r,t)}:u;h&&(y[P]=!0),f&&(m[P]=!0),Object.defineProperty(t,r,{...s,get:y,set:m})}markExports(t,r){("object"==typeof r&&null!==r||"function"==typeof r)&&this._exports.set(r,t)}resolveExports(t){return"object"==typeof t&&null!==t||"function"==typeof t?this._exports.get(t):void 0}},O=[],P=Symbol(),N=Symbol();function k(t=[function(t){return o}(),...y],r,i){let s=Array.isArray(t)?t:[t],a=s.length+1,d=t=>{a-=1,void 0!==t&&(a=Math.min(a,0)),0===a&&r(t)};s.forEach(t=>(function(t,r,i){let s=Object.keys(t),o=s.length;void 0===E&&queueMicrotask(I),E??(E=new Map);let a=E.get(t);return void 0===a&&(a={callbacks:[],keyCount:o},E.set(t,a)),a.keyCount!==o&&(a.callbacks.forEach(t=>t(s)),a.callbacks=[],a.keyCount=o),a.callbacks.push(s=>{let a,d=s[o];a=void 0===d?void 0:t[d]===i?d:void 0,(0,u.UF)(r,null,a)}),i})(t,r=>d(void 0===r?void 0:{key:r,host:t,isReactive:!1}),i));let c=s.find(t=>"manager"in t&&"object"==typeof t.manager&&t.manager.component===t);return c&&function(t,r,i){let s=t.manager.internals;s.trackedValue!==N&&s.trackedValue!==i&&s.firePropTrackers(void 0,void 0),0===s.keyTrackers.length&&queueMicrotask(()=>s.firePropTrackers(void 0,void 0)),s.trackedValue=i,s.keyTrackers.push((t,s)=>(0,u.UF)(r,void 0,i===s?t:void 0))}(c,t=>d(void 0===t?void 0:{key:t,host:c,isReactive:!0}),i),i}var L=(t,r)=>r,F=(t,r)=>new Z(t,r),Z=class extends A{constructor(t,r){let i="addController"in t,s=new Set;if(t.addController=function(r){s.add(r),c in r||!t.renderRoot||!t.el.isConnected||r.hostConnected?.()},t.removeController=function(t){s.delete(t),t.controllerRemoved?.()},!i){let i=r??t.constructor.__forceUpdate;t.requestUpdate=()=>i(t)}super(t),this.internals=new R(this.component),this.destroyed=!1,this._updatePromise=new u.cY,this._originalLifecycles={},this.isLit=i,this.component.manager=this,function(t,r){if(r){let r=t.constructor.elementProperties;t.manager.internals.members=Object.fromEntries(Array.from(r,([t,r])=>r.noAccessor?void 0:[t,[2048*!!r.readOnly|(r.state?32:16)]]).filter(u.EA))}else{let r=t.constructor,i=r.__registerControllers?.(t)??void 0;if(r.__registerControllers=void 0,"object"!=typeof i)throw Error("Failed to retrieve component meta");t.manager.internals.members=Object.fromEntries(Object.entries(i).filter(([t,[r]])=>(63&r)!=0))}}(t,i),this._controllers=s,this.exports=void 0,this.hasDestroy=D in this.component&&"function"==typeof this.component.destroy,this._bindLifecycleMethods();let o=this.internals;Object.keys(o.members).forEach(t=>{o.accessorGetter[t]=U,o.accessorSetter[t]=U,o.getSetProxy(t)}),i?this.internals.enabledWatchers=this.internals.allWatchers:Object.defineProperty(t,"updateComplete",{get:async()=>await this._updatePromise.promise}),queueMicrotask(o.enableReadonly),h(t),b.set(t.el,t),b.set(t,t)}_bindLifecycleMethods(){let t=this.component,r=this.isLit,i=t.el===t;this._originalLifecycles={_connectedCallback:r||i?void 0:t.connectedCallback,_disconnectedCallback:r||i?void 0:t.disconnectedCallback,_load:r?t.load:t.componentWillLoad,_loaded:r?t.loaded:t.componentDidLoad,_willUpdate:r?void 0:t.componentWillUpdate,_updated:r?void 0:t.componentDidUpdate,_destroy:t.destroy};let s=this._connectedCallback.bind(this),o=this._disconnectedCallback.bind(this),a=this._update.bind(this),u=this._updated.bind(this);r?t.constructor.prototype.addController.call(t,{hostConnected:s,hostDisconnected:o,hostUpdate:a,hostUpdated:u}):(t.connectedCallback=s,t.disconnectedCallback=o,t.componentWillLoad=this._load.bind(this),t.componentDidLoad=this._loaded.bind(this),t.componentWillUpdate=a,t.componentDidUpdate=u),this.hasDestroy&&(t.destroy=this.destroy.bind(this))}_connectedCallback(){if(this.destroyed){let t=this.component.el.tagName.toLowerCase();throw this.component.el.remove(),Error(`The ${t} component has already been destroyed. It cannot be used again. If you meant to disconnect and reconnect a component without automatic destroy, set the ${D} prop.`)}void 0!==this._autoDestroyTimeout&&clearTimeout(this._autoDestroyTimeout);let t=this.internals;t.enabledWatchers=t.allWatchers,I(),t.enableReadonly?.(),this._controllers.forEach(V),this._originalLifecycles._connectedCallback?.call(this.component)}_disconnectedCallback(){!this.destroyed&&(this._controllers.forEach(z),this._originalLifecycles._disconnectedCallback?.call(this.component),this.hasDestroy&&this._setAutoDestroyTimeout())}async _load(){await Promise.allSettled(Array.from(this._controllers,G)),await this._originalLifecycles._load?.call(this.component),this.hasDestroy&&C(this.component,D,()=>this._setAutoDestroyTimeout())}_loaded(){this._controllers.forEach($),this._originalLifecycles._loaded?.call(this.component)}_update(){let t=this.component;return this._controllers.forEach(B,t.$changes),this._originalLifecycles._willUpdate?.call(this.component)}_updated(){let t=this.component;if(this._controllers.forEach(q,t.$changes),this._originalLifecycles._updated?.call(this.component),this.isLit)t.$changes=new Map;else{let t=this._updatePromise;this._updatePromise=new u.cY,t.resolve(!0)}}async destroy(){if(!this.destroyed){if(this.component.el.isConnected){this.hasDestroy=!1;try{this.component.el.remove()}finally{this.hasDestroy=!0}}this._autoDestroyTimeout=void 0,this.destroyed=!0,this._controllers.forEach(H),this._controllers.clear(),await this._originalLifecycles._destroy?.call(this.component)}}_setAutoDestroyTimeout(){void 0!==this._autoDestroyTimeout&&clearTimeout(this._autoDestroyTimeout),this.component.el.isConnected||this.component.autoDestroyDisabled||(this._autoDestroyTimeout=(0,u.oK)(()=>void this.destroy().catch(console.error),j))}},D="autoDestroyDisabled",j=1e3,U=t=>t;function V(t){"triggerConnected"in t?t.triggerConnected():(0,u.UF)(t.hostConnected,t)}function z(t){"triggerDisconnected"in t?t.triggerDisconnected():(0,u.UF)(t.hostDisconnected,t)}async function G(t){"triggerLoad"in t?await t.triggerLoad():await (0,u.ao)(t.hostLoad,t)}function $(t){"triggerLoaded"in t?t.triggerLoaded():(0,u.UF)(t.hostLoaded,t)}function B(t){"triggerUpdate"in t?t.triggerUpdate(this):(0,u.UF)(t.hostUpdate,t,this)}function q(t){"triggerUpdated"in t?t.triggerUpdated(this):(0,u.UF)(t.hostUpdated,t,this)}function H(t){"triggerDestroy"in t?t.triggerDestroy():(0,u.UF)(t.hostDestroy,t)}var W=t=>K(void 0,t),J=t=>r=>K(r,t),K=(s=class extends M{constructor(t,r){super(t);let i=this.exports;try{h(this.component);let t=r(this.component,this),s=this.exports!==i;if(t instanceof Promise){s||this.setProvisionalExports(t);let r=t.then(t=>{this.exports=t,super.catchUpLifecycle()}).catch(t=>{this._ready.reject(t),console.error(t)});this.onLoad(async()=>await r)}else s&&void 0===t||(this.exports=t),queueMicrotask(()=>super.catchUpLifecycle())}catch(t){this._ready.reject(t),console.error(t)}}catchUpLifecycle(){}},(...t)=>{let r=y,i=new s(...t),o=i.exports;m(r.at(-1));let u=i.component.manager.internals;return u.markExports(i,o),i.watchExports(t=>u.markExports(i,t)),!function(t){a!==t&&(a=t,queueMicrotask(()=>{a===t&&(a=void 0)}))}(i),k([i.component,...r].reverse(),t=>void 0===t?void 0:function(t,{host:r,key:i,isReactive:s},o){let a=r[i]!==t.exports,u=r[i]!==o,d=o!==t.exports;if(a&&!u&&d&&(r[i]=t.exports),r===t.component){if(s){let s=t.component.manager.internals;u&&s.markExports(t,r[i]),C(t.component,i,r=>{r!==t.exports&&s.markExports(t,r)})}t.assignedProperty=s?void 0:i}t.watchExports(()=>{if(r[i]===t.exports)return;let s=t.component.manager;s.internals.setters[i]?.includes(s.internals.readonlySetter)?function(t){w.readOnly=!0;try{return t()}finally{w.readOnly=!1}}(()=>{r[i]=t.exports}):r[i]=t.exports})}(i,t,o),o)}),Y=(t,r)=>new X(t,r),X=class extends M{constructor(t,r){super(),this._attributes=t,this._callback=r,this._observer=new MutationObserver(i=>{i.forEach(i=>{t.includes(i.attributeName)&&r.call(this.component,this.component.el.getAttribute(i.attributeName),i.oldValue,i.attributeName)})})}hostConnected(){this._attributes.forEach(t=>{this.component.el.hasAttribute(t)&&this._callback.call(this.component,null,this.component.el.getAttribute(t),t)}),this._observer.observe(this.component.el,{attributes:!0,attributeOldValue:!0,attributeFilter:this._attributes})}hostDisconnected(){this._observer.disconnect()}},Q=t=>(r={})=>W((i,s)=>{let o=(0,u.kn)(i.el),a={_lang:o.lang,_t9nLocale:o.t9nLocale,_loading:!0};function d(t){let r=s.exports,i=r._original??r,o=function t(r,i){if(!i)return r;let s={...r};return Object.entries(i).forEach(([i,o])=>{"object"==typeof o?s[i]=t(r[i],o):s[i]=o??r[i]}),s}(i,t);t&&(o._original=i),s.exports=o}return(s.onLifecycle(()=>(0,u.hd)(i.el,()=>t("./assets"),({t9nLocale:t,t9nStrings:r,lang:o})=>{s.exports={...r,_lang:o,_t9nLocale:t,_loading:!1};let a=r.componentLabel;"string"==typeof a&&"label"in i&&null==i.label&&(i.label??(i.label=a)),d(i.messageOverrides)},r.name)),"messageOverrides"in i&&s.onLifecycle(()=>C(i,"messageOverrides",d)),r.blocking)?(s.setProvisionalExports(a,!1),s.ready):a}),ee="arcgisPropertyChange"},94740:(t,r,i)=>{i.d(r,{F:()=>c});var s=i(74422),o=i(84766),a=i(34361),u=i(35705),d=i(79378);class c{constructor(t,r){this.key=new d.A(0,0,0,0),this.bounds=(0,o.vt)(),this.objectIds=new Set,this.key.set(r);let i=t.getLODInfoAt(this.key);this.tileInfoView=t,this.tileInfoView.getTileBounds(this.bounds,this.key,!0),this.resolution=i.resolution,this.level=i.level,this.scale=i.scale,this.minScale=t.zoomToScale(i.level-1),this.maxScale=t.zoomToScale(i.level+1)}get lod(){return this.tileInfoView.getLODInfoAt(this.key)}get id(){return this.key.id}get extent(){return(0,o.w1)(this.bounds,this.tileInfoView.tileInfo.spatialReference)}get transform(){return{originPosition:"upperLeft",scale:[this.resolution,this.resolution],translate:[this.bounds[0],this.bounds[3]]}}createArcadeEvaluationOptions(t){return(0,u.N)(this.scale,t)}createChildTiles(){let t=this.key.getChildKeys(),r=s.A.acquire();for(let i=0;i<t.length;i++)r[i]=new c(this.tileInfoView,t[i]);return r}getQuantizationParameters(){return a.A.fromJSON({mode:"view",originPosition:"upperLeft",tolerance:this.resolution,extent:{xmin:this.bounds[0],ymin:this.bounds[1],xmax:this.bounds[2],ymax:this.bounds[3],spatialReference:this.tileInfoView.tileInfo.spatialReference}})}}},94958:(t,r,i)=>{i.d(r,{Ec:()=>v,W3:()=>_,mN:()=>b});var s=i(41270);let{is:o,defineProperty:a,getOwnPropertyDescriptor:u,getOwnPropertyNames:d,getOwnPropertySymbols:c,getPrototypeOf:p}=Object,h=globalThis,f=h.trustedTypes,y=f?f.emptyScript:"",m=h.reactiveElementPolyfillSupport,g=(t,r)=>t,_={toAttribute(t,r){switch(r){case Boolean:t=t?y:null;break;case Object:case Array:t=null==t?t:JSON.stringify(t)}return t},fromAttribute(t,r){let i=t;switch(r){case Boolean:i=null!==t;break;case Number:i=null===t?null:Number(t);break;case Object:case Array:try{i=JSON.parse(t)}catch(t){i=null}}return i}},v=(t,r)=>!o(t,r),w={attribute:!0,type:String,converter:_,reflect:!1,hasChanged:v};Symbol.metadata??=Symbol("metadata"),h.litPropertyMetadata??=new WeakMap;class b extends HTMLElement{static addInitializer(t){this._$Ei(),(this.l??=[]).push(t)}static get observedAttributes(){return this.finalize(),this._$Eh&&[...this._$Eh.keys()]}static createProperty(t,r=w){if(r.state&&(r.attribute=!1),this._$Ei(),this.elementProperties.set(t,r),!r.noAccessor){let i=Symbol(),s=this.getPropertyDescriptor(t,i,r);void 0!==s&&a(this.prototype,t,s)}}static getPropertyDescriptor(t,r,i){let{get:s,set:o}=u(this.prototype,t)??{get(){return this[r]},set(t){this[r]=t}};return{get(){return s?.call(this)},set(r){let a=s?.call(this);o.call(this,r),this.requestUpdate(t,a,i)},configurable:!0,enumerable:!0}}static getPropertyOptions(t){return this.elementProperties.get(t)??w}static _$Ei(){if(this.hasOwnProperty(g("elementProperties")))return;let t=p(this);t.finalize(),void 0!==t.l&&(this.l=[...t.l]),this.elementProperties=new Map(t.elementProperties)}static finalize(){if(this.hasOwnProperty(g("finalized")))return;if(this.finalized=!0,this._$Ei(),this.hasOwnProperty(g("properties"))){let t=this.properties;for(let r of[...d(t),...c(t)])this.createProperty(r,t[r])}let t=this[Symbol.metadata];if(null!==t){let r=litPropertyMetadata.get(t);if(void 0!==r)for(let[t,i]of r)this.elementProperties.set(t,i)}for(let[t,r]of(this._$Eh=new Map,this.elementProperties)){let i=this._$Eu(t,r);void 0!==i&&this._$Eh.set(i,t)}this.elementStyles=this.finalizeStyles(this.styles)}static finalizeStyles(t){let r=[];if(Array.isArray(t))for(let i of new Set(t.flat(1/0).reverse()))r.unshift((0,s.sk)(i));else void 0!==t&&r.push((0,s.sk)(t));return r}static _$Eu(t,r){let i=r.attribute;return!1===i?void 0:"string"==typeof i?i:"string"==typeof t?t.toLowerCase():void 0}constructor(){super(),this._$Ep=void 0,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Em=null,this._$Ev()}_$Ev(){this._$ES=new Promise(t=>this.enableUpdating=t),this._$AL=new Map,this._$E_(),this.requestUpdate(),this.constructor.l?.forEach(t=>t(this))}addController(t){(this._$EO??=new Set).add(t),void 0!==this.renderRoot&&this.isConnected&&t.hostConnected?.()}removeController(t){this._$EO?.delete(t)}_$E_(){let t=new Map;for(let r of this.constructor.elementProperties.keys())this.hasOwnProperty(r)&&(t.set(r,this[r]),delete this[r]);t.size>0&&(this._$Ep=t)}createRenderRoot(){let t=this.shadowRoot??this.attachShadow(this.constructor.shadowRootOptions);return(0,s.Rf)(t,this.constructor.elementStyles),t}connectedCallback(){this.renderRoot??=this.createRenderRoot(),this.enableUpdating(!0),this._$EO?.forEach(t=>t.hostConnected?.())}enableUpdating(t){}disconnectedCallback(){this._$EO?.forEach(t=>t.hostDisconnected?.())}attributeChangedCallback(t,r,i){this._$AK(t,i)}_$EC(t,r){let i=this.constructor.elementProperties.get(t),s=this.constructor._$Eu(t,i);if(void 0!==s&&!0===i.reflect){let o=(void 0!==i.converter?.toAttribute?i.converter:_).toAttribute(r,i.type);this._$Em=t,null==o?this.removeAttribute(s):this.setAttribute(s,o),this._$Em=null}}_$AK(t,r){let i=this.constructor,s=i._$Eh.get(t);if(void 0!==s&&this._$Em!==s){let t=i.getPropertyOptions(s),o="function"==typeof t.converter?{fromAttribute:t.converter}:void 0!==t.converter?.fromAttribute?t.converter:_;this._$Em=s,this[s]=o.fromAttribute(r,t.type),this._$Em=null}}requestUpdate(t,r,i){if(void 0!==t){if(!((i??=this.constructor.getPropertyOptions(t)).hasChanged??v)(this[t],r))return;this.P(t,r,i)}!1===this.isUpdatePending&&(this._$ES=this._$ET())}P(t,r,i){this._$AL.has(t)||this._$AL.set(t,r),!0===i.reflect&&this._$Em!==t&&(this._$Ej??=new Set).add(t)}async _$ET(){this.isUpdatePending=!0;try{await this._$ES}catch(t){Promise.reject(t)}let t=this.scheduleUpdate();return null!=t&&await t,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){if(!this.isUpdatePending)return;if(!this.hasUpdated){if(this.renderRoot??=this.createRenderRoot(),this._$Ep){for(let[t,r]of this._$Ep)this[t]=r;this._$Ep=void 0}let t=this.constructor.elementProperties;if(t.size>0)for(let[r,i]of t)!0!==i.wrapped||this._$AL.has(r)||void 0===this[r]||this.P(r,this[r],i)}let t=!1,r=this._$AL;try{(t=this.shouldUpdate(r))?(this.willUpdate(r),this._$EO?.forEach(t=>t.hostUpdate?.()),this.update(r)):this._$EU()}catch(r){throw t=!1,this._$EU(),r}t&&this._$AE(r)}willUpdate(t){}_$AE(t){this._$EO?.forEach(t=>t.hostUpdated?.()),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(t)),this.updated(t)}_$EU(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$ES}shouldUpdate(t){return!0}update(t){this._$Ej&&=this._$Ej.forEach(t=>this._$EC(t,this[t])),this._$EU()}updated(t){}firstUpdated(t){}}b.elementStyles=[],b.shadowRootOptions={mode:"open"},b[g("elementProperties")]=new Map,b[g("finalized")]=new Map,m?.({ReactiveElement:b}),(h.reactiveElementVersions??=[]).push("2.0.4")},95048:(t,r,i)=>{i.d(r,{A:()=>f});var s=i(81856),o=i(30781),a=i(92713),u=i(91838);i(57845),i(61939),i(33638);var d=i(33498),c=i(12709);let p=new o.J({inherited:"inherited",codedValue:"coded-value",range:"range"}),h=class extends a.A{constructor(t){super(t),this.name=null,this.type=null}};(0,s._)([(0,u.MZ)({type:String,json:{write:!0}})],h.prototype,"name",void 0),(0,s._)([(0,d.e)(p),(0,u.MZ)({json:{write:{isRequired:!0}}})],h.prototype,"type",void 0);let f=h=(0,s._)([(0,c.$)("esri.layers.support.Domain")],h)},95373:(t,r,i)=>{i.d(r,{u:()=>u});var s=i(8922),o=i(71760);function a(t,r,i){if(null==t.hasM||t.hasZ)for(let t of r)for(let r of t)r.length>2&&(r[2]*=i)}function u(t,r,i){if(!t&&!r||!i)return;let o=(0,s.G9)(i);d(t,i,o),d(r,i,o)}function d(t,r,i){if(t)for(let u of t)!function(t,r,i){if(!t?.spatialReference||(0,o.aI)(t.spatialReference,r))return;let u=(0,s.G9)(t.spatialReference)/i;if(1!==u){if("x"in t)null!=t.z&&(t.z*=u);else if("rings"in t)a(t,t.rings,u);else if("paths"in t)a(t,t.paths,u);else if("points"in t&&(null==t.hasM||t.hasZ))for(let r of t.points)r.length>2&&(r[2]*=u)}}(u.geometry,r,i)}},95442:(t,r,i)=>{i.d(r,{A:()=>M});var s,o=i(81856),a=i(31461),u=i(30781),d=i(92713),c=i(8922),p=i(58985),h=i(91838);i(57845),i(61939);var f=i(53480),y=i(12709),m=i(7780);let g=(0,u.O)()({orthometric:"gravity-related-height",gravity_related_height:"gravity-related-height",ellipsoidal:"ellipsoidal"}),_=g.jsonValues.slice();(0,a.Xy)(_,"orthometric");let v=(0,u.O)()({meter:"meters",foot:"feet","us-foot":"us-feet","clarke-foot":"clarke-feet","clarke-yard":"clarke-yards","clarke-link":"clarke-links","sears-yard":"sears-yards","sears-foot":"sears-feet","sears-chain":"sears-chains","benoit-1895-b-chain":"benoit-1895-b-chains","indian-yard":"indian-yards","indian-1937-yard":"indian-1937-yards","gold-coast-foot":"gold-coast-feet","sears-1922-truncated-chain":"sears-1922-truncated-chains","50-kilometers":"50-kilometers","150-kilometers":"150-kilometers"}),w=s=class extends d.A{constructor(t){super(t),this.heightModel="gravity-related-height",this.heightUnit="meters",this.vertCRS=null}writeHeightModel(t,r,i){return g.write(t,r,i)}readHeightModel(t,r,i){var s,o;return g.read(t)||(i?.messages&&i.messages.push((s=t,o={context:i},new p.A("height-model:unsupported",`Height model of value '${s}' is not supported`,o))),null)}readHeightUnit(t,r,i){return v.read(t)||(i?.messages&&i.messages.push(b(t,{context:i})),null)}readHeightUnitService(t,r,i){return(0,c.LA)(t)||v.read(t)||(i?.messages&&i.messages.push(b(t,{context:i})),null)}readVertCRS(t,r){return r.vertCRS||r.ellipsoid||r.geoid}clone(){return new s({heightModel:this.heightModel,heightUnit:this.heightUnit,vertCRS:this.vertCRS})}equals(t){return!!t&&(this===t||this.heightModel===t.heightModel&&this.heightUnit===t.heightUnit&&this.vertCRS===t.vertCRS)}static deriveUnitFromSR(t,r){let i=(0,c.k1)(r);return new s({heightModel:t.heightModel,heightUnit:i??void 0,vertCRS:t.vertCRS})}write(t,r){return r={origin:"web-scene",...r},super.write(t,r)}static fromJSON(t){if(!t)return null;let r=new s;return r.read(t,{origin:"web-scene"}),r}};function b(t,r){return new p.A("height-unit:unsupported",`Height unit of value '${t}' is not supported`,r)}(0,o._)([(0,h.MZ)({type:g.apiValues,constructOnly:!0,json:{origins:{"web-scene":{type:_,default:"ellipsoidal",write:{isRequired:!0}}}}})],w.prototype,"heightModel",void 0),(0,o._)([(0,m.K)("web-scene","heightModel")],w.prototype,"writeHeightModel",null),(0,o._)([(0,f.w)(["web-scene","service"],"heightModel")],w.prototype,"readHeightModel",null),(0,o._)([(0,h.MZ)({type:v.apiValues,constructOnly:!0,json:{origins:{"web-scene":{type:v.jsonValues,write:{writer:v.write,isRequired:!0}}}}})],w.prototype,"heightUnit",void 0),(0,o._)([(0,f.w)("web-scene","heightUnit")],w.prototype,"readHeightUnit",null),(0,o._)([(0,f.w)("service","heightUnit")],w.prototype,"readHeightUnitService",null),(0,o._)([(0,h.MZ)({type:String,constructOnly:!0,json:{origins:{"web-scene":{write:!0}}}})],w.prototype,"vertCRS",void 0),(0,o._)([(0,f.w)("service","vertCRS",["vertCRS","ellipsoid","geoid"])],w.prototype,"readVertCRS",null);let M=w=s=(0,o._)([(0,y.$)("esri.geometry.HeightModelInfo")],w)},95832:(t,r,i)=>{i.d(r,{$w:()=>v,Bu:()=>C,DW:()=>I,FH:()=>D,FM:()=>c,G9:()=>a,GV:()=>b,Go:()=>p,K3:()=>Z,Kn:()=>x,MM:()=>y,MO:()=>U,Nl:()=>R,Ny:()=>M,O2:()=>O,UE:()=>P,YC:()=>j,YF:()=>k,ZO:()=>function t(r){if(null==r)return!1;if(Array.isArray(r))return r.every(r=>t(r));switch(typeof r){case"string":return!!r;case"number":return!isNaN(r)}},_1:()=>function t(r){if(r)switch(r.type){case"CIMPolygonSymbol":case"CIMLineSymbol":{let i=r.symbolLayers;if(i)for(let r of i){let i=t(r);if(null!=i)return i}break}case"CIMTextSymbol":return t(r.symbol);case"CIMSolidStroke":return r.color}},_H:()=>A,_W:()=>w,_d:()=>E,bs:()=>function t(r){if(null==r)return"Normal";switch(r.type){case"CIMTextSymbol":return r.textCase??"Normal";case"CIMPointSymbol":case"CIMLineSymbol":case"CIMPolygonSymbol":{let i=r.symbolLayers;if(!i)return"Normal";for(let r of i)if("CIMVectorMarker"===r.type)return t(r)}break;case"CIMVectorMarker":{let i=r.markerGraphics;if(!i)return"Normal";for(let r of i)if(r.symbol)return t(r.symbol)}}return"Normal"},dI:()=>B,e6:()=>h,gQ:()=>d,iA:()=>F,jn:()=>g,lW:()=>f,mA:()=>m,n5:()=>N,pM:()=>function t(r){if(!r)return null;switch(r.type){case"CIMPolygonSymbol":if(r.symbolLayers)for(let i of r.symbolLayers){let r=t(i);if(null!=r)return r}break;case"CIMTextSymbol":return t(r.symbol);case"CIMSolidFill":return r.color}return null},pV:()=>T,pk:()=>V,rB:()=>z,s4:()=>o,xo:()=>function t(r){if(r)switch(r.type){case"CIMPolygonSymbol":case"CIMLineSymbol":if(r.symbolLayers)for(let i of r.symbolLayers){let r=t(i);if(void 0!==r)return r}break;case"CIMTextSymbol":return t(r.symbol);case"CIMSolidStroke":case"CIMGradientStroke":case"CIMPictureStroke":return r.width}},yH:()=>S,yX:()=>q,zb:()=>L,zr:()=>_});var s=i(96657);function o(t,r,i,s){return"function"==typeof t?t(r,i,s):t}function a(t){return[t.r,t.g,t.b,t.a]}function u(t){let r=t.length;for(;r--;)if(!" /-,\n".includes(t.charAt(r)))return!1;return!0}function d(t,r){let i=[],s=0,o=-1;do if((o=t.indexOf("[",s))>=s){if(o>s){let r=t.slice(s,o);i.push([r,null,u(r)])}if(s=o+1,(o=t.indexOf("]",s))>=s){if(o>s){let a=r[t.slice(s,o)];a&&i.push([null,a,!1])}s=o+1}}while(-1!==o);if(s<t.length){let r=t.slice(s);i.push([r,null,u(r)])}return i}function c(t,r,i,s){let o="",a=null;for(let s of r){let[r,u,d]=s;if(r)d?a=r:(a&&(o+=a,a=null),o+=r);else{let r=u;null!=i&&(r=U(u,i));let s=t.attributes[r];s&&(a&&(o+=a,a=null),o+=s)}}var u=o,d=s;switch("string"!=typeof u&&(u=String(u)),d){case"LowerCase":return u.toLowerCase();case"Allcaps":return u.toUpperCase();default:return u}}function p(t,r,i,s,o,a,u=!0){let d=r/o,c=i/a,h=Math.ceil(d/2),f=Math.ceil(c/2);for(let i=0;i<a;i++)for(let p=0;p<o;p++){let y=4*(p+(u?a-i-1:i)*o),m=0,g=0,_=0,v=0,w=0,b=0,M=0,S=(i+.5)*c;for(let s=Math.floor(i*c);s<(i+1)*c;s++){let i=Math.abs(S-(s+.5))/f,o=(p+.5)*d,a=i*i;for(let i=Math.floor(p*d);i<(p+1)*d;i++){let u=Math.abs(o-(i+.5))/h,d=Math.sqrt(a+u*u);d>=-1&&d<=1&&(m=2*d*d*d-3*d*d+1)>0&&(M+=m*t[(u=4*(i+s*r))+3],_+=m,t[u+3]<255&&(m=m*t[u+3]/250),v+=m*t[u],w+=m*t[u+1],b+=m*t[u+2],g+=m)}}s[y]=v/g,s[y+1]=w/g,s[y+2]=b/g,s[y+3]=M/_}}function h(t){return t?[t[0],t[1],t[2],t[3]/255]:[0,0,0,0]}function f(t){return t.data?.symbol??null}function y(t){return"CIMVectorMarker"===t.type||"CIMPictureMarker"===t.type||"CIMBarChartMarker"===t.type||"CIMCharacterMarker"===t.type||"CIMPieChartMarker"===t.type||"CIMStackedBarChartMarker"===t.type}function m(t){return"CIMGradientStroke"===t.type||"CIMPictureStroke"===t.type||"CIMSolidStroke"===t.type}function g(t){return null!=t&&("CIMGradientFill"===t.type||"CIMHatchFill"===t.type||"CIMPictureFill"===t.type||"CIMSolidFill"===t.type||"CIMWaterFill"===t.type)}function _(t){return null!=t&&("CIMMarkerPlacementAlongLineRandomSize"===t.type||"CIMMarkerPlacementAlongLineSameSize"===t.type||"CIMMarkerPlacementAlongLineVariableSize"===t.type||"CIMMarkerPlacementAtExtremities"===t.type||"CIMMarkerPlacementAtMeasuredUnits"===t.type||"CIMMarkerPlacementAtRatioPositions"===t.type||"CIMMarkerPlacementOnLine"===t.type||"CIMMarkerPlacementOnVertices"===t.type)}let v=(t,r=0)=>null==t||isNaN(t)?r:t,w=(t,r)=>null!=t?t:r,b=(t,r)=>t??r,M=t=>t.tintColor?h(t.tintColor):[255,255,255,1],S=t=>{if(!t)return!1;for(let r of t)switch(r.type){case"CIMGeometricEffectBuffer":case"CIMGeometricEffectOffset":case"CIMGeometricEffectDonut":return!0}return!1};function A(){return Promise.all([i.e(472),i.e(793)]).then(i.bind(i,29786))}function T(t){if(!t)return"normal";switch(t.toLowerCase()){case"italic":return"italic";case"oblique":return"oblique";default:return"normal"}}function x(t){if(!t)return"normal";switch(t.toLowerCase()){case"bold":return"bold";case"bolder":return"bolder";case"lighter":return"lighter";default:return"normal"}}function E(t){let r="normal",i="normal";if(t){let s=t.toLowerCase();s.includes("italic")?r="italic":s.includes("oblique")&&(r="oblique"),s.includes("bold")?i="bold":s.includes("light")&&(i="lighter")}return{style:r,weight:i}}function I(t){return t.underline?"underline":t.strikethrough?"line-through":"none"}function C(t){switch(t){case"Left":default:return"left";case"Right":return"right";case"Center":case"Justify":return"center"}}function R(t){switch(t){case"Top":default:return"top";case"Center":return"middle";case"Baseline":return"baseline";case"Bottom":return"bottom"}}function O(t){return(t?Object.keys(t):[]).map(r=>({name:r,alias:r,type:"string"==typeof t[r]?"esriFieldTypeString":"esriFieldTypeDouble"}))}let P=t=>t.includes("data:image/svg+xml");function N(t){if(!t)return null;switch(t.type){case"CIMPointSymbol":case"CIMTextSymbol":return"esriGeometryPoint";case"CIMLineSymbol":return"esriGeometryPolyline";case"CIMPolygonSymbol":return"esriGeometryPolygon";default:return null}}function k(t){return t?t.charAt(0).toLowerCase()+t.slice(1):t}function L(t,r,i,s,o,a,u=!0){var d,c,p,h,f,y;let{infos:m}=a,g=1,_=0,v=0,w=0,b=1;for(let{absoluteAnchorPoint:t,offsetX:r,offsetY:i,rotation:s,size:o,frameHeight:a,rotateClockWise:h,scaleSymbolsProportionally:f}of m){v=$(r,i,_,b=t?1:g,v),w=G(r,i,_,b,w),a&&(f||u)&&(g*=o/a),d=s,c=h,p=_,_=c?p-d:p+d}let M=$(s,o,_,b,v),S=G(s,o,_,b,w);return{size:t*g,rotation:(h=r,f=i,y=_,f?y-h:y+h),offsetX:M,offsetY:S}}function F(t,r){if("color"===r||"outlinecolor"===r||"backgroundcolor"===r||"borderlinecolor"===r||"tintcolor"===r)return[...s.K[r]];let i=s.D[t];if(!i)throw Error(`InternalError: default value for type ${t}.`);return i[r]}function Z(t){return"string"==typeof t?t.split(" ").map(t=>Number(t)):t}function D(t){return t?.dashTemplate&&(t.dashTemplate=Z(t.dashTemplate)),t}function j(t){if(t)switch(t.type){case"CIMTextSymbol":return t.height;case"CIMPointSymbol":{let r=0;if(t.symbolLayers){for(let i of t.symbolLayers)if(i)switch(i.type){case"CIMCharacterMarker":case"CIMPictureMarker":case"CIMVectorMarker":case"CIMObjectMarker3D":case"CIMglTFMarker3D":{let t=i.size??s.D.CIMVectorMarker.size;t>r&&(r=t)}}}return r}case"CIMLineSymbol":case"CIMPolygonSymbol":{let r=0;if(t.symbolLayers){for(let i of t.symbolLayers)if(i)switch(i.type){case"CIMSolidStroke":case"CIMPictureStroke":case"CIMGradientStroke":{let t=i.width;null!=t&&t>r&&(r=t);break}case"CIMCharacterMarker":case"CIMPictureMarker":case"CIMVectorMarker":case"CIMObjectMarker3D":case"CIMglTFMarker3D":if(i.markerPlacement&&_(i.markerPlacement)){let t=i.size??s.D.CIMVectorMarker.size;t>r&&(r=t)}break;case"CIMPictureFill":{let t=i.height;null!=t&&t>r&&(r=t)}}}return r}}}function U(t,r){if(null!==r){let i=r.get(t);return i?i.name:t}return t}function V(t){return t.map(t=>({...t,propertyName:k(t.propertyName)}))}function z(t){let r={};for(let i in t){let s=t[i];r[k(i)]=s}return r}function G(t,r,i,s,o){let a=i*Math.PI/180;if(a){let i=Math.cos(a);return(Math.sin(a)*t+i*r)*s+o}return r*s+o}function $(t,r,i,s,o){let a=i*Math.PI/180;return a?(Math.cos(a)*t-Math.sin(a)*r)*s+o:t*s+o}function B(t,r,i){let s="Color"===i||"TintColor"===i||"ToColor"===i,o="Rotation"===i||"Angle"===i||"ToRotation"===i,a=r[k(i)];if(null!=a&&(s?a=[a[0]/255,a[1]/255,a[2]/255,a[3]/255]:o&&(a*=Math.PI/180)),null==a&&null!=(a=F(r.type,i.toLowerCase()))&&(s?a=[a[0]/255,a[1]/255,a[2]/255,a[3]]:o&&(a*=Math.PI/180)),null!=r.primitiveName){let u=t[r.primitiveName];if(null!=u){let t=u[i];null==t||("string"==typeof t||"number"==typeof t||Array.isArray(t)?null!=(a=t)&&(s?a=[a[0]/255,a[1]/255,a[2]/255,a[3]/255]:o&&(a*=Math.PI/180)):(a={valueExpressionInfo:t,defaultValue:a},s?a={type:"Process",op:"ArcadeColor",value:a}:o&&(a={type:"Process",op:"Divide",left:a,right:180/Math.PI})))}}if(null==a)throw Error(`Failed to derive a value or an expression for "${i}".`);return a}function q(t,r){return Math.max(Math.min((t??r)/100,1),0)}},95928:(t,r,i)=>{i.d(r,{$:()=>s,u:()=>o});let s="20250318",o="878eb8750809e56d2a9ea9f1475c9e4e58226dad"},96657:(t,r,i)=>{i.d(r,{D:()=>a,K:()=>o});var s=i(46499);let o={color:[128,128,128,1],outlinecolor:[0,0,0,1],backgroundcolor:[128,128,128,1],borderlinecolor:[0,0,0,1],tintcolor:[255,255,255,1]},a={CIMVectorMarker:{scalesymbolsproportionally:!1,respectframe:!0,anchorpointunits:"Relative",offsetx:0,offsety:0,rotateclockwise:!1,rotation:0,size:10,enable:!0,colorlocked:!1},CIMPictureMarker:{scalex:1,texturefilter:"Draft",anchorpointunits:"Relative",offsetx:0,offsety:0,rotateclockwise:!1,rotation:0,size:10,enable:!0,colorlocked:!1},CIMTextSymbol:{angle:0,anglex:0,angley:0,halosize:1,height:10,horizontalalignment:"Left",kerning:!0,letterspacing:0,letterwidth:100,ligatures:!0,linegap:0,offsetx:0,offsety:0,strikethrough:!1,textcase:"Normal",textstring:"",underline:!1,verticalalignment:"Bottom",enable:!0,colorlocked:!1},CIMSolidStroke:{capstyle:"Round",joinstyle:"Round",miterlimit:4,width:4,enable:!0,colorlocked:!1},CIMPictureStroke:{texturefilter:"Draft",capstyle:"Round",joinstyle:"Round",miterlimit:4,width:4,enable:!0,colorlocked:!1},CIMGradientStroke:{capstyle:"Round",joinstyle:"Round",miterlimit:4,width:4,enable:!0,colorlocked:!1,gradientMethod:"AcrossLine",gradientSize:75,gradientSizeUnits:s.OW.Relative,gradientType:"Discrete",interval:5},CIMSolidFill:{enable:!0,colorlocked:!1},CIMPictureFill:{offsetx:0,offsety:0,rotation:0,scalex:1,height:10,texturefilter:"Draft",enable:!0,colorlocked:!1},CIMHatchFill:{offsetx:0,offsety:0,rotation:0,separation:4,enable:!0,colorlocked:!1},CIMGradientFill:{enable:!0,angle:90,gradientMethod:"Linear",gradientSize:75,gradientSizeUnits:s.OW.Relative,gradientType:"Discrete",interval:5},CIMGeometricEffectAddControlPoints:{angletolerance:120},CIMGeometricEffectArrow:{arrowtype:"OpenEnded",width:5},CIMGeometricEffectBuffer:{size:1},CIMGeometricEffectCut:{begincut:1,endcut:1,middlecut:0,invert:!1},CIMGeometricEffectDashes:{customendingoffset:0,linedashending:"NoConstraint",offsetalongline:0},CIMGeometricEffectDonut:{method:"Mitered",option:"Accurate",width:2},CIMGeometricEffectJog:{angle:225,length:20,position:50},CIMGeometricEffectControlMeasureLine:{rule:"FullGeometry"},CIMGeometricEffectMove:{offsetx:1,offsety:-1},CIMGeometricEffectOffset:{method:"Square",offset:1,option:"Fast"},CIMGeometricEffectRotate:{angle:15},CIMGeometricEffectScale:{xscalefactor:1.15,yscalefactor:1.15},CIMGeometricEffectWave:{amplitude:2,period:3,seed:1,waveform:"Sinus"},CIMMarkerPlacementAlongLine:{customendingoffset:0,endings:"WithHalfGap",offsetalongline:0,placeperpart:!0,angletoline:!0,offset:0},CIMMarkerPlacementAtExtremities:{extremityplacement:"Both",offsetalongline:0,angletoline:!0,offset:0},CIMMarkerPlacementAtRatioPositions:{beginposition:0,endposition:0,flipfirst:!0,angletoline:!0,offset:0},CIMMarkerPlacementInsidePolygon:{gridangle:0,gridtype:"Fixed",offsetx:0,offsety:0,randomness:100,seed:0,shiftoddrows:!1,stepx:16,stepy:16,clipping:"ClipAtBoundary"},CIMMarkerPlacementOnLine:{relativeto:"LineMiddle",startpointoffset:0,angletoline:!0,offset:0},CIMMarkerPlacementOnVertices:{placeperpart:!0,placeoncontrolpoints:!0,placeonendpoints:!0,placeonregularvertices:!0,angletoline:!0,offset:0},CIMMarkerPlacementPolygonCenter:{method:"OnPolygon",offsetx:0,offsety:0,clipatboundary:!1},CIMAnimatedSymbolProperties:{playanimation:!1,reverseanimation:!1,randomizestarttime:!1,randomizestartseed:0,starttimeoffset:0,duration:3,endingduration:3,useendingduration:!1,repeattype:s.fu.Loop,repeatdelay:0,easing:s.Hz.Linear},CIMSymbolAnimationSize:{tosize:10},CIMSymbolAnimationScale:{scalefactor:1},CIMSymbolAnimationColor:{tocolor:[255,255,255,1]},CIMSymbolAnimationTransparency:{totransparency:0},CIMSymbolAnimationRotation:{torotation:0,rotateclockwise:!1},CIMSymbolAnimationOffset:{offsetx:0,offsety:0}}},97067:(t,r,i)=>{var s;i.d(r,{_:()=>s}),function(t){t[t.X=0]="X",t[t.Y=1]="Y",t[t.Z=2]="Z"}(s||(s={}))},97135:(t,r,i)=>{i.d(r,{A:()=>b});var s,o=i(81856),a=i(39267),u=i(71017),d=i(24842),c=i(92713),p=i(61939),h=i(45257),f=i(54635),y=i(91838);i(57845),i(33638);var m=i(12709),g=i(31789),_=i(59879),v=i(76558);let w=s=class extends u.A.ClonableMixin(c.A){constructor(t){super(t),this.isAggregate=!1,this.layer=null,this.origin=null,this.popupTemplate=null,this.sourceLayer=null,this._version=0,Object.defineProperty(this,"uid",{value:(0,f.c)(),configurable:!0}),Object.defineProperty(this,"_lastMeshTransform",{value:{},configurable:!0,writable:!0,enumerable:!1}),arguments.length>1&&(0,d.eF)(p.A.getLogger(this),"Graphic",{version:"4.30"})}initialize(){this._watchMeshGeometryChanges()}set aggregateGeometries(t){JSON.stringify(this._get("aggregateGeometries"))!==JSON.stringify(t)&&this._set("aggregateGeometries",t)}set attributes(t){let r=this._get("attributes");r!==t&&(this._set("attributes",t),this._notifyLayer("attributes",r,t))}set geometry(t){let r=this._get("geometry");r!==t&&(this._set("geometry",t),"mesh"!==t?.type&&this._notifyLayer("geometry",r,t))}set symbol(t){let r=this._get("symbol");r!==t&&(this._set("symbol",t),this._notifyLayer("symbol",r,t))}get version(){return this._version}set visible(t){let r=this._get("visible");r!==t&&(this._set("visible",t),this._notifyLayer("visible",r,t))}cloneShallow(){return new s({aggregateGeometries:this.aggregateGeometries,attributes:this.attributes,geometry:this.geometry,isAggregate:this.isAggregate,layer:this.layer,popupTemplate:this.popupTemplate,sourceLayer:this.sourceLayer,symbol:this.symbol,visible:this.visible,origin:this.origin})}getEffectivePopupTemplate(t=!1){if(this.popupTemplate)return this.popupTemplate;for(let r of[this.origin&&"layer"in this.origin?this.origin.layer:null,this.sourceLayer,this.layer])if(r){if("popupTemplate"in r&&r.popupTemplate)return r.popupTemplate;if(t&&"defaultPopupTemplate"in r&&null!=r.defaultPopupTemplate)return r.defaultPopupTemplate}return null}getAttribute(t){return this.attributes?.[t]}setAttribute(t,r){if(this.attributes){let i=this.getAttribute(t);this.attributes[t]=r,this._notifyLayer("attributes",i,r,t)}else this.attributes={[t]:r},this._notifyLayer("attributes",void 0,r,t)}getObjectId(){return this.sourceLayer&&"objectIdField"in this.sourceLayer&&this.sourceLayer.objectIdField?this.getAttribute(this.sourceLayer.objectIdField):null}toJSON(){return{aggregateGeometries:function(t){if(null==t)return null;let r={};for(let i in t){let s=t[i];s&&(r[i]=s.toJSON())}return 0!==Object.keys(r).length?r:null}(this.aggregateGeometries),geometry:null!=this.geometry?this.geometry.toJSON():null,symbol:null!=this.symbol?this.symbol.toJSON():null,attributes:c.A.isSerializable(this.attributes)?this.attributes.toJSON():{...this.attributes},popupTemplate:this.popupTemplate?.toJSON()??null}}notifyMeshTransformChanged(t={}){let{geometry:r}=this;if("mesh"===r?.type){let i={origin:r.origin,transform:r.transform};this._notifyLayer("origin-transform",i,i,t.action)}}_notifyLayer(t,r,i,s){if(this._version++,!this.layer||!("graphicChanged"in this.layer))return;let o={graphic:this,property:t,oldValue:r,newValue:i};"origin-transform"===t&&(o.action=s),"attributes"===t&&(o.attributeName=s),this.layer.graphicChanged(o)}_watchMeshGeometryChanges(){this.addHandles([(0,h.z7)(()=>"mesh"===this.geometry?.type&&this.geometry.vertexSpace.origin?{localMatrix:this.geometry.transform?.localMatrix,origin:this.geometry.vertexSpace.origin}:void 0,({localMatrix:t,origin:r})=>{this._lastMeshTransform.localMatrix===t&&this._lastMeshTransform.origin===r||(this._lastMeshTransform.localMatrix=t,this._lastMeshTransform.origin=r,this.notifyMeshTransformChanged())}),(0,h.z7)(()=>"mesh"===this.geometry?.type?{vertexAttributes:this.geometry.vertexAttributes}:void 0,()=>{let t=this.geometry;"mesh"===t?.type&&t.vertexSpace.origin?(this._lastMeshTransform.localMatrix=t.transform?.localMatrix,this._lastMeshTransform.origin=t.vertexSpace.origin):(this._lastMeshTransform.localMatrix=void 0,this._lastMeshTransform.origin=void 0),this._notifyLayer("geometry",this.geometry,this.geometry)},{equals:(t,r)=>t===r,sync:!0})])}};(0,o._)([(0,y.MZ)({value:null,json:{read:function(t){if(!t)return null;let r={};for(let i in t){let s=(0,g.rS)(t[i]);s&&(r[i]=s)}return 0!==Object.keys(r).length?r:null}}})],w.prototype,"aggregateGeometries",null),(0,o._)([(0,y.MZ)({value:null})],w.prototype,"attributes",null),(0,o._)([(0,y.MZ)({value:null,types:_.yR,json:{read:g.rS}})],w.prototype,"geometry",null),(0,o._)([(0,y.MZ)({type:Boolean})],w.prototype,"isAggregate",void 0),(0,o._)([(0,y.MZ)({clonable:"reference"})],w.prototype,"layer",void 0),(0,o._)([(0,y.MZ)({clonable:"reference"})],w.prototype,"origin",void 0),(0,o._)([(0,y.MZ)({type:a.A})],w.prototype,"popupTemplate",void 0),(0,o._)([(0,y.MZ)({clonable:"reference"})],w.prototype,"sourceLayer",void 0),(0,o._)([(0,y.MZ)({value:null,types:v.Es})],w.prototype,"symbol",null),(0,o._)([(0,y.MZ)({clonable:!1,json:{read:!1,write:!1}})],w.prototype,"_version",void 0),(0,o._)([(0,y.MZ)({type:Boolean,value:!0})],w.prototype,"visible",null);let b=w=s=(0,o._)([(0,m.$)("esri.Graphic")],w)},97303:(t,r,i)=>{i.d(r,{G:()=>s});let s=Symbol("Yield")},97409:(t,r,i)=>{let s;async function o(){return null==s&&(s=Promise.all([i.e(2140),i.e(1427)]).then(i.bind(i,34622)).then(t=>new t.WhereClauseCache(500,500))),s}async function a(t,r){let i=await o(),s=i.get(t,r);if(null==s)throw i.getError(t,r);return s}function u(t,r){return r||=null,"1=1"===(t||=null)?r??t:"1=1"===r?t??r:t&&r?`(${t}) AND (${r})`:t??r}function d(t,r){return r||=null,"1=1"===(t||=null)||"1=1"===r||t===r?"1=1"===t?t:r:t&&r?`(${t}) OR (${r})`:t??r}function c(t,r){return 0===r.length?null:`${t} IN (${r.map(t=>{var r;return"string"==typeof t?(r=t,`'${r.replaceAll("'","''")}'`):t}).join(",")})`}i.d(r,{GP:()=>a,IW:()=>d,Yp:()=>c,mA:()=>u})},97559:(t,r,i)=>{i.d(r,{j7:()=>u,kS:()=>c,kd:()=>d,r8:()=>p});var s=i(65442),o=i(91463),a=i(31789);let u={102100:{maxX:20037508.342788905,minX:-20037508.342788905,plus180Line:new s.A({paths:[[[20037508.342788905,-20037508.342788905],[20037508.342788905,20037508.342788905]]],spatialReference:o.A.WebMercator}),minus180Line:new s.A({paths:[[[-20037508.342788905,-20037508.342788905],[-20037508.342788905,20037508.342788905]]],spatialReference:o.A.WebMercator})},4326:{maxX:180,minX:-180,plus180Line:new s.A({paths:[[[180,-180],[180,180]]],spatialReference:o.A.WGS84}),minus180Line:new s.A({paths:[[[-180,-180],[-180,180]]],spatialReference:o.A.WGS84})}};function d(t,r){return Math.ceil((t-r)/(2*r))}function c(t,r){for(let i of p(t))for(let t of i)t[0]+=r;return t}function p(t){return(0,a.Bi)(t)?t.rings:t.paths}},97915:(t,r,i)=>{i.d(r,{ao:()=>m,ud:()=>g,xO:()=>_});var s=i(32391),o=i(19158),a=i(92753),u=i(28105);let d=/^([a-z]{2})(?:[-_]([A-Za-z]{2}))?$/,c={ar:!0,bg:!0,bs:!0,ca:!0,cs:!0,da:!0,de:!0,el:!0,en:!0,es:!0,et:!0,fi:!0,fr:!0,he:!0,hr:!0,hu:!0,id:!0,it:!0,ja:!0,ko:!0,lt:!0,lv:!0,nb:"no",nl:!0,no:!0,pl:!0,pt:"pt-BR","pt-BR":!0,"pt-PT":!0,ro:!0,ru:!0,sk:!0,sl:!0,sr:!0,sv:!0,th:!0,tr:!0,uk:!0,vi:!0,zh:"zh-CN","zh-CN":!0,"zh-HK":!0,"zh-TW":!0};function p(t){if(t in c){let r=c[t];return!0===r?t:r}return null}let h=[],f=new Map;function y(t){for(let r of f.keys())w(t.pattern,r)&&f.delete(r)}function m(t){return h.includes(t)||(y(t),h.unshift(t)),(0,o.hA)(()=>{let r=h.indexOf(t);r>-1&&(h.splice(r,1),y(t))})}async function g(t){let r=(0,u.JK)();f.has(t)||f.set(t,v(t,r));let i=f.get(t);return i&&await b.add(i),i}function _(t){if(!d.test(t))return null;let r=d.exec(t);if(null===r)return null;let[,i,s]=r;return p(i+(s?"-"+s.toUpperCase():""))??p(i)}async function v(t,r){let i=[];for(let s of h)if(w(s.pattern,t))try{return await s.fetchMessageBundle(t,r)}catch(t){i.push(t)}if(i.length)throw new s.A("intl:message-bundle-error",`Errors occurred while loading "${t}"`,{errors:i});throw new s.A("intl:no-message-bundle-loader",`No loader found for message bundle "${t}"`)}function w(t,r){return"string"==typeof t?r.startsWith(t):t.test(r)}(0,u.Ml)(()=>{f.clear()});let b=new class{constructor(){this._numLoading=0,this._dfd=null}async waitForAll(){this._dfd&&await this._dfd.promise}add(t){return this._increase(),t.then(()=>this._decrease(),()=>this._decrease()),this.waitForAll()}_increase(){this._numLoading++,this._dfd||(this._dfd=(0,a.Tw)())}_decrease(){this._numLoading=Math.max(this._numLoading-1,0),this._dfd&&0===this._numLoading&&(this._dfd.resolve(),this._dfd=null)}}},98083:(t,r,i)=>{i.d(r,{CW:()=>d,F8:()=>c,gH:()=>u,m3:()=>h,qz:()=>o,rL:()=>a,t1:()=>f});let s=[0,0];function o(t,r){return null!=r&&p(t,r.x,r.y,r.z)}function a(t,r){if(!r.points?.length)return!1;for(let i of r.points)if(!d(t,i))return!1;return!0}function u(t,r){let{xmin:i,ymin:s,zmin:o,xmax:a,ymax:u,zmax:d}=r;return t.hasZ&&r.hasZ?p(t,i,s,o)&&p(t,i,u,o)&&p(t,a,u,o)&&p(t,a,s,o)&&p(t,i,s,d)&&p(t,i,u,d)&&p(t,a,u,d)&&p(t,a,s,d):p(t,i,s)&&p(t,i,u)&&p(t,a,u)&&p(t,a,s)}function d(t,r){return p(t,r[0],r[1])}function c(t,r){return p(t,r[0],r[1],r[2])}function p(t,r,i,s){return r>=t.xmin&&r<=t.xmax&&i>=t.ymin&&i<=t.ymax&&(null==s||!t.hasZ||s>=t.zmin&&s<=t.zmax)}function h(t,r){var i,o;return s[1]=r.y,s[0]=r.x,i=t,o=s,f(i.rings,o)}function f(t,r){if(!t)return!1;if(!Array.isArray(t[0][0]))return y(!1,t,r);let i=!1;for(let s=0,o=t.length;s<o;s++)i=y(i,t[s],r);return i}function y(t,r,i){let[s,o]=i,a=t,u=0;for(let t=0,i=r.length;t<i;t++){++u===i&&(u=0);let[d,c]=r[t],[p,h]=r[u];(c<o&&h>=o||h<o&&c>=o)&&d+(o-c)/(h-c)*(p-d)<s&&(a=!a)}return a}},98189:(t,r,i)=>{i.d(r,{A:()=>h});var s,o=i(81856),a=i(91838);i(57845),i(61939),i(33638);var u=i(12709),d=i(86926),c=i(13497);let p=s=class extends d.A{constructor(t){super(t),this.type="color",this.normalizationField=null}get cache(){return{ipData:this._interpolateData(),hasExpression:!!this.valueExpression,compiledFunc:null}}set stops(t){t&&Array.isArray(t)&&(t=t.filter(t=>!!t)).sort((t,r)=>t.value-r.value),this._set("stops",t)}clone(){return new s({field:this.field,normalizationField:this.normalizationField,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,stops:this.stops&&this.stops.map(t=>t.clone()),legendOptions:this.legendOptions?.clone()})}getAttributeHash(){return`${super.getAttributeHash()}-${this.normalizationField}`}_interpolateData(){return this.stops&&this.stops.map(t=>t.value||0)}};(0,o._)([(0,a.MZ)({readOnly:!0})],p.prototype,"cache",null),(0,o._)([(0,a.MZ)({type:["color"],json:{type:["colorInfo"]}})],p.prototype,"type",void 0),(0,o._)([(0,a.MZ)({type:String,json:{write:!0}})],p.prototype,"normalizationField",void 0),(0,o._)([(0,a.MZ)({type:[c.A],json:{write:!0}})],p.prototype,"stops",null);let h=p=s=(0,o._)([(0,u.$)("esri.renderers.visualVariables.ColorVariable")],p)},98570:(t,r,i)=>{i.d(r,{A:()=>s});class s{constructor(t,r,i,s=1,o=0){this._ctor=t,this._acquireFunction=r,this._releaseFunction=i,this.allocationSize=s,this._pool=Array(o),this._initialSize=o;for(let t=0;t<o;t++)this._pool[t]=new this._ctor;this.allocationSize=Math.max(s,1)}destroy(){this.prune(0)}acquire(...t){var r;let i;if(s.test.disabled)i=new this._ctor;else{if(0===this._pool.length){let t=this.allocationSize;for(let r=0;r<t;r++)this._pool[r]=new this._ctor}i=this._pool.pop()}return this._acquireFunction?this._acquireFunction(i,...t):(r=i,r?.acquire&&"function"==typeof r.acquire&&i.acquire(...t)),i}release(t){t&&!s.test.disabled&&(this._releaseFunction?this._releaseFunction(t):t?.release&&"function"==typeof t.release&&t.release(),this._pool.push(t))}prune(t=this._initialSize){if(!(t>=this._pool.length)){for(let r=t;r<this._pool.length;++r){let t=this._pool[r];this._dispose(t)}this._pool.length=t}}_dispose(t){t.dispose&&"function"==typeof t.dispose&&t.dispose()}}s.test={disabled:!1}},98873:(t,r,i)=>{i.d(r,{A:()=>J});var s,o=i(81856),a=i(32391),u=i(33715),d=i(61939),c=i(34184),p=i(45257),h=i(91838),f=i(16352),y=i(33498),m=i(53480),g=i(12709),_=i(7780),v=i(70128),w=i(86942),b=i(39265),M=i(14307),S=i(28763),A=i(22812),T=i(23356),x=i(68704),E=i(71017),I=i(92713);i(57845),i(33638);let C=class extends E.A.ClonableMixin(I.A){constructor(t){super(t),this.value=null,this.value2=null,this.value3=null}};(0,o._)([(0,h.MZ)(T.Ug)],C.prototype,"value",void 0),(0,o._)([(0,h.MZ)(T.Ug)],C.prototype,"value2",void 0),(0,o._)([(0,h.MZ)(T.Ug)],C.prototype,"value3",void 0);let R=C=(0,o._)([(0,g.$)("esri.renderers.support.UniqueValue")],C);var O=i(31461);let P=class extends E.A.ClonableMixin(I.A){constructor(t){super(t),this.description=null,this.label=null,this.symbol=null,this.values=null}castValues(t){if(null==t)return null;let r=typeof(t=Array.isArray(t)?t:[t])[0];return"string"===r||"number"===r?t.map(t=>new R({value:t})):"object"===r?t[0]instanceof R?t:t.map(t=>new R(t)):null}};(0,o._)([(0,h.MZ)({type:String,json:{write:!0}})],P.prototype,"description",void 0),(0,o._)([(0,h.MZ)({type:String,json:{write:!0}})],P.prototype,"label",void 0),(0,o._)([(0,h.MZ)(T.z4)],P.prototype,"symbol",void 0),(0,o._)([(0,h.MZ)({type:[R],json:{type:[[String]],read:{reader:t=>t?t.map(t=>new R({value:t[0],value2:t[1],value3:t[2]})):null},write:{writer:(t,r)=>{let i=[];for(let r of t){let t=[r.value,r.value2,r.value3].filter(O.Ru).map(t=>t.toString());i.push(t)}r.values=i}}}})],P.prototype,"values",void 0),(0,o._)([(0,f.w)("values")],P.prototype,"castValues",null);let N=P=(0,o._)([(0,g.$)("esri.renderers.support.UniqueValueClass")],P),k=class extends E.A.ClonableMixin(I.A){constructor(t){super(t),this.heading=null,this.classes=null}};(0,o._)([(0,h.MZ)({type:String,json:{write:!0}})],k.prototype,"heading",void 0),(0,o._)([(0,h.MZ)({type:[N],json:{write:{isRequired:!0}}})],k.prototype,"classes",void 0);let L=k=(0,o._)([(0,g.$)("esri.renderers.support.UniqueValueGroup")],k);var F=i(82612),Z=i(20703),D=i(67546),j=i(11584),U=i(58672),V=i(76558);let z="esri.renderers.UniqueValueRenderer",G=()=>d.A.getLogger(z),$="uvInfos-watcher",B="uvGroups-watcher",q=(0,w.dp)(F.A);function H(t){return null!=t&&""!==t&&("string"!=typeof t||""!==t.trim()&&"<null>"!==t.toLowerCase())||(t=null),t+""}let W=s=class extends(0,A.h)(S.A){constructor(t){super(t),this._valueInfoMap={},this._isDefaultSymbolDerived=!1,this._isInfosSource=null,this.type="unique-value",this.backgroundFillSymbol=null,this.orderByClassesEnabled=!1,this.valueExpressionTitle=null,this.legendOptions=null,this.defaultLabel=null,this.portal=null,this.styleOrigin=null,this.diff={uniqueValueInfos(t,r){if(!t&&!r)return;if(!t||!r)return{type:"complete",oldValue:t,newValue:r};let i=!1,s={type:"collection",added:[],removed:[],changed:[],unchanged:[]};for(let o=0;o<r.length;o++){let a=t.find(t=>t.value===r[o].value);a?(0,v.Ui)(a,r[o])?(s.changed.push({type:"complete",oldValue:a,newValue:r[o]}),i=!0):s.unchanged.push({oldValue:a,newValue:r[o]}):(s.added.push(r[o]),i=!0)}for(let o=0;o<t.length;o++)r.find(r=>r.value===t[o].value)||(s.removed.push(t[o]),i=!0);return i?s:void 0}},this._set("uniqueValueInfos",[]),this._set("uniqueValueGroups",[])}get _cache(){return{compiledFunc:null}}set field(t){this._set("field",t),this._updateFieldDelimiter(),this._updateUniqueValues()}castField(t){return null==t||"function"==typeof t?t:(0,w.GX)(t)}writeField(t,r,i,s){"string"==typeof t?r[i]=t:s?.messages?s.messages.push(new a.A("property:unsupported","UniqueValueRenderer.field set to a function cannot be written to JSON")):G().error(".field: cannot write field to JSON since it's not a string value")}set field2(t){this._set("field2",t),this._updateFieldDelimiter(),this._updateUniqueValues()}set field3(t){this._set("field3",t),this._updateUniqueValues()}set valueExpression(t){this._set("valueExpression",t),this._updateUniqueValues()}set defaultSymbol(t){this._isDefaultSymbolDerived=!1,this._set("defaultSymbol",t)}set fieldDelimiter(t){this._set("fieldDelimiter",t),this._updateUniqueValues()}readPortal(t,r,i){return i.portal||M.A.getDefault()}readStyleOrigin(t,r,i){return r.styleName?Object.freeze({styleName:r.styleName}):r.styleUrl?Object.freeze({styleUrl:(0,D.f)(r.styleUrl,i)}):void 0}writeStyleOrigin(t,r,i,s){t.styleName?r.styleName=t.styleName:t.styleUrl&&(r.styleUrl=(0,D.t)(t.styleUrl,s))}set uniqueValueGroups(t){this.styleOrigin?G().error("#uniqueValueGroups=","Cannot modify unique value groups of a UniqueValueRenderer created from a web style"):(this._set("uniqueValueGroups",t),this._updateInfosFromGroups(),this._isInfosSource=!1,this._watchUniqueValueGroups())}set uniqueValueInfos(t){this.styleOrigin?G().error("#uniqueValueInfos=","Cannot modify unique value infos of a UniqueValueRenderer created from a web style"):(this._set("uniqueValueInfos",t),this._updateValueInfoMap(),this._updateGroupsFromInfos(),this._isInfosSource=!0,this._watchUniqueValueInfos())}addUniqueValueInfo(t,r){let i;if(this.styleOrigin)return void G().error("#addUniqueValueInfo()","Cannot modify unique value infos of a UniqueValueRenderer created from a web style");i="object"==typeof t?q(t):new F.A({value:t,symbol:(0,V.dp)(r)}),this.uniqueValueInfos?.push(i),this._valueInfoMap[H(i.value)]=i,this._updateGroupsFromInfos(),this._isInfosSource=!0,this._watchUniqueValueInfos()}removeUniqueValueInfo(t){if(this.styleOrigin)return void G().error("#removeUniqueValueInfo()","Cannot modify unique value infos of a UniqueValueRenderer created from a web style");let r=this.uniqueValueInfos;if(r){for(let i=0;i<r.length;i++)if(String(r[i].value)===String(t)){delete this._valueInfoMap[H(t)],r.splice(i,1);break}}this._updateGroupsFromInfos(),this._isInfosSource=!0,this._watchUniqueValueInfos()}async getUniqueValueInfo(t,r){let i=r;return this.valueExpression&&null==r?.arcade&&(i={...i,arcade:await (0,Z.lw)()}),this._getUniqueValueInfo(t,i)}getSymbol(t,r){if(this.valueExpression&&null==r?.arcade)return void G().error("#getSymbol()","Please use getSymbolAsync if valueExpression is used");let i=this._getUniqueValueInfo(t,r);return i?.symbol||this.defaultSymbol}async getSymbolAsync(t,r){let i=r;if(this.valueExpression&&null==i?.arcade){let t=await (0,Z.lw)(),{arcadeUtils:r}=t;r.hasGeometryOperations(this.valueExpression)&&await r.enableGeometryOperations(),i={...i,arcade:t}}let s=this._getUniqueValueInfo(t,i);return s?.symbol||this.defaultSymbol}get symbols(){let t=[];for(let r of this.uniqueValueInfos??[])r.symbol&&t.push(r.symbol);return this.defaultSymbol&&t.push(this.defaultSymbol),t}getAttributeHash(){return this.visualVariables?.reduce((t,r)=>t+r.getAttributeHash(),"")??""}getMeshHash(){let t=JSON.stringify(this.backgroundFillSymbol),r=JSON.stringify(this.defaultSymbol),i=this.uniqueValueInfos?.reduce((t,r)=>t+r.getMeshHash(),"");return`${t}.${r}.${i}.${this.field}.${this.field2}.${this.field3}.${this.fieldDelimiter}.${this.valueExpression}`}clone(){let t=new s({field:this.field,field2:this.field2,field3:this.field3,defaultLabel:this.defaultLabel,defaultSymbol:(0,u.o8)(this.defaultSymbol),orderByClassesEnabled:this.orderByClassesEnabled,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,fieldDelimiter:this.fieldDelimiter,visualVariables:(0,u.o8)(this.visualVariables),legendOptions:(0,u.o8)(this.legendOptions),authoringInfo:(0,u.o8)(this.authoringInfo),backgroundFillSymbol:(0,u.o8)(this.backgroundFillSymbol)});this._isDefaultSymbolDerived&&(t._isDefaultSymbolDerived=!0),t._set("portal",this.portal);let r=(0,u.o8)(this.uniqueValueInfos),i=(0,u.o8)(this.uniqueValueGroups);return this.styleOrigin&&(t._set("styleOrigin",Object.freeze((0,u.o8)(this.styleOrigin))),Object.freeze(r),Object.freeze(i)),t._set("uniqueValueInfos",r),t._updateValueInfoMap(),t._set("uniqueValueGroups",i),t._isInfosSource=this._isInfosSource,t._watchUniqueValueInfosAndGroups(),t}get arcadeRequired(){return this.arcadeRequiredForVisualVariables||!!this.valueExpression}async collectRequiredFields(t,r){let i=[this.collectVVRequiredFields(t,r),this.collectSymbolFields(t,r)];await Promise.all(i)}async collectSymbolFields(t,r){let i=[...this.symbols.map(i=>i.collectRequiredFields(t,r)),(0,b.Dx)(t,r,this.valueExpression)];(0,b.rq)(t,r,this.field),(0,b.rq)(t,r,this.field2),(0,b.rq)(t,r,this.field3),await Promise.all(i)}populateFromStyle(){return(0,U.cF)(this.styleOrigin,{portal:this.portal}).then(t=>{let r=[];return this._valueInfoMap={},t?.data&&Array.isArray(t.data.items)&&t.data.items.forEach(i=>{let s=new j.A({styleUrl:t.styleUrl,styleName:t.styleName,portal:this.portal,name:i.name});this.defaultSymbol||i.name!==t.data.defaultItem||(this.defaultSymbol=s,this._isDefaultSymbolDerived=!0);let o=new F.A({value:i.name,symbol:s});r.push(o),this._valueInfoMap[H(i.name)]=o}),this._set("uniqueValueInfos",Object.freeze(r)),this._updateGroupsFromInfos(!0),this._isInfosSource=null,this._watchUniqueValueInfos(),!this.defaultSymbol&&this.uniqueValueInfos?.length&&(this.defaultSymbol=this.uniqueValueInfos[0].symbol,this._isDefaultSymbolDerived=!0),this})}_updateFieldDelimiter(){this.field&&this.field2&&!this.fieldDelimiter&&this._set("fieldDelimiter",",")}_updateUniqueValues(){null!=this._isInfosSource&&(this._isInfosSource?this._updateGroupsFromInfos():this._updateInfosFromGroups())}_updateValueInfoMap(){this._valueInfoMap={};let{uniqueValueInfos:t}=this;if(t)for(let r of t)this._valueInfoMap[H(r.value)]=r}_watchUniqueValueInfosAndGroups(){this._watchUniqueValueInfos(),this._watchUniqueValueGroups()}_watchUniqueValueInfos(){this.removeHandles($);let{uniqueValueInfos:t}=this;if(t){let r=[];for(let i of t)r.push((0,p.wB)(()=>({symbol:i.symbol,value:i.value,label:i.label,description:i.description}),(t,r)=>{t!==r&&(this._updateGroupsFromInfos(),this._isInfosSource=!0)},{sync:!0}));this.addHandles(r,$)}}_watchUniqueValueGroups(){this.removeHandles(B);let{uniqueValueGroups:t}=this;if(t){let r=[];for(let i of t)for(let t of(r.push((0,p.wB)(()=>({classes:i.classes}),(t,r)=>{t!==r&&(this._updateInfosFromGroups(),this._isInfosSource=!1)},{sync:!0})),i.classes??[]))r.push((0,p.wB)(()=>({symbol:t.symbol,values:t.values,label:t.label,description:t.description}),(t,r)=>{t!==r&&(this._updateInfosFromGroups(),this._isInfosSource=!1)},{sync:!0}));this.addHandles(r,B)}}_updateInfosFromGroups(){if(!this.uniqueValueGroups)return this._set("uniqueValueInfos",null),this._updateValueInfoMap(),void this._watchUniqueValueInfos();let t=[],{field:r,field2:i,field3:s,fieldDelimiter:o,uniqueValueGroups:a,valueExpression:u}=this;if(!r&&!u)return this._set("uniqueValueInfos",t),this._updateValueInfoMap(),void this._watchUniqueValueInfos();let d=!(!r||!i);for(let r of a)for(let a of r.classes??[]){let{symbol:r,label:u,values:c,description:p}=a;for(let a of c??[]){let{value:c,value2:h,value3:f}=a,y=[c];i&&y.push(h),s&&y.push(f);let m=d?y.join(o||""):y[0]??void 0;t.push(new F.A({symbol:r,label:u,value:m,description:p}))}}this._set("uniqueValueInfos",t),this._updateValueInfoMap(),this._watchUniqueValueInfos()}_updateGroupsFromInfos(t=!1){if(!this.uniqueValueInfos)return this._set("uniqueValueGroups",null),void this._watchUniqueValueGroups();let{field:r,field2:i,valueExpression:s,fieldDelimiter:o,uniqueValueInfos:a}=this;if(!r&&!s||!a.length)return this._set("uniqueValueGroups",[]),void this._watchUniqueValueGroups();let u=!(!r||!i),d=[new L({classes:a.map(t=>{let{symbol:r,label:i,value:s,description:a}=t,[d,c,p]=u?s?.toString()?.split(o||"")||[]:[s];return new N({symbol:r,label:i,description:a,values:[new R({value:d,value2:c,value3:p})]})})})];t&&Object.freeze(d),this._set("uniqueValueGroups",d),this._watchUniqueValueGroups()}_getUniqueValueInfo(t,r){return this.valueExpression?this._getUnqiueValueInfoForExpression(t,r):this._getUnqiueValueInfoForFields(t)}_getUnqiueValueInfoForExpression(t,r){let{viewingMode:i,scale:s,spatialReference:o,arcade:a,timeZone:u}=r??{},d=this._cache.compiledFunc,c=a.arcadeUtils;if(!d){let t=c.createSyntaxTree(this.valueExpression);d=c.createFunction(t),this._cache.compiledFunc=d}let p=c.executeFunction(d,c.createExecContext(t,c.getViewInfo({viewingMode:i,scale:s,spatialReference:o}),u));return this._valueInfoMap[H(p)]}_getUnqiueValueInfoForFields(t){let r,i=this.field,s=t.attributes;if(this.field2){let t=this.field2,o=this.field3,a=[];i&&a.push(s[i]),t&&a.push(s[t]),o&&a.push(s[o]),r=a.join(this.fieldDelimiter||"")}else i&&(r=s[i]);return this._valueInfoMap[H(r)]}static fromPortalStyle(t,r){let i=new s(r?.properties);i._set("styleOrigin",Object.freeze({styleName:t})),i._set("portal",r?.portal||M.A.getDefault());let o=i.populateFromStyle();return o.catch(r=>{G().error(`#fromPortalStyle('${t}'[, ...])`,"Failed to create unique value renderer from style name",r)}),o}static fromStyleUrl(t,r){let i=new s(r?.properties);i._set("styleOrigin",Object.freeze({styleUrl:t}));let o=i.populateFromStyle();return o.catch(r=>{G().error(`#fromStyleUrl('${t}'[, ...])`,"Failed to create unique value renderer from style URL",r)}),o}};(0,o._)([(0,h.MZ)({readOnly:!0})],W.prototype,"_cache",null),(0,o._)([(0,y.e)({uniqueValue:"unique-value"})],W.prototype,"type",void 0),(0,o._)([(0,h.MZ)(T.As)],W.prototype,"backgroundFillSymbol",void 0),(0,o._)([(0,h.MZ)({value:null,json:{type:String,read:{source:"field1"},write:{target:"field1"}}})],W.prototype,"field",null),(0,o._)([(0,f.w)("field")],W.prototype,"castField",null),(0,o._)([(0,_.K)("field")],W.prototype,"writeField",null),(0,o._)([(0,h.MZ)({type:String,value:null,json:{write:!0}})],W.prototype,"field2",null),(0,o._)([(0,h.MZ)({type:String,value:null,json:{write:!0}})],W.prototype,"field3",null),(0,o._)([(0,h.MZ)({type:Boolean,json:{name:"drawInClassOrder",default:!1,write:!0,origins:{"web-scene":{write:!1}}}})],W.prototype,"orderByClassesEnabled",void 0),(0,o._)([(0,h.MZ)({type:String,value:null,json:{write:!0}})],W.prototype,"valueExpression",null),(0,o._)([(0,h.MZ)({type:String,json:{write:!0}})],W.prototype,"valueExpressionTitle",void 0),(0,o._)([(0,h.MZ)({type:x.A,json:{write:!0}})],W.prototype,"legendOptions",void 0),(0,o._)([(0,h.MZ)({type:String,json:{write:!0}})],W.prototype,"defaultLabel",void 0),(0,o._)([(0,h.MZ)((0,c.$N)({...T.z4},{json:{write:{overridePolicy(){return{enabled:!this._isDefaultSymbolDerived}}},origins:{"web-scene":{write:{overridePolicy(){return{enabled:!this._isDefaultSymbolDerived}}}}}}}))],W.prototype,"defaultSymbol",null),(0,o._)([(0,h.MZ)({type:String,value:null,json:{write:!0}})],W.prototype,"fieldDelimiter",null),(0,o._)([(0,h.MZ)({type:M.A,readOnly:!0})],W.prototype,"portal",void 0),(0,o._)([(0,m.w)("portal",["styleName"])],W.prototype,"readPortal",null),(0,o._)([(0,h.MZ)({readOnly:!0,json:{write:{enabled:!1,overridePolicy:()=>({enabled:!0})}}})],W.prototype,"styleOrigin",void 0),(0,o._)([(0,m.w)("styleOrigin",["styleName","styleUrl"])],W.prototype,"readStyleOrigin",null),(0,o._)([(0,_.K)("styleOrigin",{styleName:{type:String},styleUrl:{type:String}})],W.prototype,"writeStyleOrigin",null),(0,o._)([(0,h.MZ)({type:[L],json:{read:{source:["uniqueValueGroups","uniqueValueInfos"],reader:(t,r,i)=>(r.uniqueValueGroups||function(t){let{field1:r,field2:i,field3:s,fieldDelimiter:o,uniqueValueInfos:a,valueExpression:u}=t,d=!(!r||!i);return[{classes:(a??[]).map(t=>{let{symbol:a,label:c,value:p,description:h}=t,[f,y,m]=d?p?.toString()?.split(o||"")||[]:[p],g=[];return(r||u)&&g.push(f),i&&g.push(y),s&&g.push(m),{symbol:a,label:c,values:[g],description:h}})}]}(r)).map(t=>L.fromJSON(t,i))},write:{overridePolicy(){return this.styleOrigin?{enabled:!1}:{enabled:!0}}}}})],W.prototype,"uniqueValueGroups",null),(0,o._)([(0,h.MZ)({type:[F.A],json:{read:!1,write:{isRequired:!0,overridePolicy(){return this.styleOrigin?{enabled:!1}:{enabled:!0,isRequired:!0}}}}})],W.prototype,"uniqueValueInfos",null);let J=W=s=(0,o._)([(0,g.$)(z)],W)},98961:(t,r,i)=>{i.d(r,{SE:()=>o});var s=i(86099);async function o(t,r,i){var s;r=r.clone(),t.capabilities.query.supportsMaxRecordCountFactor&&(r.maxRecordCountFactor=a(t));let o=a(s=t)*(s.capabilities.query.maxRecordCount||2e3),u=t.capabilities.query.supportsPagination;r.start=0,r.num=o;let d=null;for(;;){let s=await t.source.queryFeaturesJSON(r,i);if(null==d?d=s:d.features=d.features.concat(s.features),d.exceededTransferLimit=s.exceededTransferLimit,!u||!s.exceededTransferLimit)break;r.start+=o}return d}function a(t){return t.capabilities.query.supportsMaxRecordCountFactor?s.A.MAX_MAX_RECORD_COUNT_FACTOR:1}},99047:(t,r,i)=>{i.d(r,{U:()=>s});class s{constructor(t,r,i,s,o){this.id=t,this.level=r,this.row=i,this.col=s,this.extent=o}}},99551:(t,r,i)=>{i.d(r,{_:()=>o});var s=i(93446);function o(t){switch(t){case s.pe.BYTE:case s.pe.UNSIGNED_BYTE:return 1;case s.pe.SHORT:case s.pe.UNSIGNED_SHORT:case s.pe.HALF_FLOAT:return 2;case s.pe.FLOAT:case s.pe.INT:case s.pe.UNSIGNED_INT:return 4}}}}]);